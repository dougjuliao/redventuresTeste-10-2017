C.r("node_modules/classnames/index.js",function(e,n,r){!function(){"use strict";function e(){for(var n=[],s=0;s<arguments.length;s++){var i=arguments[s];if(i){var o=typeof i;if("string"===o||"number"===o)n.push(i);else if(Array.isArray(i))n.push(e.apply(null,i));else if("object"===o)for(var t in i)r.call(i,t)&&i[t]&&n.push(t)}}return n.join(" ")}var r={}.hasOwnProperty;void 0!==n&&n.exports?n.exports=e:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return e}):window.classNames=e}()});C.r("node_modules/cookie-dough/browser.js",function(e,o,n){var r=e("cookie");o.exports=function(){return{set:function(e,o,n){return document.cookie=r.serialize(e,o,n)},get:function(e){return r.parse(document.cookie)[e]},remove:function(e){return!!(document.cookie=r.serialize(e,"",{expires:new Date(0)}))},all:function(){return r.parse(document.cookie)}}}});C.r("node_modules/cookie/index.js",function(r,e,t){function i(r,e){if("string"!=typeof r)throw new TypeError("argument str must be a string");var t={},i=e||{},n=i.decode||a;return r.split(/; */).forEach(function(r){var e=r.indexOf("=");if(!(e<0)){var i=r.substr(0,e).trim(),a=r.substr(++e,r.length).trim();'"'==a[0]&&(a=a.slice(1,-1)),void 0==t[i]&&(t[i]=o(a,n))}}),t}function n(r,e,t){var i=t||{},n=i.encode||s;if(!u.test(r))throw new TypeError("argument name is invalid");var o=n(e);if(o&&!u.test(o))throw new TypeError("argument val is invalid");var a=[r+"="+o];if(null!=i.maxAge){var p=i.maxAge-0;if(isNaN(p))throw new Error("maxAge should be a Number");a.push("Max-Age="+p)}if(i.domain){if(!u.test(i.domain))throw new TypeError("option domain is invalid");a.push("Domain="+i.domain)}if(i.path){if(!u.test(i.path))throw new TypeError("option path is invalid");a.push("Path="+i.path)}return i.expires&&a.push("Expires="+i.expires.toUTCString()),i.httpOnly&&a.push("HttpOnly"),i.secure&&a.push("Secure"),a.join("; ")}function o(r,e){try{return e(r)}catch(e){return r}}t.parse=i,t.serialize=n;var a=decodeURIComponent,s=encodeURIComponent,u=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/});C.r("node_modules/create-react-class/factory.js",function(t,e,n){"use strict";function o(t){return t}function i(t,e,n){function i(t,e){var n=N.hasOwnProperty(e)?N[e]:null;g.hasOwnProperty(e)&&s("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e),t&&s("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e)}function c(t,n){if(n){s("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),s(!e(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var o=t.prototype,a=o.__reactAutoBindPairs;n.hasOwnProperty(p)&&D.mixins(t,n.mixins);for(var r in n)if(n.hasOwnProperty(r)&&r!==p){var c=n[r],u=o.hasOwnProperty(r);if(i(u,r),D.hasOwnProperty(r))D[r](t,c);else{var l=N.hasOwnProperty(r),y="function"==typeof c,h=y&&!l&&!u&&!1!==n.autobind;if(h)a.push(r,c),o[r]=c;else if(u){var m=N[r];s(l&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,r),"DEFINE_MANY_MERGED"===m?o[r]=f(o[r],c):"DEFINE_MANY"===m&&(o[r]=E(o[r],c))}else o[r]=c}}}else;}function u(t,e){if(e)for(var n in e){var o=e[n];if(e.hasOwnProperty(n)){var i=n in D;s(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var a=n in t;s(!a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),t[n]=o}}}function l(t,e){s(t&&e&&"object"==typeof t&&"object"==typeof e,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in e)e.hasOwnProperty(n)&&(s(void 0===t[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),t[n]=e[n]);return t}function f(t,e){return function(){var n=t.apply(this,arguments),o=e.apply(this,arguments);if(null==n)return o;if(null==o)return n;var i={};return l(i,n),l(i,o),i}}function E(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function y(t,e){var n=e.bind(t);return n}function h(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var o=e[n],i=e[n+1];t[o]=y(t,i)}}function m(t){var e=o(function(t,o,i){this.__reactAutoBindPairs.length&&h(this),this.props=t,this.context=o,this.refs=r,this.updater=i||n,this.state=null;var a=this.getInitialState?this.getInitialState():null;s("object"==typeof a&&!Array.isArray(a),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"),this.state=a});e.prototype=new M,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],d.forEach(c.bind(null,e)),c(e,_),c(e,t),c(e,I),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),s(e.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var i in N)e.prototype[i]||(e.prototype[i]=null);return e}var d=[],N={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},D={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)c(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=a({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=a({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=f(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=a({},t.propTypes,e)},statics:function(t,e){u(t,e)},autobind:function(){}},_={componentDidMount:function(){this.__isMounted=!0}},I={componentWillUnmount:function(){this.__isMounted=!1}},g={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t,e)},isMounted:function(){return!!this.__isMounted}},M=function(){};return a(M.prototype,t.prototype,g),m}var a=t("object-assign"),r=t("fbjs/lib/emptyObject"),s=t("fbjs/lib/invariant"),p="mixins";e.exports=i});C.r("node_modules/create-react-class/index.js",function(e,t,a){"use strict";var r=e("react"),c=e("./factory");if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new r.Component).updater;t.exports=c(r.Component,r.isValidElement,o)});C.r("node_modules/fbjs/lib/EventListener.js",function(e,t,n){"use strict";var r=e("./emptyFunction"),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=i});C.r("node_modules/fbjs/lib/ExecutionEnvironment.js",function(e,n,o){"use strict";var t=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:t,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};n.exports=i});C.r("node_modules/fbjs/lib/camelize.js",function(e,r,n){"use strict";function t(e){return e.replace(o,function(e,r){return r.toUpperCase()})}var o=/-(.)/g;r.exports=t});C.r("node_modules/fbjs/lib/camelizeStyleName.js",function(e,s,r){"use strict";function t(e){return c(e.replace(i,"ms-"))}var c=e("./camelize"),i=/^-ms-/;s.exports=t});C.r("node_modules/fbjs/lib/containsNode.js",function(o,n,t){"use strict";function e(o,n){return!(!o||!n)&&(o===n||!i(o)&&(i(n)?e(o,n.parentNode):"contains"in o?o.contains(n):!!o.compareDocumentPosition&&!!(16&o.compareDocumentPosition(n))))}var i=o("./isTextNode");n.exports=e});C.r("node_modules/fbjs/lib/createArrayFromMixed.js",function(r,e,t){"use strict";function n(r){var e=r.length;if((Array.isArray(r)||"object"!=typeof r&&"function"!=typeof r)&&a(!1),"number"!=typeof e&&a(!1),0===e||e-1 in r||a(!1),"function"==typeof r.callee&&a(!1),r.hasOwnProperty)try{return Array.prototype.slice.call(r)}catch(r){}for(var t=Array(e),n=0;n<e;n++)t[n]=r[n];return t}function o(r){return!!r&&("object"==typeof r||"function"==typeof r)&&"length"in r&&!("setInterval"in r)&&"number"!=typeof r.nodeType&&(Array.isArray(r)||"callee"in r||"item"in r)}function i(r){return o(r)?Array.isArray(r)?r.slice():n(r):[r]}var a=r("./invariant");e.exports=i});C.r("node_modules/fbjs/lib/createNodesFromMarkup.js",function(r,e,a){"use strict";function t(r){var e=r.match(d);return e&&e[1].toLowerCase()}function n(r,e){var a=c;c||l(!1);var n=t(r),i=n&&s(n);if(i){a.innerHTML=i[1]+r+i[2];for(var d=i[0];d--;)a=a.lastChild}else a.innerHTML=r;var u=a.getElementsByTagName("script");u.length&&(e||l(!1),o(u).forEach(e));for(var m=Array.from(a.childNodes);a.lastChild;)a.removeChild(a.lastChild);return m}var i=r("./ExecutionEnvironment"),o=r("./createArrayFromMixed"),s=r("./getMarkupWrap"),l=r("./invariant"),c=i.canUseDOM?document.createElement("div"):null,d=/^\s*<(\w+)/;e.exports=n});C.r("node_modules/fbjs/lib/emptyFunction.js",function(t,n,u){"use strict";function r(t){return function(){return t}}var e=function(){};e.thatReturns=r,e.thatReturnsFalse=r(!1),e.thatReturnsTrue=r(!0),e.thatReturnsNull=r(null),e.thatReturnsThis=function(){return this},e.thatReturnsArgument=function(t){return t},n.exports=e});C.r("node_modules/fbjs/lib/emptyObject.js",function(e,s,t){"use strict";var o={};s.exports=o});C.r("node_modules/fbjs/lib/focusNode.js",function(o,s,c){"use strict";function t(o){try{o.focus()}catch(o){}}s.exports=t});C.r("node_modules/fbjs/lib/getActiveElement.js",function(e,t,n){"use strict";function o(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}t.exports=o});C.r("node_modules/fbjs/lib/getMarkupWrap.js",function(t,e,o){"use strict";function l(t){return r||n(!1),b.hasOwnProperty(t)||(t="*"),i.hasOwnProperty(t)||(r.innerHTML="*"===t?"<link />":"<"+t+"></"+t+">",i[t]=!r.firstChild),i[t]?b[t]:null}var a=t("./ExecutionEnvironment"),n=t("./invariant"),r=a.canUseDOM?document.createElement("div"):null,i={},p=[1,'<select multiple="true">',"</select>"],d=[1,"<table>","</table>"],s=[3,"<table><tbody><tr>","</tr></tbody></table>"],c=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],b={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:p,option:p,caption:d,colgroup:d,tbody:d,tfoot:d,thead:d,td:s,th:s};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(t){b[t]=c,i[t]=!0}),e.exports=l});C.r("node_modules/fbjs/lib/getUnboundedScrollPosition.js",function(e,o,n){"use strict";function t(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}o.exports=t});C.r("node_modules/fbjs/lib/hyphenate.js",function(e,r,t){"use strict";function n(e){return e.replace(o,"-$1").toLowerCase()}var o=/([A-Z])/g;r.exports=n});C.r("node_modules/fbjs/lib/hyphenateStyleName.js",function(e,t,n){"use strict";function s(e){return r(e).replace(a,"-ms-")}var r=e("./hyphenate"),a=/^ms-/;t.exports=s});C.r("node_modules/fbjs/lib/invariant.js",function(n,e,r){"use strict";function i(n,e,r,i,t,a,f,s){if(o(e),!n){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,i,t,a,f,s],l=0;u=new Error(e.replace(/%s/g,function(){return d[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var o=function(n){};e.exports=i});C.r("node_modules/fbjs/lib/isNode.js",function(e,o,n){"use strict";function t(e){var o=e?e.ownerDocument||e:document,n=o.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}o.exports=t});C.r("node_modules/fbjs/lib/isTextNode.js",function(e,o,s){"use strict";function n(e){return t(e)&&3==e.nodeType}var t=e("./isNode");o.exports=n});C.r("node_modules/fbjs/lib/memoizeStringOnly.js",function(n,r,t){"use strict";function e(n){var r={};return function(t){return r.hasOwnProperty(t)||(r[t]=n.call(this,t)),r[t]}}r.exports=e});C.r("node_modules/fbjs/lib/performance.js",function(e,n,o){"use strict";var r,i=e("./ExecutionEnvironment");i.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),n.exports=r||{}});C.r("node_modules/fbjs/lib/performanceNow.js",function(n,o,r){"use strict";var e,t=n("./performance");e=t.now?function(){return t.now()}:function(){return Date.now()},o.exports=e});C.r("node_modules/fbjs/lib/shallowEqual.js",function(t,e,r){"use strict";function n(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!==t&&e!==e}function o(t,e){if(n(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(var u=0;u<r.length;u++)if(!l.call(e,r[u])||!n(t[r[u]],e[r[u]]))return!1;return!0}var l=Object.prototype.hasOwnProperty;e.exports=o});C.r("node_modules/fbjs/lib/warning.js",function(n,s,t){"use strict";var e=n("./emptyFunction"),i=e;s.exports=i});C.r("node_modules/hoist-non-react-statics/index.js",function(t,e,r){"use strict";var o={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},s="function"==typeof Object.getOwnPropertySymbols;e.exports=function(t,e,r){if("string"!=typeof e){var p=Object.getOwnPropertyNames(e);s&&(p=p.concat(Object.getOwnPropertySymbols(e)));for(var a=0;a<p.length;++a)if(!(o[p[a]]||n[p[a]]||r&&r[p[a]]))try{t[p[a]]=e[p[a]]}catch(t){}}return t}});C.r("node_modules/invariant/browser.js",function(e,r,n){"use strict";var i=function(e,r,n,i,o,a,t,s){if(!e){var f;if(void 0===r)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,i,o,a,t,s],u=0;f=new Error(r.replace(/%s/g,function(){return d[u++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};r.exports=i});C.r("node_modules/isarray/index.js",function(r,t,o){t.exports=Array.isArray||function(r){return"[object Array]"==Object.prototype.toString.call(r)}});C.r("node_modules/lodash/index.js",function(n,t,r){(function(){function n(n,t){if(n!==t){var r=null===n,e=n===A,u=n===n,i=null===t,o=t===A,f=t===t;if(n>t&&!i||!u||r&&!o&&f||e&&f)return 1;if(n<t&&!r||!f||i&&!e&&u||o&&u)return-1}return 0}function e(n,t,r){for(var e=n.length,u=r?e:-1;r?u--:++u<e;)if(t(n[u],u,n))return u;return-1}function u(n,t,r){if(t!==t)return _(n,r);for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function i(n){return"function"==typeof n||!1}function o(n){return null==n?"":n+""}function f(n,t){for(var r=-1,e=n.length;++r<e&&t.indexOf(n.charAt(r))>-1;);return r}function a(n,t){for(var r=n.length;r--&&t.indexOf(n.charAt(r))>-1;);return r}function c(t,r){return n(t.criteria,r.criteria)||t.index-r.index}function l(t,r,e){for(var u=-1,i=t.criteria,o=r.criteria,f=i.length,a=e.length;++u<f;){var c=n(i[u],o[u]);if(c){if(u>=a)return c;var l=e[u];return c*("asc"===l||!0===l?1:-1)}}return t.index-r.index}function s(n){return Dn[n]}function p(n){return Mn[n]}function h(n,t,r){return t?n=Kn[n]:r&&(n=Vn[n]),"\\"+n}function v(n){return"\\"+Vn[n]}function _(n,t,r){for(var e=n.length,u=t+(r?0:-1);r?u--:++u<e;){var i=n[u];if(i!==i)return u}return-1}function g(n){return!!n&&"object"==typeof n}function y(n){return n<=160&&n>=9&&n<=13||32==n||160==n||5760==n||6158==n||n>=8192&&(n<=8202||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function d(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;)n[r]===t&&(n[r]=q,i[++u]=r);return i}function w(n,t){for(var r,e=-1,u=n.length,i=-1,o=[];++e<u;){var f=n[e],a=t?t(f,e,n):f;e&&r===a||(r=a,o[++i]=f)}return o}function b(n){for(var t=-1,r=n.length;++t<r&&y(n.charCodeAt(t)););return t}function m(n){for(var t=n.length;t--&&y(n.charCodeAt(t)););return t}function x(n){return qn[n]}function j(t){function r(n){if(g(n)&&!Cf(n)&&!(n instanceof Mn)){if(n instanceof Dn)return n;if(no.call(n,"__chain__")&&no.call(n,"__wrapped__"))return he(n)}return new Dn(n)}function y(){}function Dn(n,t,r){this.__wrapped__=n,this.__actions__=r||[],this.__chain__=!!t}function Mn(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oo,this.__views__=[]}function qn(){var n=new Mn(this.__wrapped__);return n.__actions__=et(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=et(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=et(this.__views__),n}function Pn(){if(this.__filtered__){var n=new Mn(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Kn(){var n=this.__wrapped__.value(),t=this.__dir__,r=Cf(n),e=t<0,u=r?n.length:0,i=Vr(0,u,this.__views__),o=i.start,f=i.end,a=f-o,c=e?f:o-1,l=this.__iteratees__,s=l.length,p=0,h=jo(a,this.__takeCount__);if(!r||u<B||u==a&&h==a)return er(e&&r?n.reverse():n,this.__actions__);var v=[];n:for(;a--&&p<h;){c+=t;for(var _=-1,g=n[c];++_<s;){var y=l[_],d=y.iteratee,w=y.type,b=d(g);if(w==D)g=b;else if(!b){if(w==z)continue n;break n}}v[p++]=g}return v}function Vn(){this.__data__={}}function Yn(n){return this.has(n)&&delete this.__data__[n]}function Gn(n){return"__proto__"==n?A:this.__data__[n]}function Jn(n){return"__proto__"!=n&&no.call(this.__data__,n)}function Xn(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this}function Zn(n){var t=n?n.length:0;for(this.data={hash:go(null),set:new lo};t--;)this.push(n[t])}function Hn(n,t){var r=n.data;return("string"==typeof t||$u(t)?r.set.has(t):r.hash[t])?0:-1}function tt(n){var t=this.data;"string"==typeof n||$u(n)?t.set.add(n):t.hash[n]=!0}function rt(n,t){for(var r=-1,e=n.length,u=-1,i=t.length,o=zi(e+i);++r<e;)o[r]=n[r];for(;++u<i;)o[r++]=t[u];return o}function et(n,t){var r=-1,e=n.length;for(t||(t=zi(e));++r<e;)t[r]=n[r];return t}function ut(n,t){for(var r=-1,e=n.length;++r<e&&!1!==t(n[r],r,n););return n}function it(n,t){for(var r=n.length;r--&&!1!==t(n[r],r,n););return n}function ot(n,t){for(var r=-1,e=n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function ft(n,t,r,e){for(var u=-1,i=n.length,o=e,f=o;++u<i;){var a=n[u],c=+t(a);r(c,o)&&(o=c,f=a)}return f}function at(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[++u]=o)}return i}function ct(n,t){for(var r=-1,e=n.length,u=zi(e);++r<e;)u[r]=t(n[r],r,n);return u}function lt(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function st(n,t,r,e){var u=-1,i=n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function pt(n,t,r,e){var u=n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function ht(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function vt(n,t){for(var r=n.length,e=0;r--;)e+=+t(n[r])||0;return e}function _t(n,t){return n===A?t:n}function gt(n,t,r,e){return n!==A&&no.call(e,r)?n:t}function yt(n,t,r){for(var e=-1,u=Df(t),i=u.length;++e<i;){var o=u[e],f=n[o],a=r(f,t[o],o,n,t);(a===a?a===f:f!==f)&&(f!==A||o in n)||(n[o]=a)}return n}function dt(n,t){return null==t?n:bt(t,Df(t),n)}function wt(n,t){for(var r=-1,e=null==n,u=!e&&Zr(n),i=u?n.length:0,o=t.length,f=zi(o);++r<o;){var a=t[r];f[r]=u?Hr(a,i)?n[a]:A:e?A:n[a]}return f}function bt(n,t,r){r||(r={});for(var e=-1,u=t.length;++e<u;){var i=t[e];r[i]=n[i]}return r}function mt(n,t,r){var e=typeof n;return"function"==e?t===A?n:or(n,t,r):null==n?Ri:"object"==e?zt(n):t===A?Wi(n):Dt(n,t)}function xt(n,t,r,e,u,i,o){var f;if(r&&(f=u?r(n,e,u):r(n)),f!==A)return f;if(!$u(n))return n;var a=Cf(n);if(a){if(f=Yr(n),!t)return et(n,f)}else{var c=ro.call(n),l=c==J;if(c!=Z&&c!=P&&(!l||u))return zn[c]?Jr(n,c,t):u?n:{};if(f=Gr(l?{}:n),!t)return dt(f,n)}i||(i=[]),o||(o=[]);for(var s=i.length;s--;)if(i[s]==n)return o[s];return i.push(n),o.push(f),(a?ut:Ut)(n,function(e,u){f[u]=xt(e,t,r,u,n,i,o)}),f}function jt(n,t,r){if("function"!=typeof n)throw new Ji(M);return so(function(){n.apply(A,r)},t)}function At(n,t){var r=n?n.length:0,e=[];if(!r)return e;var i=-1,o=qr(),f=o==u,a=f&&t.length>=B?_r(t):null,c=t.length;a&&(o=Hn,f=!1,t=a);n:for(;++i<r;){var l=n[i];if(f&&l===l){for(var s=c;s--;)if(t[s]===l)continue n;e.push(l)}else o(t,l,0)<0&&e.push(l)}return e}function kt(n,t){var r=!0;return No(n,function(n,e,u){return r=!!t(n,e,u)}),r}function It(n,t,r,e){var u=e,i=u;return No(n,function(n,o,f){var a=+t(n,o,f);(r(a,u)||a===e&&a===i)&&(u=a,i=n)}),i}function Rt(n,t,r,e){var u=n.length;for(r=null==r?0:+r||0,r<0&&(r=-r>u?0:u+r),e=e===A||e>u?u:+e||0,e<0&&(e+=u),u=r>e?0:e>>>0,r>>>=0;r<u;)n[r++]=t;return n}function Ot(n,t){var r=[];return No(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function Et(n,t,r,e){var u;return r(n,function(n,r,i){if(t(n,r,i))return u=e?r:n,!1}),u}function Ct(n,t,r,e){e||(e=[]);for(var u=-1,i=n.length;++u<i;){var o=n[u];g(o)&&Zr(o)&&(r||Cf(o)||ku(o))?t?Ct(o,t,r,e):lt(e,o):r||(e[e.length]=o)}return e}function St(n,t){return Lo(n,t,ni)}function Ut(n,t){return Lo(n,t,Df)}function Wt(n,t){return Bo(n,t,Df)}function $t(n,t){for(var r=-1,e=t.length,u=-1,i=[];++r<e;){var o=t[r];Wu(n[o])&&(i[++u]=o)}return i}function Ft(n,t,r){if(null!=n){r!==A&&r in se(n)&&(t=[r]);for(var e=0,u=t.length;null!=n&&e<u;)n=n[t[e++]];return e&&e==u?n:A}}function Nt(n,t,r,e,u,i){return n===t||(null==n||null==t||!$u(n)&&!g(t)?n!==n&&t!==t:Tt(n,t,Nt,r,e,u,i))}function Tt(n,t,r,e,u,i,o){var f=Cf(n),a=Cf(t),c=K,l=K;f||(c=ro.call(n),c==P?c=Z:c!=Z&&(f=qu(n))),a||(l=ro.call(t),l==P?l=Z:l!=Z&&(a=qu(t)));var s=c==Z,p=l==Z,h=c==l;if(h&&!f&&!s)return Br(n,t,c);if(!u){var v=s&&no.call(n,"__wrapped__"),_=p&&no.call(t,"__wrapped__");if(v||_)return r(v?n.value():n,_?t.value():t,e,u,i,o)}if(!h)return!1;i||(i=[]),o||(o=[]);for(var g=i.length;g--;)if(i[g]==n)return o[g]==t;i.push(n),o.push(t);var y=(f?Lr:zr)(n,t,r,e,u,i,o);return i.pop(),o.pop(),y}function Lt(n,t,r){var e=t.length,u=e,i=!r;if(null==n)return!u;for(n=se(n);e--;){var o=t[e];if(i&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++e<u;){o=t[e];var f=o[0],a=n[f],c=o[1];if(i&&o[2]){if(a===A&&!(f in n))return!1}else{var l=r?r(a,c,f):A;if(!(l===A?Nt(c,a,r,!0):l))return!1}}return!0}function Bt(n,t){var r=-1,e=Zr(n)?zi(n.length):[];return No(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function zt(n){var t=Pr(n);if(1==t.length&&t[0][2]){var r=t[0][0],e=t[0][1];return function(n){return null!=n&&(n[r]===e&&(e!==A||r in se(n)))}}return function(n){return Lt(n,t)}}function Dt(n,t){var r=Cf(n),e=ne(n)&&ee(t),u=n+"";return n=pe(n),function(i){if(null==i)return!1;var o=u;if(i=se(i),(r||!e)&&!(o in i)){if(null==(i=1==n.length?i:Ft(i,Jt(n,0,-1))))return!1;o=Ie(n),i=se(i)}return i[o]===t?t!==A||o in i:Nt(t,i[o],A,!0)}}function Mt(n,t,r,e,u){if(!$u(n))return n;var i=Zr(t)&&(Cf(t)||qu(t)),o=i?A:Df(t);return ut(o||t,function(f,a){if(o&&(a=f,f=t[a]),g(f))e||(e=[]),u||(u=[]),qt(n,t,a,Mt,r,e,u);else{var c=n[a],l=r?r(c,f,a,n,t):A,s=l===A;s&&(l=f),l===A&&(!i||a in n)||!s&&(l===l?l===c:c!==c)||(n[a]=l)}}),n}function qt(n,t,r,e,u,i,o){for(var f=i.length,a=t[r];f--;)if(i[f]==a)return void(n[r]=o[f]);var c=n[r],l=u?u(c,a,r,n,t):A,s=l===A;s&&(l=a,Zr(a)&&(Cf(a)||qu(a))?l=Cf(c)?c:Zr(c)?et(c):[]:zu(a)||ku(a)?l=ku(c)?Gu(c):zu(c)?c:{}:s=!1),i.push(a),o.push(l),s?n[r]=e(l,a,u,i,o):(l===l?l!==c:c===c)&&(n[r]=l)}function Pt(n){return function(t){return null==t?A:t[n]}}function Kt(n){var t=n+"";return n=pe(n),function(r){return Ft(r,n,t)}}function Vt(n,t){for(var r=n?t.length:0;r--;){var e=t[r];if(e!=u&&Hr(e)){var u=e;po.call(n,e,1)}}return n}function Yt(n,t){return n+yo(Io()*(t-n+1))}function Gt(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function Jt(n,t,r){var e=-1,u=n.length;t=null==t?0:+t||0,t<0&&(t=-t>u?0:u+t),r=r===A||r>u?u:+r||0,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=zi(u);++e<u;)i[e]=n[e+t];return i}function Xt(n,t){var r;return No(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function Zt(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function Ht(n,t,r){var e=Dr(),u=-1;return t=ct(t,function(n){return e(n)}),Zt(Bt(n,function(n){return{criteria:ct(t,function(t){return t(n)}),index:++u,value:n}}),function(n,t){return l(n,t,r)})}function Qt(n,t){var r=0;return No(n,function(n,e,u){r+=+t(n,e,u)||0}),r}function nr(n,t){var r=-1,e=qr(),i=n.length,o=e==u,f=o&&i>=B,a=f?_r():null,c=[];a?(e=Hn,o=!1):(f=!1,a=t?[]:c);n:for(;++r<i;){var l=n[r],s=t?t(l,r,n):l;if(o&&l===l){for(var p=a.length;p--;)if(a[p]===s)continue n;t&&a.push(s),c.push(l)}else e(a,s,0)<0&&((t||f)&&a.push(s),c.push(l))}return c}function tr(n,t){for(var r=-1,e=t.length,u=zi(e);++r<e;)u[r]=n[t[r]];return u}function rr(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?Jt(n,e?0:i,e?i+1:u):Jt(n,e?i+1:0,e?u:i)}function er(n,t){var r=n;r instanceof Mn&&(r=r.value());for(var e=-1,u=t.length;++e<u;){var i=t[e];r=i.func.apply(i.thisArg,lt([r],i.args))}return r}function ur(n,t,r){var e=0,u=n?n.length:e;if("number"==typeof t&&t===t&&u<=So){for(;e<u;){var i=e+u>>>1,o=n[i];(r?o<=t:o<t)&&null!==o?e=i+1:u=i}return u}return ir(n,t,Ri,r)}function ir(n,t,r,e){t=r(t);for(var u=0,i=n?n.length:0,o=t!==t,f=null===t,a=t===A;u<i;){var c=yo((u+i)/2),l=r(n[c]),s=l!==A,p=l===l;if(o)var h=p||e;else h=f?p&&s&&(e||null!=l):a?p&&(e||s):null!=l&&(e?l<=t:l<t);h?u=c+1:i=c}return jo(i,Co)}function or(n,t,r){if("function"!=typeof n)return Ri;if(t===A)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)};case 5:return function(r,e,u,i,o){return n.call(t,r,e,u,i,o)}}return function(){return n.apply(t,arguments)}}function fr(n){var t=new io(n.byteLength);return new ho(t).set(new ho(n)),t}function ar(n,t,r){for(var e=r.length,u=-1,i=xo(n.length-e,0),o=-1,f=t.length,a=zi(f+i);++o<f;)a[o]=t[o];for(;++u<e;)a[r[u]]=n[u];for(;i--;)a[o++]=n[u++];return a}function cr(n,t,r){for(var e=-1,u=r.length,i=-1,o=xo(n.length-u,0),f=-1,a=t.length,c=zi(o+a);++i<o;)c[i]=n[i];for(var l=i;++f<a;)c[l+f]=t[f];for(;++e<u;)c[l+r[e]]=n[i++];return c}function lr(n,t){return function(r,e,u){var i=t?t():{};if(e=Dr(e,u,3),Cf(r))for(var o=-1,f=r.length;++o<f;){var a=r[o];n(i,a,e(a,o,r),r)}else No(r,function(t,r,u){n(i,t,e(t,r,u),u)});return i}}function sr(n){return yu(function(t,r){var e=-1,u=null==t?0:r.length,i=u>2?r[u-2]:A,o=u>2?r[2]:A,f=u>1?r[u-1]:A;for("function"==typeof i?(i=or(i,f,5),u-=2):(i="function"==typeof f?f:A,u-=i?1:0),o&&Qr(r[0],r[1],o)&&(i=u<3?A:i,u=1);++e<u;){var a=r[e];a&&n(t,a,i)}return t})}function pr(n,t){return function(r,e){var u=r?Mo(r):0;if(!re(u))return n(r,e);for(var i=t?u:-1,o=se(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function hr(n){return function(t,r,e){for(var u=se(t),i=e(t),o=i.length,f=n?o:-1;n?f--:++f<o;){var a=i[f];if(!1===r(u[a],a,u))break}return t}}function vr(n,t){function r(){return(this&&this!==Qn&&this instanceof r?e:n).apply(t,arguments)}var e=yr(n);return r}function _r(n){return go&&lo?new Zn(n):null}function gr(n){return function(t){for(var r=-1,e=Ai(li(t)),u=e.length,i="";++r<u;)i=n(i,e[r],r);return i}}function yr(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Fo(n.prototype),e=n.apply(r,t);return $u(e)?e:r}}function dr(n){function t(r,e,u){u&&Qr(r,e,u)&&(e=A);var i=Tr(r,n,A,A,A,A,A,e);return i.placeholder=t.placeholder,i}return t}function wr(n,t){return yu(function(r){var e=r[0];return null==e?e:(r.push(t),n.apply(A,r))})}function br(n,t){return function(r,e,u){if(u&&Qr(r,e,u)&&(e=A),e=Dr(e,u,3),1==e.length){r=Cf(r)?r:le(r);var i=ft(r,e,n,t);if(!r.length||i!==t)return i}return It(r,e,n,t)}}function mr(n,t){return function(r,u,i){if(u=Dr(u,i,3),Cf(r)){var o=e(r,u,t);return o>-1?r[o]:A}return Et(r,u,n)}}function xr(n){return function(t,r,u){return t&&t.length?(r=Dr(r,u,3),e(t,r,n)):-1}}function jr(n){return function(t,r,e){return r=Dr(r,e,3),Et(t,r,n,!0)}}function Ar(n){return function(){for(var t,r=arguments.length,e=n?r:-1,u=0,i=zi(r);n?e--:++e<r;){var o=i[u++]=arguments[e];if("function"!=typeof o)throw new Ji(M);!t&&Dn.prototype.thru&&"wrapper"==Mr(o)&&(t=new Dn([],!0))}for(e=t?-1:r;++e<r;){o=i[e];var f=Mr(o),a="wrapper"==f?Do(o):A;t=a&&te(a[0])&&a[1]==(W|E|S|$)&&!a[4].length&&1==a[9]?t[Mr(a[0])].apply(t,a[3]):1==o.length&&te(o)?t[f]():t.thru(o)}return function(){var n=arguments,e=n[0];if(t&&1==n.length&&Cf(e)&&e.length>=B)return t.plant(e).value();for(var u=0,o=r?i[u].apply(this,n):e;++u<r;)o=i[u].call(this,o);return o}}}function kr(n,t){return function(r,e,u){return"function"==typeof e&&u===A&&Cf(r)?n(r,e):t(r,or(e,u,3))}}function Ir(n){return function(t,r,e){return"function"==typeof r&&e===A||(r=or(r,e,3)),n(t,r,ni)}}function Rr(n){return function(t,r,e){return"function"==typeof r&&e===A||(r=or(r,e,3)),n(t,r)}}function Or(n){return function(t,r,e){var u={};return r=Dr(r,e,3),Ut(t,function(t,e,i){var o=r(t,e,i);e=n?o:e,t=n?t:o,u[e]=t}),u}}function Er(n){return function(t,r,e){return t=o(t),(n?t:"")+Wr(t,r,e)+(n?"":t)}}function Cr(n){var t=yu(function(r,e){var u=d(e,t.placeholder);return Tr(r,n,A,e,u)});return t}function Sr(n,t){return function(r,e,u,i){var o=arguments.length<3;return"function"==typeof e&&i===A&&Cf(r)?n(r,e,u,o):Gt(r,Dr(e,i,4),u,o,t)}}function Ur(n,t,r,e,u,i,o,f,a,c){function l(){for(var w=arguments.length,b=w,m=zi(w);b--;)m[b]=arguments[b];if(e&&(m=ar(m,e,u)),i&&(m=cr(m,i,o)),v||g){var x=l.placeholder,j=d(m,x);if((w-=j.length)<c){var k=f?et(f):A,O=xo(c-w,0),E=v?j:A,C=v?A:j,W=v?m:A,$=v?A:m;t|=v?S:U,t&=~(v?U:S),_||(t&=~(I|R));var F=[n,t,r,W,E,$,C,k,a,O],N=Ur.apply(A,F);return te(n)&&qo(N,F),N.placeholder=x,N}}var T=p?r:this,L=h?T[n]:n;return f&&(m=ae(m,f)),s&&a<m.length&&(m.length=a),this&&this!==Qn&&this instanceof l&&(L=y||yr(n)),L.apply(T,m)}var s=t&W,p=t&I,h=t&R,v=t&E,_=t&O,g=t&C,y=h?A:yr(n);return l}function Wr(n,t,r){var e=n.length;if(t=+t,e>=t||!bo(t))return"";var u=t-e;return r=null==r?" ":r+"",gi(r,_o(u/r.length)).slice(0,u)}function $r(n,t,r,e){function u(){for(var t=-1,f=arguments.length,a=-1,c=e.length,l=zi(c+f);++a<c;)l[a]=e[a];for(;f--;)l[a++]=arguments[++t];return(this&&this!==Qn&&this instanceof u?o:n).apply(i?r:this,l)}var i=t&I,o=yr(n);return u}function Fr(n){var t=Pi[n];return function(n,r){return r=r===A?0:+r||0,r?(r=ao(10,r),t(n*r)/r):t(n)}}function Nr(n){return function(t,r,e,u){var i=Dr(e);return null==e&&i===mt?ur(t,r,n):ir(t,r,i(e,u,1),n)}}function Tr(n,t,r,e,u,i,o,f){var a=t&R;if(!a&&"function"!=typeof n)throw new Ji(M);var c=e?e.length:0;if(c||(t&=~(S|U),e=u=A),c-=u?u.length:0,t&U){var l=e,s=u;e=u=A}var p=a?A:Do(n),h=[n,t,r,e,u,l,s,i,o,f];if(p&&(ue(h,p),t=h[1],f=h[9]),h[9]=null==f?a?0:n.length:xo(f-c,0)||0,t==I)var v=vr(h[0],h[2]);else v=t!=S&&t!=(I|S)||h[4].length?Ur.apply(A,h):$r.apply(A,h);return(p?zo:qo)(v,h)}function Lr(n,t,r,e,u,i,o){var f=-1,a=n.length,c=t.length;if(a!=c&&!(u&&c>a))return!1;for(;++f<a;){var l=n[f],s=t[f],p=e?e(u?s:l,u?l:s,f):A;if(p!==A){if(p)continue;return!1}if(u){if(!ht(t,function(n){return l===n||r(l,n,e,u,i,o)}))return!1}else if(l!==s&&!r(l,s,e,u,i,o))return!1}return!0}function Br(n,t,r){switch(r){case V:case Y:return+n==+t;case G:return n.name==t.name&&n.message==t.message;case X:return n!=+n?t!=+t:n==+t;case H:case Q:return n==t+""}return!1}function zr(n,t,r,e,u,i,o){var f=Df(n),a=f.length;if(a!=Df(t).length&&!u)return!1;for(var c=a;c--;){var l=f[c];if(!(u?l in t:no.call(t,l)))return!1}for(var s=u;++c<a;){l=f[c];var p=n[l],h=t[l],v=e?e(u?h:p,u?p:h,l):A;if(!(v===A?r(p,h,e,u,i,o):v))return!1;s||(s="constructor"==l)}if(!s){var _=n.constructor,g=t.constructor;if(_!=g&&"constructor"in n&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof g&&g instanceof g))return!1}return!0}function Dr(n,t,e){var u=r.callback||ki;return u=u===ki?mt:u,e?u(n,t,e):u}function Mr(n){for(var t=n.name,r=$o[t],e=r?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function qr(n,t,e){var i=r.indexOf||Ae;return i=i===Ae?u:i,n?i(n,t,e):i}function Pr(n){for(var t=ti(n),r=t.length;r--;)t[r][2]=ee(t[r][1]);return t}function Kr(n,t){var r=null==n?A:n[t];return Tu(r)?r:A}function Vr(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=jo(t,n+o);break;case"takeRight":n=xo(n,t-o)}}return{start:n,end:t}}function Yr(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&no.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Gr(n){var t=n.constructor;return"function"==typeof t&&t instanceof t||(t=Vi),new t}function Jr(n,t,r){var e=n.constructor;switch(t){case nn:return fr(n);case V:case Y:return new e(+n);case tn:case rn:case en:case un:case on:case fn:case an:case cn:case ln:var u=n.buffer;return new e(r?fr(u):u,n.byteOffset,n.length);case X:case Q:return new e(n);case H:var i=new e(n.source,En.exec(n));i.lastIndex=n.lastIndex}return i}function Xr(n,t,r){null==n||ne(t,n)||(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),t=Ie(t));var e=null==n?n:n[t];return null==e?A:e.apply(n,r)}function Zr(n){return null!=n&&re(Mo(n))}function Hr(n,t){return n="number"==typeof n||Un.test(n)?+n:-1,t=null==t?Uo:t,n>-1&&n%1==0&&n<t}function Qr(n,t,r){if(!$u(r))return!1;var e=typeof t;if("number"==e?Zr(r)&&Hr(t,r.length):"string"==e&&t in r){var u=r[t];return n===n?n===u:u!==u}return!1}function ne(n,t){var r=typeof n;return!!("string"==r&&xn.test(n)||"number"==r)||!Cf(n)&&(!mn.test(n)||null!=t&&n in se(t))}function te(n){var t=Mr(n);if(!(t in Mn.prototype))return!1;var e=r[t];if(n===e)return!0;var u=Do(e);return!!u&&n===u[0]}function re(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=Uo}function ee(n){return n===n&&!$u(n)}function ue(n,t){var r=n[1],e=t[1],u=r|e,i=u<W,o=e==W&&r==E||e==W&&r==$&&n[7].length<=t[8]||e==(W|$)&&r==E;if(!i&&!o)return n;e&I&&(n[2]=t[2],u|=r&I?0:O);var f=t[3];if(f){var a=n[3];n[3]=a?ar(a,f,t[4]):et(f),n[4]=a?d(n[3],q):et(t[4])}return f=t[5],f&&(a=n[5],n[5]=a?cr(a,f,t[6]):et(f),n[6]=a?d(n[5],q):et(t[6])),f=t[7],f&&(n[7]=et(f)),e&W&&(n[8]=null==n[8]?t[8]:jo(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function ie(n,t){return n===A?t:Sf(n,t,ie)}function oe(n,t){n=se(n);for(var r=-1,e=t.length,u={};++r<e;){var i=t[r];i in n&&(u[i]=n[i])}return u}function fe(n,t){var r={};return St(n,function(n,e,u){t(n,e,u)&&(r[e]=n)}),r}function ae(n,t){for(var r=n.length,e=jo(t.length,r),u=et(n);e--;){var i=t[e];n[e]=Hr(i,r)?u[i]:A}return n}function ce(n){for(var t=ni(n),r=t.length,e=r&&n.length,u=!!e&&re(e)&&(Cf(n)||ku(n)),i=-1,o=[];++i<r;){var f=t[i];(u&&Hr(f,e)||no.call(n,f))&&o.push(f)}return o}function le(n){return null==n?[]:Zr(n)?$u(n)?n:Vi(n):ii(n)}function se(n){return $u(n)?n:Vi(n)}function pe(n){if(Cf(n))return n;var t=[];return o(n).replace(jn,function(n,r,e,u){t.push(e?u.replace(Rn,"$1"):r||n)}),t}function he(n){return n instanceof Mn?n.clone():new Dn(n.__wrapped__,n.__chain__,et(n.__actions__))}function ve(n,t,r){t=(r?Qr(n,t,r):null==t)?1:xo(yo(t)||1,1);for(var e=0,u=n?n.length:0,i=-1,o=zi(_o(u/t));e<u;)o[++i]=Jt(n,e,e+=t);return o}function _e(n){for(var t=-1,r=n?n.length:0,e=-1,u=[];++t<r;){var i=n[t];i&&(u[++e]=i)}return u}function ge(n,t,r){return(n?n.length:0)?((r?Qr(n,t,r):null==t)&&(t=1),Jt(n,t<0?0:t)):[]}function ye(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Jt(n,0,t<0?0:t)):[]}function de(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!0,!0):[]}function we(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!0):[]}function be(n,t,r,e){var u=n?n.length:0;return u?(r&&"number"!=typeof r&&Qr(n,t,r)&&(r=0,e=u),Rt(n,t,r,e)):[]}function me(n){return n?n[0]:A}function xe(n,t,r){var e=n?n.length:0;return r&&Qr(n,t,r)&&(t=!1),e?Ct(n,t):[]}function je(n){return(n?n.length:0)?Ct(n,!0):[]}function Ae(n,t,r){var e=n?n.length:0;if(!e)return-1;if("number"==typeof r)r=r<0?xo(e+r,0):r;else if(r){var i=ur(n,t);return i<e&&(t===t?t===n[i]:n[i]!==n[i])?i:-1}return u(n,t,r||0)}function ke(n){return ye(n,1)}function Ie(n){var t=n?n.length:0;return t?n[t-1]:A}function Re(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if("number"==typeof r)u=(r<0?xo(e+r,0):jo(r||0,e-1))+1;else if(r){u=ur(n,t,!0)-1;var i=n[u];return(t===t?t===i:i!==i)?u:-1}if(t!==t)return _(n,u,!0);for(;u--;)if(n[u]===t)return u;return-1}function Oe(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var r=0,e=qr(),u=n.length;++r<u;)for(var i=0,o=n[r];(i=e(t,o,i))>-1;)po.call(t,i,1);return t}function Ee(n,t,r){var e=[];if(!n||!n.length)return e;var u=-1,i=[],o=n.length;for(t=Dr(t,r,3);++u<o;){var f=n[u];t(f,u,n)&&(e.push(f),i.push(u))}return Vt(n,i),e}function Ce(n){return ge(n,1)}function Se(n,t,r){var e=n?n.length:0;return e?(r&&"number"!=typeof r&&Qr(n,t,r)&&(t=0,r=e),Jt(n,t,r)):[]}function Ue(n,t,r){return(n?n.length:0)?((r?Qr(n,t,r):null==t)&&(t=1),Jt(n,0,t<0?0:t)):[]}function We(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Jt(n,t<0?0:t)):[]}function $e(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!1,!0):[]}function Fe(n,t,r){return n&&n.length?rr(n,Dr(t,r,3)):[]}function Ne(n,t,r,e){if(!(n?n.length:0))return[];null!=t&&"boolean"!=typeof t&&(e=r,r=Qr(n,t,e)?A:t,t=!1);var i=Dr();return null==r&&i===mt||(r=i(r,e,3)),t&&qr()==u?w(n,r):nr(n,r)}function Te(n){if(!n||!n.length)return[];var t=-1,r=0;n=at(n,function(n){if(Zr(n))return r=xo(n.length,r),!0});for(var e=zi(r);++t<r;)e[t]=ct(n,Pt(t));return e}function Le(n,t,r){if(!(n?n.length:0))return[];var e=Te(n);return null==t?e:(t=or(t,r,4),ct(e,function(n){return st(n,t,A,!0)}))}function Be(){for(var n=-1,t=arguments.length;++n<t;){var r=arguments[n];if(Zr(r))var e=e?lt(At(e,r),At(r,e)):r}return e?nr(e):[]}function ze(n,t){var r=-1,e=n?n.length:0,u={};for(!e||t||Cf(n[0])||(t=[]);++r<e;){var i=n[r];t?u[i]=t[r]:i&&(u[i[0]]=i[1])}return u}function De(n){var t=r(n);return t.__chain__=!0,t}function Me(n,t,r){return t.call(r,n),n}function qe(n,t,r){return t.call(r,n)}function Pe(){return De(this)}function Ke(){return new Dn(this.value(),this.__chain__)}function Ve(n){for(var t,r=this;r instanceof y;){var e=he(r);t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function Ye(){var n=this.__wrapped__,t=function(n){return r&&r.__dir__<0?n:n.reverse()};if(n instanceof Mn){var r=n;return this.__actions__.length&&(r=new Mn(this)),r=r.reverse(),r.__actions__.push({func:qe,args:[t],thisArg:A}),new Dn(r,this.__chain__)}return this.thru(t)}function Ge(){return this.value()+""}function Je(){return er(this.__wrapped__,this.__actions__)}function Xe(n,t,r){var e=Cf(n)?ot:kt;return r&&Qr(n,t,r)&&(t=A),"function"==typeof t&&r===A||(t=Dr(t,r,3)),e(n,t)}function Ze(n,t,r){var e=Cf(n)?at:Ot;return t=Dr(t,r,3),e(n,t)}function He(n,t){return uf(n,zt(t))}function Qe(n,t,r,e){var u=n?Mo(n):0;return re(u)||(n=ii(n),u=n.length),r="number"!=typeof r||e&&Qr(t,r,e)?0:r<0?xo(u+r,0):r||0,"string"==typeof n||!Cf(n)&&Mu(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&qr(n,t,r)>-1}function nu(n,t,r){var e=Cf(n)?ct:Bt;return t=Dr(t,r,3),e(n,t)}function tu(n,t){return nu(n,Wi(t))}function ru(n,t,r){var e=Cf(n)?at:Ot;return t=Dr(t,r,3),e(n,function(n,r,e){return!t(n,r,e)})}function eu(n,t,r){if(r?Qr(n,t,r):null==t){n=le(n);var e=n.length;return e>0?n[Yt(0,e-1)]:A}var u=-1,i=Yu(n),e=i.length,o=e-1;for(t=jo(t<0?0:+t||0,e);++u<t;){var f=Yt(u,o),a=i[f];i[f]=i[u],i[u]=a}return i.length=t,i}function uu(n){return eu(n,Oo)}function iu(n){var t=n?Mo(n):0;return re(t)?t:Df(n).length}function ou(n,t,r){var e=Cf(n)?ht:Xt;return r&&Qr(n,t,r)&&(t=A),"function"==typeof t&&r===A||(t=Dr(t,r,3)),e(n,t)}function fu(n,t,r){if(null==n)return[];r&&Qr(n,t,r)&&(t=A);var e=-1;return t=Dr(t,r,3),Zt(Bt(n,function(n,r,u){return{criteria:t(n,r,u),index:++e,value:n}}),c)}function au(n,t,r,e){return null==n?[]:(e&&Qr(t,r,e)&&(r=A),Cf(t)||(t=null==t?[]:[t]),Cf(r)||(r=null==r?[]:[r]),Ht(n,t,r))}function cu(n,t){return Ze(n,zt(t))}function lu(n,t){if("function"!=typeof t){if("function"!=typeof n)throw new Ji(M);var r=n;n=t,t=r}return n=bo(n=+n)?n:0,function(){if(--n<1)return t.apply(this,arguments)}}function su(n,t,r){return r&&Qr(n,t,r)&&(t=A),t=n&&null==t?n.length:xo(+t||0,0),Tr(n,W,A,A,A,A,t)}function pu(n,t){var r;if("function"!=typeof t){if("function"!=typeof n)throw new Ji(M);var e=n;n=t,t=e}return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=A),r}}function hu(n,t,r){function e(){h&&oo(h),c&&oo(c),_=0,c=h=v=A}function u(t,r){r&&oo(r),c=h=v=A,t&&(_=gf(),l=n.apply(p,a),h||c||(a=p=A))}function i(){var n=t-(gf()-s);n<=0||n>t?u(v,c):h=so(i,n)}function o(){u(y,h)}function f(){if(a=arguments,s=gf(),p=this,v=y&&(h||!d),!1===g)var r=d&&!h;else{c||d||(_=s);var e=g-(s-_),u=e<=0||e>g;u?(c&&(c=oo(c)),_=s,l=n.apply(p,a)):c||(c=so(o,e))}return u&&h?h=oo(h):h||t===g||(h=so(i,t)),r&&(u=!0,l=n.apply(p,a)),!u||h||c||(a=p=A),l}var a,c,l,s,p,h,v,_=0,g=!1,y=!0;if("function"!=typeof n)throw new Ji(M);if(t=t<0?0:+t||0,!0===r){var d=!0;y=!1}else $u(r)&&(d=!!r.leading,g="maxWait"in r&&xo(+r.maxWait||0,t),y="trailing"in r?!!r.trailing:y);return f.cancel=e,f}function vu(n,t){if("function"!=typeof n||t&&"function"!=typeof t)throw new Ji(M);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o),o};return r.cache=new vu.Cache,r}function _u(n){if("function"!=typeof n)throw new Ji(M);return function(){return!n.apply(this,arguments)}}function gu(n){return pu(2,n)}function yu(n,t){if("function"!=typeof n)throw new Ji(M);return t=xo(t===A?n.length-1:+t||0,0),function(){for(var r=arguments,e=-1,u=xo(r.length-t,0),i=zi(u);++e<u;)i[e]=r[t+e];switch(t){case 0:return n.call(this,i);case 1:return n.call(this,r[0],i);case 2:return n.call(this,r[0],r[1],i)}var o=zi(t+1);for(e=-1;++e<t;)o[e]=r[e];return o[t]=i,n.apply(this,o)}}function du(n){if("function"!=typeof n)throw new Ji(M);return function(t){return n.apply(this,t)}}function wu(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new Ji(M);return!1===r?e=!1:$u(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),hu(n,t,{leading:e,maxWait:+t,trailing:u})}function bu(n,t){return t=null==t?Ri:t,Tr(t,S,A,[n],[])}function mu(n,t,r,e){return t&&"boolean"!=typeof t&&Qr(n,t,r)?t=!1:"function"==typeof t&&(e=r,r=t,t=!1),"function"==typeof r?xt(n,t,or(r,e,1)):xt(n,t)}function xu(n,t,r){return"function"==typeof t?xt(n,!0,or(t,r,1)):xt(n,!0)}function ju(n,t){return n>t}function Au(n,t){return n>=t}function ku(n){return g(n)&&Zr(n)&&no.call(n,"callee")&&!co.call(n,"callee")}function Iu(n){return!0===n||!1===n||g(n)&&ro.call(n)==V}function Ru(n){return g(n)&&ro.call(n)==Y}function Ou(n){return!!n&&1===n.nodeType&&g(n)&&!zu(n)}function Eu(n){return null==n||(Zr(n)&&(Cf(n)||Mu(n)||ku(n)||g(n)&&Wu(n.splice))?!n.length:!Df(n).length)}function Cu(n,t,r,e){r="function"==typeof r?or(r,e,3):A;var u=r?r(n,t):A;return u===A?Nt(n,t,r):!!u}function Su(n){return g(n)&&"string"==typeof n.message&&ro.call(n)==G}function Uu(n){return"number"==typeof n&&bo(n)}function Wu(n){return $u(n)&&ro.call(n)==J}function $u(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function Fu(n,t,r,e){return r="function"==typeof r?or(r,e,3):A,Lt(n,Pr(t),r)}function Nu(n){return Bu(n)&&n!=+n}function Tu(n){return null!=n&&(Wu(n)?uo.test(Qi.call(n)):g(n)&&Sn.test(n))}function Lu(n){return null===n}function Bu(n){return"number"==typeof n||g(n)&&ro.call(n)==X}function zu(n){var t;if(!g(n)||ro.call(n)!=Z||ku(n)||!no.call(n,"constructor")&&"function"==typeof(t=n.constructor)&&!(t instanceof t))return!1;var r;return St(n,function(n,t){r=t}),r===A||no.call(n,r)}function Du(n){return $u(n)&&ro.call(n)==H}function Mu(n){return"string"==typeof n||g(n)&&ro.call(n)==Q}function qu(n){return g(n)&&re(n.length)&&!!Bn[ro.call(n)]}function Pu(n){return n===A}function Ku(n,t){return n<t}function Vu(n,t){return n<=t}function Yu(n){var t=n?Mo(n):0;return re(t)?t?et(n):[]:ii(n)}function Gu(n){return bt(n,ni(n))}function Ju(n,t,r){var e=Fo(n);return r&&Qr(n,t,r)&&(t=A),t?dt(e,t):e}function Xu(n){return $t(n,ni(n))}function Zu(n,t,r){var e=null==n?A:Ft(n,pe(t),t+"");return e===A?r:e}function Hu(n,t){if(null==n)return!1;var r=no.call(n,t);if(!r&&!ne(t)){if(t=pe(t),null==(n=1==t.length?n:Ft(n,Jt(t,0,-1))))return!1;t=Ie(t),r=no.call(n,t)}return r||re(n.length)&&Hr(t,n.length)&&(Cf(n)||ku(n))}function Qu(n,t,r){r&&Qr(n,t,r)&&(t=A);for(var e=-1,u=Df(n),i=u.length,o={};++e<i;){var f=u[e],a=n[f];t?no.call(o,a)?o[a].push(f):o[a]=[f]:o[a]=f}return o}function ni(n){if(null==n)return[];$u(n)||(n=Vi(n));var t=n.length;t=t&&re(t)&&(Cf(n)||ku(n))&&t||0;for(var r=n.constructor,e=-1,u="function"==typeof r&&r.prototype===n,i=zi(t),o=t>0;++e<t;)i[e]=e+"";for(var f in n)o&&Hr(f,t)||"constructor"==f&&(u||!no.call(n,f))||i.push(f);return i}function ti(n){n=se(n);for(var t=-1,r=Df(n),e=r.length,u=zi(e);++t<e;){var i=r[t];u[t]=[i,n[i]]}return u}function ri(n,t,r){var e=null==n?A:n[t];return e===A&&(null==n||ne(t,n)||(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),e=null==n?A:n[Ie(t)]),e=e===A?r:e),Wu(e)?e.call(n):e}function ei(n,t,r){if(null==n)return n;var e=t+"";t=null!=n[e]||ne(t,n)?[e]:pe(t);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var a=t[u];$u(f)&&(u==o?f[a]=r:null==f[a]&&(f[a]=Hr(t[u+1])?[]:{})),f=f[a]}return n}function ui(n,t,r,e){var u=Cf(n)||qu(n);if(t=Dr(t,e,4),null==r)if(u||$u(n)){var i=n.constructor;r=u?Cf(n)?new i:[]:Fo(Wu(i)?i.prototype:A)}else r={};return(u?ut:Ut)(n,function(n,e,u){return t(r,n,e,u)}),r}function ii(n){return tr(n,Df(n))}function oi(n){return tr(n,ni(n))}function fi(n,t,r){return t=+t||0,r===A?(r=t,t=0):r=+r||0,n>=jo(t,r)&&n<xo(t,r)}function ai(n,t,r){r&&Qr(n,t,r)&&(t=r=A);var e=null==n,u=null==t;if(null==r&&(u&&"boolean"==typeof n?(r=n,n=1):"boolean"==typeof t&&(r=t,u=!0)),e&&u&&(t=1,u=!1),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1){var i=Io();return jo(n+i*(t-n+fo("1e-"+((i+"").length-1))),t)}return Yt(n,t)}function ci(n){return(n=o(n))&&n.charAt(0).toUpperCase()+n.slice(1)}function li(n){return(n=o(n))&&n.replace(Wn,s).replace(In,"")}function si(n,t,r){n=o(n),t+="";var e=n.length
;return r=r===A?e:jo(r<0?0:+r||0,e),(r-=t.length)>=0&&n.indexOf(t,r)==r}function pi(n){return n=o(n),n&&yn.test(n)?n.replace(_n,p):n}function hi(n){return n=o(n),n&&kn.test(n)?n.replace(An,h):n||"(?:)"}function vi(n,t,r){n=o(n),t=+t;var e=n.length;if(e>=t||!bo(t))return n;var u=(t-e)/2,i=yo(u);return r=Wr("",_o(u),r),r.slice(0,i)+n+r}function _i(n,t,r){return(r?Qr(n,t,r):null==t)?t=0:t&&(t=+t),n=wi(n),ko(n,t||(Cn.test(n)?16:10))}function gi(n,t){var r="";if(n=o(n),(t=+t)<1||!n||!bo(t))return r;do{t%2&&(r+=n),t=yo(t/2),n+=n}while(t);return r}function yi(n,t,r){return n=o(n),r=null==r?0:jo(r<0?0:+r||0,n.length),n.lastIndexOf(t,r)==r}function di(n,t,e){var u=r.templateSettings;e&&Qr(n,t,e)&&(t=e=A),n=o(n),t=yt(dt({},e||t),u,gt);var i,f,a=yt(dt({},t.imports),u.imports,gt),c=Df(a),l=tr(a,c),s=0,p=t.interpolate||$n,h="__p += '",_=Yi((t.escape||$n).source+"|"+p.source+"|"+(p===bn?On:$n).source+"|"+(t.evaluate||$n).source+"|$","g"),g="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Ln+"]")+"\n";n.replace(_,function(t,r,e,u,o,a){return e||(e=u),h+=n.slice(s,a).replace(Fn,v),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),o&&(f=!0,h+="';\n"+o+";\n__p += '"),e&&(h+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),s=a+t.length,t}),h+="';\n";var y=t.variable;y||(h="with (obj) {\n"+h+"\n}\n"),h=(f?h.replace(sn,""):h).replace(pn,"$1").replace(hn,"$1;"),h="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var d=Hf(function(){return qi(c,g+"return "+h).apply(A,l)});if(d.source=h,Su(d))throw d;return d}function wi(n,t,r){var e=n;return(n=o(n))?(r?Qr(e,t,r):null==t)?n.slice(b(n),m(n)+1):(t+="",n.slice(f(n,t),a(n,t)+1)):n}function bi(n,t,r){var e=n;return n=o(n),n?(r?Qr(e,t,r):null==t)?n.slice(b(n)):n.slice(f(n,t+"")):n}function mi(n,t,r){var e=n;return n=o(n),n?(r?Qr(e,t,r):null==t)?n.slice(0,m(n)+1):n.slice(0,a(n,t+"")+1):n}function xi(n,t,r){r&&Qr(n,t,r)&&(t=A);var e=F,u=N;if(null!=t)if($u(t)){var i="separator"in t?t.separator:i;e="length"in t?+t.length||0:e,u="omission"in t?o(t.omission):u}else e=+t||0;if(n=o(n),e>=n.length)return n;var f=e-u.length;if(f<1)return u;var a=n.slice(0,f);if(null==i)return a+u;if(Du(i)){if(n.slice(f).search(i)){var c,l,s=n.slice(0,f);for(i.global||(i=Yi(i.source,(En.exec(i)||"")+"g")),i.lastIndex=0;c=i.exec(s);)l=c.index;a=a.slice(0,null==l?f:l)}}else if(n.indexOf(i,f)!=f){var p=a.lastIndexOf(i);p>-1&&(a=a.slice(0,p))}return a+u}function ji(n){return n=o(n),n&&gn.test(n)?n.replace(vn,x):n}function Ai(n,t,r){return r&&Qr(n,t,r)&&(t=A),n=o(n),n.match(t||Nn)||[]}function ki(n,t,r){return r&&Qr(n,t,r)&&(t=A),g(n)?Oi(n):mt(n,t)}function Ii(n){return function(){return n}}function Ri(n){return n}function Oi(n){return zt(xt(n,!0))}function Ei(n,t){return Dt(n,xt(t,!0))}function Ci(n,t,r){if(null==r){var e=$u(t),u=e?Df(t):A,i=u&&u.length?$t(t,u):A;(i?i.length:e)||(i=!1,r=t,t=n,n=this)}i||(i=$t(t,Df(t)));var o=!0,f=-1,a=Wu(n),c=i.length;!1===r?o=!1:$u(r)&&"chain"in r&&(o=r.chain);for(;++f<c;){var l=i[f],s=t[l];n[l]=s,a&&(n.prototype[l]=function(t){return function(){var r=this.__chain__;if(o||r){var e=n(this.__wrapped__);return(e.__actions__=et(this.__actions__)).push({func:t,args:arguments,thisArg:n}),e.__chain__=r,e}return t.apply(n,lt([this.value()],arguments))}}(s))}return n}function Si(){return Qn._=eo,this}function Ui(){}function Wi(n){return ne(n)?Pt(n):Kt(n)}function $i(n){return function(t){return Ft(n,pe(t),t+"")}}function Fi(n,t,r){r&&Qr(n,t,r)&&(t=r=A),n=+n||0,r=null==r?1:+r||0,null==t?(t=n,n=0):t=+t||0;for(var e=-1,u=xo(_o((t-n)/(r||1)),0),i=zi(u);++e<u;)i[e]=n,n+=r;return i}function Ni(n,t,r){if((n=yo(n))<1||!bo(n))return[];var e=-1,u=zi(jo(n,Eo));for(t=or(t,r,1);++e<n;)e<Eo?u[e]=t(e):t(e);return u}function Ti(n){var t=++to;return o(n)+t}function Li(n,t){return(+n||0)+(+t||0)}function Bi(n,t,r){return r&&Qr(n,t,r)&&(t=A),t=Dr(t,r,3),1==t.length?vt(Cf(n)?n:le(n),t):Qt(n,t)}t=t?nt.defaults(Qn.Object(),t,nt.pick(Qn,Tn)):Qn;var zi=t.Array,Di=t.Date,Mi=t.Error,qi=t.Function,Pi=t.Math,Ki=t.Number,Vi=t.Object,Yi=t.RegExp,Gi=t.String,Ji=t.TypeError,Xi=zi.prototype,Zi=Vi.prototype,Hi=Gi.prototype,Qi=qi.prototype.toString,no=Zi.hasOwnProperty,to=0,ro=Zi.toString,eo=Qn._,uo=Yi("^"+Qi.call(no).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),io=t.ArrayBuffer,oo=t.clearTimeout,fo=t.parseFloat,ao=Pi.pow,co=Zi.propertyIsEnumerable,lo=Kr(t,"Set"),so=t.setTimeout,po=Xi.splice,ho=t.Uint8Array,vo=Kr(t,"WeakMap"),_o=Pi.ceil,go=Kr(Vi,"create"),yo=Pi.floor,wo=Kr(zi,"isArray"),bo=t.isFinite,mo=Kr(Vi,"keys"),xo=Pi.max,jo=Pi.min,Ao=Kr(Di,"now"),ko=t.parseInt,Io=Pi.random,Ro=Ki.NEGATIVE_INFINITY,Oo=Ki.POSITIVE_INFINITY,Eo=4294967295,Co=Eo-1,So=Eo>>>1,Uo=9007199254740991,Wo=vo&&new vo,$o={};r.support={};r.templateSettings={escape:dn,evaluate:wn,interpolate:bn,variable:"",imports:{_:r}};var Fo=function(){function n(){}return function(t){if($u(t)){n.prototype=t;var r=new n;n.prototype=A}return r||{}}}(),No=pr(Ut),To=pr(Wt,!0),Lo=hr(),Bo=hr(!0),zo=Wo?function(n,t){return Wo.set(n,t),n}:Ri,Do=Wo?function(n){return Wo.get(n)}:Ui,Mo=Pt("length"),qo=function(){var n=0,t=0;return function(r,e){var u=gf(),i=L-(u-t);if(t=u,i>0){if(++n>=T)return r}else n=0;return zo(r,e)}}(),Po=yu(function(n,t){return g(n)&&Zr(n)?At(n,Ct(t,!1,!0)):[]}),Ko=xr(),Vo=xr(!0),Yo=yu(function(n){for(var t=n.length,r=t,e=zi(s),i=qr(),o=i==u,f=[];r--;){var a=n[r]=Zr(a=n[r])?a:[];e[r]=o&&a.length>=120?_r(r&&a):null}var c=n[0],l=-1,s=c?c.length:0,p=e[0];n:for(;++l<s;)if(a=c[l],(p?Hn(p,a):i(f,a,0))<0){for(var r=t;--r;){var h=e[r];if((h?Hn(h,a):i(n[r],a,0))<0)continue n}p&&p.push(a),f.push(a)}return f}),Go=yu(function(t,r){r=Ct(r);var e=wt(t,r);return Vt(t,r.sort(n)),e}),Jo=Nr(),Xo=Nr(!0),Zo=yu(function(n){return nr(Ct(n,!1,!0))}),Ho=yu(function(n,t){return Zr(n)?At(n,t):[]}),Qo=yu(Te),nf=yu(function(n){var t=n.length,r=t>2?n[t-2]:A,e=t>1?n[t-1]:A;return t>2&&"function"==typeof r?t-=2:(r=t>1&&"function"==typeof e?(--t,e):A,e=A),n.length=t,Le(n,r,e)}),tf=yu(function(n){return n=Ct(n),this.thru(function(t){return rt(Cf(t)?t:[se(t)],n)})}),rf=yu(function(n,t){return wt(n,Ct(t))}),ef=lr(function(n,t,r){no.call(n,r)?++n[r]:n[r]=1}),uf=mr(No),of=mr(To,!0),ff=kr(ut,No),af=kr(it,To),cf=lr(function(n,t,r){no.call(n,r)?n[r].push(t):n[r]=[t]}),lf=lr(function(n,t,r){n[r]=t}),sf=yu(function(n,t,r){var e=-1,u="function"==typeof t,i=ne(t),o=Zr(n)?zi(n.length):[];return No(n,function(n){var f=u?t:i&&null!=n?n[t]:A;o[++e]=f?f.apply(n,r):Xr(n,t,r)}),o}),pf=lr(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),hf=Sr(st,No),vf=Sr(pt,To),_f=yu(function(n,t){if(null==n)return[];var r=t[2];return r&&Qr(t[0],t[1],r)&&(t.length=1),Ht(n,Ct(t),[])}),gf=Ao||function(){return(new Di).getTime()},yf=yu(function(n,t,r){var e=I;if(r.length){var u=d(r,yf.placeholder);e|=S}return Tr(n,e,t,r,u)}),df=yu(function(n,t){t=t.length?Ct(t):Xu(n);for(var r=-1,e=t.length;++r<e;){var u=t[r];n[u]=Tr(n[u],I,n)}return n}),wf=yu(function(n,t,r){var e=I|R;if(r.length){var u=d(r,wf.placeholder);e|=S}return Tr(t,e,n,r,u)}),bf=dr(E),mf=dr(C),xf=yu(function(n,t){return jt(n,1,t)}),jf=yu(function(n,t,r){return jt(n,t,r)}),Af=Ar(),kf=Ar(!0),If=yu(function(n,t){if(t=Ct(t),"function"!=typeof n||!ot(t,i))throw new Ji(M);var r=t.length;return yu(function(e){for(var u=jo(e.length,r);u--;)e[u]=t[u](e[u]);return n.apply(this,e)})}),Rf=Cr(S),Of=Cr(U),Ef=yu(function(n,t){return Tr(n,$,A,A,A,Ct(t))}),Cf=wo||function(n){return g(n)&&re(n.length)&&ro.call(n)==K},Sf=sr(Mt),Uf=sr(function(n,t,r){return r?yt(n,t,r):dt(n,t)}),Wf=wr(Uf,_t),$f=wr(Sf,ie),Ff=jr(Ut),Nf=jr(Wt),Tf=Ir(Lo),Lf=Ir(Bo),Bf=Rr(Ut),zf=Rr(Wt),Df=mo?function(n){var t=null==n?A:n.constructor;return"function"==typeof t&&t.prototype===n||"function"!=typeof n&&Zr(n)?ce(n):$u(n)?mo(n):[]}:ce,Mf=Or(!0),qf=Or(),Pf=yu(function(n,t){if(null==n)return{};if("function"!=typeof t[0]){var t=ct(Ct(t),Gi);return oe(n,At(ni(n),t))}var r=or(t[0],t[1],3);return fe(n,function(n,t,e){return!r(n,t,e)})}),Kf=yu(function(n,t){return null==n?{}:"function"==typeof t[0]?fe(n,or(t[0],t[1],3)):oe(n,Ct(t))}),Vf=gr(function(n,t,r){return t=t.toLowerCase(),n+(r?t.charAt(0).toUpperCase()+t.slice(1):t)}),Yf=gr(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Gf=Er(),Jf=Er(!0),Xf=gr(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),Zf=gr(function(n,t,r){return n+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Hf=yu(function(n,t){try{return n.apply(A,t)}catch(n){return Su(n)?n:new Mi(n)}}),Qf=yu(function(n,t){return function(r){return Xr(r,n,t)}}),na=yu(function(n,t){return function(r){return Xr(n,r,t)}}),ta=Fr("ceil"),ra=Fr("floor"),ea=br(ju,Ro),ua=br(Ku,Oo),ia=Fr("round");return r.prototype=y.prototype,Dn.prototype=Fo(y.prototype),Dn.prototype.constructor=Dn,Mn.prototype=Fo(y.prototype),Mn.prototype.constructor=Mn,Vn.prototype.delete=Yn,Vn.prototype.get=Gn,Vn.prototype.has=Jn,Vn.prototype.set=Xn,Zn.prototype.push=tt,vu.Cache=Vn,r.after=lu,r.ary=su,r.assign=Uf,r.at=rf,r.before=pu,r.bind=yf,r.bindAll=df,r.bindKey=wf,r.callback=ki,r.chain=De,r.chunk=ve,r.compact=_e,r.constant=Ii,r.countBy=ef,r.create=Ju,r.curry=bf,r.curryRight=mf,r.debounce=hu,r.defaults=Wf,r.defaultsDeep=$f,r.defer=xf,r.delay=jf,r.difference=Po,r.drop=ge,r.dropRight=ye,r.dropRightWhile=de,r.dropWhile=we,r.fill=be,r.filter=Ze,r.flatten=xe,r.flattenDeep=je,r.flow=Af,r.flowRight=kf,r.forEach=ff,r.forEachRight=af,r.forIn=Tf,r.forInRight=Lf,r.forOwn=Bf,r.forOwnRight=zf,r.functions=Xu,r.groupBy=cf,r.indexBy=lf,r.initial=ke,r.intersection=Yo,r.invert=Qu,r.invoke=sf,r.keys=Df,r.keysIn=ni,r.map=nu,r.mapKeys=Mf,r.mapValues=qf,r.matches=Oi,r.matchesProperty=Ei,r.memoize=vu,r.merge=Sf,r.method=Qf,r.methodOf=na,r.mixin=Ci,r.modArgs=If,r.negate=_u,r.omit=Pf,r.once=gu,r.pairs=ti,r.partial=Rf,r.partialRight=Of,r.partition=pf,r.pick=Kf,r.pluck=tu,r.property=Wi,r.propertyOf=$i,r.pull=Oe,r.pullAt=Go,r.range=Fi,r.rearg=Ef,r.reject=ru,r.remove=Ee,r.rest=Ce,r.restParam=yu,r.set=ei,r.shuffle=uu,r.slice=Se,r.sortBy=fu,r.sortByAll=_f,r.sortByOrder=au,r.spread=du,r.take=Ue,r.takeRight=We,r.takeRightWhile=$e,r.takeWhile=Fe,r.tap=Me,r.throttle=wu,r.thru=qe,r.times=Ni,r.toArray=Yu,r.toPlainObject=Gu,r.transform=ui,r.union=Zo,r.uniq=Ne,r.unzip=Te,r.unzipWith=Le,r.values=ii,r.valuesIn=oi,r.where=cu,r.without=Ho,r.wrap=bu,r.xor=Be,r.zip=Qo,r.zipObject=ze,r.zipWith=nf,r.backflow=kf,r.collect=nu,r.compose=kf,r.each=ff,r.eachRight=af,r.extend=Uf,r.iteratee=ki,r.methods=Xu,r.object=ze,r.select=Ze,r.tail=Ce,r.unique=Ne,Ci(r,r),r.add=Li,r.attempt=Hf,r.camelCase=Vf,r.capitalize=ci,r.ceil=ta,r.clone=mu,r.cloneDeep=xu,r.deburr=li,r.endsWith=si,r.escape=pi,r.escapeRegExp=hi,r.every=Xe,r.find=uf,r.findIndex=Ko,r.findKey=Ff,r.findLast=of,r.findLastIndex=Vo,r.findLastKey=Nf,r.findWhere=He,r.first=me,r.floor=ra,r.get=Zu,r.gt=ju,r.gte=Au,r.has=Hu,r.identity=Ri,r.includes=Qe,r.indexOf=Ae,r.inRange=fi,r.isArguments=ku,r.isArray=Cf,r.isBoolean=Iu,r.isDate=Ru,r.isElement=Ou,r.isEmpty=Eu,r.isEqual=Cu,r.isError=Su,r.isFinite=Uu,r.isFunction=Wu,r.isMatch=Fu,r.isNaN=Nu,r.isNative=Tu,r.isNull=Lu,r.isNumber=Bu,r.isObject=$u,r.isPlainObject=zu,r.isRegExp=Du,r.isString=Mu,r.isTypedArray=qu,r.isUndefined=Pu,r.kebabCase=Yf,r.last=Ie,r.lastIndexOf=Re,r.lt=Ku,r.lte=Vu,r.max=ea,r.min=ua,r.noConflict=Si,r.noop=Ui,r.now=gf,r.pad=vi,r.padLeft=Gf,r.padRight=Jf,r.parseInt=_i,r.random=ai,r.reduce=hf,r.reduceRight=vf,r.repeat=gi,r.result=ri,r.round=ia,r.runInContext=j,r.size=iu,r.snakeCase=Xf,r.some=ou,r.sortedIndex=Jo,r.sortedLastIndex=Xo,r.startCase=Zf,r.startsWith=yi,r.sum=Bi,r.template=di,r.trim=wi,r.trimLeft=bi,r.trimRight=mi,r.trunc=xi,r.unescape=ji,r.uniqueId=Ti,r.words=Ai,r.all=Xe,r.any=ou,r.contains=Qe,r.eq=Cu,r.detect=uf,r.foldl=hf,r.foldr=vf,r.head=me,r.include=Qe,r.inject=hf,Ci(r,function(){var n={};return Ut(r,function(t,e){r.prototype[e]||(n[e]=t)}),n}(),!1),r.sample=eu,r.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(t){return eu(t,n)}):eu(this.value())},r.VERSION=k,ut(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){r[n].placeholder=r}),ut(["drop","take"],function(n,t){Mn.prototype[n]=function(r){var e=this.__filtered__;if(e&&!t)return new Mn(this);r=null==r?1:xo(yo(r)||0,0);var u=this.clone();return e?u.__takeCount__=jo(u.__takeCount__,r):u.__views__.push({size:r,type:n+(u.__dir__<0?"Right":"")}),u},Mn.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),ut(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r!=D;Mn.prototype[n]=function(n,t){var u=this.clone();return u.__iteratees__.push({iteratee:Dr(n,t,1),type:r}),u.__filtered__=u.__filtered__||e,u}}),ut(["first","last"],function(n,t){var r="take"+(t?"Right":"");Mn.prototype[n]=function(){return this[r](1).value()[0]}}),ut(["initial","rest"],function(n,t){var r="drop"+(t?"":"Right");Mn.prototype[n]=function(){return this.__filtered__?new Mn(this):this[r](1)}}),ut(["pluck","where"],function(n,t){var r=t?"filter":"map",e=t?zt:Wi;Mn.prototype[n]=function(n){return this[r](e(n))}}),Mn.prototype.compact=function(){return this.filter(Ri)},Mn.prototype.reject=function(n,t){return n=Dr(n,t,1),this.filter(function(t){return!n(t)})},Mn.prototype.slice=function(n,t){n=null==n?0:+n||0;var r=this;return r.__filtered__&&(n>0||t<0)?new Mn(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==A&&(t=+t||0,r=t<0?r.dropRight(-t):r.take(t-n)),r)},Mn.prototype.takeRightWhile=function(n,t){return this.reverse().takeWhile(n,t).reverse()},Mn.prototype.toArray=function(){return this.take(Oo)},Ut(Mn.prototype,function(n,t){var e=/^(?:filter|map|reject)|While$/.test(t),u=/^(?:first|last)$/.test(t),i=r[u?"take"+("last"==t?"Right":""):t];i&&(r.prototype[t]=function(){var t=u?[1]:arguments,r=this.__chain__,o=this.__wrapped__,f=!!this.__actions__.length,a=o instanceof Mn,c=t[0],l=a||Cf(o);l&&e&&"function"==typeof c&&1!=c.length&&(a=l=!1);var s=function(n){return u&&r?i(n,1)[0]:i.apply(A,lt([n],t))},p={func:qe,args:[s],thisArg:A},h=a&&!f;if(u&&!r)return h?(o=o.clone(),o.__actions__.push(p),n.call(o)):i.call(A,this.value())[0];if(!u&&l){o=h?o:new Mn(this);var v=n.apply(o,t);return v.__actions__.push(p),new Dn(v,r)}return this.thru(s)})}),ut(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(n){var t=(/^(?:replace|split)$/.test(n)?Hi:Xi)[n],e=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",u=/^(?:join|pop|replace|shift)$/.test(n);r.prototype[n]=function(){var n=arguments;return u&&!this.__chain__?t.apply(this.value(),n):this[e](function(r){return t.apply(r,n)})}}),Ut(Mn.prototype,function(n,t){var e=r[t];if(e){var u=e.name;($o[u]||($o[u]=[])).push({name:t,func:e})}}),$o[Ur(A,R).name]=[{name:"wrapper",func:A}],Mn.prototype.clone=qn,Mn.prototype.reverse=Pn,Mn.prototype.value=Kn,r.prototype.chain=Pe,r.prototype.commit=Ke,r.prototype.concat=tf,r.prototype.plant=Ve,r.prototype.reverse=Ye,r.prototype.toString=Ge,r.prototype.run=r.prototype.toJSON=r.prototype.valueOf=r.prototype.value=Je,r.prototype.collect=r.prototype.map,r.prototype.head=r.prototype.first,r.prototype.select=r.prototype.filter,r.prototype.tail=r.prototype.rest,r}var A,k="3.10.1",I=1,R=2,O=4,E=8,C=16,S=32,U=64,W=128,$=256,F=30,N="...",T=150,L=16,B=200,z=1,D=2,M="Expected a function",q="__lodash_placeholder__",P="[object Arguments]",K="[object Array]",V="[object Boolean]",Y="[object Date]",G="[object Error]",J="[object Function]",X="[object Number]",Z="[object Object]",H="[object RegExp]",Q="[object String]",nn="[object ArrayBuffer]",tn="[object Float32Array]",rn="[object Float64Array]",en="[object Int8Array]",un="[object Int16Array]",on="[object Int32Array]",fn="[object Uint8Array]",an="[object Uint8ClampedArray]",cn="[object Uint16Array]",ln="[object Uint32Array]",sn=/\b__p \+= '';/g,pn=/\b(__p \+=) '' \+/g,hn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vn=/&(?:amp|lt|gt|quot|#39|#96);/g,_n=/[&<>"'`]/g,gn=RegExp(vn.source),yn=RegExp(_n.source),dn=/<%-([\s\S]+?)%>/g,wn=/<%([\s\S]+?)%>/g,bn=/<%=([\s\S]+?)%>/g,mn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,xn=/^\w*$/,jn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,An=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,kn=RegExp(An.source),In=/[\u0300-\u036f\ufe20-\ufe23]/g,Rn=/\\(\\)?/g,On=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,En=/\w*$/,Cn=/^0[xX]/,Sn=/^\[object .+?Constructor\]$/,Un=/^\d+$/,Wn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,$n=/($^)/,Fn=/['\n\r\u2028\u2029\\]/g,Nn=function(){var n="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(n+"+(?="+n+t+")|"+n+"?"+t+"|"+n+"+|[0-9]+","g")}(),Tn=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ln=-1,Bn={};Bn[tn]=Bn[rn]=Bn[en]=Bn[un]=Bn[on]=Bn[fn]=Bn[an]=Bn[cn]=Bn[ln]=!0,Bn[P]=Bn[K]=Bn[nn]=Bn[V]=Bn[Y]=Bn[G]=Bn[J]=Bn["[object Map]"]=Bn[X]=Bn[Z]=Bn[H]=Bn["[object Set]"]=Bn[Q]=Bn["[object WeakMap]"]=!1;var zn={};zn[P]=zn[K]=zn[nn]=zn[V]=zn[Y]=zn[tn]=zn[rn]=zn[en]=zn[un]=zn[on]=zn[X]=zn[Z]=zn[H]=zn[Q]=zn[fn]=zn[an]=zn[cn]=zn[ln]=!0,zn[G]=zn[J]=zn["[object Map]"]=zn["[object Set]"]=zn["[object WeakMap]"]=!1;var Dn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Mn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},qn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Pn={function:!0,object:!0},Kn={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Vn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yn=Pn[typeof r]&&r&&!r.nodeType&&r,Gn=Pn[typeof t]&&t&&!t.nodeType&&t,Jn=Yn&&Gn&&"object"==typeof global&&global&&global.Object&&global,Xn=Pn[typeof self]&&self&&self.Object&&self,Zn=Pn[typeof window]&&window&&window.Object&&window,Hn=Gn&&Gn.exports===Yn&&Yn,Qn=Jn||Zn!==(this&&this.window)&&Zn||Xn||this,nt=j();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Qn._=nt,define(function(){return nt})):Yn&&Gn?Hn?(Gn.exports=nt)._=nt:Yn._=nt:Qn._=nt}).call(this)});C.r("node_modules/nf-ardbeg/index.js",function(e,n,s){"use strict";n.exports=e("./lib")});C.r("node_modules/nf-ardbeg/lib/index.js",function(t,e,i){"use strict";function n(t){if(t.hasOwnProperty("_evaluatedTests"))return void(this._evaluatedTests=t._evaluatedTests);this._evaluatedTests={},this._init(t)}function s(t){r.forEach(t,function(t){if(a.hasOwnProperty(t.definition.meta.id)||a.hasOwnProperty(t.definition.meta.name)||!t.definition.meta.id||!t.definition.meta.name)throw new Error("Duplicate test definitions found!");a[t.definition.meta.id]=t,a[t.definition.meta.name]=t})}function o(t){return new n(t)}var r=t("lodash"),a={},l={attr:function(t){return t?!!(t&&this.attrs&&this.attrs.hasOwnProperty(t))&&this.attrs[t]:this.attrs},isExplicit:function(){return void 0!==this.explicit&&this.explicit},isImplicit:function(){return void 0!==this.explicit&&!this.explicit},in:function(){return!!this._allocated},attrs:{}};n.prototype._evaluatedTests=null,n.prototype._init=function(t){var e=this;r.forEach(t,function(t){e._evaluate(t)})},n.prototype._evaluate=function(t){var e,i,n=a[t.testId];n?(e=n.definition.cells[t.cellId],n.evaluateFeatures&&r.assign(e,n.evaluateFeatures(e)),i={id:n.definition.meta.id,cell:t.cellId,attrs:e,explicit:t.explicit}):i={id:t.testId,cell:t.cellId,attrs:{},explicit:t.explicit},t&&t.testId&&(this._evaluatedTests[t.testId]=i),n&&n.definition&&n.definition.meta&&n.definition.meta.name&&(this._evaluatedTests[n.definition.meta.name]=i)},n.prototype.implicitlyIn=function(t,e){return this.in(t,e,!0)},n.prototype.in=function(t,e,i){var n,s,o;return o=this._evaluatedTests[t],!!r.isObject(o)&&(!0===e&&2===arguments.length?(n=null,s=!0):(n=e,s=i),n?r.isArray(n)?this._inTestAndCells(o,n,s):this._inTestAndCell(o,n,s):this._inTest(o,s))},n.prototype.inControl=function(t,e){var i=this.getEvaluatedTest(t);return!!r.isObject(i)&&(e?i.attr("control")&&i.isImplicit():i.attr("control"))},n.prototype.implicitlyInControl=function(t){return this.inControl(t,!0)},n.prototype._inTest=function(t,e){return!0!==e||!1===t.explicit},n.prototype._inTestAndCell=function(t,e,i){return!0===i?t.cell===e&&!1===t.explicit:t.cell===e},n.prototype._inTestAndCells=function(t,e,i){return e.length>1&&r.contains(e,t.cell)},n.prototype.getEvaluatedTest=function(t){return r.isObject(this._evaluatedTests[t])?r.assign({_allocated:!0},l,this._evaluatedTests[t]):l},n.prototype.attr=function(t,e){var i=this._evaluatedTests[t];return i&&i.attrs&&i.attrs.hasOwnProperty(e)?i.attrs[e]:null},n.prototype.getDefinition=function(t){var e={};return t&&a.hasOwnProperty(t)?a[t].definition:(r.forEach(a,function(t,i){e[i]={definition:t.definition}}),e)},n.prototype.toJSON=function(){return{_evaluatedTests:this._evaluatedTests}},e.exports.installDefinitions=s,e.exports.evaluate=o});C.r("node_modules/nf-cl-logger/index.js",function(e,o,r){"use strict";o.exports=e("./src/logger")});C.r("node_modules/nf-cl-logger/src/logger-core.js",function(t,e,s){"use strict";function i(){this._init.apply(this,arguments)}var n=t("nf-cl-schema-ui"),a=Math.pow(2,28)-1,r=Math.pow(2,25);i.prototype={constructor:i,batchInterval:3e4,batchSize:50,timeOffset:0,requestSender:null,getClientTime:null,addContext:function(t,e){var s=this._initContext([t],e);return this._state.pending[s.id]=s,s.id},removeContext:function(t){return this._state.pending[t]?(delete this._state.pending[t],t):this._state.current[t]?(this._state.currentDelta.push(this._state.current[t]),delete this._state.current[t],t):null},logEvent:function(t,e){var s=this._initEventContext([t,"DiscreteEvent"],e);return this._snapshot(s),s.id},startSession:function(t,e){var s=this._initEventContext([t,"Session"],e);return this._state.current[s.id]=s,this._snapshot(),s.id},endSession:function(t,e){var s=this._state.current[t];if(s){var i=e&&e.type?[e.type,"SessionEnded"]:["SessionEnded"],n=this._initEventContext(i,e);return n.duration=n.time-s.time,n.sessionId=t,delete this._state.current[t],this._snapshot(n,s),t}return null},flush:function(){if(this._state.snapshots.length){var t={currentState:this._state.current,reverseDeltas:this._state.snapshots,type:"CompactConsolidatedLoggingEnvelope",version:2,clientSendTime:this._timestamp()};this._state.snapshots=[],this.requestSender(JSON.stringify(t))}},serialize:function(){var t=this._batchTimeout;this._batchTimeout=null;var e=JSON.stringify(this);return this._batchTimeout=t,e},sever:function(){for(var t=Object.keys(this._state.current),e=0;e<t.length;e++){var s=t[e],i=this._state.current[s];"Session"===i.type[i.type.length-1]&&this.endSession(s,{type:"SessionCanceled"})}this._end(),this.flush(),this._init(this,!0)},_init:function(t,e){t.existingState?this._restore(t.existingState):this._initState(t),this._initProperties(t),this._start(!!t.existingState,e)},_initState:function(t){var e={};e.sequenceNumber=0,e.lastIncrementingBits=0,e.schema=t.schema||n,e.source=t.source,e.pending={},e.current={},e.snapshots=[],e.currentDelta=[],e.randomBitsShift=r,e.incrementingBitsMask=a,this._state=e},_start:function(t,e){t||(this._state.logSessionId=this.startSession("Log",{source:this._state.source,schema:{name:this._state.schema.name,version:this._state.schema.version}})),e||this.logEvent("LoggerInitialized",{version:"1.5.1"}),this._queueNextBatch()},_end:function(){this.endSession(this._state.logSessionId),this._stopBatching()},_restore:function(t){for(var e=JSON.parse(t),s=Object.keys(e),i=0;i<s.length;i++){var n=s[i];this[n]=e[n]}},_initProperties:function(t){for(var e in this)"function"!=typeof this[e]&&t&&"_"!==e.charAt(0)&&(void 0!==t[e]?this[e]=t[e]:this[e]=this[e])},_copyData:function(t){var e={};for(var s in t)e[s]=t[s];return e},_initContext:function(t,e){var s;return s=e?this._copyData(e):{},this._state.schema&&this._state.schema.types[t[0]]?s.type=this._state.schema.types[t[0]]:s.type=t,s.id=this._getNextContextId(),s},_initEventContext:function(t,e){var s=this._initContext(t,e);return s.sequence=++this._state.sequenceNumber,void 0===s.time&&(s.time=this._timestamp()),s},_getClientTime:function(){return(new Date).getTime()},_timestamp:function(){return(this.getClientTime||this._getClientTime)()+this.timeOffset},_getNextContextId:function(){var t=Math.floor(this._timestamp()/1e3),e=this._state.incrementingBitsMask,s=this._state.randomBitsShift,i=t&e,n=Math.floor(Math.random()*s);return i<=this._state.lastIncrementingBits&&(i=this._state.lastIncrementingBits+1),this._state.lastIncrementingBits=i,i*s+n},_snapshot:function(t){for(var e=1,s=this._state.current,i=this._state.pending,n=Object.keys(i),a=0;a<n.length;a++){var r=n[a];s[r]=i[r],e++}this._state.pending={},this._state.currentDelta.push(e),this._state.currentDelta=[],this._state.snapshots.push(this._state.currentDelta),arguments.length&&this._state.currentDelta.push.apply(this._state.currentDelta,arguments),this._state.snapshots.length>=this.batchSize&&this.flush()},_queueNextBatch:function(){var t=this;t._batchTimeout=setTimeout(function(){t.flush(),t._queueNextBatch()},t.batchInterval)},_stopBatching:function(){clearTimeout(this._batchTimeout),this._batchTimeout=null}},e.exports=i});C.r("node_modules/nf-cl-logger/src/logger.js",function(e,o,n){"use strict";function r(e){var o=e||{};return o.version=o.version||"2.0",o.envelopeName=o.envelopeName||"CompactConsolidatedLoggingEnvelope",new g(o)}var g=e("./logger-core");o.exports=r});C.r("node_modules/nf-cl-schema-ui/nf-cl-schema-netflixApp.js",function(e,o,n){o.exports={version:"1.10.1",name:"netflixApp",types:{AcceptTermsOfUse:["AcceptTermsOfUse","Action","Session"],AdaptiveEcomFallbackExperience:["AdaptiveEcomFallbackExperience","FallbackExperience"],AddCachedVideo:["AddCachedVideo","Action","Session"],AddCachedVideoCommand:["AddCachedVideoCommand","Command","Session"],AddProfile:["AddProfile","Action","Session"],AddToPlaylist:["AddToPlaylist","Action","Session"],AddToPlaylistCommand:["AddToPlaylistCommand","Command","Session"],BackCommand:["BackCommand","Command","Session"],BoxartRenderCanceled:["BoxartRenderCanceled","BoxartRenderEnded","DiscreteEvent"],BoxartRenderFailed:["BoxartRenderFailed","BoxartRenderEnded","DiscreteEvent"],CachedPlay:["CachedPlay","Play","Action","Session"],CancelCommand:["CancelCommand","Command","Session"],ChangeValueCommand:["ChangeValueCommand","Command","Session"],CloseApp:["CloseApp","Action","Session"],CloseAppCommand:["CloseAppCommand","Command","Session"],CloseCommand:["CloseCommand","Command","Session"],ConnectWithLineAccount:["ConnectWithLineAccount","Action","Session"],CreateAccount:["CreateAccount","Action","Session"],DeepLinkInput:["DeepLinkInput","UserInput"],DeleteProfile:["DeleteProfile","Action","Session"],DirectedGestureInput:["DirectedGestureInput","GestureInput","UserInput"],Download:["Download","Action","Session"],EditPaymentCommand:["EditPaymentCommand","Command","Session"],EditPlanCommand:["EditPlanCommand","Command","Session"],EditProfile:["EditProfile","Action","Session"],EnterFullscreenCommand:["EnterFullscreenCommand","Command","Session"],ExitFullscreenCommand:["ExitFullscreenCommand","Command","Session"],FastForwardCommand:["FastForwardCommand","TrickplayCommand","Command","Session"],ForwardCommand:["ForwardCommand","Command","Session"],GestureInput:["GestureInput","UserInput"],HomeCommand:["HomeCommand","Command","Session"],KeyboardInput:["KeyboardInput","UserInput"],MobileConnection:["MobileConnection","NetworkConnection"],MuteCommand:["MuteCommand","Command","Session"],Navigate:["Navigate","Action","Session"],NavigateBackward:["NavigateBackward","Navigate","Action","Session"],NavigateForward:["NavigateForward","Navigate","Action","Session"],NetflixId:["NetflixId","ProfileIdentity","Session"],NotifyUms:["NotifyUms","Action","Session"],PauseCommand:["PauseCommand","TrickplayCommand","Command","Session"],PauseDownloadCommand:["PauseDownloadCommand","Command","Session"],Play:["Play","Action","Session"],PlayCommand:["PlayCommand","Command","Session"],PlayNextCommand:["PlayNextCommand","Command","Session"],PointerInput:["PointerInput","UserInput"],PrepareOnramp:["PrepareOnramp","Action","Session"],PreparePlay:["PreparePlay","Action","Session"],ProcessStateTransition:["ProcessStateTransition","Action","Session"],PushNotificationAcknowledged:["PushNotificationAcknowledged","PushNotificationResolved","DiscreteEvent"],PushNotificationDismissed:["PushNotificationDismissed","PushNotificationAcknowledged","PushNotificationResolved","DiscreteEvent"],PushNotificationIgnored:["PushNotificationIgnored","PushNotificationResolved","DiscreteEvent"],RedeemGiftCard:["RedeemGiftCard","Action","Session"],RedeemGiftCardCommand:["RedeemGiftCardCommand","Command","Session"],RegisterForPushNotifications:["RegisterForPushNotifications","Action","Session"],RemoveAllCachedVideosCommand:["RemoveAllCachedVideosCommand","Command","Session"],RemoveCachedVideo:["RemoveCachedVideo","Action","Session"],RemoveCachedVideoAndPlayNextCommand:["RemoveCachedVideoAndPlayNextCommand","Command","Session"],RemoveCachedVideoCommand:["RemoveCachedVideoCommand","Command","Session"],RemoveDownloadDevice:["RemoveDownloadDevice","Action","Session"],RemoveFromPlaylist:["RemoveFromPlaylist","Action","Session"],RemoveFromPlaylistCommand:["RemoveFromPlaylistCommand","Command","Session"],RenderNavigationLevel:["RenderNavigationLevel","Action","Session"],RequestSharedCredentials:["RequestSharedCredentials","Action","Session"],ResumeDownloadCommand:["ResumeDownloadCommand","Command","Session"],RetryDownloadCommand:["RetryDownloadCommand","Command","Session"],RewindCommand:["RewindCommand","TrickplayCommand","Command","Session"],Search:["Search","Action","Session"],SearchCommand:["SearchCommand","Command","Session"],SeekCommand:["SeekCommand","TrickplayCommand","Command","Session"],SelectCommand:["SelectCommand","Command","Session"],SelectPlan:["SelectPlan","Action","Session"],SelectProfile:["SelectProfile","Action","Session"],SetStarRating:["SetStarRating","Action","Session"],SetThumbRating:["SetThumbRating","Action","Session"],SeveredForVppa:["SeveredForVppa","Severed"],SeveredForWebpageUnload:["SeveredForWebpageUnload","Severed"],Share:["Share","Action","Session"],ShareCommand:["ShareCommand","Command","Session"],SignIn:["SignIn","Action","Session"],SignInCommand:["SignInCommand","Command","Session"],SignOut:["SignOut","Action","Session"],SignOutCommand:["SignOutCommand","Command","Session"],SignUpCommand:["SignUpCommand","Command","Session"],SkipAheadCommand:["SkipAheadCommand","TrickplayCommand","Command","Session"],SkipBackCommand:["SkipBackCommand","TrickplayCommand","Command","Session"],SkipCommand:["SkipCommand","Command","Session"],StartAppExperience:["StartAppExperience","Action","Session"],StartMembership:["StartMembership","Action","Session"],StartMembershipCommand:["StartMembershipCommand","Command","Session"],StartPlay:["StartPlay","Action","Session"],SubmitCommand:["SubmitCommand","Command","Session"],SubmitOnrampResults:["SubmitOnrampResults","Action","Session"],ThrottleSearch:["ThrottleSearch","Action","Session"],UnmuteCommand:["UnmuteCommand","Command","Session"],UnpauseCommand:["UnpauseCommand","TrickplayCommand","Command","Session"],UpdatePaymentInfo:["UpdatePaymentInfo","Action","Session"],ValidateInput:["ValidateInput","Action","Session"],ValidateMemberId:["ValidateMemberId","Action","Session"],ValidatePin:["ValidatePin","Action","Session"],ViewAudioSubtitlesSelectorCommand:["ViewAudioSubtitlesSelectorCommand","Command","Session"],ViewCachedVideosCommand:["ViewCachedVideosCommand","Command","Session"],ViewDetailsCommand:["ViewDetailsCommand","Command","Session"],ViewEpisodesSelectorCommand:["ViewEpisodesSelectorCommand","Command","Session"],VisitorDeviceId:["VisitorDeviceId","AccountIdentity","Session"],VoiceInput:["VoiceInput","UserInput"],WifiConnection:["WifiConnection","NetworkConnection"],WiredConnection:["WiredConnection","NetworkConnection"],"edx.AtlasQueryAPI":["edx.AtlasQueryAPI","Action","Session"],"edx.ChronosAPI":["edx.ChronosAPI","Action","Session"],"edx.CommandLineInterface":["edx.CommandLineInterface","Action","Session"],"edx.ElasticSearchAPI":["edx.ElasticSearchAPI","Action","Session"],"edx.GitAPI":["edx.GitAPI","Action","Session"],"edx.HttpAction":["edx.HttpAction","Action","Session"],"edx.MantisAPI":["edx.MantisAPI","Action","Session"],"edx.NQIndexAPI":["edx.NQIndexAPI","Action","Session"],"edx.PrimerAPI":["edx.PrimerAPI","Action","Session"],"edx.PrimerIndexAPI":["edx.PrimerIndexAPI","Action","Session"],"edx.RavenAPI":["edx.RavenAPI","Action","Session"],"edx.SkipperAPI":["edx.SkipperAPI","Action","Session"],"edx.SpinnakerAPI":["edx.SpinnakerAPI","Action","Session"],"iko.EndCommand":["iko.EndCommand","Command","Session"],"iko.EnterBattleCommand":["iko.EnterBattleCommand","Command","Session"],"iko.Presentation":["iko.Presentation","Presentation","Session"],"ios.DeepLinkInput":["ios.DeepLinkInput","UserInput"],"ios.LoadConfigurationService":["ios.LoadConfigurationService","Action","Session"],"ios.LoadDownloadService":["ios.LoadDownloadService","Action","Session"],"ios.LoadIdentityService":["ios.LoadIdentityService","Action","Session"],"ios.LoadNrdService":["ios.LoadNrdService","Action","Session"],"ios.RegisterForPushNotifications":["ios.RegisterForPushNotifications","Action","Session"],"tvui.MetadataDownloadPlayDelay":["tvui.MetadataDownloadPlayDelay","tvui.PlayDelay","Session"],"tvui.PlatformPlayDelay":["tvui.PlatformPlayDelay","tvui.PlayDelay","Session"],"tvui.RequestImeCandidateList":["tvui.RequestImeCandidateList","Action","Session"],"tvui.UiPlayDelay":["tvui.UiPlayDelay","tvui.PlayDelay","Session"],"tvui.VideoPresentationPlayDelay":["tvui.VideoPresentationPlayDelay","tvui.PlayDelay","Session"]}}});C.r("node_modules/object-assign/index.js",function(r,e,t){"use strict";function n(r){if(null===r||void 0===r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}var o=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(r){return e[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}}()?Object.assign:function(r,e){for(var t,a,s=n(r),f=1;f<arguments.length;f++){t=Object(arguments[f]);for(var u in t)c.call(t,u)&&(s[u]=t[u]);if(o){a=o(t);for(var b=0;b<a.length;b++)i.call(t,a[b])&&(s[a[b]]=t[a[b]])}}return s}});C.r("node_modules/path-to-regexp/index.js",function(e,t,r){function n(e,t){for(var r,n=[],o=0,i=0,a="",p=t&&t.delimiter||"/";null!=(r=m.exec(e));){var c=r[0],f=r[1],s=r.index;if(a+=e.slice(i,s),i=s+c.length,f)a+=f[1];else{var g=e[i],h=r[2],x=r[3],d=r[4],v=r[5],w=r[6],E=r[7];a&&(n.push(a),a="");var y=null!=h&&null!=g&&g!==h,R="+"===w||"*"===w,$="?"===w||"*"===w,b=r[2]||p,T=d||v;n.push({name:x||o++,prefix:h||"",delimiter:b,optional:$,repeat:R,partial:y,asterisk:!!E,pattern:T?l(T):E?".*":"[^"+u(b)+"]+?"})}}return i<e.length&&(a+=e.substr(i)),a&&n.push(a),n}function o(e,t){return p(n(e,t))}function i(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function a(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function p(e){for(var t=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(t[r]=new RegExp("^(?:"+e[r].pattern+")$"));return function(r,n){for(var o="",p=r||{},u=n||{},l=u.pretty?i:encodeURIComponent,c=0;c<e.length;c++){var f=e[c];if("string"!=typeof f){var s,g=p[f.name];if(null==g){if(f.optional){f.partial&&(o+=f.prefix);continue}throw new TypeError('Expected "'+f.name+'" to be defined')}if(v(g)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(g)+"`");if(0===g.length){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var h=0;h<g.length;h++){if(s=l(g[h]),!t[c].test(s))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(s)+"`");o+=(0===h?f.prefix:f.delimiter)+s}}else{if(s=f.asterisk?a(g):l(g),!t[c].test(s))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+s+'"');o+=f.prefix+s}}else o+=f}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function f(e){return e.sensitive?"":"i"}function s(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}function g(e,t,r){for(var n=[],o=0;o<e.length;o++)n.push(d(e[o],t,r).source);return c(new RegExp("(?:"+n.join("|")+")",f(r)),t)}function h(e,t,r){return x(n(e,r),t,r)}function x(e,t,r){v(t)||(r=t||r,t=[]),r=r||{};for(var n=r.strict,o=!1!==r.end,i="",a=0;a<e.length;a++){var p=e[a];if("string"==typeof p)i+=u(p);else{var l=u(p.prefix),s="(?:"+p.pattern+")";t.push(p),p.repeat&&(s+="(?:"+l+s+")*"),s=p.optional?p.partial?l+"("+s+")?":"(?:"+l+"("+s+"))?":l+"("+s+")",i+=s}}var g=u(r.delimiter||"/"),h=i.slice(-g.length)===g;return n||(i=(h?i.slice(0,-g.length):i)+"(?:"+g+"(?=$))?"),i+=o?"$":n&&h?"":"(?="+g+"|$)",c(new RegExp("^"+i,f(r)),t)}function d(e,t,r){return v(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?s(e,t):v(e)?g(e,t,r):h(e,t,r)}var v=e("isarray");t.exports=d,t.exports.parse=n,t.exports.compile=o,t.exports.tokensToFunction=p,t.exports.tokensToRegExp=x;var m=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")});C.r("node_modules/prop-types/checkPropTypes.js",function(e,o,s){"use strict";function p(e,o,s,p,t){}o.exports=p});C.r("node_modules/prop-types/factoryWithThrowingShims.js",function(e,t,o){"use strict";var r=e("fbjs/lib/emptyFunction"),n=e("fbjs/lib/invariant");t.exports=function(){function e(){n(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return o.checkPropTypes=r,o.PropTypes=o,o}});C.r("node_modules/prop-types/factoryWithTypeCheckers.js",function(e,n,r){"use strict";var t=e("fbjs/lib/emptyFunction"),o=e("fbjs/lib/invariant"),i=e("fbjs/lib/warning"),u=e("./lib/ReactPropTypesSecret"),a=e("./checkPropTypes");n.exports=function(e,n){function r(e){var n=e&&(P&&e[P]||e[R]);if("function"==typeof n)return n}function f(e,n){return e===n?0!==e||1/e==1/n:e!==e&&n!==n}function c(e){this.message=e,this.stack=""}function l(e){function r(r,t,i,a,f,l,s){if(a=a||k,l=l||i,s!==u)if(n)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==t[i]?r?new c(null===t[i]?"The "+f+" `"+l+"` is marked as required in `"+a+"`, but its value is `null`.":"The "+f+" `"+l+"` is marked as required in `"+a+"`, but its value is `undefined`."):null:e(t,i,a,f,l)}var t=r.bind(null,!1);return t.isRequired=r.bind(null,!0),t}function s(e){function n(n,r,t,o,i,u){var a=n[r];if(x(a)!==e)return new c("Invalid "+o+" `"+i+"` of type `"+j(a)+"` supplied to `"+t+"`, expected `"+e+"`.");return null}return l(n)}function p(e){function n(n,r,t,o,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+t+"` has invalid PropType notation inside arrayOf.");var a=n[r];if(!Array.isArray(a)){return new c("Invalid "+o+" `"+i+"` of type `"+x(a)+"` supplied to `"+t+"`, expected an array.")}for(var f=0;f<a.length;f++){var l=e(a,f,t,o,i+"["+f+"]",u);if(l instanceof Error)return l}return null}return l(n)}function y(e){function n(n,r,t,o,i){if(!(n[r]instanceof e)){var u=e.name||k;return new c("Invalid "+o+" `"+i+"` of type `"+T(n[r])+"` supplied to `"+t+"`, expected instance of `"+u+"`.")}return null}return l(n)}function d(e){function n(n,r,t,o,i){for(var u=n[r],a=0;a<e.length;a++)if(f(u,e[a]))return null;return new c("Invalid "+o+" `"+i+"` of value `"+u+"` supplied to `"+t+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?l(n):t.thatReturnsNull}function v(e){function n(n,r,t,o,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+t+"` has invalid PropType notation inside objectOf.");var a=n[r],f=x(a);if("object"!==f)return new c("Invalid "+o+" `"+i+"` of type `"+f+"` supplied to `"+t+"`, expected an object.");for(var l in a)if(a.hasOwnProperty(l)){var s=e(a,l,t,o,i+"."+l,u);if(s instanceof Error)return s}return null}return l(n)}function b(e){function n(n,r,t,o,i){for(var a=0;a<e.length;a++){if(null==(0,e[a])(n,r,t,o,i,u))return null}return new c("Invalid "+o+" `"+i+"` supplied to `"+t+"`.")}if(!Array.isArray(e))return t.thatReturnsNull;for(var r=0;r<e.length;r++){var o=e[r];if("function"!=typeof o)return i(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",w(o),r),t.thatReturnsNull}return l(n)}function m(e){function n(n,r,t,o,i){var a=n[r],f=x(a);if("object"!==f)return new c("Invalid "+o+" `"+i+"` of type `"+f+"` supplied to `"+t+"`, expected `object`.");for(var l in e){var s=e[l];if(s){var p=s(a,l,t,o,i+"."+l,u);if(p)return p}}return null}return l(n)}function h(n){switch(typeof n){case"number":case"string":case"undefined":return!0;case"boolean":return!n;case"object":if(Array.isArray(n))return n.every(h);if(null===n||e(n))return!0;var t=r(n);if(!t)return!1;var o,i=t.call(n);if(t!==n.entries){for(;!(o=i.next()).done;)if(!h(o.value))return!1}else for(;!(o=i.next()).done;){var u=o.value;if(u&&!h(u[1]))return!1}return!0;default:return!1}}function g(e,n){return"symbol"===e||("Symbol"===n["@@toStringTag"]||"function"==typeof Symbol&&n instanceof Symbol)}function x(e){var n=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":g(n,e)?"symbol":n}function j(e){if(void 0===e||null===e)return""+e;var n=x(e);if("object"===n){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return n}function w(e){var n=j(e);switch(n){case"array":case"object":return"an "+n;case"boolean":case"date":case"regexp":return"a "+n;default:return n}}function T(e){return e.constructor&&e.constructor.name?e.constructor.name:k}var P="function"==typeof Symbol&&Symbol.iterator,R="@@iterator",k="<<anonymous>>",A={array:s("array"),bool:s("boolean"),func:s("function"),number:s("number"),object:s("object"),string:s("string"),symbol:s("symbol"),any:function(){return l(t.thatReturnsNull)}(),arrayOf:p,element:function(){function n(n,r,t,o,i){var u=n[r];if(!e(u)){return new c("Invalid "+o+" `"+i+"` of type `"+x(u)+"` supplied to `"+t+"`, expected a single ReactElement.")}return null}return l(n)}(),instanceOf:y,node:function(){function e(e,n,r,t,o){return h(e[n])?null:new c("Invalid "+t+" `"+o+"` supplied to `"+r+"`, expected a ReactNode.")}return l(e)}(),objectOf:v,oneOf:d,oneOfType:b,shape:m};return c.prototype=Error.prototype,A.checkPropTypes=a,A.PropTypes=A,A}});C.r("node_modules/prop-types/index.js",function(o,e,i){e.exports=o("./factoryWithThrowingShims")()});C.r("node_modules/prop-types/lib/ReactPropTypesSecret.js",function(_,e,s){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"});C.r("node_modules/qs/lib/index.js",function(s,i,r){var e=s("./stringify"),n=s("./parse");i.exports={stringify:e,parse:n}});C.r("node_modules/qs/lib/parse.js",function(e,t,r){var a=e("./utils"),l={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1};l.parseValues=function(e,t){for(var r={},l=e.split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),i=0,o=l.length;i<o;++i){var s=l[i],n=-1===s.indexOf("]=")?s.indexOf("="):s.indexOf("]=")+1;if(-1===n)r[a.decode(s)]="",t.strictNullHandling&&(r[a.decode(s)]=null);else{var p=a.decode(s.slice(0,n)),c=a.decode(s.slice(n+1));Object.prototype.hasOwnProperty.call(r,p)?r[p]=[].concat(r[p]).concat(c):r[p]=c}}return r},l.parseObject=function(e,t,r){if(!e.length)return t;var a,i=e.shift();if("[]"===i)a=[],a=a.concat(l.parseObject(e,t,r));else{a=r.plainObjects?Object.create(null):{};var o="["===i[0]&&"]"===i[i.length-1]?i.slice(1,i.length-1):i,s=parseInt(o,10),n=""+s;!isNaN(s)&&i!==o&&n===o&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(a=[],a[s]=l.parseObject(e,t,r)):a[o]=l.parseObject(e,t,r)}return a},l.parseKeys=function(e,t,r){if(e){r.allowDots&&(e=e.replace(/\.([^\.\[]+)/g,"[$1]"));var a=/^([^\[\]]*)/,i=/(\[[^\[\]]*\])/g,o=a.exec(e),s=[];if(o[1]){if(!r.plainObjects&&Object.prototype.hasOwnProperty(o[1])&&!r.allowPrototypes)return;s.push(o[1])}for(var n=0;null!==(o=i.exec(e))&&n<r.depth;)++n,(r.plainObjects||!Object.prototype.hasOwnProperty(o[1].replace(/\[|\]/g,""))||r.allowPrototypes)&&s.push(o[1]);return o&&s.push("["+e.slice(o.index)+"]"),l.parseObject(s,t,r)}},t.exports=function(e,t){if(t=t||{},t.delimiter="string"==typeof t.delimiter||a.isRegExp(t.delimiter)?t.delimiter:l.delimiter,t.depth="number"==typeof t.depth?t.depth:l.depth,t.arrayLimit="number"==typeof t.arrayLimit?t.arrayLimit:l.arrayLimit,t.parseArrays=!1!==t.parseArrays,t.allowDots="boolean"==typeof t.allowDots?t.allowDots:l.allowDots,t.plainObjects="boolean"==typeof t.plainObjects?t.plainObjects:l.plainObjects,t.allowPrototypes="boolean"==typeof t.allowPrototypes?t.allowPrototypes:l.allowPrototypes,t.parameterLimit="number"==typeof t.parameterLimit?t.parameterLimit:l.parameterLimit,t.strictNullHandling="boolean"==typeof t.strictNullHandling?t.strictNullHandling:l.strictNullHandling,""===e||null===e||void 0===e)return t.plainObjects?Object.create(null):{};for(var r="string"==typeof e?l.parseValues(e,t):e,i=t.plainObjects?Object.create(null):{},o=Object.keys(r),s=0,n=o.length;s<n;++s){var p=o[s],c=l.parseKeys(p,r[p],t);i=a.merge(i,c,t)}return a.compact(i)}});C.r("node_modules/qs/lib/stringify.js",function(r,e,i){var n=r("./utils"),t={delimiter:"&",arrayPrefixGenerators:{brackets:function(r,e){return r+"[]"},indices:function(r,e){return r+"["+e+"]"},repeat:function(r,e){return r}},strictNullHandling:!1,skipNulls:!1,encode:!0};t.stringify=function(r,e,i,o,l,a,s,f){if("function"==typeof s)r=s(e,r);else if(n.isBuffer(r))r=r.toString();else if(r instanceof Date)r=r.toISOString();else if(null===r){if(o)return a?n.encode(e):e;r=""}if("string"==typeof r||"number"==typeof r||"boolean"==typeof r)return a?[n.encode(e)+"="+n.encode(r)]:[e+"="+r];var c=[];if(void 0===r)return c;var u;if(Array.isArray(s))u=s;else{var y=Object.keys(r);u=f?y.sort(f):y}for(var d=0,p=u.length;d<p;++d){var g=u[d];l&&null===r[g]||(c=Array.isArray(r)?c.concat(t.stringify(r[g],i(e,g),i,o,l,a,s)):c.concat(t.stringify(r[g],e+"["+g+"]",i,o,l,a,s)))}return c},e.exports=function(r,e){e=e||{};var i,n,o=void 0===e.delimiter?t.delimiter:e.delimiter,l="boolean"==typeof e.strictNullHandling?e.strictNullHandling:t.strictNullHandling,a="boolean"==typeof e.skipNulls?e.skipNulls:t.skipNulls,s="boolean"==typeof e.encode?e.encode:t.encode,f="function"==typeof e.sort?e.sort:null;"function"==typeof e.filter?(n=e.filter,r=n("",r)):Array.isArray(e.filter)&&(i=n=e.filter);var c=[];if("object"!=typeof r||null===r)return"";var u;u=e.arrayFormat in t.arrayPrefixGenerators?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":"indices";var y=t.arrayPrefixGenerators[u];i||(i=Object.keys(r)),f&&i.sort(f);for(var d=0,p=i.length;d<p;++d){var g=i[d];a&&null===r[g]||(c=c.concat(t.stringify(r[g],g,y,l,a,s,n,f)))}return c.join(o)}});C.r("node_modules/qs/lib/utils.js",function(e,r,t){var n={};n.hexTable=new Array(256);for(var o=0;o<256;++o)n.hexTable[o]="%"+((o<16?"0":"")+o.toString(16)).toUpperCase();t.arrayToObject=function(e,r){for(var t=r.plainObjects?Object.create(null):{},n=0,o=e.length;n<o;++n)void 0!==e[n]&&(t[n]=e[n]);return t},t.merge=function(e,r,n){if(!r)return e;if("object"!=typeof r)return Array.isArray(e)?e.push(r):"object"==typeof e?e[r]=!0:e=[e,r],e;if("object"!=typeof e)return e=[e].concat(r);Array.isArray(e)&&!Array.isArray(r)&&(e=t.arrayToObject(e,n));for(var o=Object.keys(r),a=0,c=o.length;a<c;++a){var u=o[a],f=r[u];Object.prototype.hasOwnProperty.call(e,u)?e[u]=t.merge(e[u],f,n):e[u]=f}return e},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(r){return e}},t.encode=function(e){if(0===e.length)return e;"string"!=typeof e&&(e=""+e);for(var r="",t=0,o=e.length;t<o;++t){var a=e.charCodeAt(t);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?r+=e[t]:a<128?r+=n.hexTable[a]:a<2048?r+=n.hexTable[192|a>>6]+n.hexTable[128|63&a]:a<55296||a>=57344?r+=n.hexTable[224|a>>12]+n.hexTable[128|a>>6&63]+n.hexTable[128|63&a]:(++t,a=65536+((1023&a)<<10|1023&e.charCodeAt(t)),r+=n.hexTable[240|a>>18]+n.hexTable[128|a>>12&63]+n.hexTable[128|a>>6&63]+n.hexTable[128|63&a])}return r},t.compact=function(e,r){if("object"!=typeof e||null===e)return e;r=r||[];var n=r.indexOf(e);if(-1!==n)return r[n];if(r.push(e),Array.isArray(e)){for(var o=[],a=0,c=e.length;a<c;++a)void 0!==e[a]&&o.push(e[a]);return o}var u=Object.keys(e);for(a=0,c=u.length;a<c;++a){var f=u[a];e[f]=t.compact(e[f],r)}return e},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}});C.r("node_modules/react-dom/index.js",function(e,t,o){"use strict";t.exports=e("./lib/ReactDOM")});C.r("node_modules/react-dom/lib/ARIADOMPropertyConfig.js",function(a,r,i){"use strict";var e={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};r.exports=e});C.r("node_modules/react-dom/lib/AutoFocusUtils.js",function(o,e,t){"use strict";var s=o("./ReactDOMComponentTree"),n=o("fbjs/lib/focusNode"),c={focusDOMComponent:function(){n(s.getNodeFromInstance(this))}};e.exports=c});C.r("node_modules/react-dom/lib/BeforeInputEventPlugin.js",function(t,o,e){"use strict";function n(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function r(t){switch(t){case"topCompositionStart":return U.compositionStart;case"topCompositionEnd":return U.compositionEnd;case"topCompositionUpdate":return U.compositionUpdate}}function i(t,o){return"topKeyDown"===t&&o.keyCode===h}function p(t,o){switch(t){case"topKeyUp":return-1!==w.indexOf(o.keyCode);case"topKeyDown":return o.keyCode!==h;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function a(t){var o=t.detail;return"object"==typeof o&&"data"in o?o.data:null}function s(t,o,e,n){var s,u;if(v?s=r(t):S?p(t,e)&&(s=U.compositionEnd):i(t,e)&&(s=U.compositionStart),!s)return null;b&&(S||s!==U.compositionStart?s===U.compositionEnd&&S&&(u=S.getData()):S=f.getPooled(n));var c=C.getPooled(s,o,e,n);if(u)c.data=u;else{var d=a(e);null!==d&&(c.data=d)}return l.accumulateTwoPhaseDispatches(c),c}function u(t,o){switch(t){case"topCompositionEnd":return a(o);case"topKeyPress":return o.which!==D?null:(g=!0,P);case"topTextInput":var e=o.data;return e===P&&g?null:e;default:return null}}function c(t,o){if(S){if("topCompositionEnd"===t||!v&&p(t,o)){var e=S.getData();return f.release(S),S=null,e}return null}switch(t){case"topPaste":return null;case"topKeyPress":return o.which&&!n(o)?String.fromCharCode(o.which):null;case"topCompositionEnd":return b?null:o.data;default:return null}}function d(t,o,e,n){var r;if(!(r=K?u(t,e):c(t,e)))return null;var i=y.getPooled(U.beforeInput,o,e,n);return i.data=r,l.accumulateTwoPhaseDispatches(i),i}var l=t("./EventPropagators"),m=t("fbjs/lib/ExecutionEnvironment"),f=t("./FallbackCompositionState"),C=t("./SyntheticCompositionEvent"),y=t("./SyntheticInputEvent"),w=[9,13,27,32],h=229,v=m.canUseDOM&&"CompositionEvent"in window,E=null;m.canUseDOM&&"documentMode"in document&&(E=document.documentMode);var K=m.canUseDOM&&"TextEvent"in window&&!E&&!function(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}(),b=m.canUseDOM&&(!v||E&&E>8&&E<=11),D=32,P=String.fromCharCode(D),U={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},g=!1,S=null,M={eventTypes:U,extractEvents:function(t,o,e,n){return[s(t,o,e,n),d(t,o,e,n)]}};o.exports=M});C.r("node_modules/react-dom/lib/CSSProperty.js",function(o,r,t){"use strict";function e(o,r){return o+r.charAt(0).toUpperCase()+r.substring(1)}var i={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(o){n.forEach(function(r){i[e(r,o)]=i[o]})});var d={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:i,shorthandPropertyExpansions:d};r.exports=a});C.r("node_modules/react-dom/lib/CSSPropertyOperations.js",function(e,t,r){"use strict";var n=e("./CSSProperty"),a=e("fbjs/lib/ExecutionEnvironment"),o=(e("./ReactInstrumentation"),e("fbjs/lib/camelizeStyleName"),e("./dangerousStyleValue")),s=e("fbjs/lib/hyphenateStyleName"),l=e("fbjs/lib/memoizeStringOnly"),i=(e("fbjs/lib/warning"),l(function(e){return s(e)})),f=!1,c="cssFloat";if(a.canUseDOM){var u=document.createElement("div").style;try{u.font=""}catch(e){f=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var y={createMarkupForStyles:function(e,t){var r="";for(var n in e)if(e.hasOwnProperty(n)){var a=0===n.indexOf("--"),s=e[n];null!=s&&(r+=i(n)+":",r+=o(n,s,t,a)+";")}return r||null},setValueForStyles:function(e,t,r){var a=e.style;for(var s in t)if(t.hasOwnProperty(s)){var l=0===s.indexOf("--"),i=o(s,t[s],r,l);if("float"!==s&&"cssFloat"!==s||(s=c),l)a.setProperty(s,i);else if(i)a[s]=i;else{var u=f&&n.shorthandPropertyExpansions[s];if(u)for(var y in u)a[y]="";else a[s]=""}}}};t.exports=y});C.r("node_modules/react-dom/lib/CallbackQueue.js",function(t,n,s){"use strict";function l(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var c=t("./reactProdInvariant"),o=t("./PooledClass"),i=(t("fbjs/lib/invariant"),function(){function t(n){l(this,t),this._callbacks=null,this._contexts=null,this._arg=n}return t.prototype.enqueue=function(t,n){this._callbacks=this._callbacks||[],this._callbacks.push(t),this._contexts=this._contexts||[],this._contexts.push(n)},t.prototype.notifyAll=function(){var t=this._callbacks,n=this._contexts,s=this._arg;if(t&&n){t.length!==n.length&&c("24"),this._callbacks=null,this._contexts=null;for(var l=0;l<t.length;l++)t[l].call(n[l],s);t.length=0,n.length=0}},t.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},t.prototype.rollback=function(t){this._callbacks&&this._contexts&&(this._callbacks.length=t,this._contexts.length=t)},t.prototype.reset=function(){this._callbacks=null,this._contexts=null},t.prototype.destructor=function(){this.reset()},t}());n.exports=o.addPoolingTo(i)});C.r("node_modules/react-dom/lib/ChangeEventPlugin.js",function(e,t,n){"use strict";function o(e,t,n){var o=P.getPooled(_.change,e,t,n);return o.type="change",w.accumulateTwoPhaseDispatches(o),o}function u(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function a(e){var t=o(k,e,I(e));M.batchedUpdates(r,t)}function r(e){b.enqueueEvents(e),b.processEventQueue(!1)}function c(e,t){x=e,k=t,x.attachEvent("onchange",a)}function i(){x&&(x.detachEvent("onchange",a),x=null,k=null)}function p(e,t){var n=D.updateValueIfChanged(e),o=!0===t.simulated&&K._allowSimulatedPassThrough;if(n||o)return e}function l(e,t){if("topChange"===e)return t}function d(e,t,n){"topFocus"===e?(i(),c(t,n)):"topBlur"===e&&i()}function s(e,t){x=e,k=t,x.attachEvent("onpropertychange",v)}function f(){x&&(x.detachEvent("onpropertychange",v),x=null,k=null)}function v(e){"value"===e.propertyName&&p(k,e)&&a(e)}function h(e,t,n){"topFocus"===e?(f(),s(t,n)):"topBlur"===e&&f()}function g(e,t,n){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return p(k,n)}function m(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function E(e,t,n){if("topClick"===e)return p(t,n)}function C(e,t,n){if("topInput"===e||"topChange"===e)return p(t,n)}function y(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;if(n&&n.controlled&&"number"===t.type){var o=""+t.value;t.getAttribute("value")!==o&&t.setAttribute("value",o)}}}var b=e("./EventPluginHub"),w=e("./EventPropagators"),S=e("fbjs/lib/ExecutionEnvironment"),T=e("./ReactDOMComponentTree"),M=e("./ReactUpdates"),P=e("./SyntheticEvent"),D=e("./inputValueTracking"),I=e("./getEventTarget"),N=e("./isEventSupported"),U=e("./isTextInputElement"),_={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},x=null,k=null,B=!1;S.canUseDOM&&(B=N("change")&&(!document.documentMode||document.documentMode>8));var F=!1;S.canUseDOM&&(F=N("input")&&(!("documentMode"in document)||document.documentMode>9));var K={eventTypes:_,_allowSimulatedPassThrough:!0,_isInputEventSupported:F,extractEvents:function(e,t,n,a){var r,c,i=t?T.getNodeFromInstance(t):window;if(u(i)?B?r=l:c=d:U(i)?F?r=C:(r=g,c=h):m(i)&&(r=E),r){var p=r(e,t,n);if(p){return o(p,n,a)}}c&&c(e,i,t),"topBlur"===e&&y(t,i)}};t.exports=K});C.r("node_modules/react-dom/lib/DOMChildrenOperations.js",function(e,r,n){"use strict";function t(e,r){return Array.isArray(r)&&(r=r[1]),r?r.nextSibling:e.firstChild}function o(e,r,n){d.insertTreeBefore(e,r,n)}function a(e,r,n){Array.isArray(r)?c(e,r[0],r[1],n):p(e,r,n)}function i(e,r){if(Array.isArray(r)){var n=r[1];r=r[0],s(e,r,n),e.removeChild(n)}e.removeChild(r)}function c(e,r,n,t){for(var o=r;;){var a=o.nextSibling;if(p(e,o,t),o===n)break;o=a}}function s(e,r,n){for(;;){var t=r.nextSibling;if(t===n)break;e.removeChild(t)}}function f(e,r,n){var t=e.parentNode,o=e.nextSibling;o===r?n&&p(t,document.createTextNode(n),o):n?(N(o,n),s(t,o,r)):s(t,e,r)}var d=e("./DOMLazyTree"),u=e("./Danger"),l=(e("./ReactDOMComponentTree"),e("./ReactInstrumentation"),e("./createMicrosoftUnsafeLocalFunction")),T=e("./setInnerHTML"),N=e("./setTextContent"),p=l(function(e,r,n){e.insertBefore(r,n)}),b=u.dangerouslyReplaceNodeWithMarkup,m={dangerouslyReplaceNodeWithMarkup:b,replaceDelimitedText:f,processUpdates:function(e,r){for(var n=0;n<r.length;n++){var c=r[n];switch(c.type){case"INSERT_MARKUP":o(e,c.content,t(e,c.afterNode));break;case"MOVE_EXISTING":a(e,c.fromNode,t(e,c.afterNode));break;case"SET_MARKUP":T(e,c.content);break;case"TEXT_CONTENT":N(e,c.content);break;case"REMOVE_NODE":i(e,c.fromNode)}}}};r.exports=m});C.r("node_modules/react-dom/lib/DOMLazyTree.js",function(e,n,t){"use strict";function o(e){if(m){var n=e.node,t=e.children;if(t.length)for(var o=0;o<t.length;o++)p(n,t[o],null);else null!=e.html?s(n,e.html):null!=e.text&&h(n,e.text)}}function d(e,n){e.parentNode.replaceChild(n.node,e),o(n)}function r(e,n){m?e.children.push(n):e.node.appendChild(n.node)}function u(e,n){m?e.html=n:s(e.node,n)}function i(e,n){m?e.text=n:h(e.node,n)}function l(){return this.node.nodeName}function a(e){return{node:e,children:[],html:null,text:null,toString:l}}var c=e("./DOMNamespaces"),s=e("./setInnerHTML"),f=e("./createMicrosoftUnsafeLocalFunction"),h=e("./setTextContent"),m="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),p=f(function(e,n,t){11===n.node.nodeType||1===n.node.nodeType&&"object"===n.node.nodeName.toLowerCase()&&(null==n.node.namespaceURI||n.node.namespaceURI===c.html)?(o(n),e.insertBefore(n.node,t)):(e.insertBefore(n.node,t),o(n))});a.insertTreeBefore=p,a.replaceChildWithTree=d,a.queueChild=r,a.queueHTML=u,a.queueText=i,n.exports=a});C.r("node_modules/react-dom/lib/DOMNamespaces.js",function(t,w,s){"use strict";var h={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};w.exports=h});C.r("node_modules/react-dom/lib/DOMProperty.js",function(t,e,u){"use strict";function r(t,e){return(t&e)===e}var a=t("./reactProdInvariant"),o=(t("fbjs/lib/invariant"),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(t){var e=o,u=t.Properties||{},i=t.DOMAttributeNamespaces||{},n=t.DOMAttributeNames||{},A=t.DOMPropertyNames||{},_=t.DOMMutationMethods||{};t.isCustomAttribute&&s._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var E in u){s.properties.hasOwnProperty(E)&&a("48",E);var O=E.toLowerCase(),F=u[E],m={attributeName:O,attributeNamespace:null,propertyName:E,mutationMethod:null,mustUseProperty:r(F,e.MUST_USE_PROPERTY),hasBooleanValue:r(F,e.HAS_BOOLEAN_VALUE),hasNumericValue:r(F,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(F,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(F,e.HAS_OVERLOADED_BOOLEAN_VALUE)};if(m.hasBooleanValue+m.hasNumericValue+m.hasOverloadedBooleanValue<=1||a("50",E),n.hasOwnProperty(E)){var p=n[E];m.attributeName=p}i.hasOwnProperty(E)&&(m.attributeNamespace=i[E]),A.hasOwnProperty(E)&&(m.propertyName=A[E]),_.hasOwnProperty(E)&&(m.mutationMethod=_[E]),s.properties[E]=m}}}),i=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:i,ATTRIBUTE_NAME_CHAR:i+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<s._isCustomAttributeFunctions.length;e++){if((0,s._isCustomAttributeFunctions[e])(t))return!0}return!1},injection:o};e.exports=s});C.r("node_modules/react-dom/lib/DOMPropertyOperations.js",function(e,t,r){"use strict";function o(e){return!!l.hasOwnProperty(e)||!s.hasOwnProperty(e)&&(n.test(e)?(l[e]=!0,!0):(s[e]=!0,!1))}function u(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}var a=e("./DOMProperty"),i=(e("./ReactDOMComponentTree"),e("./ReactInstrumentation"),e("./quoteAttributeValueForBrowser")),n=(e("fbjs/lib/warning"),new RegExp("^["+a.ATTRIBUTE_NAME_START_CHAR+"]["+a.ATTRIBUTE_NAME_CHAR+"]*$")),s={},l={},p={createMarkupForID:function(e){return a.ID_ATTRIBUTE_NAME+"="+i(e)},setAttributeForID:function(e,t){e.setAttribute(a.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return a.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(a.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var r=a.properties.hasOwnProperty(e)?a.properties[e]:null;if(r){if(u(r,t))return"";var o=r.attributeName;return r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===t?o+'=""':o+"="+i(t)}return a.isCustomAttribute(e)?null==t?"":e+"="+i(t):null},createMarkupForCustomAttribute:function(e,t){return o(e)&&null!=t?e+"="+i(t):""},setValueForProperty:function(e,t,r){var o=a.properties.hasOwnProperty(t)?a.properties[t]:null;if(o){var i=o.mutationMethod;if(i)i(e,r);else{if(u(o,r))return void this.deleteValueForProperty(e,t);if(o.mustUseProperty)e[o.propertyName]=r;else{var n=o.attributeName,s=o.attributeNamespace;s?e.setAttributeNS(s,n,""+r):o.hasBooleanValue||o.hasOverloadedBooleanValue&&!0===r?e.setAttribute(n,""):e.setAttribute(n,""+r)}}}else if(a.isCustomAttribute(t))return void p.setValueForAttribute(e,t,r)},setValueForAttribute:function(e,t,r){if(o(t)){null==r?e.removeAttribute(t):e.setAttribute(t,""+r)}},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var r=a.properties.hasOwnProperty(t)?a.properties[t]:null;if(r){var o=r.mutationMethod;if(o)o(e,void 0);else if(r.mustUseProperty){var u=r.propertyName;r.hasBooleanValue?e[u]=!1:e[u]=""}else e.removeAttribute(r.attributeName)}else a.isCustomAttribute(t)&&e.removeAttribute(t)}};t.exports=p});C.r("node_modules/react-dom/lib/Danger.js",function(e,r,n){"use strict";var a=e("./reactProdInvariant"),i=e("./DOMLazyTree"),t=e("fbjs/lib/ExecutionEnvironment"),o=e("fbjs/lib/createNodesFromMarkup"),s=e("fbjs/lib/emptyFunction"),l=(e("fbjs/lib/invariant"),{dangerouslyReplaceNodeWithMarkup:function(e,r){if(t.canUseDOM||a("56"),r||a("57"),"HTML"===e.nodeName&&a("58"),"string"==typeof r){var n=o(r,s)[0];e.parentNode.replaceChild(n,e)}else i.replaceChildWithTree(e,r)}});r.exports=l});C.r("node_modules/react-dom/lib/DefaultEventPluginOrder.js",function(e,n,t){"use strict";var l=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];n.exports=l});C.r("node_modules/react-dom/lib/EnterLeaveEventPlugin.js",function(e,t,o){"use strict";var n=e("./EventPropagators"),r=e("./ReactDOMComponentTree"),u=e("./SyntheticMouseEvent"),a={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:a,extractEvents:function(e,t,o,s){if("topMouseOver"===e&&(o.relatedTarget||o.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var l;if(s.window===s)l=s;else{var i=s.ownerDocument;l=i?i.defaultView||i.parentWindow:window}var v,d;if("topMouseOut"===e){v=t;var m=o.relatedTarget||o.toElement;d=m?r.getClosestInstanceFromNode(m):null}else v=null,d=t;if(v===d)return null;var p=null==v?l:r.getNodeFromInstance(v),c=null==d?l:r.getNodeFromInstance(d),g=u.getPooled(a.mouseLeave,v,o,s);g.type="mouseleave",g.target=p,g.relatedTarget=c;var M=u.getPooled(a.mouseEnter,d,o,s);return M.type="mouseenter",M.target=c,M.relatedTarget=p,n.accumulateEnterLeaveDispatches(g,M,v,d),[g,M]}};t.exports=s});C.r("node_modules/react-dom/lib/EventPluginHub.js",function(e,t,n){"use strict";function r(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function i(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!r(t));default:return!1}}var u=e("./reactProdInvariant"),o=e("./EventPluginRegistry"),s=e("./EventPluginUtils"),a=e("./ReactErrorUtils"),c=e("./accumulateInto"),l=e("./forEachAccumulated"),v=(e("fbjs/lib/invariant"),{}),f=null,d=function(e,t){e&&(s.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},p=function(e){return d(e,!0)},g=function(e){return d(e,!1)},E=function(e){return"."+e._rootNodeID},P={injection:{injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n&&u("94",t,typeof n);var r=E(e);(v[t]||(v[t]={}))[r]=n;var i=o.registrationNameModules[t];i&&i.didPutListener&&i.didPutListener(e,t,n)},getListener:function(e,t){var n=v[t];if(i(t,e._currentElement.type,e._currentElement.props))return null;var r=E(e);return n&&n[r]},deleteListener:function(e,t){var n=o.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=v[t];if(r){delete r[E(e)]}},deleteAllListeners:function(e){var t=E(e);for(var n in v)if(v.hasOwnProperty(n)&&v[n][t]){var r=o.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete v[n][t]}},extractEvents:function(e,t,n,r){for(var i,u=o.plugins,s=0;s<u.length;s++){var a=u[s];if(a){var l=a.extractEvents(e,t,n,r);l&&(i=c(i,l))}}return i},enqueueEvents:function(e){e&&(f=c(f,e))},processEventQueue:function(e){var t=f;f=null,e?l(t,p):l(t,g),f&&u("95"),a.rethrowCaughtError()},__purge:function(){v={}},__getListenerBank:function(){return v}};t.exports=P});C.r("node_modules/react-dom/lib/EventPluginRegistry.js",function(e,n,r){"use strict";function i(){if(o)for(var e in l){var n=l[e],r=o.indexOf(e);if(r>-1||s("96",e),!u.plugins[r]){n.extractEvents||s("97",e),u.plugins[r]=n;var i=n.eventTypes;for(var a in i)t(i[a],n,a)||s("98",a,e)}}}function t(e,n,r){u.eventNameDispatchConfigs.hasOwnProperty(r)&&s("99",r),u.eventNameDispatchConfigs[r]=e;var i=e.phasedRegistrationNames;if(i){for(var t in i)if(i.hasOwnProperty(t)){var o=i[t];a(o,n,r)}return!0}return!!e.registrationName&&(a(e.registrationName,n,r),!0)}function a(e,n,r){u.registrationNameModules[e]&&s("100",e),u.registrationNameModules[e]=n,u.registrationNameDependencies[e]=n.eventTypes[r].dependencies}var s=e("./reactProdInvariant"),o=(e("fbjs/lib/invariant"),null),l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){o&&s("101"),o=Array.prototype.slice.call(e),i()},injectEventPluginsByName:function(e){var n=!1;for(var r in e)if(e.hasOwnProperty(r)){var t=e[r];l.hasOwnProperty(r)&&l[r]===t||(l[r]&&s("102",r),l[r]=t,n=!0)}n&&i()},getPluginModuleForEvent:function(e){var n=e.dispatchConfig;if(n.registrationName)return u.registrationNameModules[n.registrationName]||null;if(void 0!==n.phasedRegistrationNames){var r=n.phasedRegistrationNames;for(var i in r)if(r.hasOwnProperty(i)){var t=u.registrationNameModules[r[i]];if(t)return t}}return null},_resetEventPlugins:function(){o=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];u.plugins.length=0;var n=u.eventNameDispatchConfigs;for(var r in n)n.hasOwnProperty(r)&&delete n[r];var i=u.registrationNameModules;for(var t in i)i.hasOwnProperty(t)&&delete i[t]}};n.exports=u});C.r("node_modules/react-dom/lib/EventPluginUtils.js",function(e,t,n){"use strict";function r(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function s(e){return"topMouseMove"===e||"topTouchMove"===e}function a(e){return"topMouseDown"===e||"topTouchStart"===e}function o(e,t,n,r){var s=e.type||"unknown-event";e.currentTarget=I.getNodeFromInstance(r),t?v.invokeGuardedCallbackWithCatch(s,n,e):v.invokeGuardedCallback(s,n,e),e.currentTarget=null}function i(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var s=0;s<n.length&&!e.isPropagationStopped();s++)o(e,t,n[s],r[s]);else n&&o(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function u(e){var t=c(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function l(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)&&f("103"),e.currentTarget=t?I.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function p(e){return!!e._dispatchListeners}var d,h,f=e("./reactProdInvariant"),v=e("./ReactErrorUtils"),g=(e("fbjs/lib/invariant"),e("fbjs/lib/warning"),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){h=e}}),I={isEndish:r,isMoveish:s,isStartish:a,executeDirectDispatch:l,executeDispatchesInOrder:i,executeDispatchesInOrderStopAtTrue:u,hasDispatches:p,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return h.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return h.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return h.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return h.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,s){return h.traverseEnterLeave(e,t,n,r,s)},injection:g};t.exports=I});C.r("node_modules/react-dom/lib/EventPropagators.js",function(t,a,e){"use strict";function s(t,a,e){var s=a.dispatchConfig.phasedRegistrationNames[e];return v(t,s)}function n(t,a,e){var n=s(t,e,a);n&&(e._dispatchListeners=l(e._dispatchListeners,n),e._dispatchInstances=l(e._dispatchInstances,t))}function i(t){t&&t.dispatchConfig.phasedRegistrationNames&&f.traverseTwoPhase(t._targetInst,n,t)}function c(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var a=t._targetInst,e=a?f.getParentInstance(a):null;f.traverseTwoPhase(e,n,t)}}function r(t,a,e){if(e&&e.dispatchConfig.registrationName){var s=e.dispatchConfig.registrationName,n=v(t,s);n&&(e._dispatchListeners=l(e._dispatchListeners,n),e._dispatchInstances=l(e._dispatchInstances,t))}}function o(t){t&&t.dispatchConfig.registrationName&&r(t._targetInst,null,t)}function u(t){m(t,i)}function h(t){m(t,c)}function p(t,a,e,s){f.traverseEnterLeave(e,s,r,t,a)}function g(t){m(t,o)}var d=t("./EventPluginHub"),f=t("./EventPluginUtils"),l=t("./accumulateInto"),m=t("./forEachAccumulated"),v=(t("fbjs/lib/warning"),d.getListener),_={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:h,accumulateDirectDispatches:g,accumulateEnterLeaveDispatches:p};a.exports=_});C.r("node_modules/react-dom/lib/FallbackCompositionState.js",function(t,e,o){"use strict";function s(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var l=t("object-assign"),i=t("./PooledClass"),a=t("./getTextContentAccessor");l(s.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,o=this._startText,s=o.length,l=this.getText(),i=l.length;for(t=0;t<s&&o[t]===l[t];t++);var a=s-t;for(e=1;e<=a&&o[s-e]===l[i-e];e++);var r=e>1?1-e:void 0;return this._fallbackText=l.slice(t,r),this._fallbackText}}),i.addPoolingTo(s),e.exports=s});C.r("node_modules/react-dom/lib/HTMLDOMPropertyConfig.js",function(e,t,a){"use strict";var r=e("./DOMProperty"),o=r.injection.MUST_USE_PROPERTY,i=r.injection.HAS_BOOLEAN_VALUE,n=r.injection.HAS_NUMERIC_VALUE,l=r.injection.HAS_POSITIVE_NUMERIC_VALUE,s=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,c={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,as:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|i,cite:0,classID:0,className:0,cols:l,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,coords:0,crossOrigin:0,data:0,dateTime:0,default:i,defer:i,dir:0,disabled:i,download:s,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|i,muted:o|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,playsInline:i,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,referrerPolicy:0,rel:0,required:i,reversed:i,role:0,rows:l,rowSpan:n,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:o|i,shape:0,size:l,sizes:0,span:l,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:n,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}};t.exports=c});C.r("node_modules/react-dom/lib/KeyEscapeUtils.js",function(e,r,n){"use strict";function t(e){var r={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return r[e]})}function u(e){var r=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(r,function(e){return n[e]})}var s={escape:t,unescape:u};r.exports=s});C.r("node_modules/react-dom/lib/LinkedValueUtils.js",function(e,n,r){"use strict";function a(e){null!=e.checkedLink&&null!=e.valueLink&&o("87")}function t(e){a(e),(null!=e.value||null!=e.onChange)&&o("88")}function l(e){a(e),(null!=e.checked||null!=e.onChange)&&o("89")}function i(e){if(e){var n=e.getName();if(n)return" Check the render method of `"+n+"`."}return""}var o=e("./reactProdInvariant"),u=e("./ReactPropTypesSecret"),d=e("prop-types/factory"),c=e("react/lib/React"),h=d(c.isValidElement),f=(e("fbjs/lib/invariant"),e("fbjs/lib/warning"),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),s={value:function(e,n,r){return!e[n]||f[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,n,r){return!e[n]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:h.func},k={},g={checkPropTypes:function(e,n,r){for(var a in s){if(s.hasOwnProperty(a))var t=s[a](n,a,e,"prop",null,u);if(t instanceof Error&&!(t.message in k)){k[t.message]=!0;i(r)}}},getValue:function(e){return e.valueLink?(t(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(l(e),e.checkedLink.value):e.checked},executeOnChange:function(e,n){return e.valueLink?(t(e),e.valueLink.requestChange(n.target.value)):e.checkedLink?(l(e),e.checkedLink.requestChange(n.target.checked)):e.onChange?e.onChange.call(void 0,n):void 0}};n.exports=g});C.r("node_modules/react-dom/lib/PooledClass.js",function(n,o,e){"use strict";var t=n("./reactProdInvariant"),r=(n("fbjs/lib/invariant"),function(n){var o=this;if(o.instancePool.length){var e=o.instancePool.pop();return o.call(e,n),e}return new o(n)}),l=function(n,o){var e=this;if(e.instancePool.length){var t=e.instancePool.pop();return e.call(t,n,o),t}return new e(n,o)},i=function(n,o,e){var t=this;if(t.instancePool.length){var r=t.instancePool.pop();return t.call(r,n,o,e),r}return new t(n,o,e)},a=function(n,o,e,t){var r=this;if(r.instancePool.length){var l=r.instancePool.pop();return r.call(l,n,o,e,t),l}return new r(n,o,e,t)},s=function(n){var o=this;n instanceof o||t("25"),n.destructor(),o.instancePool.length<o.poolSize&&o.instancePool.push(n)},c=r,u=function(n,o){var e=n;return e.instancePool=[],e.getPooled=o||c,e.poolSize||(e.poolSize=10),e.release=s,e},P={addPoolingTo:u,oneArgumentPooler:r,twoArgumentPooler:l,threeArgumentPooler:i,fourArgumentPooler:a};o.exports=P});C.r("node_modules/react-dom/lib/ReactBrowserEventEmitter.js",function(t,e,o){"use strict";function n(t){return Object.prototype.hasOwnProperty.call(t,g)||(t[g]=v++,l[t[g]]={}),l[t[g]]}var a,r=t("object-assign"),p=t("./EventPluginRegistry"),i=t("./ReactEventEmitterMixin"),s=t("./ViewportMetrics"),u=t("./getVendorPrefixedEventName"),c=t("./isEventSupported"),l={},d=!1,v=0,E={topAbort:"abort",topAnimationEnd:u("animationend")||"animationend",topAnimationIteration:u("animationiteration")||"animationiteration",topAnimationStart:u("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:u("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},g="_reactListenersID"+String(Math.random()).slice(2),m=r({},i,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(m.handleTopLevel),m.ReactEventListener=t}},setEnabled:function(t){m.ReactEventListener&&m.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!m.ReactEventListener||!m.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var o=e,a=n(o),r=p.registrationNameDependencies[t],i=0;i<r.length;i++){var s=r[i];a.hasOwnProperty(s)&&a[s]||("topWheel"===s?c("wheel")?m.ReactEventListener.trapBubbledEvent("topWheel","wheel",o):c("mousewheel")?m.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",o):m.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",o):"topScroll"===s?c("scroll",!0)?m.ReactEventListener.trapCapturedEvent("topScroll","scroll",o):m.ReactEventListener.trapBubbledEvent("topScroll","scroll",m.ReactEventListener.WINDOW_HANDLE):"topFocus"===s||"topBlur"===s?(c("focus",!0)?(m.ReactEventListener.trapCapturedEvent("topFocus","focus",o),m.ReactEventListener.trapCapturedEvent("topBlur","blur",o)):c("focusin")&&(m.ReactEventListener.trapBubbledEvent("topFocus","focusin",o),m.ReactEventListener.trapBubbledEvent("topBlur","focusout",o)),a.topBlur=!0,a.topFocus=!0):E.hasOwnProperty(s)&&m.ReactEventListener.trapBubbledEvent(s,E[s],o),a[s]=!0)}},trapBubbledEvent:function(t,e,o){return m.ReactEventListener.trapBubbledEvent(t,e,o)},trapCapturedEvent:function(t,e,o){return m.ReactEventListener.trapCapturedEvent(t,e,o)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var t=document.createEvent("MouseEvent");return null!=t&&"pageX"in t},ensureScrollValueMonitoring:function(){if(void 0===a&&(a=m.supportsEventPageXY()),!a&&!d){var t=s.refreshScrollValues;m.ReactEventListener.monitorScrollValue(t),d=!0}}});e.exports=m});C.r("node_modules/react-dom/lib/ReactChildReconciler.js",function(n,e,t){"use strict";function o(n,e,t,o){var r=void 0===n[t];null!=e&&r&&(n[t]=i(e,!0))}var r=n("./ReactReconciler"),i=n("./instantiateReactComponent"),a=(n("./KeyEscapeUtils"),n("./shouldUpdateReactComponent")),u=n("./traverseAllChildren");n("fbjs/lib/warning");"undefined"!=typeof process&&process.env;var l={instantiateChildren:function(n,e,t,r){if(null==n)return null;var i={};return u(n,o,i),i},updateChildren:function(n,e,t,o,u,l,s,c,p){if(e||n){var d,f;for(d in e)if(e.hasOwnProperty(d)){f=n&&n[d];var m=f&&f._currentElement,v=e[d];if(null!=f&&a(m,v))r.receiveComponent(f,v,u,c),e[d]=f;else{f&&(o[d]=r.getHostNode(f),r.unmountComponent(f,!1));var C=i(v,!0);e[d]=C;var h=r.mountComponent(C,u,l,s,c,p);t.push(h)}}for(d in n)!n.hasOwnProperty(d)||e&&e.hasOwnProperty(d)||(f=n[d],o[d]=r.getHostNode(f),r.unmountComponent(f,!1))}},unmountChildren:function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var o=n[t];r.unmountComponent(o,e)}}};e.exports=l});C.r("node_modules/react-dom/lib/ReactComponentBrowserEnvironment.js",function(e,r,o){"use strict";var s=e("./DOMChildrenOperations"),n=e("./ReactDOMIDOperations"),t={processChildrenUpdates:n.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:s.dangerouslyReplaceNodeWithMarkup};r.exports=t});C.r("node_modules/react-dom/lib/ReactComponentEnvironment.js",function(e,n,r){"use strict";var t=e("./reactProdInvariant"),i=(e("fbjs/lib/invariant"),!1),o={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i&&t("104"),o.replaceNodeWithMarkup=e.replaceNodeWithMarkup,o.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};n.exports=o});C.r("node_modules/react-dom/lib/ReactCompositeComponent.js",function(t,e,n){"use strict";function o(t){}function i(t){return!(!t.prototype||!t.prototype.isReactComponent)}function r(t){return!(!t.prototype||!t.prototype.isPureReactComponent)}var s=t("./reactProdInvariant"),a=t("object-assign"),p=t("react/lib/React"),l=t("./ReactComponentEnvironment"),c=t("react/lib/ReactCurrentOwner"),u=t("./ReactErrorUtils"),h=t("./ReactInstanceMap"),d=(t("./ReactInstrumentation"),t("./ReactNodeTypes")),m=t("./ReactReconciler"),_=t("fbjs/lib/emptyObject"),C=(t("fbjs/lib/invariant"),t("fbjs/lib/shallowEqual")),f=t("./shouldUpdateReactComponent"),g=(t("fbjs/lib/warning"),{ImpureClass:0,PureClass:1,StatelessFunctional:2});o.prototype.render=function(){var t=h.get(this)._currentElement.type,e=t(this.props,this.context,this.updater);return e};var v=1,y={construct:function(t){this._currentElement=t,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(t,e,n,a){this._context=a,this._mountOrder=v++,this._hostParent=e,this._hostContainerInfo=n;var l,c=this._currentElement.props,u=this._processContext(a),d=this._currentElement.type,m=t.getUpdateQueue(),C=i(d),f=this._constructComponent(C,c,u,m);C||null!=f&&null!=f.render?r(d)?this._compositeType=g.PureClass:this._compositeType=g.ImpureClass:(l=f,null===f||!1===f||p.isValidElement(f)||s("105",d.displayName||d.name||"Component"),f=new o(d),this._compositeType=g.StatelessFunctional);f.props=c,f.context=u,f.refs=_,f.updater=m,this._instance=f,h.set(f,this);var y=f.state;void 0===y&&(f.state=y=null),("object"!=typeof y||Array.isArray(y))&&s("106",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var x;return x=f.unstable_handleError?this.performInitialMountWithErrorHandling(l,e,n,t,a):this.performInitialMount(l,e,n,t,a),f.componentDidMount&&t.getReactMountReady().enqueue(f.componentDidMount,f),x},_constructComponent:function(t,e,n,o){return this._constructComponentWithoutOwner(t,e,n,o)},_constructComponentWithoutOwner:function(t,e,n,o){var i=this._currentElement.type;return t?new i(e,n,o):i(e,n,o)},performInitialMountWithErrorHandling:function(t,e,n,o,i){var r,s=o.checkpoint();try{r=this.performInitialMount(t,e,n,o,i)}catch(a){o.rollback(s),this._instance.unstable_handleError(a),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),s=o.checkpoint(),this._renderedComponent.unmountComponent(!0),o.rollback(s),r=this.performInitialMount(t,e,n,o,i)}return r},performInitialMount:function(t,e,n,o,i){var r=this._instance,s=0;r.componentWillMount&&(r.componentWillMount(),this._pendingStateQueue&&(r.state=this._processPendingState(r.props,r.context))),void 0===t&&(t=this._renderValidatedComponent());var a=d.getType(t);this._renderedNodeType=a;var p=this._instantiateReactComponent(t,a!==d.EMPTY);this._renderedComponent=p;var l=m.mountComponent(p,o,e,n,this._processChildContext(i),s);return l},getHostNode:function(){return m.getHostNode(this._renderedComponent)},unmountComponent:function(t){if(this._renderedComponent){var e=this._instance;if(e.componentWillUnmount&&!e._calledComponentWillUnmount)if(e._calledComponentWillUnmount=!0,t){var n=this.getName()+".componentWillUnmount()";u.invokeGuardedCallback(n,e.componentWillUnmount.bind(e))}else e.componentWillUnmount();this._renderedComponent&&(m.unmountComponent(this._renderedComponent,t),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,h.remove(e)}},_maskContext:function(t){var e=this._currentElement.type,n=e.contextTypes;if(!n)return _;var o={};for(var i in n)o[i]=t[i];return o},_processContext:function(t){var e=this._maskContext(t);return e},_processChildContext:function(t){var e,n=this._currentElement.type,o=this._instance;if(o.getChildContext&&(e=o.getChildContext()),e){"object"!=typeof n.childContextTypes&&s("107",this.getName()||"ReactCompositeComponent");for(var i in e)i in n.childContextTypes||s("108",this.getName()||"ReactCompositeComponent",i);return a({},t,e)}return t},_checkContextTypes:function(t,e,n){},receiveComponent:function(t,e,n){var o=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(e,o,t,i,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement?m.receiveComponent(this,this._pendingElement,t,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(t,e,n,o,i){var r=this._instance;null==r&&s("136",this.getName()||"ReactCompositeComponent");var a,p=!1;this._context===i?a=r.context:(a=this._processContext(i),p=!0);var l=e.props,c=n.props;e!==n&&(p=!0),p&&r.componentWillReceiveProps&&r.componentWillReceiveProps(c,a);var u=this._processPendingState(c,a),h=!0;this._pendingForceUpdate||(r.shouldComponentUpdate?h=r.shouldComponentUpdate(c,u,a):this._compositeType===g.PureClass&&(h=!C(l,c)||!C(r.state,u))),this._updateBatchNumber=null,h?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,u,a,t,i)):(this._currentElement=n,this._context=i,r.props=c,r.state=u,r.context=a)},_processPendingState:function(t,e){var n=this._instance,o=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!o)return n.state;if(i&&1===o.length)return o[0];for(var r=a({},i?o[0]:n.state),s=i?1:0;s<o.length;s++){var p=o[s];a(r,"function"==typeof p?p.call(n,r,t,e):p)}return r},_performComponentUpdate:function(t,e,n,o,i,r){var s,a,p,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(s=l.props,a=l.state,p=l.context),l.componentWillUpdate&&l.componentWillUpdate(e,n,o),this._currentElement=t,this._context=r,l.props=e,l.state=n,l.context=o,this._updateRenderedComponent(i,r),c&&i.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,s,a,p),l)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,o=n._currentElement,i=this._renderValidatedComponent(),r=0;if(f(o,i))m.receiveComponent(n,i,t,this._processChildContext(e));else{var s=m.getHostNode(n);m.unmountComponent(n,!1);var a=d.getType(i);this._renderedNodeType=a;var p=this._instantiateReactComponent(i,a!==d.EMPTY);this._renderedComponent=p;var l=m.mountComponent(p,t,this._hostParent,this._hostContainerInfo,this._processChildContext(e),r);this._replaceNodeWithMarkup(s,l,n)}},_replaceNodeWithMarkup:function(t,e,n){l.replaceNodeWithMarkup(t,e,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t=this._instance;return t.render()},_renderValidatedComponent:function(){var t;if(this._compositeType!==g.StatelessFunctional){c.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{c.current=null}}else t=this._renderValidatedComponentWithoutOwnerOrContext();return null===t||!1===t||p.isValidElement(t)||s("109",this.getName()||"ReactCompositeComponent"),t},attachRef:function(t,e){var n=this.getPublicInstance();null==n&&s("110");var o=e.getPublicInstance();(n.refs===_?n.refs={}:n.refs)[t]=o},detachRef:function(t){delete this.getPublicInstance().refs[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){var t=this._instance;return this._compositeType===g.StatelessFunctional?null:t},_instantiateReactComponent:null};e.exports=y});C.r("node_modules/react-dom/lib/ReactDOM.js",function(e,n,t){"use strict";var o=e("./ReactDOMComponentTree"),r=e("./ReactDefaultInjection"),c=e("./ReactMount"),d=e("./ReactReconciler"),a=e("./ReactUpdates"),_=e("./ReactVersion"),s=e("./findDOMNode"),i=e("./getHostComponentFromComposite"),u=e("./renderSubtreeIntoContainer");e("fbjs/lib/warning");r.inject();var O={findDOMNode:s,render:c.render,unmountComponentAtNode:c.unmountComponentAtNode,version:_,unstable_batchedUpdates:a.batchedUpdates,unstable_renderSubtreeIntoContainer:u};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:o.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=i(e)),e?o.getNodeFromInstance(e):null}},Mount:c,Reconciler:d});n.exports=O});C.r("node_modules/react-dom/lib/ReactDOMComponent.js",function(e,t,r){"use strict";function n(e){if(e){var t=e._currentElement._owner||null;if(t){var r=t.getName();if(r)return" This DOM node was rendered by `"+r+"`."}}return""}function a(e,t){t&&(J[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&m("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&m("60"),"object"==typeof t.dangerouslySetInnerHTML&&V in t.dangerouslySetInnerHTML||m("61")),null!=t.style&&"object"!=typeof t.style&&m("62",n(e)))}function s(e,t,r,n){if(!(n instanceof L)){var a=e._hostContainerInfo,s=a._node&&a._node.nodeType===z,o=s?a._node:a._ownerDocument;j(t,o),n.getReactMountReady().enqueue(i,{inst:e,registrationName:t,listener:r})}}function i(){var e=this;R.putListener(e.inst,e.registrationName,e.listener)}function o(){var e=this;E.postMountWrapper(e)}function l(){var e=this;T.postMountWrapper(e)}function u(){var e=this;D.postMountWrapper(e)}function p(){N.track(this)}function h(){var e=this;e._rootNodeID||m("63");var t=A(e);switch(t||m("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[S.trapBubbledEvent("topLoad","load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var r in Z)Z.hasOwnProperty(r)&&e._wrapperState.listeners.push(S.trapBubbledEvent(r,Z[r],t));break;case"source":e._wrapperState.listeners=[S.trapBubbledEvent("topError","error",t)];break;case"img":e._wrapperState.listeners=[S.trapBubbledEvent("topError","error",t),S.trapBubbledEvent("topLoad","load",t)];break;case"form":e._wrapperState.listeners=[S.trapBubbledEvent("topReset","reset",t),S.trapBubbledEvent("topSubmit","submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[S.trapBubbledEvent("topInvalid","invalid",t)]}}function c(){I.postUpdateWrapper(this)}function d(e){X.call(Q,e)||(K.test(e)||m("65",e),Q[e]=!0)}function _(e,t){return e.indexOf("-")>=0||null!=t.is}function g(e){var t=e.type;d(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var m=e("./reactProdInvariant"),y=e("object-assign"),f=e("./AutoFocusUtils"),v=e("./CSSPropertyOperations"),b=e("./DOMLazyTree"),M=e("./DOMNamespaces"),C=e("./DOMProperty"),P=e("./DOMPropertyOperations"),R=e("./EventPluginHub"),w=e("./EventPluginRegistry"),S=e("./ReactBrowserEventEmitter"),O=e("./ReactDOMComponentFlags"),k=e("./ReactDOMComponentTree"),E=e("./ReactDOMInput"),D=e("./ReactDOMOption"),I=e("./ReactDOMSelect"),T=e("./ReactDOMTextarea"),H=(e("./ReactInstrumentation"),e("./ReactMultiChild")),L=e("./ReactServerRenderingTransaction"),F=(e("fbjs/lib/emptyFunction"),e("./escapeTextContentForBrowser")),N=(e("fbjs/lib/invariant"),e("./isEventSupported"),e("fbjs/lib/shallowEqual"),e("./inputValueTracking")),q=(e("./validateDOMNesting"),e("fbjs/lib/warning"),O),x=R.deleteListener,A=k.getNodeFromInstance,j=S.listenTo,W=w.registrationNameModules,B={string:!0,number:!0},V="__html",U={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},z=11,Z={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},$={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},G={listing:!0,pre:!0,textarea:!0},J=y({menuitem:!0},$),K=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Q={},X={}.hasOwnProperty,Y=1;g.displayName="ReactDOMComponent",g.Mixin={mountComponent:function(e,t,r,n){this._rootNodeID=Y++,this._domID=r._idCounter++,this._hostParent=t,this._hostContainerInfo=r;var s=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(h,this);break;case"input":E.mountWrapper(this,s,t),s=E.getHostProps(this,s),e.getReactMountReady().enqueue(p,this),e.getReactMountReady().enqueue(h,this);break;case"option":D.mountWrapper(this,s,t),s=D.getHostProps(this,s);break;case"select":I.mountWrapper(this,s,t),s=I.getHostProps(this,s),e.getReactMountReady().enqueue(h,this);break;case"textarea":T.mountWrapper(this,s,t),s=T.getHostProps(this,s),e.getReactMountReady().enqueue(p,this),e.getReactMountReady().enqueue(h,this)}a(this,s);var i,c;null!=t?(i=t._namespaceURI,c=t._tag):r._tag&&(i=r._namespaceURI,c=r._tag),(null==i||i===M.svg&&"foreignobject"===c)&&(i=M.html),i===M.html&&("svg"===this._tag?i=M.svg:"math"===this._tag&&(i=M.mathml)),this._namespaceURI=i;var d;if(e.useCreateElement){var _,g=r._ownerDocument;if(i===M.html)if("script"===this._tag){var m=g.createElement("div"),y=this._currentElement.type;m.innerHTML="<"+y+"></"+y+">",_=m.removeChild(m.firstChild)}else _=s.is?g.createElement(this._currentElement.type,s.is):g.createElement(this._currentElement.type);else _=g.createElementNS(i,this._currentElement.type);k.precacheNode(this,_),this._flags|=q.hasCachedChildNodes,this._hostParent||P.setAttributeForRoot(_),this._updateDOMProperties(null,s,e);var v=b(_);this._createInitialChildren(e,s,n,v),d=v}else{var C=this._createOpenTagMarkupAndPutListeners(e,s),R=this._createContentMarkup(e,s,n);d=!R&&$[this._tag]?C+"/>":C+">"+R+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(o,this),s.autoFocus&&e.getReactMountReady().enqueue(f.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(l,this),s.autoFocus&&e.getReactMountReady().enqueue(f.focusDOMComponent,this);break;case"select":case"button":s.autoFocus&&e.getReactMountReady().enqueue(f.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(u,this)}return d},_createOpenTagMarkupAndPutListeners:function(e,t){var r="<"+this._currentElement.type;for(var n in t)if(t.hasOwnProperty(n)){var a=t[n];if(null!=a)if(W.hasOwnProperty(n))a&&s(this,n,a,e);else{"style"===n&&(a&&(a=this._previousStyleCopy=y({},t.style)),a=v.createMarkupForStyles(a,this));var i=null;null!=this._tag&&_(this._tag,t)?U.hasOwnProperty(n)||(i=P.createMarkupForCustomAttribute(n,a)):i=P.createMarkupForProperty(n,a),i&&(r+=" "+i)}}return e.renderToStaticMarkup?r:(this._hostParent||(r+=" "+P.createMarkupForRoot()),r+=" "+P.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,r){var n="",a=t.dangerouslySetInnerHTML;if(null!=a)null!=a.__html&&(n=a.__html);else{var s=B[typeof t.children]?t.children:null,i=null!=s?null:t.children;if(null!=s)n=F(s);else if(null!=i){var o=this.mountChildren(i,e,r);n=o.join("")}}return G[this._tag]&&"\n"===n.charAt(0)?"\n"+n:n},_createInitialChildren:function(e,t,r,n){var a=t.dangerouslySetInnerHTML;if(null!=a)null!=a.__html&&b.queueHTML(n,a.__html);else{var s=B[typeof t.children]?t.children:null,i=null!=s?null:t.children;if(null!=s)""!==s&&b.queueText(n,s);else if(null!=i)for(var o=this.mountChildren(i,e,r),l=0;l<o.length;l++)b.queueChild(n,o[l])}},receiveComponent:function(e,t,r){var n=this._currentElement;this._currentElement=e,this.updateComponent(t,n,e,r)},updateComponent:function(e,t,r,n){var s=t.props,i=this._currentElement.props;switch(this._tag){case"input":s=E.getHostProps(this,s),i=E.getHostProps(this,i);break;case"option":s=D.getHostProps(this,s),i=D.getHostProps(this,i);break;case"select":s=I.getHostProps(this,s),i=I.getHostProps(this,i);break;case"textarea":s=T.getHostProps(this,s),i=T.getHostProps(this,i)}switch(a(this,i),this._updateDOMProperties(s,i,e),this._updateDOMChildren(s,i,e,n),this._tag){case"input":E.updateWrapper(this);break;case"textarea":T.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(c,this)}},_updateDOMProperties:function(e,t,r){var n,a,i;for(n in e)if(!t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&null!=e[n])if("style"===n){var o=this._previousStyleCopy;for(a in o)o.hasOwnProperty(a)&&(i=i||{},i[a]="");this._previousStyleCopy=null}else W.hasOwnProperty(n)?e[n]&&x(this,n):_(this._tag,e)?U.hasOwnProperty(n)||P.deleteValueForAttribute(A(this),n):(C.properties[n]||C.isCustomAttribute(n))&&P.deleteValueForProperty(A(this),n);for(n in t){var l=t[n],u="style"===n?this._previousStyleCopy:null!=e?e[n]:void 0;if(t.hasOwnProperty(n)&&l!==u&&(null!=l||null!=u))if("style"===n)if(l?l=this._previousStyleCopy=y({},l):this._previousStyleCopy=null,u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(i=i||{},i[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(i=i||{},i[a]=l[a])}else i=l;else if(W.hasOwnProperty(n))l?s(this,n,l,r):u&&x(this,n);else if(_(this._tag,t))U.hasOwnProperty(n)||P.setValueForAttribute(A(this),n,l);else if(C.properties[n]||C.isCustomAttribute(n)){var p=A(this);null!=l?P.setValueForProperty(p,n,l):P.deleteValueForProperty(p,n)}}i&&v.setValueForStyles(A(this),i,this)},_updateDOMChildren:function(e,t,r,n){var a=B[typeof e.children]?e.children:null,s=B[typeof t.children]?t.children:null,i=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,o=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=a?null:e.children,u=null!=s?null:t.children,p=null!=a||null!=i,h=null!=s||null!=o;null!=l&&null==u?this.updateChildren(null,r,n):p&&!h&&this.updateTextContent(""),null!=s?a!==s&&this.updateTextContent(""+s):null!=o?i!==o&&this.updateMarkup(""+o):null!=u&&this.updateChildren(u,r,n)},getHostNode:function(){return A(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var r=0;r<t.length;r++)t[r].remove();break;case"input":case"textarea":N.stopTracking(this);break;case"html":case"head":case"body":m("66",this._tag)}this.unmountChildren(e),k.uncacheNode(this),R.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return A(this)}},y(g.prototype,g.Mixin,H.Mixin),t.exports=g});C.r("node_modules/react-dom/lib/ReactDOMComponentFlags.js",function(e,o,s){"use strict";var t={hasCachedChildNodes:1};o.exports=t});C.r("node_modules/react-dom/lib/ReactDOMComponentTree.js",function(e,o,n){"use strict";function t(e,o){return 1===e.nodeType&&e.getAttribute(_)===String(o)||8===e.nodeType&&e.nodeValue===" react-text: "+o+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+o+" "}function r(e){for(var o;o=e._renderedComponent;)e=o;return e}function a(e,o){var n=r(e);n._hostNode=o,o[p]=n}function d(e){var o=e._hostNode;o&&(delete o[p],e._hostNode=null)}function i(e,o){if(!(e._flags&N.hasCachedChildNodes)){var n=e._renderedChildren,d=o.firstChild;e:for(var i in n)if(n.hasOwnProperty(i)){var s=n[i],c=r(s)._domID;if(0!==c){for(;null!==d;d=d.nextSibling)if(t(d,c)){a(s,d);continue e}h("32",c)}}e._flags|=N.hasCachedChildNodes}}function s(e){if(e[p])return e[p];for(var o=[];!e[p];){if(o.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,t;e&&(t=e[p]);e=o.pop())n=t,o.length&&i(t,e);return n}function c(e){var o=s(e);return null!=o&&o._hostNode===e?o:null}function u(e){if(void 0===e._hostNode&&h("33"),e._hostNode)return e._hostNode;for(var o=[];!e._hostNode;)o.push(e),e._hostParent||h("34"),e=e._hostParent;for(;o.length;e=o.pop())i(e,e._hostNode);return e._hostNode}var h=e("./reactProdInvariant"),l=e("./DOMProperty"),f=e("./ReactDOMComponentFlags"),_=(e("fbjs/lib/invariant"),l.ID_ATTRIBUTE_NAME),N=f,p="__reactInternalInstance$"+Math.random().toString(36).slice(2),v={getClosestInstanceFromNode:s,getInstanceFromNode:c,getNodeFromInstance:u,precacheChildNodes:i,precacheNode:a,uncacheNode:d};o.exports=v});C.r("node_modules/react-dom/lib/ReactDOMContainerInfo.js",function(e,n,o){"use strict";function t(e,n){var o={_topLevelWrapper:e,_idCounter:1,_ownerDocument:n?n.nodeType===a?n:n.ownerDocument:null,_node:n,_tag:n?n.nodeName.toLowerCase():null,_namespaceURI:n?n.namespaceURI:null};return o}var a=(e("./validateDOMNesting"),9);n.exports=t});C.r("node_modules/react-dom/lib/ReactDOMEmptyComponent.js",function(t,e,n){"use strict";var o=t("object-assign"),r=t("./DOMLazyTree"),i=t("./ReactDOMComponentTree"),s=function(t){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};o(s.prototype,{mountComponent:function(t,e,n,o){var s=n._idCounter++;this._domID=s,this._hostParent=e,this._hostContainerInfo=n;var u=" react-empty: "+this._domID+" ";if(t.useCreateElement){var c=n._ownerDocument,a=c.createComment(u);return i.precacheNode(this,a),r(a)}return t.renderToStaticMarkup?"":"\x3c!--"+u+"--\x3e"},receiveComponent:function(){},getHostNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}}),e.exports=s});C.r("node_modules/react-dom/lib/ReactDOMFeatureFlags.js",function(e,t,r){"use strict";var s={useCreateElement:!0,useFiber:!1};t.exports=s});C.r("node_modules/react-dom/lib/ReactDOMIDOperations.js",function(e,o,r){"use strict";var s=e("./DOMChildrenOperations"),t=e("./ReactDOMComponentTree"),n={dangerouslyProcessChildrenUpdates:function(e,o){var r=t.getNodeFromInstance(e);s.processUpdates(r,o)}};o.exports=n});C.r("node_modules/react-dom/lib/ReactDOMInput.js",function(e,a,t){"use strict";function l(){this._rootNodeID&&p.updateWrapper(this)}function n(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function r(e){var a=this._currentElement.props,t=c.executeOnChange(a,e);s.asap(l,this);var n=a.name;if("radio"===a.type&&null!=n){for(var r=i.getNodeFromInstance(this),o=r;o.parentNode;)o=o.parentNode;for(var d=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),p=0;p<d.length;p++){var f=d[p];if(f!==r&&f.form===r.form){var v=i.getInstanceFromNode(f);v||u("90"),s.asap(l,v)}}}return t}var u=e("./reactProdInvariant"),o=e("object-assign"),d=e("./DOMPropertyOperations"),c=e("./LinkedValueUtils"),i=e("./ReactDOMComponentTree"),s=e("./ReactUpdates"),p=(e("fbjs/lib/invariant"),e("fbjs/lib/warning"),{getHostProps:function(e,a){var t=c.getValue(a),l=c.getChecked(a);return o({type:void 0,step:void 0,min:void 0,max:void 0},a,{defaultChecked:void 0,defaultValue:void 0,value:null!=t?t:e._wrapperState.initialValue,checked:null!=l?l:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange})},mountWrapper:function(e,a){var t=a.defaultValue;e._wrapperState={initialChecked:null!=a.checked?a.checked:a.defaultChecked,initialValue:null!=a.value?a.value:t,listeners:null,onChange:r.bind(e),controlled:n(a)}},updateWrapper:function(e){var a=e._currentElement.props,t=a.checked;null!=t&&d.setValueForProperty(i.getNodeFromInstance(e),"checked",t||!1);var l=i.getNodeFromInstance(e),n=c.getValue(a);if(null!=n)if(0===n&&""===l.value)l.value="0";else if("number"===a.type){var r=parseFloat(l.value,10)||0;(n!=r||n==r&&l.value!=n)&&(l.value=""+n)}else l.value!==""+n&&(l.value=""+n);else null==a.value&&null!=a.defaultValue&&l.defaultValue!==""+a.defaultValue&&(l.defaultValue=""+a.defaultValue),null==a.checked&&null!=a.defaultChecked&&(l.defaultChecked=!!a.defaultChecked)},postMountWrapper:function(e){var a=e._currentElement.props,t=i.getNodeFromInstance(e);switch(a.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":t.value="",t.value=t.defaultValue;break;default:t.value=t.value}var l=t.name;""!==l&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!t.defaultChecked,""!==l&&(t.name=l)}});a.exports=p});C.r("node_modules/react-dom/lib/ReactDOMInvalidARIAHook.js",function(o,e,n){"use strict";var t=o("./DOMProperty"),r=(o("react/lib/ReactComponentTreeHook"),o("fbjs/lib/warning"),new RegExp("^(aria)-["+t.ATTRIBUTE_NAME_CHAR+"]*$"),{onBeforeMountComponent:function(o,e){},onBeforeUpdateComponent:function(o,e){}});e.exports=r});C.r("node_modules/react-dom/lib/ReactDOMNullInputValuePropHook.js",function(e,o,n){"use strict";function t(e,o){null!=o&&("input"!==o.type&&"textarea"!==o.type&&"select"!==o.type||null==o.props||null!==o.props.value||l||(l=!0))}var l=(e("react/lib/ReactComponentTreeHook"),e("fbjs/lib/warning"),!1),p={onBeforeMountComponent:function(e,o){t(e,o)},onBeforeUpdateComponent:function(e,o){t(e,o)}};o.exports=p});C.r("node_modules/react-dom/lib/ReactDOMOption.js",function(e,t,r){"use strict";function n(e){var t="";return a.Children.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:c||(c=!0))}),t}var l=e("object-assign"),a=e("react/lib/React"),o=e("./ReactDOMComponentTree"),u=e("./ReactDOMSelect"),c=(e("fbjs/lib/warning"),!1),i={mountWrapper:function(e,t,r){var l=null;if(null!=r){var a=r;"optgroup"===a._tag&&(a=a._hostParent),null!=a&&"select"===a._tag&&(l=u.getSelectValueContext(a))}var o=null;if(null!=l){var c;if(c=null!=t.value?t.value+"":n(t.children),o=!1,Array.isArray(l)){for(var i=0;i<l.length;i++)if(""+l[i]===c){o=!0;break}}else o=""+l===c}e._wrapperState={selected:o}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){o.getNodeFromInstance(e).setAttribute("value",t.value)}},getHostProps:function(e,t){var r=l({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(r.selected=e._wrapperState.selected);var a=n(t.children);return a&&(r.children=a),r}};t.exports=i});C.r("node_modules/react-dom/lib/ReactDOMSelect.js",function(e,t,a){"use strict";function l(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=p.getValue(e);null!=t&&n(this,Boolean(e.multiple),t)}}function n(e,t,a){var l,n,r=o.getNodeFromInstance(e).options;if(t){for(l={},n=0;n<a.length;n++)l[""+a[n]]=!0;for(n=0;n<r.length;n++){var i=l.hasOwnProperty(r[n].value);r[n].selected!==i&&(r[n].selected=i)}}else{for(l=""+a,n=0;n<r.length;n++)if(r[n].value===l)return void(r[n].selected=!0);r.length&&(r[0].selected=!0)}}function r(e){var t=this._currentElement.props,a=p.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),u.asap(l,this),a}var i=e("object-assign"),p=e("./LinkedValueUtils"),o=e("./ReactDOMComponentTree"),u=e("./ReactUpdates"),s=(e("fbjs/lib/warning"),!1),d={getHostProps:function(e,t){return i({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var a=p.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=a?a:t.defaultValue,listeners:null,onChange:r.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||s||(s=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var a=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var l=p.getValue(t);null!=l?(e._wrapperState.pendingUpdate=!1,n(e,Boolean(t.multiple),l)):a!==Boolean(t.multiple)&&(null!=t.defaultValue?n(e,Boolean(t.multiple),t.defaultValue):n(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=d});C.r("node_modules/react-dom/lib/ReactDOMSelection.js",function(e,t,n){"use strict";function o(e,t,n,o){return e===n&&t===o}function r(e){var t=document.selection,n=t.createRange(),o=n.text.length,r=n.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",n);var a=r.text.length;return{start:a,end:a+o}}function a(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,a=t.focusNode,s=t.focusOffset,d=t.getRangeAt(0);try{d.startContainer.nodeType,d.endContainer.nodeType}catch(e){return null}var c=o(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),i=c?0:d.toString().length,f=d.cloneRange();f.selectNodeContents(e),f.setEnd(d.startContainer,d.startOffset);var l=o(f.startContainer,f.startOffset,f.endContainer,f.endOffset),u=l?0:f.toString().length,g=u+i,v=document.createRange();v.setStart(n,r),v.setEnd(a,s);var m=v.collapsed;return{start:m?g:u,end:m?u:g}}function s(e,t){var n,o,r=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,o=n):t.start>t.end?(n=t.end,o=t.start):(n=t.start,o=t.end),r.moveToElementText(e),r.moveStart("character",n),r.setEndPoint("EndToStart",r),r.moveEnd("character",o-n),r.select()}function d(e,t){if(window.getSelection){var n=window.getSelection(),o=e[f()].length,r=Math.min(t.start,o),a=void 0===t.end?r:Math.min(t.end,o);if(!n.extend&&r>a){var s=a;a=r,r=s}var d=i(e,r),c=i(e,a);if(d&&c){var l=document.createRange();l.setStart(d.node,d.offset),n.removeAllRanges(),r>a?(n.addRange(l),n.extend(c.node,c.offset)):(l.setEnd(c.node,c.offset),n.addRange(l))}}}var c=e("fbjs/lib/ExecutionEnvironment"),i=e("./getNodeForCharacterOffset"),f=e("./getTextContentAccessor"),l=c.canUseDOM&&"selection"in document&&!("getSelection"in window),u={getOffsets:l?r:a,setOffsets:l?s:d};t.exports=u});C.r("node_modules/react-dom/lib/ReactDOMTextComponent.js",function(t,e,n){"use strict";var o=t("./reactProdInvariant"),i=t("object-assign"),r=t("./DOMChildrenOperations"),s=t("./DOMLazyTree"),c=t("./ReactDOMComponentTree"),m=t("./escapeTextContentForBrowser"),a=(t("fbjs/lib/invariant"),t("./validateDOMNesting"),function(t){this._currentElement=t,this._stringText=""+t,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});i(a.prototype,{mountComponent:function(t,e,n,o){var i=n._idCounter++,r=" react-text: "+i+" ";if(this._domID=i,this._hostParent=e,t.useCreateElement){var a=n._ownerDocument,h=a.createComment(r),u=a.createComment(" /react-text "),l=s(a.createDocumentFragment());return s.queueChild(l,s(h)),this._stringText&&s.queueChild(l,s(a.createTextNode(this._stringText))),s.queueChild(l,s(u)),c.precacheNode(this,h),this._closingComment=u,l}var d=m(this._stringText);return t.renderToStaticMarkup?d:"\x3c!--"+r+"--\x3e"+d+"\x3c!-- /react-text --\x3e"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;if(n!==this._stringText){this._stringText=n;var o=this.getHostNode();r.replaceDelimitedText(o[0],o[1],n)}}},getHostNode:function(){var t=this._commentNodes;if(t)return t;if(!this._closingComment)for(var e=c.getNodeFromInstance(this),n=e.nextSibling;;){if(null==n&&o("67",this._domID),8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return t=[this._hostNode,this._closingComment],this._commentNodes=t,t},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,c.uncacheNode(this)}}),e.exports=a});C.r("node_modules/react-dom/lib/ReactDOMTextarea.js",function(e,a,t){"use strict";function n(){this._rootNodeID&&s.updateWrapper(this)}function l(e){var a=this._currentElement.props,t=i.executeOnChange(a,e);return p.asap(n,this),t}var r=e("./reactProdInvariant"),u=e("object-assign"),i=e("./LinkedValueUtils"),o=e("./ReactDOMComponentTree"),p=e("./ReactUpdates"),s=(e("fbjs/lib/invariant"),e("fbjs/lib/warning"),{getHostProps:function(e,a){return null!=a.dangerouslySetInnerHTML&&r("91"),u({},a,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange})},mountWrapper:function(e,a){var t=i.getValue(a),n=t;if(null==t){var u=a.defaultValue,o=a.children;null!=o&&(null!=u&&r("92"),Array.isArray(o)&&(o.length<=1||r("93"),o=o[0]),u=""+o),null==u&&(u=""),n=u}e._wrapperState={initialValue:""+n,listeners:null,onChange:l.bind(e)}},updateWrapper:function(e){var a=e._currentElement.props,t=o.getNodeFromInstance(e),n=i.getValue(a);if(null!=n){var l=""+n;l!==t.value&&(t.value=l),null==a.defaultValue&&(t.defaultValue=l)}null!=a.defaultValue&&(t.defaultValue=a.defaultValue)},postMountWrapper:function(e){var a=o.getNodeFromInstance(e),t=a.textContent;t===e._wrapperState.initialValue&&(a.value=t)}});a.exports=s});C.r("node_modules/react-dom/lib/ReactDOMTreeTraversal.js",function(r,t,e){"use strict";function n(r,t){"_hostNode"in r||f("33"),"_hostNode"in t||f("33");for(var e=0,n=r;n;n=n._hostParent)e++;for(var o=0,a=t;a;a=a._hostParent)o++;for(;e-o>0;)r=r._hostParent,e--;for(;o-e>0;)t=t._hostParent,o--;for(var s=e;s--;){if(r===t)return r;r=r._hostParent,t=t._hostParent}return null}function o(r,t){"_hostNode"in r||f("35"),"_hostNode"in t||f("35");for(;t;){if(t===r)return!0;t=t._hostParent}return!1}function a(r){return"_hostNode"in r||f("36"),r._hostParent}function s(r,t,e){for(var n=[];r;)n.push(r),r=r._hostParent;var o;for(o=n.length;o-- >0;)t(n[o],"captured",e);for(o=0;o<n.length;o++)t(n[o],"bubbled",e)}function h(r,t,e,o,a){for(var s=r&&t?n(r,t):null,h=[];r&&r!==s;)h.push(r),r=r._hostParent;for(var f=[];t&&t!==s;)f.push(t),t=t._hostParent;var u;for(u=0;u<h.length;u++)e(h[u],"bubbled",o);for(u=f.length;u-- >0;)e(f[u],"captured",a)}var f=r("./reactProdInvariant");r("fbjs/lib/invariant");t.exports={isAncestor:o,getLowestCommonAncestor:n,getParentInstance:a,traverseTwoPhase:s,traverseEnterLeave:h}});C.r("node_modules/react-dom/lib/ReactDOMUnknownPropertyHook.js",function(n,o,e){"use strict";function t(n,o){null!=o&&"string"==typeof o.type&&(o.type.indexOf("-")>=0||o.props.is||i(n,o))}var r,i=(n("./DOMProperty"),n("./EventPluginRegistry"),n("react/lib/ReactComponentTreeHook"),n("fbjs/lib/warning"),function(n,o){var e=[];for(var t in o.props){r(o.type,t,n)||e.push(t)}e.map(function(n){return"`"+n+"`"}).join(", ");1===e.length||e.length}),p={onBeforeMountComponent:function(n,o){t(n,o)},onBeforeUpdateComponent:function(n,o){t(n,o)}};o.exports=p});C.r("node_modules/react-dom/lib/ReactDebugTool.js",function(n,e,o){"use strict";function t(n,e,o,t,r,i,u,a){try{e.call(o,t,r,i,u,a)}catch(e){k[n]=!0}}function r(n,e,o,r,i,u){for(var a=0;a<H.length;a++){var f=H[a],c=f[n];c&&t(n,c,f,e,o,r,i,u)}}function i(){v.purgeUnmountedComponents(),h.clearHistory()}function u(n){return n.reduce(function(n,e){var o=v.getOwnerID(e),t=v.getParentID(e);return n[e]={displayName:v.getDisplayName(e),text:v.getText(e),updateCount:v.getUpdateCount(e),childIDs:v.getChildIDs(e),ownerID:o||t&&v.getOwnerID(t)||0,parentID:t},n},{})}function a(){var n=U,e=E,o=h.getHistory();if(0===B)return U=0,E=[],void i();if(e.length||o.length){var t=v.getRegisteredIDs();b.push({duration:D()-n,measurements:e||[],operations:o||[],treeSnapshot:u(t)})}i(),U=D(),E=[]}function f(n){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}function c(n,e){0!==B&&(w&&!x&&(x=!0),M=D(),P=0,S=n,w=e)}function s(n,e){0!==B&&(w===e||x||(x=!0),T&&E.push({timerType:e,instanceID:n,duration:D()-M-P}),M=0,P=0,S=null,w=null)}function l(){var n={startTime:M,nestedFlushStartTime:D(),debugID:S,timerType:w};I.push(n),M=0,P=0,S=null,w=null}function p(){var n=I.pop(),e=n.startTime,o=n.nestedFlushStartTime,t=n.debugID,r=n.timerType,i=D()-o;M=e,P+=i,S=t,w=r}function m(n){if(!T||!O)return!1;var e=v.getElement(n);return null!=e&&"object"==typeof e&&!("string"==typeof e.type)}function d(n,e){if(m(n)){var o=n+"::"+e;F=D(),performance.mark(o)}}function g(n,e){if(m(n)){var o=n+"::"+e,t=v.getDisplayName(n)||"Unknown";if(D()-F>.1){var r=t+" ["+e+"]";performance.measure(r,o)}performance.clearMarks(o),r&&performance.clearMeasures(r)}}var C=n("./ReactInvalidSetStateWarningHook"),h=n("./ReactHostOperationHistoryHook"),v=n("react/lib/ReactComponentTreeHook"),y=n("fbjs/lib/ExecutionEnvironment"),D=n("fbjs/lib/performanceNow"),H=(n("fbjs/lib/warning"),[]),k={},T=!1,b=[],I=[],B=0,E=[],U=0,S=null,M=0,P=0,w=null,x=!1,F=0,O="undefined"!=typeof performance&&"function"==typeof performance.mark&&"function"==typeof performance.clearMarks&&"function"==typeof performance.measure&&"function"==typeof performance.clearMeasures,j={addHook:function(n){H.push(n)},removeHook:function(n){for(var e=0;e<H.length;e++)H[e]===n&&(H.splice(e,1),e--)},isProfiling:function(){return T},beginProfiling:function(){T||(T=!0,b.length=0,a(),j.addHook(h))},endProfiling:function(){T&&(T=!1,a(),j.removeHook(h))},getFlushHistory:function(){return b},onBeginFlush:function(){B++,a(),l(),r("onBeginFlush")},onEndFlush:function(){a(),B--,p(),r("onEndFlush")},onBeginLifeCycleTimer:function(n,e){f(n),r("onBeginLifeCycleTimer",n,e),d(n,e),c(n,e)},onEndLifeCycleTimer:function(n,e){f(n),s(n,e),g(n,e),r("onEndLifeCycleTimer",n,e)},onBeginProcessingChildContext:function(){r("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){r("onEndProcessingChildContext")},onHostOperation:function(n){f(n.instanceID),r("onHostOperation",n)},onSetState:function(){r("onSetState")},onSetChildren:function(n,e){f(n),e.forEach(f),r("onSetChildren",n,e)},onBeforeMountComponent:function(n,e,o){f(n),f(o,!0),r("onBeforeMountComponent",n,e,o),d(n,"mount")},onMountComponent:function(n){f(n),g(n,"mount"),r("onMountComponent",n)},onBeforeUpdateComponent:function(n,e){f(n),r("onBeforeUpdateComponent",n,e),d(n,"update")},onUpdateComponent:function(n){f(n),g(n,"update"),r("onUpdateComponent",n)},onBeforeUnmountComponent:function(n){f(n),r("onBeforeUnmountComponent",n),d(n,"unmount")},onUnmountComponent:function(n){f(n),g(n,"unmount"),r("onUnmountComponent",n)},onTestEvent:function(){r("onTestEvent")}};j.addDevtool=j.addHook,j.removeDevtool=j.removeHook,j.addHook(C),j.addHook(v),/[?&]react_perf\b/.test(y.canUseDOM&&window.location.href||"")&&j.beginProfiling(),e.exports=j});C.r("node_modules/react-dom/lib/ReactDefaultBatchingStrategy.js",function(t,i,a){"use strict";function e(){this.reinitializeTransaction()}var n=t("object-assign"),s=t("./ReactUpdates"),c=t("./Transaction"),r=t("fbjs/lib/emptyFunction"),o={initialize:r,close:function(){l.isBatchingUpdates=!1}},p={initialize:r,close:s.flushBatchedUpdates.bind(s)},d=[p,o];n(e.prototype,c,{getTransactionWrappers:function(){return d}});var u=new e,l={isBatchingUpdates:!1,batchedUpdates:function(t,i,a,e,n,s){var c=l.isBatchingUpdates;return l.isBatchingUpdates=!0,c?t(i,a,e,n,s):u.perform(t,null,i,a,e,n,s)}};i.exports=l});C.r("node_modules/react-dom/lib/ReactDefaultInjection.js",function(e,n,t){"use strict";function o(){R||(R=!0,j.EventEmitter.injectReactEventListener(s),j.EventPluginHub.injectEventPluginOrder(a),j.EventPluginUtils.injectComponentTree(E),j.EventPluginUtils.injectTreeTraversal(P),j.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:M,EnterLeaveEventPlugin:l,ChangeEventPlugin:c,SelectEventPlugin:O,BeforeInputEventPlugin:r}),j.HostComponent.injectGenericComponentClass(g),j.HostComponent.injectTextComponentClass(m),j.DOMProperty.injectDOMPropertyConfig(i),j.DOMProperty.injectDOMPropertyConfig(p),j.DOMProperty.injectDOMPropertyConfig(y),j.EmptyComponent.injectEmptyComponentFactory(function(e){return new v(e)}),j.Updates.injectReconcileTransaction(D),j.Updates.injectBatchingStrategy(C),j.Component.injectEnvironment(u))}var i=e("./ARIADOMPropertyConfig"),r=e("./BeforeInputEventPlugin"),c=e("./ChangeEventPlugin"),a=e("./DefaultEventPluginOrder"),l=e("./EnterLeaveEventPlugin"),p=e("./HTMLDOMPropertyConfig"),u=e("./ReactComponentBrowserEnvironment"),g=e("./ReactDOMComponent"),E=e("./ReactDOMComponentTree"),v=e("./ReactDOMEmptyComponent"),P=e("./ReactDOMTreeTraversal"),m=e("./ReactDOMTextComponent"),C=e("./ReactDefaultBatchingStrategy"),s=e("./ReactEventListener"),j=e("./ReactInjection"),D=e("./ReactReconcileTransaction"),y=e("./SVGDOMPropertyConfig"),O=e("./SelectEventPlugin"),M=e("./SimpleEventPlugin"),R=!1;n.exports={inject:o}});C.r("node_modules/react-dom/lib/ReactElementSymbol.js",function(e,o,t){"use strict";var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;o.exports=l});C.r("node_modules/react-dom/lib/ReactEmptyComponent.js",function(t,n,e){"use strict";var o,c={injectEmptyComponentFactory:function(t){o=t}},r={create:function(t){return o(t)}};r.injection=c,n.exports=r});C.r("node_modules/react-dom/lib/ReactErrorUtils.js",function(r,t,a){"use strict";function l(r,t,a){try{t(a)}catch(r){null===o&&(o=r)}}var o=null,n={invokeGuardedCallback:l,invokeGuardedCallbackWithCatch:l,rethrowCaughtError:function(){if(o){var r=o;throw o=null,r}}};t.exports=n});C.r("node_modules/react-dom/lib/ReactEventEmitterMixin.js",function(e,t,n){"use strict";function u(e){i.enqueueEvents(e),i.processEventQueue(!1)}var i=e("./EventPluginHub"),o={handleTopLevel:function(e,t,n,o){u(i.extractEvents(e,t,n,o))}};t.exports=o});C.r("node_modules/react-dom/lib/ReactEventListener.js",function(e,n,t){"use strict";function o(e){for(;e._hostParent;)e=e._hostParent;var n=u.getNodeFromInstance(e),t=n.parentNode;return u.getClosestInstanceFromNode(t)}function l(e,n){this.topLevelType=e,this.nativeEvent=n,this.ancestors=[]}function a(e){var n=p(e.nativeEvent),t=u.getClosestInstanceFromNode(n),l=t;do{e.ancestors.push(l),l=l&&o(l)}while(l);for(var a=0;a<e.ancestors.length;a++)t=e.ancestors[a],f._handleTopLevel(e.topLevelType,t,e.nativeEvent,p(e.nativeEvent))}function s(e){e(b(window))}var i=e("object-assign"),r=e("fbjs/lib/EventListener"),d=e("fbjs/lib/ExecutionEnvironment"),c=e("./PooledClass"),u=e("./ReactDOMComponentTree"),v=e("./ReactUpdates"),p=e("./getEventTarget"),b=e("fbjs/lib/getUnboundedScrollPosition");i(l.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(l,c.twoArgumentPooler);var f={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:d.canUseDOM?window:null,setHandleTopLevel:function(e){f._handleTopLevel=e},setEnabled:function(e){f._enabled=!!e},isEnabled:function(){return f._enabled},trapBubbledEvent:function(e,n,t){return t?r.listen(t,n,f.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,n,t){return t?r.capture(t,n,f.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var n=s.bind(null,e);r.listen(window,"scroll",n)},dispatchEvent:function(e,n){if(f._enabled){var t=l.getPooled(e,n);try{v.batchedUpdates(a,t)}finally{l.release(t)}}}};n.exports=f});C.r("node_modules/react-dom/lib/ReactFeatureFlags.js",function(e,o,r){"use strict";var s={logTopLevelRenders:!1};o.exports=s});C.r("node_modules/react-dom/lib/ReactHostComponent.js",function(n,t,e){"use strict";function o(n){return a||c("111",n.type),new a(n)}function r(n){return new s(n)}function i(n){return n instanceof s}var c=n("./reactProdInvariant"),a=(n("fbjs/lib/invariant"),null),s=null,u={injectGenericComponentClass:function(n){a=n},injectTextComponentClass:function(n){s=n}},l={createInternalComponent:o,createInstanceForText:r,isTextComponent:i,injection:u};t.exports=l});C.r("node_modules/react-dom/lib/ReactHostOperationHistoryHook.js",function(t,o,n){"use strict";var r=[],e={onHostOperation:function(t){r.push(t)},clearHistory:function(){e._preventClearing||(r=[])},getHistory:function(){return r}};o.exports=e});C.r("node_modules/react-dom/lib/ReactInjection.js",function(t,n,e){"use strict";var o=t("./DOMProperty"),i=t("./EventPluginHub"),c=t("./EventPluginUtils"),r=t("./ReactComponentEnvironment"),m=t("./ReactEmptyComponent"),p=t("./ReactBrowserEventEmitter"),s=t("./ReactHostComponent"),E=t("./ReactUpdates"),a={Component:r.injection,DOMProperty:o.injection,EmptyComponent:m.injection,EventPluginHub:i.injection,EventPluginUtils:c.injection,EventEmitter:p.injection,HostComponent:s.injection,Updates:E.injection};n.exports=a});C.r("node_modules/react-dom/lib/ReactInputSelection.js",function(e,t,n){"use strict";function o(e){return i(document.documentElement,e)}var a=e("./ReactDOMSelection"),i=e("fbjs/lib/containsNode"),c=e("fbjs/lib/focusNode"),l=e("fbjs/lib/getActiveElement"),s={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=l();return{focusedElem:e,selectionRange:s.hasSelectionCapabilities(e)?s.getSelection(e):null}},restoreSelection:function(e){var t=l(),n=e.focusedElem,a=e.selectionRange;t!==n&&o(n)&&(s.hasSelectionCapabilities(n)&&s.setSelection(n,a),c(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=a.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,o=t.end;if(void 0===o&&(o=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(o,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",o-n),i.select()}else a.setOffsets(e,t)}};t.exports=s});C.r("node_modules/react-dom/lib/ReactInstanceMap.js",function(n,t,e){"use strict";var a={remove:function(n){n._reactInternalInstance=void 0},get:function(n){return n._reactInternalInstance},has:function(n){return void 0!==n._reactInternalInstance},set:function(n,t){n._reactInternalInstance=t}};t.exports=a});C.r("node_modules/react-dom/lib/ReactInstrumentation.js",function(t,e,o){"use strict";var n=null;e.exports={debugTool:n}});C.r("node_modules/react-dom/lib/ReactInvalidSetStateWarningHook.js",function(n,t,o){"use strict";var e,i,s=(n("fbjs/lib/warning"),{onBeginProcessingChildContext:function(){e=!0},onEndProcessingChildContext:function(){e=!1},onSetState:function(){i()}});t.exports=s});C.r("node_modules/react-dom/lib/ReactMarkupChecksum.js",function(e,r,t){"use strict";var a=e("./adler32"),u=/\/?>/,c=/^<\!\-\-/,n={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var r=a(e);return c.test(e)?e:e.replace(u," "+n.CHECKSUM_ATTR_NAME+'="'+r+'"$&')},canReuseMarkup:function(e,r){var t=r.getAttribute(n.CHECKSUM_ATTR_NAME);return t=t&&parseInt(t,10),a(e)===t}};r.exports=n});C.r("node_modules/react-dom/lib/ReactMount.js",function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===S?e.documentElement:e.firstChild:null}function a(e){return e.getAttribute&&e.getAttribute(U)||""}function i(e,t,n,r,o){var a;if(b.logTopLevelRenders){var i=e._currentElement.props.child,c=i.type;a="React mount: "+("string"==typeof c?c:c.displayName||c.name),console.time(a)}var u=E.mountComponent(e,n,null,h(e,t),o,0);a&&console.timeEnd(a),e._renderedComponent._topLevelWrapper=e,B._mountImageIntoNode(u,t,e,r,n)}function c(e,t,n,r){var o=y.ReactReconcileTransaction.getPooled(!n&&T.useCreateElement);o.perform(i,null,e,t,o,n,r),y.ReactReconcileTransaction.release(o)}function u(e,t,n){for(E.unmountComponent(e,n),t.nodeType===S&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function l(e){var t=o(e);if(t){var n=_.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function s(e){return!(!e||e.nodeType!==L&&e.nodeType!==S&&e.nodeType!==k)}function d(e){var t=o(e),n=t&&_.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function p(e){var t=d(e);return t?t._hostContainerInfo._topLevelWrapper:null}var m=e("./reactProdInvariant"),f=e("./DOMLazyTree"),C=e("./DOMProperty"),v=e("react/lib/React"),R=e("./ReactBrowserEventEmitter"),_=(e("react/lib/ReactCurrentOwner"),e("./ReactDOMComponentTree")),h=e("./ReactDOMContainerInfo"),T=e("./ReactDOMFeatureFlags"),b=e("./ReactFeatureFlags"),I=e("./ReactInstanceMap"),g=(e("./ReactInstrumentation"),e("./ReactMarkupChecksum")),E=e("./ReactReconciler"),M=e("./ReactUpdateQueue"),y=e("./ReactUpdates"),A=e("fbjs/lib/emptyObject"),N=e("./instantiateReactComponent"),D=(e("fbjs/lib/invariant"),e("./setInnerHTML")),O=e("./shouldUpdateReactComponent"),U=(e("fbjs/lib/warning"),C.ID_ATTRIBUTE_NAME),F=C.ROOT_ATTRIBUTE_NAME,L=1,S=9,k=11,P={},w=1,j=function(){this.rootID=w++};j.prototype.isReactComponent={},j.prototype.render=function(){return this.props.child},j.isReactTopLevelWrapper=!0;var B={TopLevelWrapper:j,_instancesByReactRootID:P,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,o){return B.scrollMonitor(r,function(){M.enqueueElementInternal(e,t,n),o&&M.enqueueCallbackInternal(e,o)}),e},_renderNewRootComponent:function(e,t,n,r){s(t)||m("37"),R.ensureScrollValueMonitoring();var o=N(e,!1);y.batchedUpdates(c,o,t,n,r);var a=o._instance.rootID;return P[a]=o,o},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&I.has(e)||m("38"),B._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){M.validateCallback(r,"ReactDOM.render"),v.isValidElement(t)||m("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var i,c=v.createElement(j,{child:t});if(e){var u=I.get(e);i=u._processChildContext(u._context)}else i=A;var s=p(n);if(s){var d=s._currentElement,f=d.props.child;if(O(f,t)){var C=s._renderedComponent.getPublicInstance(),R=r&&function(){r.call(C)};return B._updateRootComponent(s,c,i,n,R),C}B.unmountComponentAtNode(n)}var _=o(n),h=_&&!!a(_),T=l(n),b=h&&!s&&!T,g=B._renderNewRootComponent(c,n,b,i)._renderedComponent.getPublicInstance();return r&&r.call(g),g},render:function(e,t,n){return B._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){s(e)||m("40");var t=p(e);if(!t){l(e),1===e.nodeType&&e.hasAttribute(F);return!1}return delete P[t._instance.rootID],y.batchedUpdates(u,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,a,i){if(s(t)||m("41"),a){var c=o(t);if(g.canReuseMarkup(e,c))return void _.precacheNode(n,c);var u=c.getAttribute(g.CHECKSUM_ATTR_NAME);c.removeAttribute(g.CHECKSUM_ATTR_NAME);var l=c.outerHTML;c.setAttribute(g.CHECKSUM_ATTR_NAME,u);var d=e,p=r(d,l),C=" (client) "+d.substring(p-20,p+20)+"\n (server) "+l.substring(p-20,p+20);t.nodeType===S&&m("42",C)}if(t.nodeType===S&&m("43"),i.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);f.insertTreeBefore(t,e,null)}else D(t,e),_.precacheNode(n,t.firstChild)}};t.exports=B});C.r("node_modules/react-dom/lib/ReactMultiChild.js",function(n,e,t){"use strict";function r(n,e,t){return{type:"INSERT_MARKUP",content:n,fromIndex:null,fromNode:null,toIndex:t,afterNode:e}}function o(n,e,t){return{type:"MOVE_EXISTING",content:null,fromIndex:n._mountIndex,fromNode:f.getHostNode(n),toIndex:t,afterNode:e}}function i(n,e){return{type:"REMOVE_NODE",content:null,fromIndex:n._mountIndex,fromNode:e,toIndex:null,afterNode:null}}function d(n){return{type:"SET_MARKUP",content:n,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(n){return{type:"TEXT_CONTENT",content:n,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function l(n,e){return e&&(n=n||[],n.push(e)),n}function h(n,e){c.processChildrenUpdates(n,e)}var a=n("./reactProdInvariant"),c=n("./ReactComponentEnvironment"),f=(n("./ReactInstanceMap"),n("./ReactInstrumentation"),n("react/lib/ReactCurrentOwner"),n("./ReactReconciler")),s=n("./ReactChildReconciler"),m=(n("fbjs/lib/emptyFunction"),n("./flattenChildren")),C=(n("fbjs/lib/invariant"),{Mixin:{_reconcilerInstantiateChildren:function(n,e,t){return s.instantiateChildren(n,e,t)},_reconcilerUpdateChildren:function(n,e,t,r,o,i){var d,u=0;return d=m(e,u),s.updateChildren(n,d,t,r,o,this,this._hostContainerInfo,i,u),d},mountChildren:function(n,e,t){var r=this._reconcilerInstantiateChildren(n,e,t);this._renderedChildren=r;var o=[],i=0;for(var d in r)if(r.hasOwnProperty(d)){var u=r[d],l=0,h=f.mountComponent(u,e,this,this._hostContainerInfo,t,l);u._mountIndex=i++,o.push(h)}return o},updateTextContent:function(n){var e=this._renderedChildren;s.unmountChildren(e,!1);for(var t in e)e.hasOwnProperty(t)&&a("118");h(this,[u(n)])},updateMarkup:function(n){var e=this._renderedChildren;s.unmountChildren(e,!1);for(var t in e)e.hasOwnProperty(t)&&a("118");h(this,[d(n)])},updateChildren:function(n,e,t){this._updateChildren(n,e,t)},_updateChildren:function(n,e,t){var r=this._renderedChildren,o={},i=[],d=this._reconcilerUpdateChildren(r,n,i,o,e,t);if(d||r){var u,a=null,c=0,s=0,m=0,C=null;for(u in d)if(d.hasOwnProperty(u)){var _=r&&r[u],I=d[u];_===I?(a=l(a,this.moveChild(_,C,c,s)),s=Math.max(_._mountIndex,s),_._mountIndex=c):(_&&(s=Math.max(_._mountIndex,s)),a=l(a,this._mountChildAtIndex(I,i[m],C,c,e,t)),m++),c++,C=f.getHostNode(I)}for(u in o)o.hasOwnProperty(u)&&(a=l(a,this._unmountChild(r[u],o[u])));a&&h(this,a),this._renderedChildren=d}},unmountChildren:function(n){var e=this._renderedChildren;s.unmountChildren(e,n),this._renderedChildren=null},moveChild:function(n,e,t,r){if(n._mountIndex<r)return o(n,e,t)},createChild:function(n,e,t){return r(t,e,n._mountIndex)},removeChild:function(n,e){return i(n,e)},_mountChildAtIndex:function(n,e,t,r,o,i){return n._mountIndex=r,this.createChild(n,t,e)},_unmountChild:function(n,e){var t=this.removeChild(n,e);return n._mountIndex=null,t}}});e.exports=C});C.r("node_modules/react-dom/lib/ReactNodeTypes.js",function(e,t,n){"use strict";var i=e("./reactProdInvariant"),r=e("react/lib/React"),a=(e("fbjs/lib/invariant"),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||!1===e?a.EMPTY:r.isValidElement(e)?"function"==typeof e.type?a.COMPOSITE:a.HOST:void i("26",e)}});t.exports=a});C.r("node_modules/react-dom/lib/ReactOwner.js",function(t,e,n){"use strict";function o(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)}var a=t("./reactProdInvariant"),c=(t("fbjs/lib/invariant"),{addComponentAsRefTo:function(t,e,n){o(n)||a("119"),n.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,n){o(n)||a("120");var c=n.getPublicInstance();c&&c.refs[e]===t.getPublicInstance()&&n.detachRef(e)}});e.exports=c});C.r("node_modules/react-dom/lib/ReactPropTypeLocationNames.js",function(e,o,t){"use strict";var r={};o.exports=r});C.r("node_modules/react-dom/lib/ReactPropTypesSecret.js",function(_,e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"});C.r("node_modules/react-dom/lib/ReactReconcileTransaction.js",function(t,e,n){"use strict";function i(t){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=a.getPooled(null),this.useCreateElement=t}var o=t("object-assign"),a=t("./CallbackQueue"),c=t("./PooledClass"),r=t("./ReactBrowserEventEmitter"),u=t("./ReactInputSelection"),s=(t("./ReactInstrumentation"),t("./Transaction")),l=t("./ReactUpdateQueue"),d={initialize:u.getSelectionInformation,close:u.restoreSelection},R={initialize:function(){var t=r.isEnabled();return r.setEnabled(!1),t},close:function(t){r.setEnabled(t)}},f={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[d,R,f],p={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return l},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(t){this.reactMountReady.rollback(t)},destructor:function(){a.release(this.reactMountReady),this.reactMountReady=null}};o(i.prototype,s,p),c.addPoolingTo(i),e.exports=i});C.r("node_modules/react-dom/lib/ReactReconciler.js",function(e,t,n){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=e("./ReactRef"),u=(e("./ReactInstrumentation"),e("fbjs/lib/warning"),{mountComponent:function(e,t,n,o,u,c){var a=e.mountComponent(t,n,o,u,c);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),a},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){o.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,u){var c=e._currentElement;if(t!==c||u!==e._context){var a=o.shouldUpdateRefs(c,t);a&&o.detachRefs(e,c),e.receiveComponent(t,n,u),a&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});t.exports=u});C.r("node_modules/react-dom/lib/ReactRef.js",function(e,n,o){"use strict";function t(e,n,o){"function"==typeof e?e(n.getPublicInstance()):l.addComponentAsRefTo(n,e,o)}function f(e,n,o){"function"==typeof e?e(null):l.removeComponentAsRefFrom(n,e,o)}var l=e("./ReactOwner"),u={};u.attachRefs=function(e,n){if(null!==n&&"object"==typeof n){var o=n.ref;null!=o&&t(o,e,n._owner)}},u.shouldUpdateRefs=function(e,n){var o=null,t=null;null!==e&&"object"==typeof e&&(o=e.ref,t=e._owner);var f=null,l=null;return null!==n&&"object"==typeof n&&(f=n.ref,l=n._owner),o!==f||"string"==typeof f&&l!==t},u.detachRefs=function(e,n){if(null!==n&&"object"==typeof n){var o=n.ref;null!=o&&f(o,e,n._owner)}},n.exports=u});C.r("node_modules/react-dom/lib/ReactServerRenderingTransaction.js",function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new a(this)}var i=e("object-assign"),o=e("./PooledClass"),u=e("./Transaction"),a=(e("./ReactInstrumentation"),e("./ReactServerUpdateQueue")),c=[],s={enqueue:function(){}},d={getTransactionWrappers:function(){return c},getReactMountReady:function(){return s},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};i(r.prototype,u,d),o.addPoolingTo(r),t.exports=r});C.r("node_modules/react-dom/lib/ReactServerUpdateQueue.js",function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=t("./ReactUpdateQueue"),i=(t("fbjs/lib/warning"),function(){function t(e){a(this,t),this.transaction=e}return t.prototype.isMounted=function(t){return!1},t.prototype.enqueueCallback=function(t,e,n){this.transaction.isInTransaction()&&o.enqueueCallback(t,e,n)},t.prototype.enqueueForceUpdate=function(t){this.transaction.isInTransaction()&&o.enqueueForceUpdate(t)},t.prototype.enqueueReplaceState=function(t,e){this.transaction.isInTransaction()&&o.enqueueReplaceState(t,e)},t.prototype.enqueueSetState=function(t,e){this.transaction.isInTransaction()&&o.enqueueSetState(t,e)},t}());e.exports=i});C.r("node_modules/react-dom/lib/ReactUpdateQueue.js",function(e,n,t){"use strict";function a(e){r.enqueueUpdate(e)}function u(e){var n=typeof e;if("object"!==n)return n;var t=e.constructor&&e.constructor.name||n,a=Object.keys(e);return a.length>0&&a.length<20?t+" (keys: "+a.join(", ")+")":t}function l(e,n){var t=i.get(e);if(!t){return null}return t}var c=e("./reactProdInvariant"),i=(e("react/lib/ReactCurrentOwner"),e("./ReactInstanceMap")),r=(e("./ReactInstrumentation"),e("./ReactUpdates")),o=(e("fbjs/lib/invariant"),e("fbjs/lib/warning"),{isMounted:function(e){var n=i.get(e);return!!n&&!!n._renderedComponent},enqueueCallback:function(e,n,t){o.validateCallback(n,t);var u=l(e);if(!u)return null;u._pendingCallbacks?u._pendingCallbacks.push(n):u._pendingCallbacks=[n],a(u)},enqueueCallbackInternal:function(e,n){e._pendingCallbacks?e._pendingCallbacks.push(n):e._pendingCallbacks=[n],a(e)},enqueueForceUpdate:function(e){var n=l(e,"forceUpdate");n&&(n._pendingForceUpdate=!0,a(n))},enqueueReplaceState:function(e,n,t){var u=l(e,"replaceState");u&&(u._pendingStateQueue=[n],u._pendingReplaceState=!0,void 0!==t&&null!==t&&(o.validateCallback(t,"replaceState"),u._pendingCallbacks?u._pendingCallbacks.push(t):u._pendingCallbacks=[t]),a(u))},enqueueSetState:function(e,n){var t=l(e,"setState");if(t){(t._pendingStateQueue||(t._pendingStateQueue=[])).push(n),a(t)}},enqueueElementInternal:function(e,n,t){e._pendingElement=n,e._context=t,a(e)},validateCallback:function(e,n){e&&"function"!=typeof e&&c("122",n,u(e))}});n.exports=o});C.r("node_modules/react-dom/lib/ReactUpdates.js",function(e,n,t){"use strict";function a(){L.ReactReconcileTransaction&&y||u("123")}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=h.getPooled(),this.reconcileTransaction=L.ReactReconcileTransaction.getPooled(!0)}function c(e,n,t,i,c,o){return a(),y.batchedUpdates(e,n,t,i,c,o)}function o(e,n){return e._mountOrder-n._mountOrder}function r(e){var n=e.dirtyComponentsLength;n!==b.length&&u("124",n,b.length),b.sort(o),R++;for(var t=0;t<n;t++){var a=b[t],i=a._pendingCallbacks;a._pendingCallbacks=null;var c;if(f.logTopLevelRenders){var r=a;a._currentElement.type.isReactTopLevelWrapper&&(r=a._renderedComponent),c="React update: "+r.getName(),console.time(c)}if(g.performUpdateIfNecessary(a,e.reconcileTransaction,R),c&&console.timeEnd(c),i)for(var l=0;l<i.length;l++)e.callbackQueue.enqueue(i[l],a.getPublicInstance())}}function l(e){if(a(),!y.isBatchingUpdates)return void y.batchedUpdates(l,e);b.push(e),null==e._updateBatchNumber&&(e._updateBatchNumber=R+1)}function s(e,n){y.isBatchingUpdates||u("125"),T.enqueue(e,n),v=!0}var u=e("./reactProdInvariant"),d=e("object-assign"),h=e("./CallbackQueue"),p=e("./PooledClass"),f=e("./ReactFeatureFlags"),g=e("./ReactReconciler"),m=e("./Transaction"),b=(e("fbjs/lib/invariant"),[]),R=0,T=h.getPooled(),v=!1,y=null,C={initialize:function(){this.dirtyComponentsLength=b.length},close:function(){this.dirtyComponentsLength!==b.length?(b.splice(0,this.dirtyComponentsLength),P()):b.length=0}},U={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},k=[C,U];d(i.prototype,m,{getTransactionWrappers:function(){return k},destructor:function(){this.dirtyComponentsLength=null,h.release(this.callbackQueue),this.callbackQueue=null,L.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,n,t){return m.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,n,t)}}),p.addPoolingTo(i);var P=function(){for(;b.length||v;){if(b.length){var e=i.getPooled();e.perform(r,null,e),i.release(e)}if(v){v=!1;var n=T;T=h.getPooled(),n.notifyAll(),h.release(n)}}},_={injectReconcileTransaction:function(e){e||u("126"),L.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||u("127"),"function"!=typeof e.batchedUpdates&&u("128"),"boolean"!=typeof e.isBatchingUpdates&&u("129"),y=e}},L={ReactReconcileTransaction:null,batchedUpdates:c,enqueueUpdate:l,flushBatchedUpdates:P,injection:_,asap:s};n.exports=L});C.r("node_modules/react-dom/lib/ReactVersion.js",function(e,o,s){"use strict";o.exports="15.6.1"});C.r("node_modules/react-dom/lib/SVGDOMPropertyConfig.js",function(e,t,i){"use strict";var n={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},r={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},o={Properties:{},DOMAttributeNamespaces:{xlinkActuate:n.xlink,xlinkArcrole:n.xlink,xlinkHref:n.xlink,xlinkRole:n.xlink,xlinkShow:n.xlink,xlinkTitle:n.xlink,xlinkType:n.xlink,xmlBase:n.xml,xmlLang:n.xml,xmlSpace:n.xml},DOMAttributeNames:{}};Object.keys(r).forEach(function(e){o.Properties[e]=0,r[e]&&(o.DOMAttributeNames[e]=r[e])}),t.exports=o});C.r("node_modules/react-dom/lib/SelectEventPlugin.js",function(e,t,n){"use strict";function o(e){if("selectionStart"in e&&s.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function c(e,t){if(v||null==m||m!==i())return null;var n=o(m);if(!h||!d(h,n)){h=n;var c=a.getPooled(b.select,g,e,t);return c.type="select",c.target=m,l.accumulateTwoPhaseDispatches(c),c}return null}var l=e("./EventPropagators"),u=e("fbjs/lib/ExecutionEnvironment"),r=e("./ReactDOMComponentTree"),s=e("./ReactInputSelection"),a=e("./SyntheticEvent"),i=e("fbjs/lib/getActiveElement"),p=e("./isTextInputElement"),d=e("fbjs/lib/shallowEqual"),f=u.canUseDOM&&"documentMode"in document&&document.documentMode<=11,b={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},m=null,g=null,h=null,v=!1,w=!1,E={eventTypes:b,extractEvents:function(e,t,n,o){if(!w)return null;var l=t?r.getNodeFromInstance(t):window;switch(e){case"topFocus":(p(l)||"true"===l.contentEditable)&&(m=l,g=t,h=null);break;case"topBlur":m=null,g=null,h=null;break;case"topMouseDown":v=!0;break;case"topContextMenu":case"topMouseUp":return v=!1,c(n,o);case"topSelectionChange":if(f)break;case"topKeyDown":case"topKeyUp":return c(n,o)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(w=!0)}};t.exports=E});C.r("node_modules/react-dom/lib/SimpleEventPlugin.js",function(e,t,a){"use strict";function o(e){return"."+e._rootNodeID}function n(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var c=e("./reactProdInvariant"),s=e("fbjs/lib/EventListener"),r=e("./EventPropagators"),p=e("./ReactDOMComponentTree"),i=e("./SyntheticAnimationEvent"),u=e("./SyntheticClipboardEvent"),d=e("./SyntheticEvent"),l=e("./SyntheticFocusEvent"),v=e("./SyntheticKeyboardEvent"),g=e("./SyntheticMouseEvent"),h=e("./SyntheticDragEvent"),E=e("./SyntheticTouchEvent"),y=e("./SyntheticTransitionEvent"),b=e("./SyntheticUIEvent"),m=e("./SyntheticWheelEvent"),S=e("fbjs/lib/emptyFunction"),C=e("./getEventCharCode"),k=(e("fbjs/lib/invariant"),{}),D={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),a="on"+t,o="top"+t,n={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[o]};k[e]=n,D[o]=n});var f={},P={eventTypes:k,extractEvents:function(e,t,a,o){var n=D[e];if(!n)return null;var s;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":s=d;break;case"topKeyPress":if(0===C(a))return null;case"topKeyDown":case"topKeyUp":s=v;break;case"topBlur":case"topFocus":s=l;break;case"topClick":if(2===a.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":s=g;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":s=h;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":s=E;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":s=i;break;case"topTransitionEnd":s=y;break;case"topScroll":s=b;break;case"topWheel":s=m;break;case"topCopy":case"topCut":case"topPaste":s=u}s||c("86",e);var p=s.getPooled(n,t,a,o);return r.accumulateTwoPhaseDispatches(p),p},didPutListener:function(e,t,a){if("onClick"===t&&!n(e._tag)){var c=o(e),r=p.getNodeFromInstance(e);f[c]||(f[c]=s.listen(r,"click",S))}},willDeleteListener:function(e,t){if("onClick"===t&&!n(e._tag)){var a=o(e);f[a].remove(),delete f[a]}}};t.exports=P});C.r("node_modules/react-dom/lib/SyntheticAnimationEvent.js",function(n,e,t){"use strict";function l(n,e,t,l){return i.call(this,n,e,t,l)}var i=n("./SyntheticEvent"),a={animationName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(l,a),e.exports=l});C.r("node_modules/react-dom/lib/SyntheticClipboardEvent.js",function(t,a,n){"use strict";function i(t,a,n,i){return r.call(this,t,a,n,i)}var r=t("./SyntheticEvent"),o={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};r.augmentClass(i,o),a.exports=i});C.r("node_modules/react-dom/lib/SyntheticCompositionEvent.js",function(t,n,e){"use strict";function i(t,n,e,i){return o.call(this,t,n,e,i)}var o=t("./SyntheticEvent"),s={data:null};o.augmentClass(i,s),n.exports=i});C.r("node_modules/react-dom/lib/SyntheticDragEvent.js",function(t,e,n){"use strict";function r(t,e,n,r){return s.call(this,t,e,n,r)}var s=t("./SyntheticMouseEvent"),a={dataTransfer:null};s.augmentClass(r,a),e.exports=r});C.r("node_modules/react-dom/lib/SyntheticEvent.js",function(t,e,n){"use strict";function r(t,e,n,r){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n;var a=this.constructor.Interface;for(var s in a)if(a.hasOwnProperty(s)){var i=a[s];i?this[s]=i(n):"target"===s?this.target=r:this[s]=n[s]}var u=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=u?o.thatReturnsTrue:o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse,this}var a=t("object-assign"),s=t("./PooledClass"),o=t("fbjs/lib/emptyFunction"),i=(t("fbjs/lib/warning"),["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),u={type:null,target:null,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};a(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=o.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=o.thatReturnsTrue)},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;for(var n=0;n<i.length;n++)this[i[n]]=null}}),r.Interface=u,r.augmentClass=function(t,e){var n=this,r=function(){};r.prototype=n.prototype;var o=new r;a(o,t.prototype),t.prototype=o,t.prototype.constructor=t,t.Interface=a({},n.Interface,e),t.augmentClass=n.augmentClass,s.addPoolingTo(t,s.fourArgumentPooler)},s.addPoolingTo(r,s.fourArgumentPooler),e.exports=r});C.r("node_modules/react-dom/lib/SyntheticFocusEvent.js",function(t,e,n){"use strict";function r(t,e,n,r){return s.call(this,t,e,n,r)}var s=t("./SyntheticUIEvent"),c={relatedTarget:null};s.augmentClass(r,c),e.exports=r});C.r("node_modules/react-dom/lib/SyntheticInputEvent.js",function(t,n,e){"use strict";function s(t,n,e,s){return u.call(this,t,n,e,s)}var u=t("./SyntheticEvent"),a={data:null};u.augmentClass(s,a),n.exports=s});C.r("node_modules/react-dom/lib/SyntheticKeyboardEvent.js",function(e,t,n){"use strict";function l(e,t,n,l){return y.call(this,e,t,n,l)}var y=e("./SyntheticUIEvent"),o=e("./getEventCharCode"),r=e("./getEventKey"),u=e("./getEventModifierState"),i={key:r,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:u,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};y.augmentClass(l,i),t.exports=l});C.r("node_modules/react-dom/lib/SyntheticMouseEvent.js",function(e,t,n){"use strict";function l(e,t,n,l){return r.call(this,e,t,n,l)}var r=e("./SyntheticUIEvent"),u=e("./ViewportMetrics"),i=e("./getEventModifierState"),c={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:i,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+u.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+u.currentScrollTop}};r.augmentClass(l,c),t.exports=l});C.r("node_modules/react-dom/lib/SyntheticTouchEvent.js",function(t,e,l){"use strict";function n(t,e,l,n){return u.call(this,t,e,l,n)}var u=t("./SyntheticUIEvent"),c=t("./getEventModifierState"),i={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:c};u.augmentClass(n,i),e.exports=n});C.r("node_modules/react-dom/lib/SyntheticTransitionEvent.js",function(e,t,n){"use strict";function l(e,t,n,l){return s.call(this,e,t,n,l)}var s=e("./SyntheticEvent"),i={propertyName:null,elapsedTime:null,pseudoElement:null};s.augmentClass(l,i),t.exports=l});C.r("node_modules/react-dom/lib/SyntheticUIEvent.js",function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=t("./SyntheticEvent"),u=t("./getEventTarget"),o={view:function(t){if(t.view)return t.view;var e=u(t);if(e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};r.augmentClass(i,o),e.exports=i});C.r("node_modules/react-dom/lib/SyntheticWheelEvent.js",function(e,t,l){"use strict";function n(e,t,l,n){return a.call(this,e,t,l,n)}var a=e("./SyntheticMouseEvent"),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};a.augmentClass(n,i),t.exports=n});C.r("node_modules/react-dom/lib/Transaction.js",function(i,t,a){"use strict";var n=i("./reactProdInvariant"),r=(i("fbjs/lib/invariant"),{}),s={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(i,t,a,r,s,l,e,c){this.isInTransaction()&&n("27");var o,h;try{this._isInTransaction=!0,o=!0,this.initializeAll(0),h=i.call(t,a,r,s,l,e,c),o=!1}finally{try{if(o)try{this.closeAll(0)}catch(i){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return h},initializeAll:function(i){for(var t=this.transactionWrappers,a=i;a<t.length;a++){var n=t[a];try{this.wrapperInitData[a]=r,this.wrapperInitData[a]=n.initialize?n.initialize.call(this):null}finally{if(this.wrapperInitData[a]===r)try{this.initializeAll(a+1)}catch(i){}}}},closeAll:function(i){this.isInTransaction()||n("28");for(var t=this.transactionWrappers,a=i;a<t.length;a++){var s,l=t[a],e=this.wrapperInitData[a];try{s=!0,e!==r&&l.close&&l.close.call(this,e),s=!1}finally{if(s)try{this.closeAll(a+1)}catch(i){}}}this.wrapperInitData.length=0}};t.exports=s});C.r("node_modules/react-dom/lib/ViewportMetrics.js",function(r,e,c){"use strict";var o={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(r){o.currentScrollLeft=r.x,o.currentScrollTop=r.y}};e.exports=o});C.r("node_modules/react-dom/lib/accumulateInto.js",function(r,a,n){"use strict";function t(r,a){return null==a&&i("30"),null==r?a:Array.isArray(r)?Array.isArray(a)?(r.push.apply(r,a),r):(r.push(a),r):Array.isArray(a)?[r].concat(a):[r,a]}var i=r("./reactProdInvariant");r("fbjs/lib/invariant");a.exports=t});C.r("node_modules/react-dom/lib/adler32.js",function(r,o,t){"use strict";function e(r){for(var o=1,t=0,e=0,c=r.length,d=-4&c;e<d;){for(var n=Math.min(e+4096,d);e<n;e+=4)t+=(o+=r.charCodeAt(e))+(o+=r.charCodeAt(e+1))+(o+=r.charCodeAt(e+2))+(o+=r.charCodeAt(e+3));o%=a,t%=a}for(;e<c;e++)t+=o+=r.charCodeAt(e);return o%=a,t%=a,o|t<<16}var a=65521;o.exports=e});C.r("node_modules/react-dom/lib/checkReactTypeSpec.js",function(e,r,a){"use strict";function n(e,r,a,n,i,f){for(var p in e)if(e.hasOwnProperty(p)){var l;try{"function"!=typeof e[p]&&t("84",n||"React class",c[a],p),l=e[p](r,p,n,a,null,s)}catch(e){l=e}if(l instanceof Error&&!(l.message in o)){o[l.message]=!0}}}var t=e("./reactProdInvariant"),c=e("./ReactPropTypeLocationNames"),s=e("./ReactPropTypesSecret");e("fbjs/lib/invariant"),e("fbjs/lib/warning");"undefined"!=typeof process&&process.env;var o={};r.exports=n});C.r("node_modules/react-dom/lib/createMicrosoftUnsafeLocalFunction.js",function(n,e,o){"use strict";var c=function(n){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,o,c,t){MSApp.execUnsafeLocalFunction(function(){return n(e,o,c,t)})}:n};e.exports=c});C.r("node_modules/react-dom/lib/dangerousStyleValue.js",function(r,e,t){"use strict";function n(r,e,t,n){if(null==e||"boolean"==typeof e||""===e)return"";var i=isNaN(e);if(n||i||0===e||o.hasOwnProperty(r)&&o[r])return""+e;if("string"==typeof e){e=e.trim()}return e+"px"}var i=r("./CSSProperty"),o=(r("fbjs/lib/warning"),i.isUnitlessNumber);e.exports=n});C.r("node_modules/react-dom/lib/escapeTextContentForBrowser.js",function(e,r,t){"use strict";function n(e){var r=""+e,t=o.exec(r);if(!t)return r;var n,a="",s=0,c=0;for(s=t.index;s<r.length;s++){switch(r.charCodeAt(s)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}c!==s&&(a+=r.substring(c,s)),c=s+1,a+=n}return c!==s?a+r.substring(c,s):a}function a(e){return"boolean"==typeof e||"number"==typeof e?""+e:n(e)}var o=/["'&<>]/;r.exports=a});C.r("node_modules/react-dom/lib/findDOMNode.js",function(e,n,t){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var n=a.get(e);if(n)return n=c(n),n?i.getNodeFromInstance(n):null;"function"==typeof e.render?o("44"):o("45",Object.keys(e))}var o=e("./reactProdInvariant"),i=(e("react/lib/ReactCurrentOwner"),e("./ReactDOMComponentTree")),a=e("./ReactInstanceMap"),c=e("./getHostComponentFromComposite");e("fbjs/lib/invariant"),e("fbjs/lib/warning");n.exports=r});C.r("node_modules/react-dom/lib/flattenChildren.js",function(e,n,r){"use strict";function t(e,n,r,t){if(e&&"object"==typeof e){var i=e,l=void 0===i[r];l&&null!=n&&(i[r]=n)}}function i(e,n){if(null==e)return e;var r={};return l(e,t,r),r}var l=(e("./KeyEscapeUtils"),e("./traverseAllChildren"));e("fbjs/lib/warning");"undefined"!=typeof process&&process.env,n.exports=i});C.r("node_modules/react-dom/lib/forEachAccumulated.js",function(r,c,o){"use strict";function a(r,c,o){Array.isArray(r)?r.forEach(c,o):r&&c.call(o,r)}c.exports=a});C.r("node_modules/react-dom/lib/getEventCharCode.js",function(e,o,r){"use strict";function t(e){var o,r=e.keyCode;return"charCode"in e?0===(o=e.charCode)&&13===r&&(o=13):o=r,o>=32||13===o?o:0}o.exports=t});C.r("node_modules/react-dom/lib/getEventKey.js",function(e,r,t){"use strict";function o(e){if(e.key){var r=i[e.key]||e.key;if("Unidentified"!==r)return r}if("keypress"===e.type){var t=n(e);return 13===t?"Enter":String.fromCharCode(t)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var n=e("./getEventCharCode"),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};r.exports=o});C.r("node_modules/react-dom/lib/getEventModifierState.js",function(t,e,r){"use strict";function i(t){var e=this,r=e.nativeEvent;if(r.getModifierState)return r.getModifierState(t);var i=o[t];return!!i&&!!r[i]}function n(t){return i}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=n});C.r("node_modules/react-dom/lib/getEventTarget.js",function(e,n,t){"use strict";function r(e){var n=e.target||e.srcElement||window;return n.correspondingUseElement&&(n=n.correspondingUseElement),3===n.nodeType?n.parentNode:n}n.exports=r});C.r("node_modules/react-dom/lib/getHostComponentFromComposite.js",function(e,o,n){"use strict";function r(e){for(var o;(o=e._renderedNodeType)===t.COMPOSITE;)e=e._renderedComponent;return o===t.HOST?e._renderedComponent:o===t.EMPTY?null:void 0}var t=e("./ReactNodeTypes");o.exports=r});C.r("node_modules/react-dom/lib/getIteratorFn.js",function(t,o,r){"use strict";function e(t){var o=t&&(n&&t[n]||t[i]);if("function"==typeof o)return o}var n="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";o.exports=e});C.r("node_modules/react-dom/lib/getNodeForCharacterOffset.js",function(t,e,n){"use strict";function r(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function o(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function i(t,e){for(var n=r(t),i=0,f=0;n;){if(3===n.nodeType){if(f=i+n.textContent.length,i<=e&&f>=e)return{node:n,offset:e-i};i=f}n=r(o(n))}}e.exports=i});C.r("node_modules/react-dom/lib/getTextContentAccessor.js",function(t,n,e){"use strict";function o(){return!r&&c.canUseDOM&&(r="textContent"in document.documentElement?"textContent":"innerText"),r}var c=t("fbjs/lib/ExecutionEnvironment"),r=null;n.exports=o});C.r("node_modules/react-dom/lib/getVendorPrefixedEventName.js",function(n,i,t){"use strict";function e(n,i){var t={};return t[n.toLowerCase()]=i.toLowerCase(),t["Webkit"+n]="webkit"+i,t["Moz"+n]="moz"+i,t["ms"+n]="MS"+i,t["O"+n]="o"+i.toLowerCase(),t}function a(n){if(m[n])return m[n];if(!r[n])return n;var i=r[n];for(var t in i)if(i.hasOwnProperty(t)&&t in s)return m[n]=i[t];return""}var o=n("fbjs/lib/ExecutionEnvironment"),r={animationend:e("Animation","AnimationEnd"),animationiteration:e("Animation","AnimationIteration"),animationstart:e("Animation","AnimationStart"),transitionend:e("Transition","TransitionEnd")},m={},s={};o.canUseDOM&&(s=document.createElement("div").style,"AnimationEvent"in window||(delete r.animationend.animation,delete r.animationiteration.animation,delete r.animationstart.animation),"TransitionEvent"in window||delete r.transitionend.transition),i.exports=a});C.r("node_modules/react-dom/lib/inputValueTracking.js",function(e,t,r){"use strict";function n(e){var t=e.type,r=e.nodeName;return r&&"input"===r.toLowerCase()&&("checkbox"===t||"radio"===t)}function a(e){return e._wrapperState.valueTracker}function o(e,t){e._wrapperState.valueTracker=t}function c(e){delete e._wrapperState.valueTracker}function u(e){var t;return e&&(t=n(e)?""+e.checked:e.value),t}var i=e("./ReactDOMComponentTree"),f={_getTrackerFromNode:function(e){return a(i.getInstanceFromNode(e))},track:function(e){if(!a(e)){var t=i.getNodeFromInstance(e),r=n(t)?"checked":"value",u=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),f=""+t[r];t.hasOwnProperty(r)||"function"!=typeof u.get||"function"!=typeof u.set||(Object.defineProperty(t,r,{enumerable:u.enumerable,configurable:!0,get:function(){return u.get.call(this)},set:function(e){f=""+e,u.set.call(this,e)}}),o(e,{getValue:function(){return f},setValue:function(e){f=""+e},stopTracking:function(){c(e),delete t[r]}}))}},updateValueIfChanged:function(e){if(!e)return!1;var t=a(e);if(!t)return f.track(e),!0;var r=t.getValue(),n=u(i.getNodeFromInstance(e));return n!==r&&(t.setValue(n),!0)},stopTracking:function(e){var t=a(e);t&&t.stopTracking()}};t.exports=f});C.r("node_modules/react-dom/lib/instantiateReactComponent.js",function(t,e,n){"use strict";function o(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}function r(t){return"function"==typeof t&&void 0!==t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function i(t,e){var n;if(null===t||!1===t)n=f.create(i);else if("object"==typeof t){var a=t,c=a.type;if("function"!=typeof c&&"string"!=typeof c){var y="";y+=o(a._owner),p("130",null==c?c:typeof c,y)}"string"==typeof a.type?n=u.createInternalComponent(a):r(a.type)?(n=new a.type(a),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new s(a)}else"string"==typeof t||"number"==typeof t?n=u.createInstanceForText(t):p("131",typeof t);return n._mountIndex=0,n._mountImage=null,n}var p=t("./reactProdInvariant"),a=t("object-assign"),c=t("./ReactCompositeComponent"),f=t("./ReactEmptyComponent"),u=t("./ReactHostComponent"),s=(t("react/lib/getNextDebugID"),t("fbjs/lib/invariant"),t("fbjs/lib/warning"),function(t){this.construct(t)});a(s.prototype,c,{_instantiateReactComponent:i}),e.exports=i});C.r("node_modules/react-dom/lib/isEventSupported.js",function(e,t,n){"use strict";function i(e,t){if(!r.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,i=n in document;if(!i){var u=document.createElement("div");u.setAttribute(n,"return;"),i="function"==typeof u[n]}return!i&&o&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var o,r=e("fbjs/lib/ExecutionEnvironment");r.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=i});C.r("node_modules/react-dom/lib/isTextInputElement.js",function(e,t,a){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!o[e.type]:"textarea"===t}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r});C.r("node_modules/react-dom/lib/quoteAttributeValueForBrowser.js",function(e,r,t){"use strict";function o(e){return'"'+n(e)+'"'}var n=e("./escapeTextContentForBrowser");r.exports=o});C.r("node_modules/react-dom/lib/reactProdInvariant.js",function(r,e,o){"use strict";function n(r){for(var e=arguments.length-1,o="Minified React error #"+r+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+r,n=0;n<e;n++)o+="&args[]="+encodeURIComponent(arguments[n+1]);o+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var t=new Error(o);throw t.name="Invariant Violation",t.framesToPop=1,t}e.exports=n});C.r("node_modules/react-dom/lib/renderSubtreeIntoContainer.js",function(e,r,t){"use strict";var n=e("./ReactMount");r.exports=n.renderSubtreeIntoContainer});C.r("node_modules/react-dom/lib/setInnerHTML.js",function(e,n,t){"use strict";var i,r=e("fbjs/lib/ExecutionEnvironment"),s=e("./DOMNamespaces"),a=/^[ \r\n\t\f]/,l=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,o=e("./createMicrosoftUnsafeLocalFunction"),c=o(function(e,n){if(e.namespaceURI!==s.svg||"innerHTML"in e)e.innerHTML=n;else{i=i||document.createElement("div"),i.innerHTML="<svg>"+n+"</svg>";for(var t=i.firstChild;t.firstChild;)e.appendChild(t.firstChild)}});if(r.canUseDOM){var d=document.createElement("div");d.innerHTML=" ",""===d.innerHTML&&(c=function(e,n){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(n)||"<"===n[0]&&l.test(n)){e.innerHTML=String.fromCharCode(65279)+n;var t=e.firstChild;1===t.data.length?e.removeChild(t):t.deleteData(0,1)}else e.innerHTML=n}),d=null}n.exports=c});C.r("node_modules/react-dom/lib/setTextContent.js",function(e,n,t){"use strict";var o=e("fbjs/lib/ExecutionEnvironment"),i=e("./escapeTextContentForBrowser"),r=e("./setInnerHTML"),d=function(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n};o.canUseDOM&&("textContent"in document.documentElement||(d=function(e,n){if(3===e.nodeType)return void(e.nodeValue=n);r(e,i(n))})),n.exports=d});C.r("node_modules/react-dom/lib/shouldUpdateReactComponent.js",function(e,t,n){"use strict";function r(e,t){var n=null===e||!1===e,r=null===t||!1===t;if(n||r)return n===r;var o=typeof e,u=typeof t;return"string"===o||"number"===o?"string"===u||"number"===u:"object"===u&&e.type===t.type&&e.key===t.key}t.exports=r});C.r("node_modules/react-dom/lib/traverseAllChildren.js",function(e,r,t){"use strict";function n(e,r){return e&&"object"==typeof e&&null!=e.key?s.escape(e.key):r.toString(36)}function a(e,r,t,i){var b=typeof e;if("undefined"!==b&&"boolean"!==b||(e=null),null===e||"string"===b||"number"===b||"object"===b&&e.$$typeof===o)return t(i,e,""===r?u+n(e,0):r),1;var v,j,y=0,d=""===r?u:r+f;if(Array.isArray(e))for(var p=0;p<e.length;p++)v=e[p],j=d+n(v,p),y+=a(v,j,t,i);else{var g=c(e);if(g){var m,k=g.call(e);if(g!==e.entries)for(var h=0;!(m=k.next()).done;)v=m.value,j=d+n(v,h++),y+=a(v,j,t,i);else for(;!(m=k.next()).done;){var w=m.value;w&&(v=w[1],j=d+s.escape(w[0])+f+n(v,0),y+=a(v,j,t,i))}}else if("object"===b){var x="",A=String(e);l("31","[object Object]"===A?"object with keys {"+Object.keys(e).join(", ")+"}":A,x)}}return y}function i(e,r,t){return null==e?0:a(e,"",r,t)}var l=e("./reactProdInvariant"),o=(e("react/lib/ReactCurrentOwner"),e("./ReactElementSymbol")),c=e("./getIteratorFn"),s=(e("fbjs/lib/invariant"),e("./KeyEscapeUtils")),u=(e("fbjs/lib/warning"),"."),f=":";r.exports=i});C.r("node_modules/react-dom/lib/validateDOMNesting.js",function(i,s,t){"use strict";var e=(i("object-assign"),i("fbjs/lib/emptyFunction")),n=(i("fbjs/lib/warning"),e);s.exports=n});C.r("node_modules/react-dom/node_modules/prop-types/checkPropTypes.js",function(e,o,s){"use strict";function t(e,o,s,t,c){}o.exports=t});C.r("node_modules/react-dom/node_modules/prop-types/factory.js",function(e,o,r){"use strict";var t=e("./factoryWithTypeCheckers");o.exports=function(e){return t(e,!1)}});C.r("node_modules/react-dom/node_modules/prop-types/factoryWithTypeCheckers.js",function(e,n,r){"use strict";var t=e("fbjs/lib/emptyFunction"),o=e("fbjs/lib/invariant"),u=e("fbjs/lib/warning"),i=e("./lib/ReactPropTypesSecret"),a=e("./checkPropTypes");n.exports=function(e,n){function r(e){var n=e&&(P&&e[P]||e[R]);if("function"==typeof n)return n}function f(e,n){return e===n?0!==e||1/e==1/n:e!==e&&n!==n}function c(e){this.message=e,this.stack=""}function l(e){function r(r,t,u,a,f,l,s){if(a=a||k,l=l||u,s!==i)if(n)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==t[u]?r?new c(null===t[u]?"The "+f+" `"+l+"` is marked as required in `"+a+"`, but its value is `null`.":"The "+f+" `"+l+"` is marked as required in `"+a+"`, but its value is `undefined`."):null:e(t,u,a,f,l)}var t=r.bind(null,!1);return t.isRequired=r.bind(null,!0),t}function s(e){function n(n,r,t,o,u,i){var a=n[r];if(x(a)!==e)return new c("Invalid "+o+" `"+u+"` of type `"+j(a)+"` supplied to `"+t+"`, expected `"+e+"`.");return null}return l(n)}function p(e){function n(n,r,t,o,u){if("function"!=typeof e)return new c("Property `"+u+"` of component `"+t+"` has invalid PropType notation inside arrayOf.");var a=n[r];if(!Array.isArray(a)){return new c("Invalid "+o+" `"+u+"` of type `"+x(a)+"` supplied to `"+t+"`, expected an array.")}for(var f=0;f<a.length;f++){var l=e(a,f,t,o,u+"["+f+"]",i);if(l instanceof Error)return l}return null}return l(n)}function y(e){function n(n,r,t,o,u){if(!(n[r]instanceof e)){var i=e.name||k;return new c("Invalid "+o+" `"+u+"` of type `"+T(n[r])+"` supplied to `"+t+"`, expected instance of `"+i+"`.")}return null}return l(n)}function d(e){function n(n,r,t,o,u){for(var i=n[r],a=0;a<e.length;a++)if(f(i,e[a]))return null;return new c("Invalid "+o+" `"+u+"` of value `"+i+"` supplied to `"+t+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?l(n):t.thatReturnsNull}function v(e){function n(n,r,t,o,u){if("function"!=typeof e)return new c("Property `"+u+"` of component `"+t+"` has invalid PropType notation inside objectOf.");var a=n[r],f=x(a);if("object"!==f)return new c("Invalid "+o+" `"+u+"` of type `"+f+"` supplied to `"+t+"`, expected an object.");for(var l in a)if(a.hasOwnProperty(l)){var s=e(a,l,t,o,u+"."+l,i);if(s instanceof Error)return s}return null}return l(n)}function b(e){function n(n,r,t,o,u){for(var a=0;a<e.length;a++){if(null==(0,e[a])(n,r,t,o,u,i))return null}return new c("Invalid "+o+" `"+u+"` supplied to `"+t+"`.")}if(!Array.isArray(e))return t.thatReturnsNull;for(var r=0;r<e.length;r++){var o=e[r];if("function"!=typeof o)return u(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",w(o),r),t.thatReturnsNull}return l(n)}function m(e){function n(n,r,t,o,u){var a=n[r],f=x(a);if("object"!==f)return new c("Invalid "+o+" `"+u+"` of type `"+f+"` supplied to `"+t+"`, expected `object`.");for(var l in e){var s=e[l];if(s){var p=s(a,l,t,o,u+"."+l,i);if(p)return p}}return null}return l(n)}function h(n){switch(typeof n){case"number":case"string":case"undefined":return!0;case"boolean":return!n;case"object":if(Array.isArray(n))return n.every(h);if(null===n||e(n))return!0;var t=r(n);if(!t)return!1;var o,u=t.call(n);if(t!==n.entries){for(;!(o=u.next()).done;)if(!h(o.value))return!1}else for(;!(o=u.next()).done;){var i=o.value;if(i&&!h(i[1]))return!1}return!0;default:return!1}}function g(e,n){return"symbol"===e||("Symbol"===n["@@toStringTag"]||"function"==typeof Symbol&&n instanceof Symbol)}function x(e){var n=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":g(n,e)?"symbol":n}function j(e){if(void 0===e||null===e)return""+e;var n=x(e);if("object"===n){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return n}function w(e){var n=j(e);switch(n){case"array":case"object":return"an "+n;case"boolean":case"date":case"regexp":return"a "+n;default:return n}}function T(e){return e.constructor&&e.constructor.name?e.constructor.name:k}var P="function"==typeof Symbol&&Symbol.iterator,R="@@iterator",k="<<anonymous>>",A={array:s("array"),bool:s("boolean"),func:s("function"),number:s("number"),object:s("object"),string:s("string"),symbol:s("symbol"),any:function(){return l(t.thatReturnsNull)}(),arrayOf:p,element:function(){function n(n,r,t,o,u){var i=n[r];if(!e(i)){return new c("Invalid "+o+" `"+u+"` of type `"+x(i)+"` supplied to `"+t+"`, expected a single ReactElement.")}return null}return l(n)}(),instanceOf:y,node:function(){function e(e,n,r,t,o){return h(e[n])?null:new c("Invalid "+t+" `"+o+"` supplied to `"+r+"`, expected a ReactNode.")}return l(e)}(),objectOf:v,oneOf:d,oneOfType:b,shape:m};return c.prototype=Error.prototype,A.checkPropTypes=a,A.PropTypes=A,A}});C.r("node_modules/react-dom/node_modules/prop-types/lib/ReactPropTypesSecret.js",function(e,_,o){"use strict";_.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"});C.r("node_modules/react-redux/lib/components/Provider.js",function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0,r.default=void 0;var u=e("react"),p=e("prop-types"),c=o(p),l=e("../utils/PropTypes"),a=e("../utils/warning"),f=(o(a),function(e){function t(r,o){n(this,t);var s=i(this,e.call(this,r,o));return s.store=r.store,s}return s(t,e),t.prototype.getChildContext=function(){return{store:this.store,storeSubscription:null}},t.prototype.render=function(){return u.Children.only(this.props.children)},t}(u.Component));r.default=f,f.propTypes={store:l.storeShape.isRequired,children:c.default.element.isRequired},f.childContextTypes={store:l.storeShape.isRequired,storeSubscription:l.subscriptionShape},f.displayName="Provider"});C.r("node_modules/react-redux/lib/components/connectAdvanced.js",function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function p(t,e){var o={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o}function a(){}function u(t,e){var o={run:function(n){try{var r=t(e.getState(),n);(r!==o.props||o.error)&&(o.shouldComponentUpdate=!0,o.props=r,o.error=null)}catch(t){o.shouldComponentUpdate=!0,o.error=t}}};return o}function c(t){var e,o,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=n.getDisplayName,h=void 0===c?function(t){return"ConnectAdvanced("+t+")"}:c,f=n.methodName,m=void 0===f?"connectAdvanced":f,N=n.renderCountProp,g=void 0===N?void 0:N,U=n.shouldHandleStateChanges,O=void 0===U||U,x=n.storeKey,P=void 0===x?"store":x,W=n.withRef,_=void 0!==W&&W,j=p(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),D=P+"Subscription",I=S++,M=(e={},e[P]=C.storeShape,e[D]=C.subscriptionShape,e),E=(o={},o[D]=C.subscriptionShape,o);return function(e){(0,y.default)("function"==typeof e,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(e));var o=e.displayName||e.name||"Component",n=h(o),p=d({},j,{getDisplayName:h,methodName:m,renderCountProp:g,shouldHandleStateChanges:O,storeKey:P,withRef:_,displayName:n,wrappedComponentName:o,WrappedComponent:e}),c=function(o){function c(t,e){r(this,c);var i=s(this,o.call(this,t,e));return i.version=I,i.state={},i.renderCount=0,i.store=t[P]||e[P],i.propsMode=Boolean(t[P]),i.setWrappedInstance=i.setWrappedInstance.bind(i),(0,y.default)(i.store,'Could not find "'+P+'" in either the context or props of "'+n+'". Either wrap the root component in a <Provider>, or explicitly pass "'+P+'" as a prop to "'+n+'".'),i.initSelector(),i.initSubscription(),i}return i(c,o),c.prototype.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return t={},t[D]=e||this.context[D],t},c.prototype.componentDidMount=function(){O&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},c.prototype.componentWillReceiveProps=function(t){this.selector.run(t)},c.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},c.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=a,this.store=null,this.selector.run=a,this.selector.shouldComponentUpdate=!1},c.prototype.getWrappedInstance=function(){return(0,y.default)(_,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+m+"() call."),this.wrappedInstance},c.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},c.prototype.initSelector=function(){var e=t(this.store.dispatch,p);this.selector=u(e,this.store),this.selector.run(this.props)},c.prototype.initSubscription=function(){if(O){var t=(this.propsMode?this.props:this.context)[D];this.subscription=new v.default(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},c.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(w)):this.notifyNestedSubs()},c.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},c.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},c.prototype.addExtraProps=function(t){if(!(_||g||this.propsMode&&this.subscription))return t;var e=d({},t);return _&&(e.ref=this.setWrappedInstance),g&&(e[g]=this.renderCount++),this.propsMode&&this.subscription&&(e[D]=this.subscription),e},c.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return(0,b.createElement)(e,this.addExtraProps(t.props))},c}(b.Component);return c.WrappedComponent=e,c.displayName=n,c.childContextTypes=E,c.contextTypes=M,c.propTypes=M,(0,l.default)(c,e)}}o.__esModule=!0;var d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};o.default=c;var h=t("hoist-non-react-statics"),l=n(h),f=t("invariant"),y=n(f),b=t("react"),m=t("../utils/Subscription"),v=n(m),C=t("../utils/PropTypes"),S=0,w={}});C.r("node_modules/react-redux/lib/connect/connect.js",function(e,r,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,r){var t={};for(var o in e)r.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}function n(e,r,t){for(var o=r.length-1;o>=0;o--){var a=r[o](e);if(a)return a}return function(r,o){throw new Error("Invalid value of type "+typeof e+" for "+t+" argument when connecting component "+o.wrappedComponentName+".")}}function u(e,r){return e===r}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.connectHOC,t=void 0===r?i.default:r,o=e.mapStateToPropsFactories,p=void 0===o?m.default:o,c=e.mapDispatchToPropsFactories,l=void 0===c?v.default:c,f=e.mergePropsFactories,P=void 0===f?h.default:f,g=e.selectorFactory,E=void 0===g?q.default:g;return function(e,r,o){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=c.pure,f=void 0===i||i,v=c.areStatesEqual,m=void 0===v?u:v,g=c.areOwnPropsEqual,h=void 0===g?d.default:g,q=c.areStatePropsEqual,S=void 0===q?d.default:q,w=c.areMergedPropsEqual,O=void 0===w?d.default:w,y=a(c,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),M=n(e,p,"mapStateToProps"),T=n(r,l,"mapDispatchToProps"),C=n(o,P,"mergeProps");return t(E,s({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:M,initMapDispatchToProps:T,initMergeProps:C,pure:f,areStatesEqual:m,areOwnPropsEqual:h,areStatePropsEqual:S,areMergedPropsEqual:O},y))}}t.__esModule=!0;var s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};t.createConnect=p;var c=e("../components/connectAdvanced"),i=o(c),l=e("../utils/shallowEqual"),d=o(l),f=e("./mapDispatchToProps"),v=o(f),P=e("./mapStateToProps"),m=o(P),g=e("./mergeProps"),h=o(g),E=e("./selectorFactory"),q=o(E);t.default=p()});C.r("node_modules/react-redux/lib/connect/mapDispatchToProps.js",function(o,n,t){"use strict";function r(o){return"function"==typeof o?(0,e.wrapMapToPropsFunc)(o,"mapDispatchToProps"):void 0}function p(o){return o?void 0:(0,e.wrapMapToPropsConstant)(function(o){return{dispatch:o}})}function s(o){return o&&"object"==typeof o?(0,e.wrapMapToPropsConstant)(function(n){return(0,a.bindActionCreators)(o,n)}):void 0}t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=r,t.whenMapDispatchToPropsIsMissing=p,t.whenMapDispatchToPropsIsObject=s;var a=o("redux"),e=o("./wrapMapToProps");t.default=[r,p,s]});C.r("node_modules/react-redux/lib/connect/mapStateToProps.js",function(o,t,n){"use strict";function r(o){return"function"==typeof o?(0,a.wrapMapToPropsFunc)(o,"mapStateToProps"):void 0}function e(o){return o?void 0:(0,a.wrapMapToPropsConstant)(function(){return{}})}n.__esModule=!0,n.whenMapStateToPropsIsFunction=r,n.whenMapStateToPropsIsMissing=e;var a=o("./wrapMapToProps");n.default=[r,e]});C.r("node_modules/react-redux/lib/connect/mergeProps.js",function(r,e,n){"use strict";function t(r,e,n){return c({},n,r,e)}function o(r){return function(e,n){var t=(n.displayName,n.pure),o=n.areMergedPropsEqual,u=!1,i=void 0;return function(e,n,c){var a=r(e,n,c);return u?t&&o(a,i)||(i=a):(u=!0,i=a),i}}}function u(r){return"function"==typeof r?o(r):void 0}function i(r){return r?void 0:function(){return t}}n.__esModule=!0;var c=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r};n.defaultMergeProps=t,n.wrapMergePropsFunc=o,n.whenMergePropsIsFunction=u,n.whenMergePropsIsOmitted=i;var a=r("../utils/verifyPlainObject");!function(r){r&&r.__esModule}(a);n.default=[u,i]});C.r("node_modules/react-redux/lib/connect/selectorFactory.js",function(r,n,t){"use strict";function e(r,n){var t={};for(var e in r)n.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t}function o(r,n,t,e){return function(o,i){return t(r(o,i),n(e,i),i)}}function i(r,n,t,e,o){function i(o,i){return P=o,v=i,O=r(P,v),M=n(e,v),S=t(O,M,v),l=!0,S}function u(){return O=r(P,v),n.dependsOnOwnProps&&(M=n(e,v)),S=t(O,M,v)}function a(){return r.dependsOnOwnProps&&(O=r(P,v)),n.dependsOnOwnProps&&(M=n(e,v)),S=t(O,M,v)}function s(){var n=r(P,v),e=!f(n,O);return O=n,e&&(S=t(O,M,v)),S}function c(r,n){var t=!d(n,v),e=!p(r,P);return P=r,v=n,t&&e?u():t?a():e?s():S}var p=o.areStatesEqual,d=o.areOwnPropsEqual,f=o.areStatePropsEqual,l=!1,P=void 0,v=void 0,O=void 0,M=void 0,S=void 0;return function(r,n){return l?c(r,n):i(r,n)}}function u(r,n){var t=n.initMapStateToProps,u=n.initMapDispatchToProps,a=n.initMergeProps,s=e(n,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),c=t(r,s),p=u(r,s),d=a(r,s);return(s.pure?i:o)(c,p,d,r,s)}t.__esModule=!0,t.impureFinalPropsSelectorFactory=o,t.pureFinalPropsSelectorFactory=i,t.default=u;var a=r("./verifySubselectors");!function(r){r&&r.__esModule}(a)});C.r("node_modules/react-redux/lib/connect/verifySubselectors.js",function(e,o,r){"use strict";function n(e,o,r){if(!e)throw new Error("Unexpected value for "+o+" in "+r+".");"mapStateToProps"!==o&&"mapDispatchToProps"!==o||e.hasOwnProperty("dependsOnOwnProps")||(0,a.default)("The selector for "+o+" of "+r+" did not specify a value for dependsOnOwnProps.")}function t(e,o,r,t){n(e,"mapStateToProps",t),n(o,"mapDispatchToProps",t),n(r,"mergeProps",t)}r.__esModule=!0,r.default=t;var s=e("../utils/warning"),a=function(e){return e&&e.__esModule?e:{default:e}}(s)});C.r("node_modules/react-redux/lib/connect/wrapMapToProps.js",function(n,o,r){"use strict";function e(n){return function(o,r){function e(){return p}var p=n(o,r);return e.dependsOnOwnProps=!1,e}}function p(n){return null!==n.dependsOnOwnProps&&void 0!==n.dependsOnOwnProps?Boolean(n.dependsOnOwnProps):1!==n.length}function s(n,o){return function(o,r){var e=(r.displayName,function(n,o){return e.dependsOnOwnProps?e.mapToProps(n,o):e.mapToProps(n)});return e.dependsOnOwnProps=!0,e.mapToProps=function(o,r){e.mapToProps=n,e.dependsOnOwnProps=p(n);var s=e(o,r);return"function"==typeof s&&(e.mapToProps=s,e.dependsOnOwnProps=p(s),s=e(o,r)),s},e}}r.__esModule=!0,r.wrapMapToPropsConstant=e,r.getDependsOnOwnProps=p,r.wrapMapToPropsFunc=s;var t=n("../utils/verifyPlainObject");!function(n){n&&n.__esModule}(t)});C.r("node_modules/react-redux/lib/index.js",function(e,n,c){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}c.__esModule=!0,c.connect=c.connectAdvanced=c.Provider=void 0;var d=e("./components/Provider"),t=o(d),r=e("./components/connectAdvanced"),u=o(r),a=e("./connect/connect"),i=o(a);c.Provider=t.default,c.connectAdvanced=u.default,c.connect=i.default});C.r("node_modules/react-redux/lib/utils/PropTypes.js",function(e,u,s){"use strict";s.__esModule=!0,s.storeShape=s.subscriptionShape=void 0;var i=e("prop-types"),t=function(e){return e&&e.__esModule?e:{default:e}}(i);s.subscriptionShape=t.default.shape({trySubscribe:t.default.func.isRequired,tryUnsubscribe:t.default.func.isRequired,notifyNestedSubs:t.default.func.isRequired,isSubscribed:t.default.func.isRequired}),s.storeShape=t.default.shape({subscribe:t.default.func.isRequired,dispatch:t.default.func.isRequired,getState:t.default.func.isRequired})});C.r("node_modules/react-redux/lib/utils/Subscription.js",function(t,s,n){"use strict";function i(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function e(){var t=[],s=[];return{clear:function(){s=r,t=r},notify:function(){for(var n=t=s,i=0;i<n.length;i++)n[i]()},subscribe:function(n){var i=!0;return s===t&&(s=t.slice()),s.push(n),function(){i&&t!==r&&(i=!1,s===t&&(s=t.slice()),s.splice(s.indexOf(n),1))}}}}n.__esModule=!0;var r=null,u={notify:function(){}},o=function(){function t(s,n,e){i(this,t),this.store=s,this.parentSub=n,this.onStateChange=e,this.unsubscribe=null,this.listeners=u}return t.prototype.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},t.prototype.notifyNestedSubs=function(){this.listeners.notify()},t.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},t.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=e())},t.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=u)},t}();n.default=o});C.r("node_modules/react-redux/lib/utils/shallowEqual.js",function(e,t,r){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function u(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),u=Object.keys(t);if(r.length!==u.length)return!1;for(var o=0;o<r.length;o++)if(!l.call(t,r[o])||!n(e[r[o]],t[r[o]]))return!1;return!0}r.__esModule=!0,r.default=u;var l=Object.prototype.hasOwnProperty});C.r("node_modules/react-redux/lib/utils/verifyPlainObject.js",function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){(0,l.default)(e)||(0,r.default)(n+"() in "+t+" must return a plain object. Instead received "+e+".")}n.__esModule=!0,n.default=i;var a=e("lodash/isPlainObject"),l=u(a),d=e("./warning"),r=u(d)});C.r("node_modules/react-redux/lib/utils/warning.js",function(e,o,r){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}r.__esModule=!0,r.default=n});C.r("node_modules/react-redux/node_modules/lodash/_Symbol.js",function(o,e,d){var r=o("./_root"),l=r.Symbol;e.exports=l});C.r("node_modules/react-redux/node_modules/lodash/_baseGetTag.js",function(e,o,t){function n(e){return null==e?void 0===e?l:i:u&&u in Object(e)?r(e):a(e)}var d=e("./_Symbol"),r=e("./_getRawTag"),a=e("./_objectToString"),i="[object Null]",l="[object Undefined]",u=d?d.toStringTag:void 0;o.exports=n});C.r("node_modules/react-redux/node_modules/lodash/_freeGlobal.js",function(o,e,l){var a="object"==typeof global&&global&&global.Object===Object&&global;e.exports=a});C.r("node_modules/react-redux/node_modules/lodash/_getPrototype.js",function(e,o,t){var r=e("./_overArg"),d=r(Object.getPrototypeOf,Object);o.exports=d});C.r("node_modules/react-redux/node_modules/lodash/_getRawTag.js",function(t,o,r){function e(t){var o=d.call(t,c),r=t[c];try{t[c]=void 0;var e=!0}catch(t){}var a=l.call(t);return e&&(o?t[c]=r:delete t[c]),a}var a=t("./_Symbol"),n=Object.prototype,d=n.hasOwnProperty,l=n.toString,c=a?a.toStringTag:void 0;o.exports=e});C.r("node_modules/react-redux/node_modules/lodash/_objectToString.js",function(o,t,e){function r(o){return c.call(o)}var n=Object.prototype,c=n.toString;t.exports=r});C.r("node_modules/react-redux/node_modules/lodash/_overArg.js",function(e,n,o){function r(e,n){return function(o){return e(n(o))}}n.exports=r});C.r("node_modules/react-redux/node_modules/lodash/_root.js",function(e,o,t){var s=e("./_freeGlobal"),l="object"==typeof self&&self&&self.Object===Object&&self,r=s||l||Function("return this")();o.exports=r});C.r("node_modules/react-redux/node_modules/lodash/isObjectLike.js",function(e,o,n){function t(e){return null!=e&&"object"==typeof e}o.exports=t});C.r("node_modules/react-redux/node_modules/lodash/isPlainObject.js",function(t,e,o){function r(t){if(!a(t)||n(t)!=u)return!1;var e=c(t);if(null===e)return!0;var o=p.call(e,"constructor")&&e.constructor;return"function"==typeof o&&o instanceof o&&s.call(o)==b}var n=t("./_baseGetTag"),c=t("./_getPrototype"),a=t("./isObjectLike"),u="[object Object]",i=Function.prototype,l=Object.prototype,s=i.toString,p=l.hasOwnProperty,b=s.call(Object);e.exports=r});C.r("node_modules/react-redux/node_modules/prop-types/checkPropTypes.js",function(e,o,s){"use strict";function r(e,o,s,r,t){}o.exports=r});C.r("node_modules/react-redux/node_modules/prop-types/factoryWithThrowingShims.js",function(e,r,t){"use strict";var o=e("fbjs/lib/emptyFunction"),n=e("fbjs/lib/invariant"),p=e("./lib/ReactPropTypesSecret");r.exports=function(){function e(e,r,t,o,s,c){c!==p&&n(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function r(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r};return t.checkPropTypes=o,t.PropTypes=t,t}});C.r("node_modules/react-redux/node_modules/prop-types/factoryWithTypeCheckers.js",function(e,n,r){"use strict";var t=e("fbjs/lib/emptyFunction"),o=e("fbjs/lib/invariant"),u=e("fbjs/lib/warning"),i=e("./lib/ReactPropTypesSecret"),a=e("./checkPropTypes");n.exports=function(e,n){function r(e){var n=e&&(P&&e[P]||e[R]);if("function"==typeof n)return n}function f(e,n){return e===n?0!==e||1/e==1/n:e!==e&&n!==n}function c(e){this.message=e,this.stack=""}function l(e){function r(r,t,u,a,f,l,s){if(a=a||k,l=l||u,s!==i)if(n)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==t[u]?r?new c(null===t[u]?"The "+f+" `"+l+"` is marked as required in `"+a+"`, but its value is `null`.":"The "+f+" `"+l+"` is marked as required in `"+a+"`, but its value is `undefined`."):null:e(t,u,a,f,l)}var t=r.bind(null,!1);return t.isRequired=r.bind(null,!0),t}function s(e){function n(n,r,t,o,u,i){var a=n[r];if(x(a)!==e)return new c("Invalid "+o+" `"+u+"` of type `"+j(a)+"` supplied to `"+t+"`, expected `"+e+"`.");return null}return l(n)}function p(e){function n(n,r,t,o,u){if("function"!=typeof e)return new c("Property `"+u+"` of component `"+t+"` has invalid PropType notation inside arrayOf.");var a=n[r];if(!Array.isArray(a)){return new c("Invalid "+o+" `"+u+"` of type `"+x(a)+"` supplied to `"+t+"`, expected an array.")}for(var f=0;f<a.length;f++){var l=e(a,f,t,o,u+"["+f+"]",i);if(l instanceof Error)return l}return null}return l(n)}function y(e){function n(n,r,t,o,u){if(!(n[r]instanceof e)){var i=e.name||k;return new c("Invalid "+o+" `"+u+"` of type `"+T(n[r])+"` supplied to `"+t+"`, expected instance of `"+i+"`.")}return null}return l(n)}function d(e){function n(n,r,t,o,u){for(var i=n[r],a=0;a<e.length;a++)if(f(i,e[a]))return null;return new c("Invalid "+o+" `"+u+"` of value `"+i+"` supplied to `"+t+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?l(n):t.thatReturnsNull}function v(e){function n(n,r,t,o,u){if("function"!=typeof e)return new c("Property `"+u+"` of component `"+t+"` has invalid PropType notation inside objectOf.");var a=n[r],f=x(a);if("object"!==f)return new c("Invalid "+o+" `"+u+"` of type `"+f+"` supplied to `"+t+"`, expected an object.");for(var l in a)if(a.hasOwnProperty(l)){var s=e(a,l,t,o,u+"."+l,i);if(s instanceof Error)return s}return null}return l(n)}function b(e){function n(n,r,t,o,u){for(var a=0;a<e.length;a++){if(null==(0,e[a])(n,r,t,o,u,i))return null}return new c("Invalid "+o+" `"+u+"` supplied to `"+t+"`.")}if(!Array.isArray(e))return t.thatReturnsNull;for(var r=0;r<e.length;r++){var o=e[r];if("function"!=typeof o)return u(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",w(o),r),t.thatReturnsNull}return l(n)}function m(e){function n(n,r,t,o,u){var a=n[r],f=x(a);if("object"!==f)return new c("Invalid "+o+" `"+u+"` of type `"+f+"` supplied to `"+t+"`, expected `object`.");for(var l in e){var s=e[l];if(s){var p=s(a,l,t,o,u+"."+l,i);if(p)return p}}return null}return l(n)}function h(n){switch(typeof n){case"number":case"string":case"undefined":return!0;case"boolean":return!n;case"object":if(Array.isArray(n))return n.every(h);if(null===n||e(n))return!0;var t=r(n);if(!t)return!1;var o,u=t.call(n);if(t!==n.entries){for(;!(o=u.next()).done;)if(!h(o.value))return!1}else for(;!(o=u.next()).done;){var i=o.value;if(i&&!h(i[1]))return!1}return!0;default:return!1}}function g(e,n){return"symbol"===e||("Symbol"===n["@@toStringTag"]||"function"==typeof Symbol&&n instanceof Symbol)}function x(e){var n=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":g(n,e)?"symbol":n}function j(e){if(void 0===e||null===e)return""+e;var n=x(e);if("object"===n){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return n}function w(e){var n=j(e);switch(n){case"array":case"object":return"an "+n;case"boolean":case"date":case"regexp":return"a "+n;default:return n}}function T(e){return e.constructor&&e.constructor.name?e.constructor.name:k}var P="function"==typeof Symbol&&Symbol.iterator,R="@@iterator",k="<<anonymous>>",A={array:s("array"),bool:s("boolean"),func:s("function"),number:s("number"),object:s("object"),string:s("string"),symbol:s("symbol"),any:function(){return l(t.thatReturnsNull)}(),arrayOf:p,element:function(){function n(n,r,t,o,u){var i=n[r];if(!e(i)){return new c("Invalid "+o+" `"+u+"` of type `"+x(i)+"` supplied to `"+t+"`, expected a single ReactElement.")}return null}return l(n)}(),instanceOf:y,node:function(){function e(e,n,r,t,o){return h(e[n])?null:new c("Invalid "+t+" `"+o+"` supplied to `"+r+"`, expected a ReactNode.")}return l(e)}(),objectOf:v,oneOf:d,oneOfType:b,shape:m};return c.prototype=Error.prototype,A.checkPropTypes=a,A.PropTypes=A,A}});C.r("node_modules/react-redux/node_modules/prop-types/index.js",function(e,o,r){o.exports=e("./factoryWithThrowingShims")()});C.r("node_modules/react-redux/node_modules/prop-types/lib/ReactPropTypesSecret.js",function(e,_,o){"use strict";_.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"});C.r("node_modules/react/lib/KeyEscapeUtils.js",function(e,r,n){"use strict";function t(e){var r={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return r[e]})}function u(e){var r=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(r,function(e){return n[e]})}var s={escape:t,unescape:u};r.exports=s});C.r("node_modules/react/lib/PooledClass.js",function(n,o,e){"use strict";var t=n("./reactProdInvariant"),r=(n("fbjs/lib/invariant"),function(n){var o=this;if(o.instancePool.length){var e=o.instancePool.pop();return o.call(e,n),e}return new o(n)}),l=function(n,o){var e=this;if(e.instancePool.length){var t=e.instancePool.pop();return e.call(t,n,o),t}return new e(n,o)},i=function(n,o,e){var t=this;if(t.instancePool.length){var r=t.instancePool.pop();return t.call(r,n,o,e),r}return new t(n,o,e)},a=function(n,o,e,t){var r=this;if(r.instancePool.length){var l=r.instancePool.pop();return r.call(l,n,o,e,t),l}return new r(n,o,e,t)},s=function(n){var o=this;n instanceof o||t("25"),n.destructor(),o.instancePool.length<o.poolSize&&o.instancePool.push(n)},c=r,u=function(n,o){var e=n;return e.instancePool=[],e.getPooled=o||c,e.poolSize||(e.poolSize=10),e.release=s,e},P={addPoolingTo:u,oneArgumentPooler:r,twoArgumentPooler:l,threeArgumentPooler:i,fourArgumentPooler:a};o.exports=P});C.r("node_modules/react/lib/React.js",function(e,t,a){"use strict";var n=e("object-assign"),r=e("./ReactBaseClasses"),o=e("./ReactChildren"),c=e("./ReactDOMFactories"),s=e("./ReactElement"),l=e("./ReactPropTypes"),i=e("./ReactVersion"),m=e("./createClass"),p=e("./onlyChild"),C=s.createElement,u=s.createFactory,E=s.cloneElement,d=n,y=function(e){return e},R={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:p},Component:r.Component,PureComponent:r.PureComponent,createElement:C,cloneElement:E,isValidElement:s.isValidElement,PropTypes:l,createClass:m,createFactory:u,createMixin:y,DOM:c,version:i,__spread:d};t.exports=R});C.r("node_modules/react/lib/ReactBaseClasses.js",function(t,e,o){"use strict";function p(t,e,o){this.props=t,this.context=e,this.refs=u,this.updater=o||a}function n(t,e,o){this.props=t,this.context=e,this.refs=u,this.updater=o||a}function r(){}var s=t("./reactProdInvariant"),i=t("object-assign"),a=t("./ReactNoopUpdateQueue"),u=(t("./canDefineProperty"),t("fbjs/lib/emptyObject"));t("fbjs/lib/invariant"),t("./lowPriorityWarning");p.prototype.isReactComponent={},p.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t&&s("85"),this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e,"setState")},p.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t,"forceUpdate")};r.prototype=p.prototype,n.prototype=new r,n.prototype.constructor=n,i(n.prototype,p.prototype),n.prototype.isPureReactComponent=!0,e.exports={Component:p,PureComponent:n}});C.r("node_modules/react/lib/ReactChildren.js",function(t,n,e){"use strict";function r(t){return(""+t).replace(g,"$&/")}function u(t,n){this.func=t,this.context=n,this.count=0}function l(t,n,e){var r=t.func,u=t.context;r.call(u,n,t.count++)}function o(t,n,e){if(null==t)return t;var r=u.getPooled(n,e);P(t,l,r),u.release(r)}function i(t,n,e,r){this.result=t,this.keyPrefix=n,this.func=e,this.context=r,this.count=0}function c(t,n,e){var u=t.result,l=t.keyPrefix,o=t.func,i=t.context,c=o.call(i,n,t.count++);Array.isArray(c)?s(c,u,e,x.thatReturnsArgument):null!=c&&(p.isValidElement(c)&&(c=p.cloneAndReplaceKey(c,l+(!c.key||n&&n.key===c.key?"":r(c.key)+"/")+e)),u.push(c))}function s(t,n,e,u,l){var o="";null!=e&&(o=r(e)+"/");var s=i.getPooled(n,o,u,l);P(t,c,s),i.release(s)}function a(t,n,e){if(null==t)return t;var r=[];return s(t,r,null,n,e),r}function f(t,n,e){return null}function h(t,n){return P(t,f,null)}function d(t){var n=[];return s(t,n,null,x.thatReturnsArgument),n}var y=t("./PooledClass"),p=t("./ReactElement"),x=t("fbjs/lib/emptyFunction"),P=t("./traverseAllChildren"),m=y.twoArgumentPooler,v=y.fourArgumentPooler,g=/\/+/g;u.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},y.addPoolingTo(u,m),i.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},y.addPoolingTo(i,v);var A={forEach:o,map:a,mapIntoWithKeyPrefixInternal:s,count:h,toArray:d};n.exports=A});C.r("node_modules/react/lib/ReactComponentTreeHook.js",function(e,n,t){"use strict";function r(e){var n=Function.prototype.toString,t=Object.prototype.hasOwnProperty,r=RegExp("^"+n.call(t).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var o=n.call(e);return r.test(o)}catch(e){return!1}}function o(e){var n=l(e);if(n){var t=n.childIDs;f(e),t.forEach(o)}}function u(e,n,t){return"\n    in "+(e||"Unknown")+(n?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":t?" (created by "+t+")":"")}function a(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function i(e){var n,t=C.getDisplayName(e),r=C.getElement(e),o=C.getOwnerID(e);return o&&(n=C.getDisplayName(o)),u(t,r&&r._source,n)}var c,l,f,p,s,m,d,y=e("./reactProdInvariant"),g=e("./ReactCurrentOwner"),v=(e("fbjs/lib/invariant"),e("fbjs/lib/warning"),"function"==typeof Array.from&&"function"==typeof Map&&r(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&r(Map.prototype.keys)&&"function"==typeof Set&&r(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&r(Set.prototype.keys));if(v){var D=new Map,I=new Set;c=function(e,n){D.set(e,n)},l=function(e){return D.get(e)},f=function(e){D.delete(e)},p=function(){return Array.from(D.keys())},s=function(e){I.add(e)},m=function(e){I.delete(e)},d=function(){return Array.from(I.keys())}}else{var b={},k={},S=function(e){return"."+e},h=function(e){return parseInt(e.substr(1),10)};c=function(e,n){var t=S(e);b[t]=n},l=function(e){var n=S(e);return b[n]},f=function(e){var n=S(e);delete b[n]},p=function(){return Object.keys(b).map(h)},s=function(e){var n=S(e);k[n]=!0},m=function(e){var n=S(e);delete k[n]},d=function(){return Object.keys(k).map(h)}}var N=[],C={onSetChildren:function(e,n){var t=l(e);t||y("144"),t.childIDs=n;for(var r=0;r<n.length;r++){var o=n[r],u=l(o);u||y("140"),null==u.childIDs&&"object"==typeof u.element&&null!=u.element&&y("141"),u.isMounted||y("71"),null==u.parentID&&(u.parentID=e),u.parentID!==e&&y("142",o,u.parentID,e)}},onBeforeMountComponent:function(e,n,t){c(e,{element:n,parentID:t,text:null,childIDs:[],isMounted:!1,updateCount:0})},onBeforeUpdateComponent:function(e,n){var t=l(e);t&&t.isMounted&&(t.element=n)},onMountComponent:function(e){var n=l(e);n||y("144"),n.isMounted=!0,0===n.parentID&&s(e)},onUpdateComponent:function(e){var n=l(e);n&&n.isMounted&&n.updateCount++},onUnmountComponent:function(e){var n=l(e);if(n){n.isMounted=!1;0===n.parentID&&m(e)}N.push(e)},purgeUnmountedComponents:function(){if(!C._preventPurging){for(var e=0;e<N.length;e++){o(N[e])}N.length=0}},isMounted:function(e){var n=l(e);return!!n&&n.isMounted},getCurrentStackAddendum:function(e){var n="";if(e){var t=a(e),r=e._owner;n+=u(t,e._source,r&&r.getName())}var o=g.current,i=o&&o._debugID;return n+=C.getStackAddendumByID(i)},getStackAddendumByID:function(e){for(var n="";e;)n+=i(e),e=C.getParentID(e);return n},getChildIDs:function(e){var n=l(e);return n?n.childIDs:[]},getDisplayName:function(e){var n=C.getElement(e);return n?a(n):null},getElement:function(e){var n=l(e);return n?n.element:null},getOwnerID:function(e){var n=C.getElement(e);return n&&n._owner?n._owner._debugID:null},getParentID:function(e){var n=l(e);return n?n.parentID:null},getSource:function(e){var n=l(e),t=n?n.element:null;return null!=t?t._source:null},getText:function(e){var n=C.getElement(e);return"string"==typeof n?n:"number"==typeof n?""+n:null},getUpdateCount:function(e){var n=l(e);return n?n.updateCount:0},getRootIDs:d,getRegisteredIDs:p,pushNonStandardWarningStack:function(e,n){if("function"==typeof console.reactStack){var t=[],r=g.current,o=r&&r._debugID;try{for(e&&t.push({name:o?C.getDisplayName(o):null,fileName:n?n.fileName:null,lineNumber:n?n.lineNumber:null});o;){var u=C.getElement(o),a=C.getParentID(o),i=C.getOwnerID(o),c=i?C.getDisplayName(i):null,l=u&&u._source;t.push({name:c,fileName:l?l.fileName:null,lineNumber:l?l.lineNumber:null}),o=a}}catch(e){}console.reactStack(t)}},popNonStandardWarningStack:function(){"function"==typeof console.reactStackEnd&&console.reactStackEnd()}};n.exports=C});C.r("node_modules/react/lib/ReactCurrentOwner.js",function(r,e,t){"use strict";var n={current:null};e.exports=n});C.r("node_modules/react/lib/ReactDOMFactories.js",function(e,t,a){"use strict";var r=e("./ReactElement"),i=r.createFactory,o={a:i("a"),abbr:i("abbr"),address:i("address"),area:i("area"),article:i("article"),aside:i("aside"),audio:i("audio"),b:i("b"),base:i("base"),bdi:i("bdi"),bdo:i("bdo"),big:i("big"),blockquote:i("blockquote"),body:i("body"),br:i("br"),button:i("button"),canvas:i("canvas"),caption:i("caption"),cite:i("cite"),code:i("code"),col:i("col"),colgroup:i("colgroup"),data:i("data"),datalist:i("datalist"),dd:i("dd"),del:i("del"),details:i("details"),dfn:i("dfn"),dialog:i("dialog"),div:i("div"),dl:i("dl"),dt:i("dt"),em:i("em"),embed:i("embed"),fieldset:i("fieldset"),figcaption:i("figcaption"),figure:i("figure"),footer:i("footer"),form:i("form"),h1:i("h1"),h2:i("h2"),h3:i("h3"),h4:i("h4"),h5:i("h5"),h6:i("h6"),head:i("head"),header:i("header"),hgroup:i("hgroup"),hr:i("hr"),html:i("html"),i:i("i"),iframe:i("iframe"),img:i("img"),input:i("input"),ins:i("ins"),kbd:i("kbd"),keygen:i("keygen"),label:i("label"),legend:i("legend"),li:i("li"),link:i("link"),main:i("main"),map:i("map"),mark:i("mark"),menu:i("menu"),menuitem:i("menuitem"),meta:i("meta"),meter:i("meter"),nav:i("nav"),noscript:i("noscript"),object:i("object"),ol:i("ol"),optgroup:i("optgroup"),option:i("option"),output:i("output"),p:i("p"),param:i("param"),picture:i("picture"),pre:i("pre"),progress:i("progress"),q:i("q"),rp:i("rp"),rt:i("rt"),ruby:i("ruby"),s:i("s"),samp:i("samp"),script:i("script"),section:i("section"),select:i("select"),small:i("small"),source:i("source"),span:i("span"),strong:i("strong"),style:i("style"),sub:i("sub"),summary:i("summary"),sup:i("sup"),table:i("table"),tbody:i("tbody"),td:i("td"),textarea:i("textarea"),tfoot:i("tfoot"),th:i("th"),thead:i("thead"),time:i("time"),title:i("title"),tr:i("tr"),track:i("track"),u:i("u"),ul:i("ul"),var:i("var"),video:i("video"),wbr:i("wbr"),circle:i("circle"),clipPath:i("clipPath"),defs:i("defs"),ellipse:i("ellipse"),g:i("g"),image:i("image"),line:i("line"),linearGradient:i("linearGradient"),mask:i("mask"),path:i("path"),pattern:i("pattern"),polygon:i("polygon"),polyline:i("polyline"),radialGradient:i("radialGradient"),rect:i("rect"),stop:i("stop"),svg:i("svg"),text:i("text"),tspan:i("tspan")};t.exports=o});C.r("node_modules/react/lib/ReactElement.js",function(e,r,n){"use strict";function t(e){return void 0!==e.ref}function o(e){return void 0!==e.key}var l=e("object-assign"),f=e("./ReactCurrentOwner"),i=(e("fbjs/lib/warning"),e("./canDefineProperty"),Object.prototype.hasOwnProperty),u=e("./ReactElementSymbol"),c={key:!0,ref:!0,__self:!0,__source:!0},a=function(e,r,n,t,o,l,f){var i={$$typeof:u,type:e,key:r,ref:n,props:f,_owner:l};return i};a.createElement=function(e,r,n){var l,u={},s=null,p=null;if(null!=r){t(r)&&(p=r.ref),o(r)&&(s=""+r.key),void 0===r.__self?null:r.__self,void 0===r.__source?null:r.__source;for(l in r)i.call(r,l)&&!c.hasOwnProperty(l)&&(u[l]=r[l])}var y=arguments.length-2;if(1===y)u.children=n;else if(y>1){for(var d=Array(y),_=0;_<y;_++)d[_]=arguments[_+2];u.children=d}if(e&&e.defaultProps){var v=e.defaultProps;for(l in v)void 0===u[l]&&(u[l]=v[l])}return a(e,s,p,0,0,f.current,u)},a.createFactory=function(e){var r=a.createElement.bind(null,e);return r.type=e,r},a.cloneAndReplaceKey=function(e,r){return a(e.type,r,e.ref,e._self,e._source,e._owner,e.props)},a.cloneElement=function(e,r,n){var u,s=l({},e.props),p=e.key,y=e.ref,d=(e._self,e._source,e._owner);if(null!=r){t(r)&&(y=r.ref,d=f.current),o(r)&&(p=""+r.key);var _;e.type&&e.type.defaultProps&&(_=e.type.defaultProps);for(u in r)i.call(r,u)&&!c.hasOwnProperty(u)&&(void 0===r[u]&&void 0!==_?s[u]=_[u]:s[u]=r[u])}var v=arguments.length-2;if(1===v)s.children=n;else if(v>1){for(var h=Array(v),b=0;b<v;b++)h[b]=arguments[b+2];s.children=h}return a(e.type,p,y,0,0,d,s)},a.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===u},r.exports=a});C.r("node_modules/react/lib/ReactElementSymbol.js",function(e,o,t){"use strict";var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;o.exports=l});C.r("node_modules/react/lib/ReactElementValidator.js",function(e,r,t){"use strict";function n(){if(c.current){var e=c.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(e){if(null!==e&&void 0!==e&&void 0!==e.__source){var r=e.__source;return" Check your code at "+r.fileName.replace(/^.*[\\\/]/,"")+":"+r.lineNumber+"."}return""}function a(e){var r=n();if(!r){var t="string"==typeof e?e:e.displayName||e.name;t&&(r=" Check the top-level render call using <"+t+">.")}return r}function i(e,r){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var t=v.uniqueKey||(v.uniqueKey={}),n=a(r);if(!t[n]){t[n]=!0;e&&e._owner&&e._owner!==c.current&&" It was passed a child from "+e._owner.getName()+"."}}}function l(e,r){if("object"==typeof e)if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];p.isValidElement(n)&&i(n,r)}else if(p.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var o=d(e);if(o&&o!==e.entries)for(var a,l=o.call(e);!(a=l.next()).done;)p.isValidElement(a.value)&&i(a.value,r)}}function u(e){var r=e.type;if("function"==typeof r){var t=r.displayName||r.name;r.propTypes&&s(r.propTypes,e.props,"prop",t,e,null),r.getDefaultProps}}var c=e("./ReactCurrentOwner"),f=e("./ReactComponentTreeHook"),p=e("./ReactElement"),s=e("./checkReactTypeSpec"),d=(e("./canDefineProperty"),e("./getIteratorFn")),v=(e("fbjs/lib/warning"),e("./lowPriorityWarning"),{}),y={createElement:function(e,r,t){var a="string"==typeof e||"function"==typeof e;if(!a&&"function"!=typeof e&&"string"!=typeof e){var i="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(i+=" You likely forgot to export your component from the file it's defined in.");var c=o(r);i+=c||n(),i+=f.getCurrentStackAddendum();var s=null!==r&&void 0!==r&&void 0!==r.__source?r.__source:null;f.pushNonStandardWarningStack(!0,s),f.popNonStandardWarningStack()}var d=p.createElement.apply(this,arguments);if(null==d)return d;if(a)for(var v=2;v<arguments.length;v++)l(arguments[v],e);return u(d),d},createFactory:function(e){var r=y.createElement.bind(null,e);return r.type=e,r},cloneElement:function(e,r,t){for(var n=p.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)l(arguments[o],n.type);return u(n),n}};r.exports=y});C.r("node_modules/react/lib/ReactNoopUpdateQueue.js",function(e,n,t){"use strict";var u=(e("fbjs/lib/warning"),{isMounted:function(e){return!1},enqueueCallback:function(e,n){},enqueueForceUpdate:function(e){},enqueueReplaceState:function(e,n){},enqueueSetState:function(e,n){}});n.exports=u});C.r("node_modules/react/lib/ReactPropTypeLocationNames.js",function(e,o,t){"use strict";var r={};o.exports=r});C.r("node_modules/react/lib/ReactPropTypes.js",function(e,t,r){"use strict";var s=e("./ReactElement"),o=s.isValidElement,a=e("prop-types/factory");t.exports=a(o)});C.r("node_modules/react/lib/ReactPropTypesSecret.js",function(_,e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"});C.r("node_modules/react/lib/ReactVersion.js",function(e,s,t){"use strict";s.exports="15.6.1"});C.r("node_modules/react/lib/canDefineProperty.js",function(e,r,t){"use strict";var n=!1;r.exports=n});C.r("node_modules/react/lib/checkReactTypeSpec.js",function(e,r,a){"use strict";function n(e,r,a,n,i,f){for(var p in e)if(e.hasOwnProperty(p)){var l;try{"function"!=typeof e[p]&&t("84",n||"React class",c[a],p),l=e[p](r,p,n,a,null,s)}catch(e){l=e}if(l instanceof Error&&!(l.message in o)){o[l.message]=!0}}}var t=e("./reactProdInvariant"),c=e("./ReactPropTypeLocationNames"),s=e("./ReactPropTypesSecret");e("fbjs/lib/invariant"),e("fbjs/lib/warning");"undefined"!=typeof process&&process.env;var o={};r.exports=n});C.r("node_modules/react/lib/createClass.js",function(e,t,a){"use strict";var s=e("./ReactBaseClasses"),c=s.Component,o=e("./ReactElement"),r=o.isValidElement,l=e("./ReactNoopUpdateQueue"),n=e("create-react-class/factory");t.exports=n(c,r,l)});C.r("node_modules/react/lib/getIteratorFn.js",function(t,o,r){"use strict";function e(t){var o=t&&(n&&t[n]||t[i]);if("function"==typeof o)return o}var n="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";o.exports=e});C.r("node_modules/react/lib/getNextDebugID.js",function(e,t,r){"use strict";function n(){return u++}var u=1;t.exports=n});C.r("node_modules/react/lib/lowPriorityWarning.js",function(r,i,n){"use strict";var o=function(){};i.exports=o});C.r("node_modules/react/lib/onlyChild.js",function(n,t,e){"use strict";function i(n){return a.isValidElement(n)||r("143"),n}var r=n("./reactProdInvariant"),a=n("./ReactElement");n("fbjs/lib/invariant");t.exports=i});C.r("node_modules/react/lib/reactProdInvariant.js",function(r,e,o){"use strict";function n(r){for(var e=arguments.length-1,o="Minified React error #"+r+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+r,n=0;n<e;n++)o+="&args[]="+encodeURIComponent(arguments[n+1]);o+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var t=new Error(o);throw t.name="Invariant Violation",t.framesToPop=1,t}e.exports=n});C.r("node_modules/react/lib/traverseAllChildren.js",function(e,r,t){"use strict";function n(e,r){return e&&"object"==typeof e&&null!=e.key?s.escape(e.key):r.toString(36)}function a(e,r,t,i){var b=typeof e;if("undefined"!==b&&"boolean"!==b||(e=null),null===e||"string"===b||"number"===b||"object"===b&&e.$$typeof===o)return t(i,e,""===r?u+n(e,0):r),1;var v,j,y=0,d=""===r?u:r+f;if(Array.isArray(e))for(var p=0;p<e.length;p++)v=e[p],j=d+n(v,p),y+=a(v,j,t,i);else{var g=c(e);if(g){var k,m=g.call(e);if(g!==e.entries)for(var h=0;!(k=m.next()).done;)v=k.value,j=d+n(v,h++),y+=a(v,j,t,i);else for(;!(k=m.next()).done;){var w=k.value;w&&(v=w[1],j=d+s.escape(w[0])+f+n(v,0),y+=a(v,j,t,i))}}else if("object"===b){var x="",A=String(e);l("31","[object Object]"===A?"object with keys {"+Object.keys(e).join(", ")+"}":A,x)}}return y}function i(e,r,t){return null==e?0:a(e,"",r,t)}var l=e("./reactProdInvariant"),o=(e("./ReactCurrentOwner"),e("./ReactElementSymbol")),c=e("./getIteratorFn"),s=(e("fbjs/lib/invariant"),e("./KeyEscapeUtils")),u=(e("fbjs/lib/warning"),"."),f=":";r.exports=i});C.r("node_modules/react/node_modules/prop-types/checkPropTypes.js",function(e,o,s){"use strict";function t(e,o,s,t,c){}o.exports=t});C.r("node_modules/react/node_modules/prop-types/factory.js",function(e,r,t){"use strict";var o=e("./factoryWithTypeCheckers");r.exports=function(e){return o(e,!1)}});C.r("node_modules/react/node_modules/prop-types/factoryWithTypeCheckers.js",function(e,n,r){"use strict";var t=e("fbjs/lib/emptyFunction"),o=e("fbjs/lib/invariant"),u=e("fbjs/lib/warning"),i=e("./lib/ReactPropTypesSecret"),a=e("./checkPropTypes");n.exports=function(e,n){function r(e){var n=e&&(P&&e[P]||e[R]);if("function"==typeof n)return n}function f(e,n){return e===n?0!==e||1/e==1/n:e!==e&&n!==n}function c(e){this.message=e,this.stack=""}function l(e){function r(r,t,u,a,f,l,s){if(a=a||k,l=l||u,s!==i)if(n)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==t[u]?r?new c(null===t[u]?"The "+f+" `"+l+"` is marked as required in `"+a+"`, but its value is `null`.":"The "+f+" `"+l+"` is marked as required in `"+a+"`, but its value is `undefined`."):null:e(t,u,a,f,l)}var t=r.bind(null,!1);return t.isRequired=r.bind(null,!0),t}function s(e){function n(n,r,t,o,u,i){var a=n[r];if(x(a)!==e)return new c("Invalid "+o+" `"+u+"` of type `"+j(a)+"` supplied to `"+t+"`, expected `"+e+"`.");return null}return l(n)}function p(e){function n(n,r,t,o,u){if("function"!=typeof e)return new c("Property `"+u+"` of component `"+t+"` has invalid PropType notation inside arrayOf.");var a=n[r];if(!Array.isArray(a)){return new c("Invalid "+o+" `"+u+"` of type `"+x(a)+"` supplied to `"+t+"`, expected an array.")}for(var f=0;f<a.length;f++){var l=e(a,f,t,o,u+"["+f+"]",i);if(l instanceof Error)return l}return null}return l(n)}function y(e){function n(n,r,t,o,u){if(!(n[r]instanceof e)){var i=e.name||k;return new c("Invalid "+o+" `"+u+"` of type `"+T(n[r])+"` supplied to `"+t+"`, expected instance of `"+i+"`.")}return null}return l(n)}function d(e){function n(n,r,t,o,u){for(var i=n[r],a=0;a<e.length;a++)if(f(i,e[a]))return null;return new c("Invalid "+o+" `"+u+"` of value `"+i+"` supplied to `"+t+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?l(n):t.thatReturnsNull}function v(e){function n(n,r,t,o,u){if("function"!=typeof e)return new c("Property `"+u+"` of component `"+t+"` has invalid PropType notation inside objectOf.");var a=n[r],f=x(a);if("object"!==f)return new c("Invalid "+o+" `"+u+"` of type `"+f+"` supplied to `"+t+"`, expected an object.");for(var l in a)if(a.hasOwnProperty(l)){var s=e(a,l,t,o,u+"."+l,i);if(s instanceof Error)return s}return null}return l(n)}function b(e){function n(n,r,t,o,u){for(var a=0;a<e.length;a++){if(null==(0,e[a])(n,r,t,o,u,i))return null}return new c("Invalid "+o+" `"+u+"` supplied to `"+t+"`.")}if(!Array.isArray(e))return t.thatReturnsNull;for(var r=0;r<e.length;r++){var o=e[r];if("function"!=typeof o)return u(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",w(o),r),t.thatReturnsNull}return l(n)}function m(e){function n(n,r,t,o,u){var a=n[r],f=x(a);if("object"!==f)return new c("Invalid "+o+" `"+u+"` of type `"+f+"` supplied to `"+t+"`, expected `object`.");for(var l in e){var s=e[l];if(s){var p=s(a,l,t,o,u+"."+l,i);if(p)return p}}return null}return l(n)}function h(n){switch(typeof n){case"number":case"string":case"undefined":return!0;case"boolean":return!n;case"object":if(Array.isArray(n))return n.every(h);if(null===n||e(n))return!0;var t=r(n);if(!t)return!1;var o,u=t.call(n);if(t!==n.entries){for(;!(o=u.next()).done;)if(!h(o.value))return!1}else for(;!(o=u.next()).done;){var i=o.value;if(i&&!h(i[1]))return!1}return!0;default:return!1}}function g(e,n){return"symbol"===e||("Symbol"===n["@@toStringTag"]||"function"==typeof Symbol&&n instanceof Symbol)}function x(e){var n=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":g(n,e)?"symbol":n}function j(e){if(void 0===e||null===e)return""+e;var n=x(e);if("object"===n){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return n}function w(e){var n=j(e);switch(n){case"array":case"object":return"an "+n;case"boolean":case"date":case"regexp":return"a "+n;default:return n}}function T(e){return e.constructor&&e.constructor.name?e.constructor.name:k}var P="function"==typeof Symbol&&Symbol.iterator,R="@@iterator",k="<<anonymous>>",A={array:s("array"),bool:s("boolean"),func:s("function"),number:s("number"),object:s("object"),string:s("string"),symbol:s("symbol"),any:function(){return l(t.thatReturnsNull)}(),arrayOf:p,element:function(){function n(n,r,t,o,u){var i=n[r];if(!e(i)){return new c("Invalid "+o+" `"+u+"` of type `"+x(i)+"` supplied to `"+t+"`, expected a single ReactElement.")}return null}return l(n)}(),instanceOf:y,node:function(){function e(e,n,r,t,o){return h(e[n])?null:new c("Invalid "+t+" `"+o+"` supplied to `"+r+"`, expected a ReactNode.")}return l(e)}(),objectOf:v,oneOf:d,oneOfType:b,shape:m};return c.prototype=Error.prototype,A.checkPropTypes=a,A.PropTypes=A,A}});C.r("node_modules/react/node_modules/prop-types/lib/ReactPropTypesSecret.js",function(e,_,o){"use strict";_.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"});C.r("node_modules/react/react.js",function(e,t,c){"use strict";t.exports=e("./lib/React")});C.r("node_modules/redux/lib/applyMiddleware.js",function(t,r,e){"use strict";function n(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];return function(t){return function(e,n,u){var i=t(e,n,u),c=i.dispatch,d=[],f={getState:i.getState,dispatch:function(t){return c(t)}};return d=r.map(function(t){return t(f)}),c=o.default.apply(void 0,d)(i.dispatch),a({},i,{dispatch:c})}}}e.__esModule=!0;var a=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t};e.default=n;var u=t("./compose"),o=function(t){return t&&t.__esModule?t:{default:t}}(u)});C.r("node_modules/redux/lib/bindActionCreators.js",function(t,o,e){"use strict";function n(t,o){return function(){return o(t.apply(void 0,arguments))}}function r(t,o){if("function"==typeof t)return n(t,o);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var e=Object.keys(t),r={},i=0;i<e.length;i++){var u=e[i],f=t[u];"function"==typeof f&&(r[u]=n(f,o))}return r}e.__esModule=!0,e.default=r});C.r("node_modules/redux/lib/combineReducers.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:u.ActionTypes.INIT}))throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+u.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}function a(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var u,d=Object.keys(n);try{o(n)}catch(e){u=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(u)throw u;for(var r=!1,o={},a=0;a<d.length;a++){var s=d[a],c=n[s],f=e[s],h=c(f,t);if(void 0===h){var l=i(s,t);throw new Error(l)}o[s]=h,r=r||h!==f}return r?o:e}}n.__esModule=!0,n.default=a;var u=e("./createStore"),d=e("lodash/isPlainObject"),s=(r(d),e("./utils/warning"));r(s)});C.r("node_modules/redux/lib/compose.js",function(e,n,r){"use strict";function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(0===n.length)return function(e){return e};if(1===n.length)return n[0];var t=n[n.length-1],u=n.slice(0,-1);return function(){return u.reduceRight(function(e,n){return n(e)},t.apply(void 0,arguments))}}r.__esModule=!0,r.default=t});C.r("node_modules/redux/lib/createStore.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){function r(){w===h&&(w=h.slice())}function i(){return y}function u(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),w.push(e),function(){if(t){t=!1,r();var n=w.indexOf(e);w.splice(n,1)}}}function s(e){if(!(0,c.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(v)throw new Error("Reducers may not dispatch actions.");try{v=!0,y=b(y,e)}finally{v=!1}for(var t=h=w,n=0;n<t.length;n++)t[n]();return e}function d(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");b=e,s({type:a.INIT})}function p(){var e,t=u;return e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[f.default]=function(){return this},e}var l;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var b=e,y=t,h=[],w=h,v=!1;return s({type:a.INIT}),l={dispatch:s,subscribe:u,getState:i,replaceReducer:d},l[f.default]=p,l}n.__esModule=!0,n.ActionTypes=void 0,n.default=o;var i=e("lodash/isPlainObject"),c=r(i),u=e("symbol-observable"),f=r(u),a=n.ActionTypes={INIT:"@@redux/INIT"}});C.r("node_modules/redux/lib/index.js",function(e,d,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}o.__esModule=!0,o.compose=o.applyMiddleware=o.bindActionCreators=o.combineReducers=o.createStore=void 0;var t=e("./createStore"),a=r(t),i=e("./combineReducers"),c=r(i),n=e("./bindActionCreators"),u=r(n),l=e("./applyMiddleware"),s=r(l),p=e("./compose"),f=r(p),b=e("./utils/warning");r(b);o.createStore=a.default,o.combineReducers=c.default,o.bindActionCreators=u.default,o.applyMiddleware=s.default,o.compose=f.default});C.r("node_modules/redux/lib/utils/warning.js",function(o,e,n){"use strict";function r(o){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(o);try{throw new Error(o)}catch(o){}}n.__esModule=!0,n.default=r});C.r("node_modules/redux/node_modules/lodash/_Symbol.js",function(o,d,e){var l=o("./_root"),r=l.Symbol;d.exports=r});C.r("node_modules/redux/node_modules/lodash/_baseGetTag.js",function(e,o,n){function t(e){return null==e?void 0===e?u:r:a&&a in Object(e)?i(e):l(e)}var d=e("./_Symbol"),i=e("./_getRawTag"),l=e("./_objectToString"),r="[object Null]",u="[object Undefined]",a=d?d.toStringTag:void 0;o.exports=t});C.r("node_modules/redux/node_modules/lodash/_freeGlobal.js",function(o,l,e){var b="object"==typeof global&&global&&global.Object===Object&&global;l.exports=b});C.r("node_modules/redux/node_modules/lodash/_getPrototype.js",function(e,o,t){var r=e("./_overArg"),d=r(Object.getPrototypeOf,Object);o.exports=d});C.r("node_modules/redux/node_modules/lodash/_getRawTag.js",function(o,t,r){function e(o){var t=d.call(o,c),r=o[c];try{o[c]=void 0;var e=!0}catch(o){}var a=l.call(o);return e&&(t?o[c]=r:delete o[c]),a}var a=o("./_Symbol"),n=Object.prototype,d=n.hasOwnProperty,l=n.toString,c=a?a.toStringTag:void 0;t.exports=e});C.r("node_modules/redux/node_modules/lodash/_objectToString.js",function(o,t,e){function n(o){return d.call(o)}var r=Object.prototype,d=r.toString;t.exports=n});C.r("node_modules/redux/node_modules/lodash/_overArg.js",function(n,o,e){function r(n,o){return function(e){return n(o(e))}}o.exports=r});C.r("node_modules/redux/node_modules/lodash/_root.js",function(e,o,s){var t=e("./_freeGlobal"),l="object"==typeof self&&self&&self.Object===Object&&self,r=t||l||Function("return this")();o.exports=r});C.r("node_modules/redux/node_modules/lodash/isObjectLike.js",function(e,o,n){function t(e){return null!=e&&"object"==typeof e}o.exports=t});C.r("node_modules/redux/node_modules/lodash/isPlainObject.js",function(t,e,o){function r(t){if(!u(t)||n(t)!=a)return!1;var e=c(t);if(null===e)return!0;var o=p.call(e,"constructor")&&e.constructor;return"function"==typeof o&&o instanceof o&&s.call(o)==b}var n=t("./_baseGetTag"),c=t("./_getPrototype"),u=t("./isObjectLike"),a="[object Object]",i=Function.prototype,l=Object.prototype,s=i.toString,p=l.hasOwnProperty,b=s.call(Object);e.exports=r});C.r("node_modules/symbol-observable/index.js",function(e,o,n){o.exports=e("./lib/index")});C.r("node_modules/symbol-observable/lib/index.js",function(e,n,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d,l=e("./ponyfill"),t=function(e){return e&&e.__esModule?e:{default:e}}(l);d="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==n?n:Function("return this")();var u=(0,t.default)(d);o.default=u});C.r("node_modules/symbol-observable/lib/ponyfill.js",function(e,o,b){"use strict";function l(e){var o,b=e.Symbol;return"function"==typeof b?b.observable?o=b.observable:(o=b("observable"),b.observable=o):o="@@observable",o}Object.defineProperty(b,"__esModule",{value:!0}),b.default=l});C.r("akira/common.js",function(e,s,a){"use strict";e("react"),e("react-dom"),e("create-react-class"),e("classnames"),e("redux"),e("react-redux"),e("cookie-dough"),e("es5-shim"),e("nf-ardbeg"),e("prop-types"),e("object-assign"),e("path-to-regexp"),e("nf-cl-logger"),e("qs"),e("hoist-non-react-statics"),e("lodash")});C.r("akira/AkiraApp.js",function(a,e,r){"use strict";var o=a("shakti-platform/dist/ui/app/App"),t=a("../player/nfplayer/domain/common/createAppFromDomains"),p=a("./redux/discovery/createDiscoveryDomain"),n=a("./redux/profile/createProfileDomain"),l=a("../player/app/createPlayerApp"),i=a("../player/nfplayer/domain/postplay/createPostPlayApp"),s=a("shakti-platform/dist/ui/routing/History"),d=a("ramda/src/pathOr"),m=a("../player/domains/playerApp/playerAppConfig"),y=a("../player/nfplayer/utils/playerConfig"),c=a("./routeHandlers"),u=a("../common/icuStrings.js"),f=m.playerAppConfigRecord,P=function(a){return!(!a.isBVUIPostPlayCommonEnabled&&!a.requiresNFPlayer)};e.exports=new o({routeHandlers:c},{handleCreateContext:function(a){var e=d(void 0,["model","models"],a),r=d({},["playerModel","data"],e),o=d({},["truths","data"],e),s=t({domains:[p(a.model.pathEvaluator),n()]}),m=l(a.model.pathEvaluator,y.getInitParamsFromPlayerModel(r),f({seamlessPlaybackEnabledForUI:o.seamlessPlaybackEnabledForUI}));return Object.assign({},a,{discoveryApp:s,playerApp:m,discoveryStore:s.getStore(),postPlayApp:P(o)?i(a.model.pathEvaluator):void 0})},handleRouteChange:function(a,e){return e&&e.components&&e.components.forEach(function(a){a.willTransitionTo&&a.willTransitionTo(s,e)}),a},stringProvider:u})});C.r("akira/akiraContextTypes.js",function(e,r,o){"use strict";var i=e("prop-types");r.exports={currentPage:i.string,columnsInRow:i.number.isRequired,isInitialRender:i.bool,isKidsPage:i.bool,isOverlayPage:i.bool,lolomoId:i.string,rowNum:i.number,rankNum:i.number,requestId:i.string,listContext:i.string,listType:i.string,isTallRow:i.bool,trackId:i.number,jawBoneTrackId:i.number,jawBoneEpisodeTrackId:i.number,jawBoneTrailerTrackId:i.number,parentContext:i.object,isRtl:i.bool,profileManager:i.object.isRequired,discoveryApp:i.object.isRequired,playerApp:i.object.isRequired}});C.r("akira/akiraLayout.jsx",function(e,t,s){"use strict";function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function a(e){var t=z.getMotionBillboardPrepareDataFromFalcorPath(e);return 0!==t.length&&(D.emit(W.PROFILES_VIDEO_PREPARE,{prepareList:t}),F.prepare(t).subscribe(),!0)}function o(e,t,s){return e&&t in e?e[t]:s}function n(){D.emit("window-visibility:changed",!document.hidden)}var r=e("prop-types"),l=e("react"),h=e("create-react-class"),p=e("react-dom"),d=e("lodash"),c=e("classnames"),u=e("shakti-platform/dist/ui/ShaktiProperties"),g=e("../common/adtech-iFrame.js"),m=e("../common/adtech-iFrame2.js"),f=e("../components/uma/uma.jsx"),P=e("../utils/Routes"),v=e("../utils/profileManager"),y=e("../utils/lolomo/lolomoUtils"),w=e("../common/position"),S=e("./windowsAppBanner.jsx"),R=e("./containers/header/appHeader.jsx"),x=e("./containers/header/pinningHeader.jsx"),b=e("./containers/header/kidsAppHeader.jsx"),E=e("./containers/footer/appFooter.jsx"),M=e("./containers/footer/slimFooter.jsx"),H=e("./components/profile/profilesGate.jsx"),k=e("./containers/modal/ratingWelcome.jsx"),j=e("./containers/modal/modalManager.jsx"),C=e("./containers/timeoutTransition/timeoutTransitionGroup.jsx"),I=e("./containers/freezeWrapper.jsx"),O=e("./containers/freezeOnChangedPageKey.jsx"),A=e("./containers/overlay/kidsOverlayPage.jsx"),G=e("./views/kidsHome.jsx"),K=e("./views/home.jsx"),U=e("../reactMixins/falkor-fetch"),B=e("../reactMixins/browserScroll"),D=e("../reactMixins/eventBus"),L=e("../utils/player/videoPreparer"),F=e("../utils/player/videoSession"),z=e("../player/nfplayer/domain/billboard/billboardUtils"),N=e("../mdx2/components/mdxMount.jsx"),T=e("../utils/ab/kidsParityTest"),V=e("./components/loader/loadingGallery.jsx"),W=e("../utils/consolidatedLogging/loggingEventRegistry"),q=[["profilesList","current","usesManualMyListSort"]],_={500:2,800:3,1100:4,1400:5,1e4:6},J=h({displayName:"AkiraLayout",contextTypes:{getModelData:r.func.isRequired,history:r.object.isRequired,models:r.object,routeHandler:r.object.isRequired},mixins:[U,B],childContextTypes:{node:r.object,jsongDocument:r.object,columnsInRow:r.number,currentPage:r.string,isKidsPage:r.bool,isOverlayPage:r.bool,isInitialRender:r.bool,profileGateAppState:r.object,pageKey:r.string},getChildContext:function(){return{node:this.props.model.node,jsongDocument:this.props.model.pathEvaluator,columnsInRow:this.state.columnsInRow,currentPage:this.props.uiView,isKidsPage:this.props.isKidsPage,isOverlayPage:this.props.isOverlayPage,isInitialRender:this.props.isInitialRender,profileGateAppState:this.props.profileGateAppState,pageKey:this.getPageKey()}},getInitialState:function(){this.scope={umaRef:null,appBannerRef:null,nnBannerRef:null};var e=d.get(this.context.models,"umaModel.data.alertBox",null),t=d.isEmpty(e)?null:e,s=d.get(this.context.models,"userInfo.data.ratings.showWelcome",!1),i=o(this.context.getModelData("truths"),"showRatingsProductization",!1);return{columnsInRow:6,uma:t,hadUma:Boolean(t),hideHeader:!1,isPrefetchingPaths:!1,showFirstThumbMessage:s,showRatingsProductization:i,bigRowIsOpen:!1}},componentWillMount:function(){"client"===this.props.renderSource&&this.logPageChange()},componentDidMount:function(){document.addEventListener("visibilitychange",n),this.onResize(),this.throttledResize||(this.throttledResize=d.throttle(this.onResize,300)),window.addEventListener("resize",this.throttledResize,!1);var e=this,t=this.context.getModelData("truths"),s=this.props.model.pathEvaluator;if(this.isShowingProfilesGate()){var i=a(s);this.prefetchPageData(i?void 0:function(){return a(s)})}else this.prefetchPageData();this.checkForRatingsModal(),this.props.isKidsPage||(u.get("ui.iframeCommunicator.useNewVersion.akira")?m.sendAdTech("homeScreen","current"):g.sendAdTech("homeScreen","current")),L.initialize({getRouteParameterState:function(){var t=e.context.routeHandler;switch(t.route){case P.subtitles:case P.subtitle:return t&&t.params&&t.params.id?{sl:t.params.id}:{};case P.audio:return t&&t.params&&t.params.id?{al:t.params.id}:{};default:return{}}},makePrePlayCall:o(t,"makePrePlayCall"),preRollPlayPrediction:o(t,"preRollPlayPrediction"),pathEvaluator:s}),D.on("appHeader:hide",this.hideHeader),D.on("appHeader:show",this.showHeader)},componentWillUpdate:function(e){var t=this;e.isOverlayPage&&!this.lastFocusedElement?this.lastFocusedElement=document.activeElement:this.props.isOverlayPage&&!e.isOverlayPage&&this.lastFocusedElement&&setTimeout(function(){t.lastFocusedElement.focus(),t.lastFocusedElement=null},50)},componentDidUpdate:function(e,t){this.checkForRatingsModal(),this.logPageChange()},componentWillUnmount:function(){document.removeEventListener("visibilitychange",n),D.removeListener("appHeader:hide",this.hideHeader),D.removeListener("appHeader:show",this.showHeader),L.destroy(),this.throttledResize&&window.removeEventListener("resize",this.throttledResize,!1)},onResize:function(){var e=w.getWindowRect().width,t=6;d.some(_,function(s,i){return e<=parseInt(i)&&(t=s,!0)}),t&&this.state.columnsInRow!==t&&this.setState({columnsInRow:t})},onScroll:function(){var e=document.body.style;Math.abs(this.getScrollDistance())>50&&"none"!==e.pointerEvents&&(e.pointerEvents="none")},onScrollEnd:function(){setTimeout(function(){document.body.style.pointerEvents=""},100)},logPageChange:function(){var e=this.props.profileGateAppState,t=this.getPageProps();v.isGateOpen(e)?t.uiView=v.getCurrentUIView(e):t.uiView=this.props.uiView,t.uiView&&D.emit("app:pageChange",t)},prefetchPageData:function(e){var t=this;if(this.isShowingProfilesGate()){var s=d.get(this.context.models,"postGateData.data");s&&s.length>0&&(this.state.isPrefetchingPaths=!0,y.seedLolomoImpression(this.props.model.pathEvaluator),this.fetchData(this.props.model.pathEvaluator,s,"prefetch-page",function(){"function"==typeof e&&e(),t.setState({isPrefetchingPaths:!1})}))}},getHeaderComponent:function(){return this.context.getModelData("truths","hasAROV2Gallery")?x:R},getPageChromePaths:function(){var e=this.getHeaderComponent();return e.getPaths(null,e.fullHeaderStrategy).concat(E.getPaths()).concat(q)},isShowingProfilesGate:function(){var e=this.props.model.pathEvaluator.bind(["profilesList"]),t=e.getValueSync(["summary"]),s=t&&t.length>1,i=this.props.profileGateAppState,a=this.props.profileGateAppState&&this.props.profileGateAppState.forceProfileGate;return v.isGateOpen(i)&&(s||v.isReloadingProfiles(i)||this.isManageProfiles()||a)},isShowingUMA:function(){var e=this.state.uma;return e&&!d.isEmpty(e)&&this.canShowModal()},canShowModal:function(){return!this.isShowingProfilesGate()&&!this.isManageProfiles()},checkForRatingsModal:function(){this.state.showRatingsProductization&&this.canShowModal()&&this.state.showFirstThumbMessage&&!1===this.props.isKidsPage&&(j.open(k,{name:"ratingModal",additionalClasses:["rating-welcome-modal"],contentProps:{}}),this.setState({showFirstThumbMessage:!1}),this.context&&this.context.models&&this.context.models.userInfo&&this.context.models.userInfo.data&&this.context.models.userInfo.data.ratings&&(this.context.models.userInfo.data.ratings.showWelcome=!1))},hideUMA:function(){this.setState({uma:null})},getPageKey:function(){var e=this.context.routeHandler.path;return-1!==e.indexOf("messages/")&&(e=P.browse.makePath()),this.props.isOverlayPage&&(e="sharedOverlay"),-1!==this.props.uiView.indexOf("search")&&(e="search"),e},getPageProps:function(){var e=this.context.routeHandler.query,t={};return t.id=this.context.routeHandler.params.id,e&&(t.trackId=void 0!==e.trackId?parseInt(e.trackId,10):null,t.jawBoneRankNum=void 0!==e.jbp?parseInt(e.jbp,10):null,t.jawBoneRowNum=void 0!==e.jbr?parseInt(e.jbr,10):null,t.jawBoneVideoId=e.jbv),t},hideHeader:function(){this.setState({hideHeader:!0})},showHeader:function(){this.setState({hideHeader:!1})},isManageProfiles:function(){return!!this.getPageKey().match(/(profiles)/i)},renderUMA:function(){var e=this;if(!f.stub&&this.isShowingUMA())return l.createElement("div",{className:c("uma"),id:"uma",key:"uma-area",ref:function(t){return d.set(e,"scope.umaRef",t)}},l.createElement(f,{key:"user-uma",model:this.state.uma,hideUma:this.hideUMA,supportsModal:!0}))},renderAppBanner:function(){var e=this;if(o(this.context.getModelData("truths"),"hasWindowsAppBanner")&&!this.isShowingProfilesGate()&&!this.state.hadUma&&!this.props.isKidsPage)return l.createElement(S,{ref:function(t){return d.set(e,"scope.appBannerRef",p.findDOMNode(t))}})},renderProfilesGate:function(){return l.createElement(H,{model:this.props.model.pathEvaluator,profileGateAppState:this.props.profileGateAppState,getPageChromePaths:this.getPageChromePaths})},handleOverlayPageClose:function(){this.pageScreenShotURL&&(this.context.history.pushState(this.pageScreenShotURL),D.emit("app:interactive"))},toggleBigRowState:function(e){e!==this.state.bigRowIsOpen&&this.setState({bigRowIsOpen:e})},getMainContentAreas:function(){var e=this.props.isKidsPage,t=this.getPageProps(),s={isKidsPage:this.props.isKidsPage,model:this.props.model,uiView:this.props.uiView,toggleBigRowState:this.toggleBigRowState,bigRowIsOpen:this.state.bigRowIsOpen,is4KSupported:this.props.is4KSupported,isHDRSupported:this.props.isHDRSupported},i=null,a=!1;if(this.props.isRefreshingApp)return{mainContent:l.createElement("div",{className:c("page-transition-loader")},l.createElement(V,null))};var o=l.cloneElement(this.props.children,Object.assign({},s,t,{key:this.getPageKey(),isPrefetchingPaths:this.state.isPrefetchingPaths}));if(e&&this.props.isOverlayPage)if(i=o,this.pageScreenShotURL)a=!0;else{this.pageScreenShotTerm="";var n=Object.assign({},s,{key:this.pageScreenShotURL});this.props.isKidsPage?(this.pageScreenShotURL=P.kidsHome.makePath(),o=l.createElement(G,n)):(this.pageScreenShotURL=P.browse.makePath(),o=l.createElement(K,n))}else if(e){var r=this.context.routeHandler.params;r.term&&(r=d.assign({},r,{term:encodeURIComponent(r.term)})),this.pageScreenShotURL=this.context.routeHandler.route.makePath(r,this.context.routeHandler.query),this.pageScreenShotTerm=this.context.routeHandler.query.q||this.context.routeHandler.params.term}return{mainContent:o,overlayContent:i,shouldFreezeMainContent:a}},renderMainContent:function(){var e=this.isShowingProfilesGate(),t=this.props.isKidsPage,s=T.kidsProfileWithoutParity(this.context.models)?l.createElement(M,{key:"footer"}):l.createElement(E,{key:"footer",model:this.props.model.pathEvaluator}),i={mainView:!0},a=void 0;return e?this.renderProfilesGate():(a=this.getMainContentAreas(),a.overlayContent&&(i["ptrack-disabled"]=!0),[l.createElement(I,{shouldFreeze:a.shouldFreezeMainContent,key:"freezeWrapper"},l.createElement(C,{key:"mainView",className:c(i),role:"main",component:"div",transitionName:"pageTransition",enterTimeout:200,leaveTimeout:200,enterDelayMs:250},l.createElement(O,{key:this.getPageKey()},a.mainContent))),t&&l.createElement(A,{key:"overlay",handleClose:this.handleOverlayPageClose},a.overlayContent),this.isManageProfiles()?null:s])},getPreHeaderHeight:function(){var e=this.scope.umaRef&&!isNaN(this.scope.umaRef.scrollHeight)&&this.scope.umaRef.scrollHeight,t=this.scope.appBanner&&!isNaN(this.scope.appBanner.scrollHeight)&&this.scope.appBanner.scrollHeight,s=this.scope.nnBannerRef&&!isNaN(this.scope.nnBannerRef.scrollHeight)&&this.scope.appBanner.scrollHeight;return(e||0)+(t||0)+(s||0)},render:function(){var e=this.props.model,t=this.context.routeHandler.query.q||decodeURIComponent(this.context.routeHandler.params.term||""),s=this.props.isOverlayPage?this.pageScreenShotTerm:t||"",a=this.isShowingProfilesGate()||this.isManageProfiles(),n=this.isShowingUMA(),r=d.get(this.context.models,"geo.data"),h=d.get(this.context.models,"userInfo.data"),p=d.get(r,"locale.id","en"),u=d.get(r,"locale.language","en"),g=o(this.context.getModelData("truths"),"mdx2Enabled"),m=this.getHeaderComponent(),f="US"===d.get(h,"countryOfSignup",null)&&!d.get(h,"isBOBO")&&!this.props.isKidsPage,P=i({bd:!0,"dark-background":!this.props.isKidsPage,kidsPage:this.props.isKidsPage,"has-uma":n},"lang_"+u,!0);return l.createElement("div",{className:c(P),lang:p,onClick:this.handleClick,onChange:this.handleChange,onMouseMove:this.handleMouseMove},this.renderUMA(),this.renderAppBanner(),T.kidsProfileWithoutParity(this.context.models)?l.createElement(b,{model:e,ref:"header",pathEvaluator:e.pathEvaluator,term:s,isShowingProfilesGate:a,isKidsPage:this.props.isKidsPage}):l.createElement(m,{model:e,ref:"header",showDVDLink:f,pathEvaluator:e.pathEvaluator,term:s,isShowingProfilesGate:a,hideHeader:this.state.hideHeader,isKidsPage:this.props.isKidsPage,getPreHeaderHeight:this.getPreHeaderHeight}),g&&l.createElement(N,null),this.renderMainContent(),l.createElement("div",{className:"image-preloaders"},l.createElement("span",{className:"jawbone-images"})))}});t.exports=J});C.r("akira/baseRouteHandler.jsx",function(e,t,i){"use strict";function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){p.setCurrentModalView(e),p.setKidsMode(t),p.attachListeners()}var s=e("prop-types"),l=e("react"),a=e("create-react-class"),n=e("lodash"),c=e("../components/LayoutContext.jsx"),d=e("./akiraLayout.jsx"),p=e("../utils/consolidatedLogging/index"),C=e("../reactMixins/eventBus"),L=e("../utils/profileManager"),h=e("shakti-platform/dist/ui/utils/inNode"),u=e("../utils/isRtl"),y=e("../utils/Routes"),m=e("../kidsPlayer/player/assets/inlineSVG"),f=e("../common/svgIconKoreanRatings"),x=e("./components/hoc/detectFontsWrapper.jsx"),b=e("../utils/player/videoSession"),w=e("./precache"),M=e("../player/nfplayer/utils/featureDetection"),v=e("../utils/isKidsProfile"),g=e("classnames"),S=e("../utils/ab/kidsParityTest"),P=[w.PATH_PRECACHE_CONFIG],A=[y.kidsTitle,y.kidsCharacter],k=[y.kidsCharacter],R=[y.kidsHome,y.kidsCategory,y.kidsTitle,y.kidsCharacter,y.kidsSearch,y.kidsSearchTerm,y.kidsSimilars,y.kidsSearchSuggestion,y.kidsCharacterGallery,y.kidsOriginals],B=[y.watchNow],Z=a({displayName:"BaseRouteHandler",contextTypes:{getModelData:s.func.isRequired,history:s.object.isRequired,models:s.object,routeHandler:s.object.isRequired},childContextTypes:{isRtl:s.bool,isKidsProfile:s.bool,playerApp:s.object,postPlayApp:s.object,postPlayDomain:s.object,profileManager:s.object,discoveryApp:s.object,discoveryStore:s.object},getChildContext:function(){return{isRtl:u(n.get(this.context.models,"geo.data")),isKidsProfile:v(this.context.models),playerApp:this.props.playerApp,postPlayApp:this.props.postPlayApp,postPlayDomain:this.props.postPlayDomain,profileManager:this.profileManager,discoveryApp:this.props.discoveryApp,discoveryStore:this.props.discoveryStore}},getInitialState:function(){return this.profileManager=L.createManagerInstance(this.props.discoveryApp),{initializedCL:!1,is4KSupported:!1,isHDRSupported:!1,isInitialRender:!0,isAllowedToRender:!0,profileGateAppState:{activeView:n.get(this.context.models,"profileGateState.data",L.VIEWS.CLOSED)},inLowPowerMode:!1}},isInAkiraDiscovery:function(){return this.props.children&&this.props.children.type===d},getCurrentUIView:function(){return this.context.routeHandler.uiView},isOverlayPage:function(){var e=this.context.routeHandler.route,t=this.context.getModelData("truths","hasKidsParityWithMDPOverlay");return S.kidsProfileWithParity(this.context.models)&&!t?k.indexOf(e)>-1:A.indexOf(e)>-1},isKidsPage:function(){return!!S.kidsProfileWithParity(this.context.models)||R.indexOf(this.context.routeHandler.route)>-1},isSharedPage:function(){return B.indexOf(this.context.routeHandler.route)>-1},isPlaybackView:function(){return"playback"===this.getCurrentUIView()},componentWillMount:function(){var e=void 0;"client"!==this.props.renderSource||this.state.initializedCL||(e=this.getCurrentUIView())&&(this.state.initializedCL=!0,r(e,this.isKidsPage()))},updateProfileGateAppState:function(e){this.isInAkiraDiscovery()&&(this.setState({profileGateAppState:e}),e.activeView===L.VIEWS.CLOSED&&this.context.history.replaceState(this.context.routeHandler.route.makePath(this.context.routeHandler.params,this.context.routeHandler.query)))},componentDidMount:function(){var e=this,t=this.refs.main,i=this.props.model.pathEvaluator,o=this.context.getModelData("playerModel").playbackSupport;window.PointerEvent&&t&&t.addEventListener("pointerenter",this._handlePointerEnter),this.profileManager.startEventListeners(this.updateProfileGateAppState,this.state.profileGateAppState,this.context.models),C.on("enter-lp",this.enterLowPowerMode),C.on("exit-lp",this.exitLowPowerMode),i&&(w.loadPathsSync(P,i),w.precacheVideo(b,i)),M.detect(null,n.noop),M.detectEnhancedFeaturesSupport(o,function(t){var i=t.supports4k,o=t.supportsHDR;(i||o)&&e.setState({is4KSupported:i,isHDRSupported:o})})},componentWillReceiveProps:function(){var e=n.get(this.context.models,"userInfo.data"),t=this.isKidsPage(),i=this.isSharedPage();this.state.isInitialRender&&this.setState({isInitialRender:!1}),e&&e.isKids&&!t&&!i?(this.setState({isAllowedToRender:!1}),this.context.history.pushState(y.kidsHome.makePath())):e&&!e.isKids&&t?(this.setState({isAllowedToRender:!1}),this.context.history.pushState(y.browse.makePath())):this.setState({isAllowedToRender:!0})},componentWillUnmount:function(){if(C.removeListener("enter-lp",this.enterLowPowerMode),C.removeListener("exit-lp",this.exitLowPowerMode),!h&&window.PointerEvent){var e=this.refs.main;e&&e.removeEventListener("pointerenter",this._handleTouchStart)}},enterLowPowerMode:function(){this.setState({inLowPowerMode:!0})},exitLowPowerMode:function(){this.setState({inLowPowerMode:!1})},_handleTouchStart:function(){C.emit("inputType:touch")},_handlePointerEnter:function(e){"touch"===e.pointerType&&C.emit("inputType:touch")},render:function(){if(!this.state.isAllowedToRender)return null;var e=n.get(this.context.models,"geo.data"),t=n.get(e,"locale.id","en"),i=n.get(e,"locale.language","en"),r=n.get(e,"locale.dir","ltr"),s=n.get(e,"locale.hasExtendedDiacritics",!1),a=g(o({"extended-diacritics-language":s},"lang_"+i,!0));return l.createElement("div",{ref:"main",lang:t,dir:r,onTouchStart:this._handleTouchStart,className:a},l.cloneElement(this.props.children,{isRefreshingApp:this.props.isRefreshingApp,isInitialRender:this.state.isInitialRender,is4KSupported:this.state.is4KSupported,isHDRSupported:this.state.isHDRSupported,isKidsPage:this.isKidsPage(),isOverlayPage:this.isOverlayPage(),model:this.props.model,profileGateAppState:this.state.profileGateAppState,uiView:this.getCurrentUIView()}),this.renderSVGSymbols())},renderSVGSymbols:function(){var e=n.get(this.context.models,"playerModel.data.kidsPlayer",!1),t=n.get(this.context.models,"geo.data.requestCountry.id"),i=(e&&Array.isArray(m)?m:[]).join(""),o=("KR"===t&&Array.isArray(f)?f:[]).join("");return l.createElement("svg",{style:{height:0,width:0,display:this.state.inLowPowerMode?"none":"block"},xmlns:"http://www.w3.org/2000/svg"},l.createElement("defs",{dangerouslySetInnerHTML:{__html:'<symbol id="chevron-down" viewBox="0 0 60 19">    <path fill="currentColor" d="M59.5615866,2.44258873 L31.1899791,17.6617954 C30.7515658,17.9123173 30.2505219,18.1002088 30.0626305,18.1002088 C29.874739,18.1002088 29.6242171,18.0375783 29.5615866,18.0375783 C29.4363257,17.9749478 28.9979123,17.7244259 28.559499,17.5365344 L0.501043841,2.44258873 C0.187891441,2.31732777 0,1.94154489 0,1.62839248 C0,1.50313152 0.0626304802,1.37787056 0.12526096,1.18997912 L0.501043841,0.501043841 C0.688935282,0.187891441 1.00208768,0 1.31524008,0 C1.50313152,0 1.62839248,0 1.75365344,0.12526096 L29.1858038,14.8434238 C29.3736952,14.9686848 29.6868476,15.0313152 30,15.0313152 C30.3131524,15.0313152 30.6263048,14.9686848 30.8141962,14.8434238 L58.2463466,0.12526096 C58.6847599,-0.12526096 59.2484342,0 59.4989562,0.501043841 L59.874739,1.18997912 C60.125261,1.62839248 60,2.19206681 59.5615866,2.44258873"></path></symbol><symbol id="add" viewBox="0 0 60 60">    <path fill="currentColor" d="M54.6886726,24.6861711 C57.6894231,24.7461866 60,26.9367348 60,30.0025004 C60,33.0582644 57.6894231,35.3088269 54.6886726,35.3738432 L35.3738432,35.3738432 L35.3738432,54.6836707 C35.3088269,57.6844212 33.0032509,60 29.9974996,60 C26.9967491,60 24.7511874,57.6844212 24.6861711,54.6836707 L24.6861711,35.3738432 L5.31132735,35.3738432 C2.37559424,35.3088269 0,32.99825 0,30.0025004 C0,27.0017511 2.37559424,24.7461866 5.31132735,24.6861711 L24.6861711,24.6861711 L24.6861711,5.30632652 C24.7511874,2.31057799 26.9367348,0 29.9974996,0 C33.0632663,0 35.3088269,2.31057799 35.3738432,5.30632652 L35.3738432,24.6861711 L54.6886726,24.6861711"></path></symbol><symbol id="check" viewBox="0 0 60 60">    <path fill="currentColor" d="M0,40.0650165 L9.37734421,27.5668918 L21.8754686,36.939235 L47.1867971,0 L59.1247815,9.25231308 L26.5016254,60 L0,40.0650165 L0,40.0650165 Z"></path></symbol><symbol id="episodes" viewBox="0 0 81 60">    <path fill="currentColor" d="M50.9256283,23.8269128 C51.5703585,23.8269128 52.096041,24.3485822 52.096041,25.0521669 L52.096041,58.7693954 C52.096041,59.4154628 51.5703585,60 50.9256283,60 L1.16907437,60 C0.525682496,60 0,59.4154628 0,58.7693954 L0,25.0521669 C0,24.3485822 0.525682496,23.8269128 1.16907437,23.8269128 L50.9256283,23.8269128 L50.9256283,23.8269128 Z M65.0936335,11.9983949 C65.7370253,11.9983949 66.2640451,12.5294275 66.2640451,13.2289995 L66.2640451,48.8777423 C66.2640451,49.5197969 65.7370253,50.0468166 65.0936335,50.0468166 L57.3060465,50.0468166 C56.6064745,50.0468166 56.0754419,49.5197969 56.0754419,48.8777423 L56.0754419,20.0214019 L13.1139646,20.0214019 C12.4692345,20.0214019 11.943553,19.4903692 11.943553,18.7907973 L11.943553,13.2289995 C11.943553,12.5294275 12.4692345,11.9983949 13.1139646,11.9983949 L65.0936335,11.9983949 L65.0936335,11.9983949 Z M79.0850725,0 C79.7271271,0 80.2554841,0.584537187 80.2554841,1.2306046 L80.2554841,34.7685928 C80.2554841,35.4735153 79.7271271,35.9991974 79.0850725,35.9991974 L71.2988228,35.9991974 C70.5965763,35.9991974 70.0682182,35.4735153 70.0682182,34.7685928 L70.0682182,8.01899411 L27.2766187,8.01899411 C26.5770466,8.01899411 26.0500269,7.49197436 26.0500269,6.84858217 L26.0500269,1.2306046 C26.0500269,0.584537187 26.5770466,0 27.2766187,0 L79.0850725,0 L79.0850725,0 Z"></path></symbol><symbol id="play" viewBox="0 0 53 60">    <path fill="currentColor" d="M50.7569187,27.4991667 C51.9423137,28.2494161 52.5025004,29.1247086 52.5025004,30 C52.5025004,31.0003335 51.9423137,31.8106033 50.7569187,32.5008333 L4.37645931,59.4398134 C3.62620889,59.8149386 2.9359789,60 2.37579226,60 C0.940313102,60 0.0650216737,58.8746244 0,56.8739573 L0,3.12604159 C0.0650216737,1.12037329 0.940313102,0.0600204233 2.37579226,0 C2.9359789,0 3.62620889,0.185061437 4.37645931,0.555185394 L50.7569187,27.4991667"></path></symbol><symbol id="edit" viewBox="0 0 32 32">    <path fill="currentColor" d="M16 0c8.833 0 16 7.167 16 16 0 8.8-7.167 16-16 16s-16-7.2-16-16c0-8.833 7.167-16 16-16zM16 1.7c-7.9 0-14.3 6.4-14.3 14.3s6.4 14.3 14.3 14.3 14.3-6.4 14.3-14.3-6.4-14.3-14.3-14.3zM22.333 12.9l0.3-0.267 0.867-0.867c0.467-0.5 0.4-0.767 0-1.167l-1.767-1.767c-0.467-0.467-0.767-0.4-1.167 0l-0.867 0.867-0.267 0.3zM18.3 11.1l-8.6 8.6-0.833 3.767 3.767-0.833 0.967-1 7.633-7.6z"></path></symbol><symbol id="check-mark" viewBox="0 0 32 32">    <path fill="currentColor" d="M14.133 23.5l12.767-12.467c0.033-0.033 0.1-0.1 0.133-0.167l-3.1-3.133c-0.067 0.033-0.133 0.1-0.2 0.167l-11.267 10.933-4.267-4.333-3.233 2.933c0.033 0 1.067 1.067 1.1 1.067l4.767 5 0.133 0.133c0.433 0.4 0.967 0.633 1.5 0.633s1.1-0.233 1.5-0.633z"></path></symbol><symbol id="add-profile" viewBox="0 0 32 32">    <path fill="currentColor" d="M16 0c8.833 0 16 7.133 16 16 0 8.833-7.167 16-16 16s-16-7.167-16-16c0-8.867 7.167-16 16-16zM16 29.533c7.467 0 13.533-6.067 13.533-13.533s-6.067-13.567-13.533-13.567-13.533 6.1-13.533 13.567 6.067 13.533 13.533 13.533zM17.133 14.767h5.033v2.433h-5.033v4.933h-2.467v-4.933h-4.833v-2.433h4.833v-4.933h2.467v4.933z"></path></symbol><symbol id="thumb-up" viewBox="0 0 44 44">    <path fill="currentColor" d="M14.4914731,10.5133658 C14.5025232,10.3721258 14.5112703,10.2600368 14.5373244,9.92616603 C14.6065316,9.03836208 14.6757357,8.14414039 14.7403047,7.30077512 C14.7465683,7.21894322 14.7465683,7.21894322 14.752828,7.13707632 C14.9046548,5.15090242 15.0272627,3.45867565 15.0272627,3.40867664 L15.0272627,1.53263123 L16.7144227,0.711648736 C16.9560747,0.594059357 17.2924682,0.45883302 17.7131667,0.333356234 C19.0883517,-0.0768040048 20.5613519,-0.154799924 22.0533288,0.363315376 C24.5195179,1.21974305 26.1769774,3.46135556 26.8035959,6.84975024 C27.351817,9.81421638 27.5019717,12.9866944 27.3599098,16.0115829 L34.1297665,16.0259652 L34.2527202,16.036358 C37.3831944,16.3009647 40,18.0263548 40,21.50351 C40,22.0672808 39.9265137,22.5421505 39.8025926,23.0579114 C40.5520589,23.9178872 41,25.0573442 41,26.5026539 C41,28.4265345 40.1989133,29.8141446 38.9529692,30.7147706 C39,31.0829242 39,31.2285855 39,31.5017978 C39,33.4256784 38.1989133,34.8132885 36.9529692,35.7139145 C37,36.1120923 37,36.2277294 37,36.5009417 C37,39.978097 34.3831944,41.703487 31.2527202,41.9680938 L31.1299097,41.9784745 L31.0066614,41.9787481 L21.4308667,42 C17.3598399,42 15.3049785,41.5120961 12.3004159,40.2094732 C10.4281403,39.3976996 9.56555009,39.1413507 7.75086356,38.9901527 L5,38.7609533 L5,22.2682088 L9.98007986,19.4037917 L14.4914731,10.5133658 Z M23.8535989,7.39510873 C22.6962315,1.13672751 18.0272627,3.40867664 18.0272627,3.40867664 C18.0272627,3.82250684 17.4358448,11.340371 17.4358448,11.340371 L12.2509485,21.558043 L8,24.003082 L8,36.0010273 C14,36.5009417 13.6061821,39.0005137 21.4308667,39.0005137 L31,38.9792692 C32.339044,38.866085 34,38.2712124 34,36.5009417 C34,34.730671 32.339044,34.1357984 31,34.0013698 L33,33.9801253 C34.339044,33.8669411 36,33.2720686 36,31.5017978 C36,29.7315271 34.339044,29.1366545 33,29.0022259 L35,28.9809814 C36.339044,28.8677972 38,28.2729247 38,26.5026539 C38,24.7323832 36.339044,24.1375106 35,24.003082 L34,23.9818375 C35.339044,23.8686533 37,23.2737808 37,21.50351 C37,19.7332393 35.339044,19.1383668 34,19.0251826 L24.0526449,19.0040499 C24.2446335,18.1909366 24.845597,12.7592672 23.8535989,7.39510873 Z"></path></symbol><symbol id="thumb-down" viewBox="0 0 44 44">    <path fill="currentColor" d="M29.5085269,33.4866342 C29.4974768,33.6278742 29.4887297,33.7399632 29.4626756,34.073834 C29.3934684,34.9616379 29.3242643,35.8558596 29.2596953,36.6992249 C29.2534317,36.7810568 29.2534317,36.7810568 29.247172,36.8629237 C29.0953452,38.8490976 28.9727373,40.5413244 28.9727373,40.5913234 L28.9727373,42.4673688 L27.2855773,43.2883513 C27.0439253,43.4059406 26.7075318,43.541167 26.2868333,43.6666438 C24.9116483,44.076804 23.4386481,44.1547999 21.9466712,43.6366846 C19.4804821,42.780257 17.8230226,40.5386444 17.1964041,37.1502498 C16.648183,34.1857836 16.4980283,31.0133056 16.6400902,27.9884171 L9.87023353,27.9740348 L9.74727981,27.963642 C6.61680565,27.6990353 4,25.9736452 4,22.49649 C4,21.9327192 4.07348633,21.4578495 4.19740742,20.9420886 C3.44794109,20.0821128 3,18.9426558 3,17.4973461 C3,15.5734655 3.80108673,14.1858554 5.04703083,13.2852294 C5,12.9170758 5,12.7714145 5,12.4982022 C5,10.5743216 5.80108673,9.18671152 7.04703083,8.28608555 C7,7.88790771 7,7.77227059 7,7.49905828 C7,4.02190301 9.61680565,2.29651296 12.7472798,2.03190622 L12.8700903,2.02152553 L12.9933386,2.0212519 L22.5691333,2 C26.6401601,2 28.6950215,2.48790389 31.6995841,3.79052685 C33.5718597,4.60230044 34.4344499,4.8586493 36.2491364,5.00984729 L39,5.23904667 L39,21.7317912 L34.0199201,24.5962083 L29.5085269,33.4866342 Z M20.1464011,36.6048913 C21.3037685,42.8632725 25.9727373,40.5913234 25.9727373,40.5913234 C25.9727373,40.1774932 26.5641552,32.659629 26.5641552,32.659629 L31.7490515,22.441957 L36,19.996918 L36,7.99897267 C30,7.49905828 30.3938179,4.99948634 22.5691333,4.99948634 L13,5.02073084 C11.660956,5.133915 10,5.72878756 10,7.49905828 C10,9.26932901 11.660956,9.86420157 13,9.99863023 L11,10.0198747 C9.66095598,10.1330589 8,10.7279314 8,12.4982022 C8,14.2684729 9.66095598,14.8633455 11,14.9977741 L9,15.0190186 C7.66095598,15.1322028 6,15.7270753 6,17.4973461 C6,19.2676168 7.66095598,19.8624894 9,19.996918 L10,20.0181625 C8.66095598,20.1313467 7,20.7262192 7,22.49649 C7,24.2667607 8.66095598,24.8616332 10,24.9748174 L19.9473551,24.9959501 C19.7553665,25.8090634 19.154403,31.2407328 20.1464011,36.6048913 Z"></path></symbol><symbol id="thumb-up-filled" viewBox="0 0 44 44">    <path fill="currentColor" d="M36.2259059,39.0138889 C36.2259059,41.128741 34.2435159,41.8394049 32.6453354,41.9746203 L21.0300552,42 C11.6911102,42 12.1611411,39.0138889 5,38.4166667 L5,24.0833333 L10.073607,21.1623699 L16.2619026,9.95583842 C16.2619026,9.95583842 16.9677739,0.974629541 16.9677739,0.480247712 C16.9677739,0.480247712 22.5402979,-2.23393403 23.9216431,5.2426348 C25.3029884,12.7192036 24.344293,17.3331909 24.0839076,17.9993896 L36.2134373,18.0247694 C37.8116178,18.1599847 39.8064765,18.9823701 39.8064765,21.0972222 C39.8064765,23.2120744 37.8240865,23.9227383 36.2259059,24.0579536 L37.4194295,24.0833333 C39.01761,24.2439284 41,24.9545923 41,27.0694444 C41,29.1842966 39.01761,29.8949605 37.4194295,30.0301758 L35.0323824,30.0555556 C36.6305629,30.2161506 38.612953,30.9268145 38.612953,33.0416667 C38.612953,35.1565188 36.6305629,35.8671827 35.0323824,36.002398 L32.6453354,36.0277778 C34.2435159,36.1883728 36.2259059,36.8990367 36.2259059,39.0138889 Z"></path></symbol><symbol id="thumb-down-filled" viewBox="0 0 44 44">    <path fill="currentColor" d="M7.77409406,4.98611111 C7.77409406,2.87125897 9.75648409,2.16059507 11.3546646,2.02537973 L22.9699448,2 C32.3088898,2 31.8388589,4.98611111 39,5.58333333 L39,19.9166667 L33.926393,22.8376301 L27.7380974,34.0441616 C27.7380974,34.0441616 27.0322261,43.0253705 27.0322261,43.5197523 C27.0322261,43.5197523 21.4597021,46.233934 20.0783569,38.7573652 C18.6970116,31.2807964 19.655707,26.6668091 19.9160924,26.0006104 L7.78656274,25.9752306 C6.18838222,25.8400153 4.19352352,25.0176299 4.19352352,22.9027778 C4.19352352,20.7879256 6.17591354,20.0772617 7.77409406,19.9420464 L6.58057055,19.9166667 C4.98239002,19.7560716 3,19.0454077 3,16.9305556 C3,14.8157034 4.98239002,14.1050395 6.58057055,13.9698242 L8.96761758,13.9444444 C7.36943706,13.7838494 5.38704703,13.0731855 5.38704703,10.9583333 C5.38704703,8.84348119 7.36943706,8.13281729 8.96761758,7.99760195 L11.3546646,7.97222222 C9.75648409,7.81162716 7.77409406,7.10096325 7.77409406,4.98611111 Z"></path></symbol><symbol id="grips" viewBox="0 0 7.5 35.2" fill="currentColor">    <circle cx="5.8" cy="19.6" r="1.6"/><circle cx="1.6" cy="19.6" r="1.6"/><circle cx="5.8" cy="24.3" r="1.6"/><circle cx="1.6" cy="24.3" r="1.6"/><circle cx="5.8" cy="28.9" r="1.6"/><circle cx="1.6" cy="28.9" r="1.6"/><circle cx="5.8" cy="33.6" r="1.6"/><circle cx="1.6" cy="33.6" r="1.6"/><circle cx="5.8" cy="1.6" r="1.6"/><circle cx="1.6" cy="1.6" r="1.6"/><circle cx="5.8" cy="6.3" r="1.6"/><circle cx="1.6" cy="6.3" r="1.6"/><circle cx="5.8" cy="10.9" r="1.6"/><circle cx="1.6" cy="10.9" r="1.6"/><circle cx="5.8" cy="15.6" r="1.6"/><circle cx="1.6" cy="15.6" r="1.6"/></symbol><symbol id="moveToTop" viewBox="0 0 32 15.5">    <path fill="currentColor" d="M0,12.7L16.1,0L32,12.6l-2.2,2.8L16.1,4.6L2.2,15.5L0,12.7z"/></symbol><symbol id="close" viewBox="0 0 25.5 25.5">    <polygon fill="currentColor" class="st0" points="25.5,1.4 24,0 12.7,11.3 1.4,0 0,1.4 11.3,12.7 0,24 1.4,25.5 12.7,14.1 24,25.5 25.5,24 14.1,12.7 "/></symbol><symbol id="down-arrow-small" viewBox="0 0 10 7">    <path fill="currentColor" d="M8.25,7.25 L6.75,8.75 L1.75,3.75 L6.75,-1.25 L8.25,0.25 L4.75,3.75 L8.25,7.25 Z" id="Combined-Shape" transform="translate(5.000000, 3.750000) rotate(-90.000000) translate(-5.000000, -3.750000) "></path></symbol><filter id="dropShadow">    <feGaussianBlur in="SourceAlpha" stdDeviation="3"/><feOffset dx="0" dy="0" result="offsetblur"/><feFlood flood-color="rgba(0,0,0,0.5)"/><feComposite in2="offsetblur" operator="in"/><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter><symbol id="uma-plan-selector-selected" viewBox="0 0 32 32">   <path fill="currentColor" d="M16 0c8.833 0 16 7.167 16 16s-7.167 16-16 16-16-7.167-16-16 7.167-16 16-16zM14.067 23.733l13.2-12.867c0.067-0.033 0.1-0.1 0.133-0.167l-3.2-3.267c-0.067 0.067-0.133 0.133-0.2 0.167l-11.633 11.333-4.433-4.5-3.333 3.033c0 0.033 1.1 1.1 1.1 1.133l4.933 5.133 0.167 0.167c0.867 0.833 2.233 0.833 3.1 0z"></path></symbol><symbol id="uma-plan-selector-not-selected" viewBox="0 0 32 32">   <path fill="#000" d="M15.967 31.933c-8.1 0-15.967-6.433-15.967-15.967 0-8.1 6.433-15.967 15.967-15.967 8.833 0 15.967 7.133 15.967 15.967s-7.133 15.967-15.967 15.967z"></path></symbol><symbol id="facebook-logo" viewBox="0 0 612 612" preserveAspectRatio="xMinYMid">   <path d="M578.057573,0.17272 L33.7689511,0.17272 C15.1157956,0.17272 0.000151111111,15.2883644 0.000151111111,33.94152 L0.000151111111,578.230142 C0.000151111111,596.878764 15.1157956,611.998942 33.7689511,611.998942 L326.797573,611.998942 L326.797573,375.067298 L247.063796,375.067298 L247.063796,282.730853 L326.797573,282.730853 L326.797573,214.635653 C326.797573,135.610587 375.060951,92.5801867 445.557307,92.5801867 C479.326107,92.5801867 508.346996,95.0946756 516.804684,96.2189422 L516.804684,178.804187 L467.911173,178.826853 C429.572773,178.826853 422.150196,197.044809 422.150196,223.779387 L422.150196,282.732364 L513.586018,282.732364 L501.679973,375.068809 L422.150196,375.068809 L422.150196,612.000453 L578.059084,612.000453 C596.707707,612.000453 611.827884,596.880276 611.827884,578.231653 L611.827884,33.94152 C611.826373,15.2883644 596.706196,0.17272 578.057573,0.17272"></path></symbol><symbol id="instagram-logo" viewBox="0 0 612 612" preserveAspectRatio="xMinYMid">   <path d="M544,170 C544,179.388 536.389,187 527,187 L442,187 C432.611,187 425,179.388 425,170 L425,85 C425,75.612 432.611,68 442,68 L527,68 C536.389,68 544,75.612 544,85 L544,170 Z M544,527 C544,536.389 536.389,544 527,544 L85,544 C75.612,544 68,536.389 68,527 L68,255 L126.042,255 C121.457,271.211 119,288.32 119,306 C119,409.277 202.723,493 306,493 C409.277,493 493,409.277 493,306 C493,288.32 490.544,271.211 485.958,255 L544,255 L544,527 Z M306,187 C371.722,187 425,240.278 425,306 C425,371.722 371.722,425 306,425 C240.278,425 187,371.722 187,306 C187,240.278 240.278,187 306,187 L306,187 Z M527,0 L85,0 C38.057,0 0,38.057 0,85 L0,527 C0,573.943 38.057,612 85,612 L527,612 C573.943,612 612,573.943 612,527 L612,85 C612,38.057 573.943,0 527,0 L527,0 Z"></path></symbol><symbol id="twitter-logo" viewBox="0 0 753 612" preserveAspectRatio="xMinYMid">   <path d="M752.409201,72.9169906 C724.726452,85.1934372 694.976873,93.4926432 663.749687,97.223869 C695.622283,78.1197499 720.099246,47.8675117 731.62398,11.8217747 C701.79999,29.5120675 668.76262,42.3579931 633.600715,49.2828566 C605.441122,19.2796705 565.322471,0.533943424 520.922859,0.533943424 C435.671107,0.533943424 366.554591,69.6489409 366.554591,154.896137 C366.554591,166.996425 367.919821,178.776286 370.551573,190.074747 C242.259365,183.638876 128.513926,122.182231 52.3783921,28.7892089 C39.0905509,51.5881072 31.4792754,78.1045638 31.4792754,106.394757 C31.4792754,159.950072 58.7322581,207.19708 100.150839,234.879829 C74.8462333,234.079522 51.0450521,227.134916 30.2309777,215.572216 C30.2203474,216.216107 30.2173102,216.863035 30.2173102,217.511482 C30.2173102,292.304564 83.4279007,354.696673 154.046323,368.875938 C141.092576,372.402152 127.455454,374.288266 113.376417,374.288266 C103.429519,374.288266 93.7590074,373.320911 84.3329926,371.519839 C103.977737,432.847402 160.984854,477.476326 228.534164,478.724623 C175.704744,520.124981 109.145568,544.8024 36.8232655,544.8024 C24.363067,544.8024 12.0759901,544.074986 0,542.64901 C68.3131712,586.447254 149.454045,611.999393 236.628357,611.999393 C520.564467,611.999393 675.830233,376.783343 675.830233,172.794479 C675.830233,166.103482 675.678372,159.445894 675.383762,152.826271 C705.543365,131.061546 731.715097,103.873864 752.409201,72.9169906"></path></symbol><symbol id="youtube-logo" viewBox="0 0 869 611" preserveAspectRatio="xMinYMid">   <path d="M344.583367,419.231578 L344.542768,175.20748 L579.212438,297.642065 L344.583367,419.231578 Z M859.81519,132.932866 C859.81519,132.932866 851.328389,73.0861828 825.290571,46.7295833 C792.26663,12.138802 755.245893,11.9658781 738.270787,9.94191744 C616.739917,1.15738673 434.434591,1.15738673 434.434591,1.15738673 L434.054158,1.15738673 C434.054158,1.15738673 251.754846,1.15738673 130.216458,9.94342113 C113.239849,11.9673818 76.2356521,12.138802 43.1966742,46.731087 C17.158856,73.0861828 8.68558821,132.932866 8.68558821,132.932866 C8.68558821,132.932866 0.000300737101,203.21663 0.000300737101,273.495883 L0.000300737101,339.382871 C0.000300737101,409.663628 8.68558821,479.945888 8.68558821,479.945888 C8.68558821,479.945888 17.158856,539.798586 43.1981779,566.149171 C76.2371558,600.739952 119.633519,599.646772 138.961893,603.275166 C208.442689,609.937996 434.248134,611.999549 434.248134,611.999549 C434.248134,611.999549 616.741421,611.724374 738.272291,602.941347 C755.247397,600.912876 792.268134,600.739952 825.292075,566.149171 C851.329893,539.798586 859.816694,479.945888 859.816694,479.945888 C859.816694,479.945888 868.492959,409.665131 868.492959,339.382871 L868.492959,273.495883 C868.489952,203.21663 859.81519,132.932866 859.81519,132.932866 L859.81519,132.932866 Z"></path></symbol><symbol id="rows" viewBox="0 0 16 16">   <path d="M0,2 L16,2 L16,3.5 L0,3.5 L0,2 Z M0,7 L12,7 L12,8.5 L0,8.5 L0,7 Z M0,12 L16,12 L16,13.5 L0,13.5 L0,12 Z"></path></symbol><symbol id="grid" viewBox="0 0 16 16">   <path fill="currentColor" d="M2,2 L6,2 L6,6 L2,6 L2,2 Z M2,10 L6,10 L6,14 L2,14 L2,10 Z M10,10 L14,10 L14,14 L10,14 L10,10 Z M10,2 L14,2 L14,6 L10,6 L10,2 Z"></path></symbol><symbol id="mylist-add" viewBox="0 0 14 14">   <polygon fill="currentColor" points="6.32918892 6.32913969 6.32918892 -4.92334366e-05 7.67086031 -4.92334366e-05 7.67086031 6.32913969 14.0000492 6.32913969 14.0000492 7.67081108 7.67086031 7.67081108 7.67086031 14 6.32918892 14 6.32918892 7.67081108 0 7.67081108 0 6.32913969"></polygon></symbol><symbol id="mylist-added" viewBox="0 0 14 14">   <polygon fill="currentColor" points="5.48335262 11.4770745 1.18125415 7.16039261 0 8.34164677 5.65835323 14 15.4146375 1.00620431 14.0729662 0.0145341512"></polygon></symbol>'+i+o}}))}});t.exports=c(x(Z))});C.r("akira/components/artwork/heroImages.jsx",function(t,e,s){"use strict";var r=t("lodash"),o=t("react"),a=t("prop-types"),i=t("create-react-class"),n=t("./imageRotator.jsx"),p=t("../../../common/imageExtension"),c=i({displayName:"HeroImages",contextTypes:{models:a.object.isRequired},statics:{getPaths:function(t,e,s){var r=p.getExtensionForOpaqueImage(t),o=[["bookmarkPosition"],["BGImages",s.height,r]];return o=s.isShow?o.concat([["current","interestingMoment",s.size,r]]):o.concat([["recentInterestingMoment",s.height,r]])}},getImageFocalPoint:function(t){var e=t.focalPoint,s=void 0;if(!this.props.focalPointData||!e)return null;try{s=JSON.parse(e),s=s&&s.x}catch(t){}return s&&r.assign({x:s},this.props.focalPointData)},getBackgroundImages:function(){var t=[],e=[],s=void 0,r=this.props.model,o=p.getExtensionForOpaqueImage(this.context.models),a=r.getValueSync(["BGImages",this.props.height,o]);if(this.props.watched&&(s=this.props.isStandalone?r.getValueSync(["recentInterestingMoment",this.props.height,o]):r.getValueSync(["current","interestingMoment",this.props.size,o]))&&s.url)return t=[s.url],e=[this.getImageFocalPoint(s)],{urls:t};if(a)for(var i=0;i<a.length;i++){var n=a[i];n&&n.url&&(t.push(n.url),e.push(this.getImageFocalPoint(n)))}return{urls:t,focalPoints:e}},render:function(){var t=this.getBackgroundImages();return o.createElement(n,{auto:this.props.auto,firstDelay:this.props.firstDelay,stop:this.props.stop,duration:this.props.duration,images:t.urls,focalPoints:this.props.focalPointData&&t.focalPoints,preloadImage:this.props.preloadImage,setCurrentImgUrlCallback:this.props.setCurrentImgUrlCallback,style:this.props.style,className:this.props.className},this.props.children)}});e.exports=c});C.r("akira/components/artwork/imageRotator.jsx",function(t,e,s){"use strict";var o=(t("prop-types"),t("react")),a=t("create-react-class"),i=t("classnames"),n=t("./imageRotatorCard.jsx"),r=t("react-transition-group/TransitionGroup"),m=a({displayName:"ImageRotator",timeout:0,numRotations:0,getInitialState:function(){return{imageIndex:0,numImagesLoaded:0}},nextImage:function(){var t=this.props.images,e=t&&t.length||0,s=(this.state.imageIndex+1)%e;s>=this.state.numImagesLoaded?this.timeout=setTimeout(this.nextImage,500):(this.numRotations+=1,this.timeout=setTimeout(this.nextImage,this.props.duration),this.setState({imageIndex:s}))},preloadImages:function(){var t=this,e=this.props.images;setTimeout(function(){for(var s=0;s<e.length;s++){var o=new Image;o.onload=t.handleImageLoaded.bind(t,s),o.src=e[s]}},150)},handleImageLoaded:function(t){var e=this,s=function(){e.isMounted()&&(e.setState({numImagesLoaded:e.state.numImagesLoaded+1}),0!==t||e.state.numImagesLoaded||(e.props.onFirstImageLoaded&&e.props.onFirstImageLoaded(),e.props.auto&&e.start()))};-1!==window.location.search.indexOf("throttle")?setTimeout(s,2e3):s()},componentDidMount:function(){this.preloadImages()},componentDidUpdate:function(t){!t.images.length&&this.props.images.length&&this.preloadImages(),this.props.stop?this.stop():this.props.auto&&this.start()},componentWillUnmount:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},mouseLeaveHandler:function(){this.props.auto||this.stop()},mouseEnterHandler:function(){this.props.auto||this.start()},setCurrentImgUrlCallback:function(t){var e=this.props.setCurrentImgUrlCallback;"function"==typeof e&&e(t)},start:function(){if(!this.timeout&&!this.props.stop){var t=void 0;t=this.props.firstDelay&&0===this.state.imageIndex?this.props.firstDelay:this.props.duration,this.timeout=setTimeout(this.nextImage,t)}},stop:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},render:function(){var t=this.props,e=this.state.imageIndex,s=t.style||{},a=this.props.focalPoints,m=this.props.preloadImage,u={"image-rotator":!0};t.className&&(u[t.className]=!0);var p=void 0;if(!this.state.numImagesLoaded&&m)p=o.createElement(n,{key:"image-rotator-image-preload",isPreload:!0,duration:this.props.duration,index:0,url:m,numRotations:0}),this.setCurrentImgUrlCallback(m);else if(this.state.numImagesLoaded){var d=this.props.stop?"-stopped":"",h=t.images[e];p=o.createElement(n,{key:"image-rotator-image-"+e+d,duration:this.props.duration,index:e,url:h,numRotations:this.numRotations,focalPoint:a&&a[e]}),this.setCurrentImgUrlCallback(h)}return o.createElement("div",{id:t.id,key:t.id,className:i(u),style:s,onMouseEnter:this.mouseEnterHandler,onMouseLeave:this.mouseLeaveHandler},o.createElement(r,null,p),this.props.children)}});e.exports=m});C.r("akira/components/artwork/imageRotatorCard.jsx",function(e,r,a){"use strict";var t=e("prop-types"),o=e("react"),s=e("create-react-class"),n=e("classnames"),i=e("../../../reactMixins/transition"),c=e("../../../components/CenteredImage.jsx"),l=s({displayName:"ImageRotatorCard",contextTypes:{models:t.object},mixins:[i],transitions:{crossFade:750},renderCentered:function(){var e=this.props,r=e.isPreload,a=e.focalPoint,t=e.url,s=n({"image-rotator-image":!0,"preload-image":r});return o.createElement(c,{focalPoint:a,url:t,className:s})},render:function(){var e=this.props,r=e.focalPoint,a=e.isPreload;if(r)return this.renderCentered();var t={backgroundImage:"url("+this.props.url+")"},s=a?"preload-image":"";return o.createElement("div",{className:"image-rotator-image "+s,style:t})}});r.exports=l});C.r("akira/components/artwork/lazyLoadedBackgroundImage.jsx",function(a,e,r){"use strict";var s=a("react"),c=a("classnames"),o=function(a){var e=a.className,r=a.src,o=a.shouldLoadImage,t=o?{backgroundImage:"url("+r+")"}:{};return s.createElement("div",{className:c(e,{"is-loaded":o},"lazy-background-image"),"data-src":!o&&r,style:t})};e.exports=o});C.r("akira/components/bigRow/bigRow.jsx",function(t,e,i){"use strict";var o=t("lodash"),s=t("prop-types"),a=t("react"),r=t("create-react-class"),n=t("classnames"),l=t("../../../utils/billboard"),d=t("../../../player/nfplayer/uiContext"),p=t("../../../player/nfplayer/uiLabel"),h=t("../controls/iconButton.jsx"),u=t("./../title/myListButton.jsx"),c=t("../../../player/nfplayer/NFPlayer.jsx"),m=t("../controls/playLink.jsx"),y=t("../../akiraContextTypes"),f=t("../../../reactMixins/cssAnimation.jsx"),g=t("../../utils/linkDefs.jsx"),C=t("../billboard/common/Title"),_=t("../../../player/nfplayer/common/playerInterfaceManager"),v=t("../../utils/windowVisibility.jsx"),V=t("../../utils/inViewport.jsx"),w=n("bigRowItem"),I=n("video-component-container"),P=n("hashtag"),E=v(V(r({displayName:"BigRow",contextTypes:Object.assign({models:s.object,routeHandler:s.object.isRequired,history:s.object.isRequired},y),_loadTimeoutId:null,getDefaultProps:function(){return{videoHasPlayed:!1,videoCompleted:!1,muted:!1}},getInitialState:function(){return this.scope={firstInViewport:null},{}},_setFirstInViewport:function(t){this.scope.firstInViewport&&!t||(this.scope.firstInViewport=Date.now())},_addPerceivedPlayDelayToProps:function(t){var e=0;return this.scope.firstInViewport&&(e=Date.now()-this.scope.firstInViewport),o.assign({},t,{perceivedPlayDelay:e})},shouldComponentUpdate:function(t,e){if(this.props.videoCompleted&&t.videoCompleted){if(!this.props.inViewport&&t.inViewport)return!0}else{if(this.props.isWindowVisible!==t.isWindowVisible)return this._setFirstInViewport(!0),!0;if(this.props.inViewport&&t.inViewport&&!t.videoHasPlayed)return this._setFirstInViewport(),!0;if(this.props.inViewport!==t.inViewport)return!1===this.props.inViewport&&!0===t.inViewport&&this._setFirstInViewport(),!0;if(this.props.videoCompleted!==t.videoCompleted)return!0;if(this.props.videoHasPlayed!==t.videoHasPlayed)return!0;if(this.props.muted!==t.muted)return!0;if(this.props.inViewport&&this.player&&this.player.getPaused())return!0}return!1},componentDidMount:function(){this.addedContext=this._getContextForLogging(),this.props.videoHasPlayed||(this.props.logLoadingStarted(this.props,this.addedContext),this._loadTimeoutId=setTimeout(this.handleTimeout,this.props.timeout))},componentWillUnmount:function(){var t=this.player&&!this.player.getPaused();this._clearLoadTimeout(),t&&this.props.logPlayEnded(this.props,this.props.loggingConstants.PAUSE_TYPE.MODAL_VIEW,this.addedContext),this.player=null},componentWillUpdate:function(t){!this.props.inViewport&&t.inViewport&&this.props.logImpression(),this._playOrPauseVideoBasedOnViewport(t)},handleMoreInfo:function(){var t=g.getTitleRoute(this.context.models,this.context.isKidsPage).makePath({id:this.props.videoId});this.context.routeHandler.url!==t?this.context.history.pushState(t):window.scrollTo(0,0)},onPlayerReady:function(t){this.player=t},handleCanPlayThrough:function(t){this._clearLoadTimeout(),this.props.videoHasPlayed||(this.props.logLoadingEnded(this._addPerceivedPlayDelayToProps(this.props),this.addedContext),this._pauseVideoOnFirstFrame())},handleEnded:function(){this._endVideo(this._closeJawBoneAndFadeInButtons,!0),this.props.logPlayEnded(this.props,"Completed",this.addedContext)},handleTimeout:function(){this._handleError(this.props.loggingConstants.VIDEO_ERRORS.TIMEOUT),this._fadeInButtons()},handlePlayerError:function(t){this._handleError(t),this._setCompletedState(this.props.closeJaw)},onPlayerClosing:function(){this._setCompletedState(this.props.closeJaw)},_handleError:function(t){var e=void 0;this._clearLoadTimeout(),e="string"==typeof t?t:this.props.loggingConstants.VIDEO_ERRORS.LOAD_ERROR,this.props.logLoadingError(this.props,e,this.addedContext)},_playOrPauseVideoBasedOnViewport:function(t){var e=t.videoCompleted,i=t.isWindowVisible,o=t.inViewport;if(!e&&this.player){var s=!this.player.getPaused();!i&&s?this._pauseOrCollapseVideoWithoutDelay(this.props.loggingConstants.PAUSE_TYPE.WINDOW_BLUR):!s&&o&&i?this.player.getCurrentTime()<7?this._playVideo():this._pauseOrCollapseVideo():s&&!o&&this._pauseOrCollapseVideo()}},_playVideo:function(){this.player&&this.player.isLoaded()&&(this.props.videoHasPlayed&&!this.player.getPaused()||(_.pauseAllPlayersExceptActive(this.player),this.props.openJaw(),this.props.setPlayState(),this.player.play(),this.props.setRowYellowSquare(),this.props.logPlayStarted(this.props,1e3*this.player.getCurrentTime(),this.addedContext),this._fadeInVolume()))},_pauseOrCollapseVideo:function(){var t=this.player.getCurrentTime();isNaN(t)&&(t=0),t<7?this._fadeOutVolume(this._pauseVideoFromScroll):this._resetAndCollapseVideo(this.props.closeJaw,this.props.loggingConstants.PAUSE_TYPE.SCROLL)},_pauseOrCollapseVideoWithoutDelay:function(t){this._pauseVideo(t);var e=this.player.getCurrentTime();isNaN(e)&&(e=0),e>=7&&this._resetAndCollapseVideo(this.props.closeJaw)},_resetAndCollapseVideo:function(t,e){this.props.videoHasPlayed&&(this._endVideo(t),e&&this.props.logPlayEnded(this.props,e,this.addedContext))},_fadeOutVolume:function(t){l.fadeOutVolume(this.player,10,t,!0)},_fadeInVolume:function(){l.fadeInVolume(this.player,10,!0)},_pauseVideoOnFirstFrame:function(){this.props.openJaw()},_pauseVideo:function(t){t&&this.props.logPlayEnded(this.props,t,this.addedContext),this.player&&this.player.pause()},_pauseVideoFromScroll:function(){this._pauseVideo(this.props.loggingConstants.PAUSE_TYPE.SCROLL)},_endVideo:function(t,e){t=t||function(){};var i=this._buildEndedCallback(t);e?this._fadeOutVolume(i):this._buildSetCompletedStateCallback()()},_buildEndedCallback:function(t){return function(){this._fadeOutButtons(this._buildSetCompletedStateCallback(t))}.bind(this)},_buildSetCompletedStateCallback:function(t){return function(){this._setCompletedState(t),this._fadeOutVideoLogo()}.bind(this)},_closeJawBoneAndFadeInButtons:function(){this.props.closeJaw(),this._fadeInButtons()},_setCompletedState:function(t){this.props.setCompletedState(t)},_fadeOutButtons:function(t){var e=this.refs.buttonContainer;f.animateIt(e,[{opacity:1},{opacity:0}],{duration:500,fill:"forwards"},t)},_fadeInButtons:function(t){var e=this.refs.buttonContainer;setTimeout(function(){f.animateIt(e,[{opacity:0},{opacity:1}],{duration:500,fill:"forwards"},t)},500)},_fadeOutVideoLogo:function(t){var e=this.refs.logoDuringVideo;f.animateIt(e,[{opacity:1},{opacity:0}],{duration:500,fill:"forwards"},t)},_clearLoadTimeout:function(){this._loadTimeoutId&&(clearTimeout(this._loadTimeoutId),this._loadTimeoutId=null)},_getContextForLogging:function(){return{rowNum:this.context.rowNum,rankNum:this.context.rankNum,trackId:this.context.trackId,requestId:this.context.requestId}},render:function(){var t=!this.props.videoHasPlayed||this.props.videoCompleted,e=n("static-image",{animate:t}),i=n("metadata",{animate:t}),o=n("playLink","btn-flat",{hide:!t&&!this.props.isNewsFeedRow,"btn-flat-primary":this.props.isNewsFeedRow}),s=n({"more-info-button":t,"more-info-button-hide":!t}),r=n("button-container",{animate:this.props.videoHasPlayed||this.props.videoCompleted}),l=n("movable-container",{"horizontal-logo":this.props.usingHorizontalLogo}),y=n("logo-during-video",{animate:this.props.videoHasPlayed,hide:this.props.videoCompleted}),f=this.props.muted,g={backgroundImage:"url("+this.props.staticImageUrl+")"},_=void 0,v=void 0,V=void 0,E=void 0,b=void 0,x=void 0,T=a.createElement(u,{ref:"myListButton",model:this.props.videoModel,videoId:this.props.videoId}),O=a.createElement(h,{extraClass:s,label:this.props.moreInfoCtaLabel,onClick:this.handleMoreInfo}),R=a.createElement(m,{className:o,videoId:this.props.trailerId},a.createElement("div",{className:"playRing"},a.createElement("div",{className:"play icon-play"})),a.createElement("div",{className:"annotation"},this.props.primaryCtaLabel));return this.props.isNewsFeedRow?this.props.trailerId?(v=R,V=O):(v=T,V=O):(v=T,V=R),this.props.videoCompleted||(_=a.createElement(c,{ref:"nfplayer",muted:f,controls:!1,uiLabel:p.BILLBOARD_BIG_ROW,videoId:this.props.motionId,onPlayerLoad:this.handleCanPlayThrough,onPlayerEnd:this.handleEnded,onPlayerError:this.handlePlayerError,onPlayerReady:this.onPlayerReady,onPlayerClosing:this.onPlayerClosing,onPlayerNotAvailable:this.onPlayerClosing,trackId:this.context.trackId,onNotSupported:this.handlePlayerError,isImplicitAutoPlay:!0,staticConfiguration:{disableTrackStickiness:!0,timedTextBoundsOverride:{bottom:200},enableTimedTextRendering:!0,focusOnMount:!1,preLoad:"auto",uiContext:d.BIG_ROW,respectBookmark:!1,smartSubtitles:!0}}),x=a.createElement(h,{extraClass:"audio-btn",icon:f?"audio-off":"audio-on",onClick:this.props.handleAudioButtonClick})),this.props.showLogoDuringVideo&&(b=a.createElement("img",{ref:"logoDuringVideo",className:y,src:this.props.logoUrl,title:this.props.videoTitle})),this.props.hashtag&&(E=a.createElement("div",{className:P},this.props.hashtag)),a.createElement("div",{ref:"bigRowItem",className:w},a.createElement("div",{ref:"staticImage",className:e,style:g,"aria-label":this.props.videoTitle?this.props.videoTitle:null}),a.createElement("div",{className:i},a.createElement("div",{className:l},a.createElement(C,{videoId:this.props.videoId,title:this.props.videoTitle,isRtl:this.context.isRtl,assets:this.props.assets}))),a.createElement("div",{className:I},b,_,a.createElement("div",{ref:"buttonContainer",className:r},v,V,x,E)))}})));e.exports=E});C.r("akira/components/billboard/BillboardRow.js",function(e,i,t){"use strict";var o=e("prop-types"),a=e("react"),r=e("create-react-class"),s=e("lodash"),l=e("classnames"),n=e("shakti-platform/dist/ui/ShaktiProperties"),d=e("./factories/falcor"),c=e("./factories/billboards"),b=e("./BillboardType"),u=e("./common/helpers"),m=e("../controls/playbutton.jsx"),h=e("../../../common/imageExtension"),g=e("../../../reactMixins/browserScroll"),p=e("../../akiraContextTypes"),f=e("../../../reactMixins/eventBus"),B=e("../../../utils/billboard"),I=e("../../../common/safeTimeout"),v=n.get("netflix.ui.akira.originals.billboard.ignoreYellowSquare"),S=n.get("oui.billboard.backgroundImageStartsPlayVideoIds"),y=S&&S.split(",").map(Number)||[],k=!n.get("netflix.ui.akira.originals.billboard.disableImpressionToken"),T=!1,V=r({displayName:"BillboardRow",mixins:[g],statics:{getPaths:function(e,i,t){var o=h.getExtensionForTransparentImage(e),a=[];a.push([["billboards",["length","trackIds"]],["billboards","billboards",{to:1},o,"data"],["billboards","billboards",{to:1},o,"playbackVideo","horizontalBackground","playbackData","motionBillboard"]]);var r=d(e,i,t);return a.push(r.map(function(e){return["billboards",{to:1}].concat(e)})),a.push(m.getPaths(e).map(function(e){return["billboards",{to:1}].concat(e)})),a.push([["billboards","impressions"]]),s.flatten(a)}},childContextTypes:{rowNum:o.number,rankNum:o.number,trackId:o.number},contextTypes:Object.assign({models:o.object.isRequired,jsongDocument:o.object.isRequired},p),getInitialState:function(){var e=this.getBillboardData(),i=u.getAvailabilityTimeRemaining(e),t=i<=0;return{lolomoVisible:!0,hasScrolled:!1,billboardTruths:this.getTruths(),useAvailablePhase:t}},getTruths:function(){var e=this.context,i=e&&e.models&&e.models.truths&&e.models.truths.data;return{forceENAudio:i.forceENAudio,hasSmartSubtitles:i.hasSmartSubtitles,BBNoSpinner:i.BBNoSpinner,BBNoTimeout:i.BBNoTimeout,BBNoMute:i.BBNoMute,isIELt12:i.isIELt12,overrideBillboardUILabel:i.overrideBillboardUILabel,BBIs30Trailer:i.BBIs30Trailer,BBIsFullTrailer:i.BBIsFullTrailer,BBForwardLeaningButtons:i.BBForwardLeaningButtons}},getChildContext:function(){return{rowNum:this.props.rowNum,rankNum:0,trackId:this.getTrackId()}},componentDidMount:function(){T&&this.setHeaderVisibility(!0);var e=this.getBillboardData(),i=u.getAvailabilityTimeRemaining(e);if(i>0){var t=this;I(function(){t.setState({useAvailablePhase:!0})},i,3e4)}},getTrackId:function(){var e=this.props.model.getValueSync(["trackIds"]),i=void 0;return e&&(i=e.trackId),i},onScroll:function(e){this.state.hasScrolled||(this.setHeaderVisibility(!0),this.setLolomoVisibility(!0),this.setState({hasScrolled:!0}),"function"==typeof this.removeScrollHandlers&&this.removeScrollHandlers())},setHeaderVisibility:function(e){e?f.emit("appHeader:show"):f.emit("appHeader:hide")},setLolomoVisibility:function(e){this.state.lolomoVisible!==e&&this.setState({lolomoVisible:e})},record:function(e,i,t){if(k){var o=i.impressionToken;e===B.RECORD_ACTION&&(o=i.actionToken),B.recordActionOrImpression(o,this.context.jsongDocument,e,t)}else{var a=i.awardTrackId,r=i.billboardTheme,s=i.billboardType;B.recordActionOrImpressionLegacy(this.context.jsongDocument,e,t,a,r,s)}},recordAction:function(e,i){this.record(B.RECORD_ACTION,e,i)},recordImpression:function(e,i){this.record(B.RECORD_IMPRESSION,e,i)},recordYellowSquareImpression:function(){if(!T){var e=this.props.model,i=e&&e.getValueSync()||[],t=i.length>0?i[1]:null;this.context.jsongDocument.call(["lists",[t],["setRowYellowSquare"]]).subscribe(),T=!0}},getProfilesData:function(){for(var e=this.context.jsongDocument,i=[],t=0;t<5;t++){var o=e.bind(["profilesList",t]);o&&i.push(o.getValueSync(["avatar","images","byWidth",320]))}return i},getBillboardData:function(){var e=h.getExtensionForTransparentImage(this.context.models),i=["billboards",0,e,"data"];return this.props.model.getValueSync(i)},backgroundImageStartsPlay:function(e){return-1!==y.indexOf(e)},shouldComponentUpdate:function(e,i){var t=this.state;return i.hasScrolled!==t.hasScrolled||i.useAvailablePhase!==t.useAvailablePhase||i.lolomoVisible!==t.lolomoVisible||i.isVisible!==t.isVisible},render:function(){var e=this.props,i=e.model.getValueSync(["impressions"]),t=i&&i.billboard;T=T||!v&&t;var o=e.model&&e.model.bind([0]),r=this.getBillboardData(),n=this.state,d=e.forceStatic;if(!r)return null;var m=r&&r.id,h=b.isValidTakeover(r),g=c(r),p=u.isMotionBillboardEnabled(d),f=this.backgroundImageStartsPlay(m),B=this.context.isRtl,I=r.assets||{},S=I.background||{},y="light"===S.tone,k=s.get(r,"assets.background.imageKey"),V=l({"billboard-row":!0,takeover:h,"dim-lolomo":!n.lolomoVisible}),x={billboard:!0,"billboard-pane":!0,"billboard-pane-main":!0,"billboard-originals":!0,"full-bleed-billboard":u.isFullBleed(B,r),"background-image-starts-play":f,"light-tone":y};return a.createElement("div",{className:V},a.createElement(g,{key:"bb-0",isMotionEnabled:p,imageKey:k,videoId:m,backgroundImageStartsPlay:f,videoHasPlayed:T,videoModel:o,billboardData:r,profilesData:this.getProfilesData(),billboardTruths:n.billboardTruths,trackId:this.getTrackId(),billboardClasses:x,hasScrolled:n.hasScrolled,useAvailablePhase:n.useAvailablePhase,recordYellowSquareImpression:this.recordYellowSquareImpression,setHeaderVisibility:this.setHeaderVisibility,setLolomoVisibility:this.setLolomoVisibility,recordAction:this.recordAction,recordImpression:this.recordImpression}))}});i.exports=V});C.r("akira/components/billboard/BillboardType.js",function(e,r,n){"use strict";var o={standard:"standard",takeOver:"takeOver",award:"award",countdown:"countdown",nsreShow:"nsreShow",nsreEpisodic:"nsreEpisodic",contentRefresh:"contentRefresh",profileAwareness:"profileAwareness",isTrailer:function(e){var r=e&&e.videoAssets&&e.videoAssets.horizontalBackground;return r&&r.isTrailer},isNSREEpisodic:function(e){return e.billboardType===o.nsreEpisodic},isNSREShow:function(e){return e.billboardType===o.nsreShow},isCountdown:function(e){return e.billboardType===o.countdown},isAward:function(e){return e.billboardType===o.award},isTakeover:function(e){return e.billboardType===o.takeOver},isContentRefresh:function(e){return e.billboardType===o.contentRefresh},isProfileAwareness:function(e){return e.billboardType===o.profileAwareness},isValidTakeover:function(e){return!!(o.isTakeover(e)&&e.videoAssets&&e.videoAssets.horizontalBackground&&e.videoAssets.horizontalBackground.motionId)}};r.exports=o});C.r("akira/components/billboard/billboardMotionNFPlayer.jsx",function(t,e,i){"use strict";var o=t("prop-types"),s=t("react"),a=t("create-react-class"),n=t("shakti-platform/dist/ui/ShaktiProperties"),d=t("lodash"),r=t("classnames"),l=t("tiny-uuid"),p=t("../../../utils/billboard"),u=t("../controls/iconButton.jsx"),h=t("../../../player/nfplayer/NFPlayer.jsx"),m=t("../../akiraContextTypes"),c=t("../../../player/nfplayer/uiContext"),y=t("../../../player/nfplayer/uiLabel"),g=t("./common/background/MotionBackground"),f=t("../../../player/nfplayer/common/playerInterfaceManager"),C=t("../../utils/inViewport.jsx"),T=t("../../../utils/shallowCompare"),b=t("../../utils/windowVisibility.jsx"),v=t("../../utils/browseVideoLogging.jsx"),P=t("../../components/hoc/withUpdateDimensions.jsx"),O=t("./forceAudioToEN"),E=t("../../../mdx2/hoc/mdxLoader.jsx"),S=n.get("netflix.ui.akira.originals.billboard.motionTimeout"),I=C(P(v(b(a({displayName:"BillboardMotion",loadTimeoutId:null,playCount:0,_hasLoggedImpression:!1,contextTypes:Object.assign({getI18nString:o.func.isRequired,getModelData:o.func.isRequired,jsongDocument:o.object},m),getDefaultProps:function(){return{playerSessionId:l()}},getInitialState:function(){var t=this.props,e=t.videoHasPlayed,i=t.limitVideoToOnePlay,o=t.audioOnByDefault;this.scope={motionContainer:null};var s=this.context.getModelData("truths").mdx2Enabled,a=i&&e,n=s&&E.isCasting();return{videoHasPlayed:e,videoCompleted:a,videoCanPlayThrough:!1,muted:!(o&&!n),skipVideo:a,fadingAudio:!1,timedTextBoundsOverride:{bottom:100}}},componentDidMount:function(){var t=this.props,e=t.videoHasPlayed;if(!t.limitVideoToOnePlay||!e){if(this.props.logLoadingStarted(this.props),this.player&&this.player.isLoaded())return;this.props.billboardTruths.BBNoTimeout||(this.loadTimeoutId=setTimeout(this.handleTimeout,S))}},componentWillUnmount:function(){this.clearLoadTimeout(),d.result(this,"player.getPaused")||this.props.logPlayEnded(this.props,this.props.loggingConstants.PAUSE_TYPE.MODAL_VIEW),this.player=null},componentWillUpdate:function(t,e){this._playOrPauseVideoBasedOnViewport(d.assign({},t,{videoCompleted:e.videoCompleted,videoCanPlayThrough:e.videoCanPlayThrough}))},clearLoadTimeout:function(){this.loadTimeoutId&&(clearTimeout(this.loadTimeoutId),this.loadTimeoutId=null)},pauseVideo:function(t){this.player&&!this.state.fadingAudio&&(this.props.logPlayEnded(this.props,t),this.props.fadeAudio&&t!==this.props.loggingConstants.PAUSE_TYPE.WINDOW_BLUR?this._fadeOutVolume(this._endAudioFadeOut):this.player.pause())},playVideo:function(){var t=this.props,e=t.setVideoIsStarting,i=t.fadeAudio,o=this.state.videoHasPlayed;this.props.logPlayStarted(this.props,1e3*d.result(this,"player.getCurrentTime")),o||(this.setState({videoHasPlayed:!0}),e&&e()),f.pauseAllPlayersExceptActive(this.player),d.result(this,"player.play"),i&&this._fadeInVolume()},getTimedTextBounds:function(){var t=this.scope.motionContainer&&this.scope.motionContainer.offsetHeight,e=this.scope.motionContainer&&this.scope.motionContainer.offsetWidth,i=100;if(null!==t){var o=.258*t;e<799&&(i=40);return{bottom:Math.max(o,i)}}return null},setTimedTextBounds:function(){var t=this.props.getTimedTextBounds;if(!this.state.videoCompleted){var e=t?t():this.getTimedTextBounds();e&&e!==this.state.timedTextBoundsOverride&&this.setState({timedTextBoundsOverride:e})}},onPlayerReady:function(t){this.player=t},handleAudioButtonClick:function(){var t=this.state.muted,e=t?"unmute":"mute";this.setState({muted:!t}),this.props.logMuteButtonClicked(this.props,e)},handleReplayButtonClick:function(){this.player&&this.player.seek(0),this.props.logMuteButtonClicked(this.props,"replay")},handleTimeout:function(){this.handleError(this.props.loggingConstants.VIDEO_ERRORS.TIMEOUT)},handleNotSupported:function(){var t=this,e=function(){t.handleError(t.props.loggingConstants.VIDEO_ERRORS.UNSUPPORTED)};"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e,0)},handleClosed:function(){this.clearLoadTimeout(),this._setCompletedState()},handleError:function(t){var e=void 0;this.clearLoadTimeout(),e="string"==typeof t?t:this.props.loggingConstants.VIDEO_ERRORS.LOAD_ERROR,this.props.logLoadingError(this.props,e),d.result(this,"player.pause"),this._setCompletedState()},handleCanPlayThrough:function(){var t=this.props,e=t.limitVideoToOnePlay,i=t.billboardTruths,o=this.state,s=o.videoCompleted,a=o.videoHasPlayed;i.forceENAudio&&O(this.player),s||this.props.logLoadingEnded(this.props),this.clearLoadTimeout(),e&&a||s||(this.setState({videoCanPlayThrough:!0}),this._playOrPauseVideoBasedOnViewport(d.assign({},this.props,{videoCompleted:this.state.videoCompleted,videoCanPlayThrough:!0})))},handleEnded:function(){this._setCompletedState(),this.props.logPlayEnded(this.props,"Completed")},_playOrPauseVideoBasedOnViewport:function(t){var e=t.videoCompleted,i=t.isWindowVisible,o=t.inViewport,s=t.usePauseThreshold,a=t.videoCanPlayThrough;if(!e&&this.player&&a){var n=!this.player.getPaused(),d=this.player.getCurrentTime()<15;i?!n&&o?s&&!d?this._setCompletedState():this.playVideo():n&&!o&&this.pauseVideo(this.props.loggingConstants.PAUSE_TYPE.SCROLL):n&&this.pauseVideo(this.props.loggingConstants.PAUSE_TYPE.WINDOW_BLUR)}},_setCompletedState:function(){var t=this.props.videoEnded;this.setState({videoCompleted:!0}),t&&t()},_fadeOutVolume:function(t){this.state.fadingAudio=!0,p.fadeOutVolume(this.player,50,t,!0)},_fadeInVolume:function(){p.fadeInVolume(this.player,50,!0)},_endAudioFadeOut:function(){this.setState({fadingAudio:!1}),this.player.pause()},_setContainerNode:function(t){this.scope.motionContainer=t},getUILabel:function(){return this.props.uiLabel||this.props.billboardData.uiLabel||y.BILLBOARD_STANDARD},shouldComponentUpdate:function(t,e){var i=T.state.call(this,t,e),o=this.props,s=this.state;return i||!P.areRectsEqual(o.dimensions,t.dimensions)||!s.videoCompleted&&o.inViewport!==t.inViewport||o.isWindowVisible!==t.isWindowVisible},render:function(){var t=this.props,e=this.state,i=e.muted,o=e.videoHasPlayed,a=e.videoCompleted,n=e.skipVideo,d=t.motionId,l=t.backgroundImageStartsPlay,p=t.forceStop,m=t.billboardData,y=t.billboardTruths,f=o||a,C=this.player&&o&&!a,T=r({"billboard-motion":!0,"dismiss-mask":f,"dismiss-static":f&&C}),b=this.getUILabel(),v=void 0;if(!n&&!p&&!a){var P=y.hasSmartSubtitles;v=s.createElement(h,{muted:i,timedTextBoundsOverride:this.state.timedTextBoundsOverride,controls:!1,uiLabel:b,videoId:d,onPlayerError:this.handleError,onPlayerLoad:this.handleCanPlayThrough,onPlayerEnd:this.handleEnded,onPlayerReady:this.onPlayerReady,trackId:this.context.trackId,playerSessionId:this.props.playerSessionId,onNotSupported:this.handleNotSupported,onPlayerClosed:this.handleClosed,onPlayerNotAvailable:this.handleClosed,isImplicitAutoPlay:!0,staticConfiguration:{disableTrackStickiness:!0,enableTimedTextRendering:!0,focusOnMount:!1,preLoad:"auto",respectBookmark:!1,rewindOnEnd:!0,smartSubtitles:P,uiContext:c.MOTION_BILLBOARD}})}var O=[s.createElement(u,{key:"icon-button-audio",extraClass:"audio-btn button-layer",icon:i?"audio-off":"audio-on",onClick:this.handleAudioButtonClick,ariaLabel:this.context.getI18nString("discovery/akira/Billboard",i?"billboard.actions.audioOn":"billboard.actions.audioOff")})];return t.embeddedComponents&&(O=O.concat(t.embeddedComponents)),s.createElement("div",{className:T,ref:this._setContainerNode},v,s.createElement(g,{billboardData:m,billboardTruths:y,videoCompleted:a,embeddedComponent:O,setTimedTextBounds:this.setTimedTextBounds,dimensions:this.props.dimensions,backgroundImageStartsPlay:l}))}})))));e.exports=I});C.r("akira/components/billboard/clockFace.jsx",function(e,s,t){"use strict";var a=(e("prop-types"),e("react")),r=e("create-react-class"),i=e("classnames"),l=e("../../../utils/images"),p=e("lodash"),o=r({displayName:"ClockFace",render:function(){var e=this.props,s=e.unit,t=e.label,r=this.props.shouldUseSpritesheet?l.backgroundStyle(this.props.spriteUrl):{},o=p.padLeft(this.props.value,2,"0"),c=i({clockFaceContainer:!0,spritesheet:this.props.shouldUseSpritesheet,days:"days"===s,hours:"hours"===s,mins:"mins"===s,secs:"secs"===s}),h=i(["firstDigit",this.props.shouldUseSpritesheet?"value"+o[0]:void 0]),n=i(["secondDigit",this.props.shouldUseSpritesheet?"value"+o[1]:void 0]);return a.createElement("div",null,a.createElement("div",{className:c},a.createElement("span",{className:h,style:r},!this.props.shouldUseSpritesheet&&o[0]),a.createElement("span",{className:n,style:r},!this.props.shouldUseSpritesheet&&o[1]),a.createElement("div",{className:i(["clockFaceLabel"])},t)))}});s.exports=o});C.r("akira/components/billboard/common/BillboardBackground.js",function(e,o,a){"use strict";var d=e("react"),i=e("prop-types"),r=e("create-react-class"),t=e("./helpers"),l=e("../billboardMotionNFPlayer.jsx"),s=e("./background/HeroImage"),n=r({displayName:"BillboardBackground",propTypes:{billboardTruths:i.object.isRequired,billboardData:i.object.isRequired,rowModel:i.object,embeddedComponents:i.array,uiLabel:i.string,backgroundImageStartsPlay:i.bool,isMotionEnabled:i.bool,videoHasPlayed:i.bool,fadeAudio:i.bool,audioOnByDefault:i.bool,limitVideoToOnePlay:i.bool,usePauseThreshold:i.bool,onVideoStarted:i.func,onVideoEnded:i.func,getTimedTextBounds:i.func,recordYellowSquareImpression:i.func},render:function(){var e=this.props,o=this.props.billboardData,a=this.props.billboardTruths,i=e.uiLabel||o.uiLabel,r=t.getMotionAsset(o),n=this.props.backgroundImageStartsPlay;return e.isMotionEnabled&&r?d.createElement(l,{billboardData:o,billboardTruths:a,rowModel:e.rowModel,embeddedComponents:e.embeddedComponents,uiLabel:i,videoId:o.id,motionId:r.motionId,videoHasPlayed:e.videoHasPlayed,backgroundImageStartsPlay:n,fadeAudio:e.fadeAudio,limitVideoToOnePlay:e.limitVideoToOnePlay,audioOnByDefault:e.audioOnByDefault,usePauseThreshold:e.usePauseThreshold,setVideoIsStarting:e.onVideoStarted,videoEnded:e.onVideoEnded,getTimedTextBounds:e.getTimedTextBounds}):d.createElement(s,{billboardData:o,billboardTruths:a,backgroundImageStartsPlay:n})}});o.exports=n});C.r("akira/components/billboard/common/BillboardCTAs.js",function(e,a,i){"use strict";var t=e("prop-types"),o=e("react"),l=e("create-react-class"),s=e("classnames"),n=e("lodash"),r=e("../../../../utils/Routes"),c=e("../../title/myListButton.jsx"),d=e("../../controls/playbutton.jsx"),b=e("../../controls/flatButton.jsx"),p=e("../../controls/playLink.jsx"),u=e("../../../utils/linkDefs.jsx"),y=e("../../../akiraContextTypes"),h=e("../../../../reactMixins/transition"),m="discovery/akira/Billboard",f=s("billboard-links","button-layer"),k=l({displayName:"BillboardCTAs",statics:{__meta__:{strings:[{bundle:m,ids:["billboard.actions.featured","billboard.actions.play","billboard.actions.playVolume","billboard.actions.playCollection","billboard.actions.playSpecial","billboard.actions.playSet","billboard.actions.playBook","billboard.actions.playPart","billboard.actions.playSeries","billboard.actions.playChapter","billboard.actions.playSeason","billboard.actions.playEpisode","billboard.actions.rewatchShow","billboard.actions.continueWatching","billboard.actions.playTrailer","billboard.actions.listEpisodes","billboard.actions.info","billboard.actions.playNewEpisodes","billboard.actions.previous","billboard.actions.next","billboard.actions.dot0","billboard.actions.dot1","billboard.actions.dot2"]}]}},mixins:[h],contextTypes:Object.assign({getI18nString:t.func.isRequired,history:t.object.isRequired,models:t.object.isRequired},y),onClickEpisodes:function(e,a){this.context.history.pushState(u.getEpisodeRoute(this.context).makePath({id:e})),a&&a.preventDefault()},getInitialState:function(){return{useAvailablePhase:!!this.props.useAvailablePhase}},componentWillReceiveProps:function(e){!1===this.props.useAvailablePhase&&!0===e.useAvailablePhase&&this.animateLinks()},animateLinks:function(){if(this.props.skipAnimation)return void this.setState({useAvailablePhase:!0});var e=this;this.animate({target:"ref-links",before:{opacity:1},opacity:0,duration:400,delay:0,callback:function(){e.setState({useAvailablePhase:!0}),e.animate({target:"ref-links",before:{opacity:0},opacity:1,duration:400,delay:0,easing:"easeIn"})},easing:"easeIn"})},recordAction:function(){this.props.recordAction(this.props.billboardData.id)},getCTAs:function(e){return this.state.useAvailablePhase&&e.phase?e.phase.actions:n.filter(e.actions,function(e){return"available"!==e.billboardPhase})},render:function(){var e=this,a=e.props,i=a.billboardData,t=a.videoModel.getValueSync("summary"),l=a.videoModel.getValueSync("queue")||{},u=[],y=this.getCTAs(i),h=this.props.billboardTruths,k=h&&h.BBForwardLeaningButtons;n.each(y,function(i,l){var s="nf-flat-button "+(0===l?" nf-flat-button-primary ":""),n=e.context.getI18nString(m,"billboard.actions."+i.name,{sequenceNumber:i.sequenceNumber});"play"===i.type&&(t&&i.videoId===t.id?u.push(o.createElement(d,{key:l,model:a.videoModel,onClick:e.recordAction,notPrimaryButton:k,flatButton:!0},n)):u.push(o.createElement(p,{key:l,className:s+" playLink",onClick:e.recordAction,videoId:i.videoId},o.createElement("div",{className:"playRing nf-flat-button-icon"},o.createElement("div",{className:"play icon-play"})),o.createElement("div",{className:"annotation"},n)))),"details"===i.type&&"listEpisodes"===i.name&&u.push(o.createElement(b,{key:l,hrefLink:r.titleShowEpisodes.makePath({id:t.id}),onClick:e.onClickEpisodes.bind(e,t.id),label:n,icon:"episodes"}))}),u.length<2&&u.push(o.createElement(c,{key:u.length,model:a.videoModel,videoId:i.id,inQueue:l.inQueue,onClick:e.recordAction}));var v=f;return k&&(v=s(f,"forward-leaning")),o.createElement("div",{key:"billboard-links",className:v,ref:"ref-links"},u)}});a.exports=k});C.r("akira/components/billboard/common/Supplemental.js",function(e,s,a){"use strict";var l=(e("prop-types"),e("react")),p=e("create-react-class"),t=e("classnames"),n=e("../../../../utils/textUtils"),r=t("supplemental"),i=p({displayName:"Supplemental",render:function(){var e=this.props.billboardData,s=e.supplementalMessage;return this.props.useAvailablePhase&&e.phase&&(s=e.phase.supplementalMessage),this.props.ellipsizeLength&&(s=n.ellipsize(s,this.props.ellipsizeLength)),s?l.createElement("div",{key:"supplemental",className:r},s):null}});i.hasSupplementalMessage=function(e){return!!e.supplementalMessage},s.exports=i});C.r("akira/components/billboard/common/Synopsis.js",function(s,e,r){"use strict";var a=(s("prop-types"),s("react")),t=s("create-react-class"),i=s("classnames"),p=s("../../../../utils/textUtils");e.exports=t({displayName:"exports",render:function(){var s=this.props.synopsis,e=this.props.synopsisClasses,r=s;"ja"===this.props.userLanguage&&(r=p.ellipsize(s,200));var t=i("synopsis",e);return a.createElement("div",{key:"synopsis",className:t}," ",r," ")}})});C.r("akira/components/billboard/common/Title.js",function(e,t,i){"use strict";var s=(e("prop-types"),e("react")),l=e("create-react-class"),a=e("classnames"),o=e("../../../../components/presentationTracking/trackingComponents/boxartPresTracking"),r=e("../../../../utils/textUtils"),p=e("../../../../utils/images"),c=l({displayName:"Title",render:function(){var e=this.props.isRtl,t=this.props.assets||{},i=t.logo,l=a("billboard-title",{isRtl:e}),c=void 0,n=void 0;if(i&&e){var m=a({"title-logo":!0,isRtl:!0});n=i.imageKey,c=s.createElement("div",{key:"titleLogo",className:m,style:p.backgroundStyle(i.url),title:this.props.title,"aria-label":this.props.title})}else if(i){var g=a("title-logo");n=i.imageKey,c=s.createElement("img",{key:"titleLogo",className:g,src:i.url,title:this.props.title,alt:this.props.title})}else c=s.createElement("div",{key:"titleLogo",className:"title"},r.ellipsize(this.props.title,35));return s.createElement(o,{className:l,imageKey:n,videoId:this.props.videoId},c)}});t.exports=c});C.r("akira/components/billboard/common/background/HeroImage.js",function(e,t,s){"use strict";var i=e("prop-types"),r=e("react"),a=e("create-react-class"),n=e("classnames"),o=e("../../../controls/playLink.jsx"),c=e("../../../../../utils/imageLoadTracker"),h="discovery/akira/Billboard",l="billboard.actions.featured",g=["hero","static-image","image-layer"],d=n("hero-vignette vignette-layer"),m=n("billboard-play-hitzone play-hit-layer"),p=n("hero-image-wrapper"),u=a({displayName:"HeroImage",contextTypes:{getI18nString:i.func.isRequired,renderTracker:i.object},statics:{__meta__:{strings:[{bundle:h,ids:[l]}]}},componentDidMount:function(){var e=this.context.renderTracker;if(e&&this.heroImage){var t=e.startSession("heroImage");c.trackByNodes([this.heroImage]).then(function(){e.endSession(t)}).catch(function(s){e.endSession(t,s)})}},getHeight:function(e){return e&&e.dimensions&&e.dimensions.height||0},componentWillReceiveProps:function(e){var t=this.props;if(t.setTimedTextBounds){var s=this.getHeight(e.dimensions)>0&&!this.updateOnce,i=this.getHeight(e)!==this.getHeight(t),r=this.refs&&this.refs.vignette;(i||s)&&r&&(this.updateOnce=!0,t.setTimedTextBounds(this.refs.vignette.offsetHeight))}},render:function(){var e=this,t=this.props.billboardData,s=t.assets||{},i=s.background||{},a=null;a=this.props.extraClasses?n(g,this.props.extraClasses):n(g);var c=[r.createElement("img",{key:"hero-image",className:a,src:i.url,alt:this.context.getI18nString(h,l),ref:function(t){e.heroImage=t}})];return this.props.witholdVignette||c.push(r.createElement("div",{key:"hero-vignette",ref:"vignette",className:d})),this.props.backgroundImageStartsPlay&&c.push(r.createElement(o,{key:"background-play-link",videoId:t.id,className:m})),r.createElement("div",{className:p},c)}});t.exports=u});C.r("akira/components/billboard/common/background/MotionBackground.js",function(e,n,a){"use strict";var t=(e("prop-types"),e("react")),o=e("create-react-class"),r=e("classnames"),l=e("./HeroImage"),d=e("../../../loader/loadingSpinner.jsx"),s=r("motion-background-component","bottom-layer","full-screen"),i=r("embedded-components button-layer"),m=o({displayName:"MotionBackground",getSpinner:function(){return t.createElement("div",{className:"loading-mask image-layer high"},t.createElement(d,null))},render:function(){var e=this.props,n=e.billboardData,a=e.billboardTruths,o=e.backgroundImageStartsPlay,r=a.BBNoSpinner,d=null;e.embeddedComponent&&(d=e.embeddedComponent);var m=r?null:this.getSpinner();return t.createElement("div",{className:s},t.createElement(l,{billboardData:n,billboardTruths:a,videoCompleted:e.videoCompleted,setTimedTextBounds:e.setTimedTextBounds,dimensions:e.dimensions,backgroundImageStartsPlay:o}),t.createElement("div",{className:i},d),m)}});n.exports=m});C.r("akira/components/billboard/common/helpers.js",function(i,t,o){"use strict";var e=i("shakti-platform/dist/ui/ShaktiProperties"),r={isMotionBillboardEnabled:function(i){return e.get("netflix.ui.akira.originals.billboard.motionEnabled")&&!i},isIE11:function(i){return i.isIELt12},isMotionBillboard:function(i){return Boolean(i.videoAssets&&i.videoAssets.horizontalBackground&&i.videoAssets.horizontalBackground.motionId)},getMotionAsset:function(i){return i&&i.videoAssets&&i.videoAssets.horizontalBackground},isTrailerAsset:function(i){return i.videoAssets&&i.videoAssets.horizontalBackground&&i.videoAssets.horizontalBackground.isTrailer},getAvailabilityTimeRemaining:function(i){if(!i)return 0;var t=(new Date).getTime();return(i.availabilityDates&&i.availabilityDates.start||t)-t},isFullBleed:function(i,t){var o=t&&t.assets&&t.assets.background;return!i||Boolean(o&&o.rightToLeft&&"StoryArt"!==o.artWorkType)}};t.exports=r});C.r("akira/components/billboard/countdownClock.jsx",function(t,e,n){"use strict";var i=t("prop-types"),o=t("react"),s=t("create-react-class"),r=t("react-dom"),a=t("classnames"),l=t("./clockFace.jsx"),c=t("../../../common/position"),u=t("../../../reactMixins/eventBus"),d=t("../../../reactMixins/browserScroll"),h=t("../../../utils/images"),m=t("lodash"),p=s({displayName:"CountdownClock",contextTypes:{getI18nBundle:i.func.isRequired},mixins:[d],getInitialState:function(){var t=this._formatTimeDelta(this._getDeltaFromCurrentTime());return t.timerEnded=this._getDeltaFromCurrentTime()<=0,t},componentDidMount:function(){this._countdownInterval=null,u.on("window-visibility:changed",this._handleWindowVisibilityChange),this.state.timerEnded||this._beginCountdown()},componentWillUnmount:function(){u.removeListener("window-visibility:changed",this._handleWindowVisibilityChange),this._stopTimer()},onScroll:function(){this._debouncedScroll()},_debouncedScroll:m.debounce(function(){"requestIdleCallback"in window?window.requestIdleCallback(this._pauseOrStartBasedOnViewport):this._pauseOrStartBasedOnViewport()},1e3),_pauseOrStartBasedOnViewport:function(){this._inViewport()?this._startTimer():this._stopTimer()},_inViewport:function(){var t=this.refs.countdownClock&&r.findDOMNode(this.refs.countdownClock);return c.isElementInViewport(t)},_handleWindowVisibilityChange:function(t){t?this._startTimer():this._stopTimer()},_startTimer:function(){this._countdownInterval||this.state.timerEnded||this._beginCountdown()},_stopTimer:function(){clearInterval(this._countdownInterval),this._countdownInterval=null},_beginCountdown:function(){var t=this;this._getDeltaFromCurrentTime()>0?this._countdownInterval=setInterval(function(){t._updateClock()},1e3):this._updateClock()},_updateClock:function(){var t=this._getDeltaFromCurrentTime();this.setState(this._formatTimeDelta(t)),t<=0&&(this.setState({timerEnded:!0}),this._stopTimer(),this.props.handleTimerEnd())},_getDeltaFromCurrentTime:function(){return this.props.targetTimestamp-(new Date).getTime()},_formatTimeDelta:function(t){return t<0&&(t=0),{days:Math.floor(t/864e5),hours:Math.floor(t/36e5%24),minutes:Math.floor(t/6e4%60),seconds:Math.floor(t/1e3%60)}},render:function(){var t=a(["countdownClockContainer"]),e=a(["clockFacesWrapper"]),n=this.context.getI18nBundle("discovery/akira/Billboard"),i=this.props.spriteUrl,s=this.props.shouldUseSpritesheet;return o.createElement("div",null,o.createElement("div",{ref:"countdownClock",className:t},o.createElement("div",{className:e,style:h.backgroundStyle(i)},o.createElement(l,{unit:"days",label:n.get("billboard.countdown.days"),value:this.state.days,spriteUrl:i,shouldUseSpritesheet:s}),o.createElement(l,{unit:"hours",label:n.get("billboard.countdown.hours"),value:this.state.hours,spriteUrl:i,shouldUseSpritesheet:s}),o.createElement(l,{unit:"mins",label:n.get("billboard.countdown.mins"),value:this.state.minutes,spriteUrl:i,shouldUseSpritesheet:s}),o.createElement(l,{unit:"secs",label:n.get("billboard.countdown.secs"),value:this.state.seconds,spriteUrl:i,shouldUseSpritesheet:s}))))}});e.exports=p});C.r("akira/components/billboard/factories/billboards/Awards.js",function(a,r,e){"use strict";var o=a("react"),s=(a("prop-types"),a("create-react-class")),t=a("classnames"),l=a("../meta"),d=a("../../common/BillboardBackground"),i=s({displayName:"Awards",componentDidMount:function(){var a=this.props.billboardData;this.props.recordImpression(a,a.id)},render:function(){var a=this.props,r=a.billboardData,e=this.props.backgroundImageStartsPlay,s=r.assets,i=t(this.props.billboardClasses,"awards-billboard"),n=l(r);return o.createElement("div",{className:i},o.createElement(d,{billboardData:r,billboardTruths:a.billboardTruths,rowModel:a.rowModel,backgroundImageStartsPlay:e,isMotionEnabled:a.isMotionEnabled}),o.createElement("img",{className:"award-headline meta-layer",src:s.awardsHeadline.url,alt:""}),o.createElement(n,{videoModel:a.videoModel,billboardData:r,billboardTruths:a.billboardTruths,userLanguage:a.userLanguage,trackId:a.trackId,recordAction:a.recordAction}))}});r.exports=i});C.r("akira/components/billboard/factories/billboards/ContentRefresh.js",function(e,t,n){"use strict";var r=e("prop-types"),a=e("react"),s=e("create-react-class"),o=e("classnames"),l=e("lodash"),i=e("../../../title/myListButton.jsx"),d=e("../../../controls/playbutton.jsx"),c=e("../../../../../reactMixins/transition"),u=e("../../../controls/mainViewLink.jsx"),m=e("../../../../../utils/Routes"),p=e("../falcor/getContentRefreshPaths"),g=e("../../../../../utils/imageLoadTracker"),h=e("../../../../../components/string.jsx"),b="discovery/akira/Common",f=s({displayName:"ContentRefresh",mixins:[c],statics:{__meta__:{strings:[{bundle:b,ids:["button.secondary.shortEpisodes","see.all.recently.added","coming.soon.for","comingsoon","new.episodes","recently.added","play.button.annotation.play","added.in.the.last.day","added.in.the.last.week"]}]}},contextTypes:{getI18nBundle:r.func.isRequired,jsongDocument:r.object.isRequired,isRtl:r.bool.isRequired,models:r.object.isRequired,renderTracker:r.object},componentDidMount:function(){var e=this.props.billboardData&&this.props.billboardData.id;this.props.recordImpression(this.props.billboardData,e);var t=this.context.renderTracker;if(t&&this.heroImage){var n=t.startSession("contentRefresh"),r=[this.heroImage,this.logoImage].filter(function(e){return!!e});g.trackByNodes(r).then(function(){t.endSession(n)}).catch(function(e){t.endSession(n,e)})}},recordAction:function(){var e=this.props.billboardData&&this.props.billboardData.id;this.props.recordAction(this.props.billboardData,e)},renderLastAddedString:function(e,t){if(t>0&&t<7)return a.createElement(h,{bundle:b,stringKey:"added.in.the.last.day",stringParams:{numDays:t,lastAddedNum:e},dangerouslySetInnerHTML:!0});if(t>=7){var n=Math.floor(t/7);return a.createElement(h,{bundle:b,stringKey:"added.in.the.last.week",stringParams:{numWeeks:n,lastAddedNum:e},dangerouslySetInnerHTML:!0})}return null},renderLogo:function(e){var t=this;return e.logoUrl?a.createElement("img",{className:o("title-treatment-content-refresh"),src:e.logoUrl,title:e.title,ref:function(e){t.logoImage=e}}):a.createElement("div",{className:o("title-content-refresh")},e.title)},renderRecentlyAddedMessage:function(e,t){var n=parseInt(e.recentlyAddedCutoffDays,10),r=e.numNewTitles||0,s=this.context.getI18nBundle(b),l=s.get("play.button.annotation.play"),c=o({info:!0,"meta-layer":!0,"content-refresh":!0}),p=o({meta:!0,"content-refresh":!0}),g=o({recentlyAdded:!0,"supplemental-message":!0}),h={"row-chevron":!0};h[this.context.isRtl?"icon-akiraCaretLeft":"icon-akiraCaretRight"]=!0;var f=o({"content-refresh-link":!0}),y=a.createElement(u,{to:m.justAdded,className:f},s.get("see.all.recently.added"),a.createElement("span",{className:o(h)})),v=a.createElement("div",{className:"actions-content-refresh"},a.createElement(d,{model:e.model,onClick:this.recordAction,flatButton:!0},l),a.createElement(i,{flatButton:!0,model:e.model,videoId:e.summary.id,inQueue:e.queue&&e.queue.inQueue,onClick:this.recordAction}));return a.createElement("div",{className:c},a.createElement("div",{className:p},a.createElement("div",{className:g},this.renderLastAddedString(r,n)),y),t,this.renderLogo(e),v)},renderMessageBillboardPane:function(e){var t=e.episodeCount>1,n=this.context.getI18nBundle(b),r=null,s=null;return t&&"true"===e.newEpisodes&&(s=a.createElement("div",{className:o({"new-episodes-badge":!0}),dangerouslySetInnerHTML:{__html:n.get("new.episodes")}})),r=this.renderRecentlyAddedMessage(e,s),a.createElement("div",{className:o("billboard-pane","billboard-pane-main","billboard-pane-content-refresh")},r)},getData:function(){var e=p(this.context.models);if(!e)return{};var t=this.props.billboardData,n=this.props.videoModel,r=t&&t.contentRefreshData||{},a={title:n.getValueSync(["title"])||"",summary:n.getValueSync(e.summary)||{id:0},bgImages:n.getValueSync(e.bgImages)||[{url:""}],titleTreatmentCropped:n.getValueSync(e.titleTreatmentCropped)||{url:""},bb2OGLogoCropped:n.getValueSync(e.bb2OGLogoCropped)||{url:""},queue:n.getValueSync(e.queue)||!1,episodeCount:n.getValueSync(e.episodeCount)||0};return"recentlyAdded"===r.contentType&&(a.numNewTitles=r.totalNumVideos,a.newEpisodes=r.newEpisodes,a.recentlyAddedCutoffDays=r.recentlyAddedCutoffDays,a.contentType=r.contentType,a.heroImageUrl=l.get(this.props.billboardData,"assets.background.url","")),a.bb2OGLogoCropped.url?(a.logoUrl=a.bb2OGLogoCropped.url,a.logoClass="title-treatment"):a.titleTreatmentCropped.url&&(a.logoUrl=a.titleTreatmentCropped.url,a.logoClass="title-treatment"),a.model=n,a},render:function(){var e=this,t=this.getData(),n=null,r=null,s=null;return t&&t.summary?(n=this.renderMessageBillboardPane(t),s=a.createElement("div",{className:"hero-vignette"}),r=a.createElement("img",{className:"hero",src:t.heroImageUrl,ref:function(t){e.heroImage=t}}),a.createElement("div",null,a.createElement("div",{className:"billboard"},r,s,n))):null}});t.exports=f});C.r("akira/components/billboard/factories/billboards/Countdown.js",function(e,a,t){"use strict";var o=(e("prop-types"),e("react")),i=e("create-react-class"),r=e("classnames"),d=e("../meta"),s=e("../../common/BillboardBackground"),n=e("../../common/helpers"),l=i({displayName:"Countdown",getInitialState:function(){return{timerEnd:n.getAvailabilityTimeRemaining(this.props.billboardData)<=0}},componentDidMount:function(){var e=this.props.billboardData;this.props.recordImpression(e,e.id)},onTimerEnd:function(){this.setState({timerEnd:!0})},render:function(){var e=this.props,a=e.billboardData,t=this.props.billboardTruths,i=this.props.backgroundImageStartsPlay,n=t.BBNoMute,l=r(this.props.billboardClasses,{"countdown-billboard":!0,"countdown-ended":this.state.timerEnd}),b=d(a);return o.createElement("div",{className:l},o.createElement(s,{billboardData:a,billboardTruths:t,videoId:a.id,uiLabel:this.props.billboardData.uiLabel,onVideoStarted:this.setVideoIsStarting,onVideoEnded:this.videoEnded,fadeAudio:n,audioOnByDefault:n,isMotionEnabled:e.isMotionEnabled,usePauseThreshold:!1,videoHasPlayed:e.videoHasPlayed,backgroundImageStartsPlay:i}),o.createElement(b,{videoModel:e.videoModel,billboardTruths:e.billboardTruths,billboardData:a,userLanguage:e.userLanguage,trackId:e.trackId,useAvailablePhase:e.useAvailablePhase,recordAction:e.recordAction,onTimerEnd:this.onTimerEnd}))}});a.exports=l});C.r("akira/components/billboard/factories/billboards/Licensed.js",function(e,t,s){"use strict";var o=e("prop-types"),i=e("react"),a=e("create-react-class"),n=e("lodash"),r=e("../../../title/myListButton.jsx"),l=e("../../../title/videoMeta.jsx"),c=e("../../../controls/flatButton.jsx"),d=e("../../../controls/playbutton.jsx"),u=e("../../../../containers/jawbone/episodes/episodes.jsx"),m=e("../../../../../components/presentationTracking/presentationTrackingContainer.jsx"),p=e("../../../../../components/presentationTracking/trackingComponents/billboardPresTracking"),b=e("../../../../../reactMixins/transition"),g=e("../../../../../utils/textUtils"),h="discovery/akira/Common",v=a({displayName:"Licensed",mixins:[b],statics:{pql:{},__meta__:{strings:[{bundle:h,ids:["button.secondary.shortEpisodes"]},{bundle:"discovery/akira/Billboard",ids:["billboard.actions.featured"]}]}},transitions:{skipFirst:!0,fadeIn:500,fadeOut:500},contextTypes:{getI18nString:o.func.isRequired,isRtl:o.bool,jsongDocument:o.object.isRequired,models:o.object.isRequired},getInitialState:function(){return{currentPane:"main"}},componentDidMount:function(){this.props.recordImpression(this.props.billboardData,this.props.billboardData.id)},onClickPaneClose:function(){this.setState({currentPane:"main"})},onClickEpisodes:function(){this.recordAction(),this.setState({currentPane:"episodes"})},recordAction:function(){this.props.recordAction(this.props.billboardData,this.props.billboardData.id)},getCurrentPane:function(e){var t=void 0,s=null;switch(this.state.currentPane){case"episodes":t=i.createElement("div",{className:"billboard-pane billboard-pane-episodes"},i.createElement("div",{className:"title"},e.title),i.createElement("div",{className:"close-button icon-close",onClick:this.onClickPaneClose}),i.createElement(u,{pqls:u.getPaths(this.context.models,null,{}),model:e.videoModel,useSlider:!0,showEpisodeSummary:!0,showEpisodeNumber:!0,showEpisodeDuration:!0}));break;default:e.seasonCount>0&&(s=i.createElement(c,{label:this.context.getI18nString(h,"button.secondary.shortEpisodes"),icon:"episodes",onClick:this.onClickEpisodes})),t=i.createElement("div",{className:"billboard-pane billboard-pane-main"},i.createElement("div",{className:"info"},i.createElement(m,null,i.createElement(p,{videoId:e.id},i.createElement("img",{className:e.logoClass,src:e.logoUrl,title:e.title,alt:e.title}),i.createElement(l,{model:e.videoModel}),i.createElement("div",{className:"synopsis"},e.synopsis)),i.createElement("div",{className:"billboard-links"},i.createElement(d,{model:e.videoModel,onClick:this.recordAction,flatButton:!0}),i.createElement(r,{flatButton:!0,model:e.videoModel,videoId:e.id,inQueue:e.queue.inQueue,onClick:this.recordAction}),s))))}return t},getData:function(){var e=this.props,t=e.videoModel,s=e.billboardData,o=n.get(this.context.models,"geo.data.locale.language","en"),i={id:n.get(s,"id",0),synopsis:n.get(s,"synopsis",""),seasonCount:n.get(s,"seasons",0),title:n.get(s,"title",""),heroImageUrl:n.get(s,"assets.background.url",""),logoUrl:n.get(s,"assets.logo.url",""),logoType:n.get(s,"assets.logo.artWorkType",""),queue:t.getValueSync(["queue"])||!1};return"ja"===o&&(i.synopsis=g.ellipsize(i.synopsis,200)),i.logoClass="TITLE_TREATMENT"===i.logoType?"title-treatment":"title-card",i.videoModel=t,i},render:function(){var e=this.getData(),t=this.getCurrentPane(e),s="main"!==this.state.currentPane?"hero-faded":"";return i.createElement("div",{className:"billboard slider-hover-trigger-layer"},i.createElement("img",{className:"hero "+s,src:e.heroImageUrl,alt:this.context.getI18nString("discovery/akira/Billboard","billboard.actions.featured")}),i.createElement("div",{className:"hero-vignette"}),t)}});t.exports=v});C.r("akira/components/billboard/factories/billboards/NSREEpisodic.js",function(a,r,o){"use strict";var e=(a("prop-types"),a("react")),t=a("create-react-class"),l=a("classnames"),s=a("../../../../akiraContextTypes"),i=a("../meta"),d=a("../../common/BillboardBackground"),n=t({displayName:"NSREEpisodic",contextTypes:s,componentDidMount:function(){var a=this.props.billboardData;this.props.recordImpression(a,a.ancestorId)},render:function(){var a=this.props,r=a.billboardData,o=a.backgroundImageStartsPlay,t=i(r);return this.props.billboardClasses["full-bleed-billboard"]=!1,e.createElement("div",{className:l(a.billboardClasses)},e.createElement(d,{billboardData:r,billboardTruths:a.billboardTruths,rowModel:a.rowModel,backgroundImageStartsPlay:o,isMotionEnabled:a.isMotionEnabled}),e.createElement(t,{videoModel:a.videoModel,billboardData:r,billboardTruths:a.billboardTruths,userLanguage:a.userLanguage,recordAction:a.recordAction,trackId:a.trackId}))}});r.exports=n});C.r("akira/components/billboard/factories/billboards/Standard.js",function(e,a,t){"use strict";var i=(e("prop-types"),e("react")),r=e("create-react-class"),s=e("classnames"),o=e("../meta"),d=e("../../common/BillboardBackground"),l=e("../../../../../player/nfplayer/uiLabel"),n=e("../../common/helpers"),b=e("../../../title/maturityRating.jsx"),u=r({displayName:"Standard",componentDidMount:function(){var e=this.props.billboardData;this.props.recordImpression(e,e.id)},getInitialState:function(){var e=this.props.videoHasPlayed;return{videoStarted:e,videoFinished:e}},getUILabel:function(){var e=this.props.billboardTruths;return e.overrideBillboardUILabel&&e.BBIsFullTrailer||n.isTrailerAsset(this.props.billboardData)?l.BILLBOARD_TRAILER_FULL:this.props.billboardData.uiLabel||l.BILLBOARD_STANDARD},getClassNames:function(){var e=this.props,a={"trailer-billboard":n.isTrailerAsset(e.billboardData)};return s(e.billboardClasses,a)},getEmbeddedMaturityIcon:function(){var e=this.props;if(n.isTrailerAsset(e.billboardData))return[i.createElement(b,{key:"maturity-icon",model:e.videoModel})]},setVideoIsStarting:function(){this.setState({videoStarted:!0})},videoEnded:function(){this.setState({videoFinished:!0})},render:function(){var e=this.props,a=e.billboardData,t=e.billboardTruths,r=e.backgroundImageStartsPlay,s=t.BBNoMute,l=o(a),n=this.getClassNames();return i.createElement("div",{className:n},i.createElement(d,{billboardData:a,billboardTruths:t,videoId:a.id,embeddedComponents:this.getEmbeddedMaturityIcon(),uiLabel:this.getUILabel(),onVideoStarted:this.setVideoIsStarting,onVideoEnded:this.videoEnded,videoHasPlayed:e.videoHasPlayed,isMotionEnabled:e.isMotionEnabled,backgroundImageStartsPlay:r,fadeAudio:s,audioOnByDefault:s,usePauseThreshold:!1}),i.createElement(l,{videoModel:e.videoModel,billboardData:a,billboardTruths:e.billboardTruths,userLanguage:e.userLanguage,useAvailablePhase:e.useAvailablePhase,recordAction:e.recordAction,videoStarted:this.state.videoStarted,videoFinished:this.state.videoFinished,trackId:e.trackId}))}});a.exports=u});C.r("akira/components/billboard/factories/billboards/TakeOver.js",function(e,o,a){"use strict";var t=(e("prop-types"),e("react")),i=e("create-react-class"),s=e("react"),r=e("classnames"),n=e("../../../../akiraContextTypes"),l=e("../../../../../reactMixins/transition"),d=e("../meta"),c=e("../../../../../player/nfplayer/uiLabel"),p=e("./hocs/MouseMoving"),u=e("../../common/BillboardBackground"),b=r("takeover-accolades meta-layer"),h=i({displayName:"TakeOver",mixins:[l],contextTypes:n,getInitialState:function(){return this.scope={takeoverContainer:null},{}},componentDidMount:function(){var e=this.props.billboardData;this.props.recordImpression(e,e.id)},componentWillReceiveProps:function(e){e.mouseMoving===this.props.mouseMoving||e.hasScrolled||this.props.setHeaderVisibility(e.mouseMoving),this.props.hasScrolled!==e.hasScrolled&&e.hasScrolled&&this.props.setHeaderVisibility(!0)},getAccoladesNode:function(){return this.refs.takeoverAccolades&&s.findDOMNode(this.refs.takeoverAccolades)},setVideoIsStarting:function(){this.props.hasScrolled||(this.props.setLolomoVisibility(!1),this.props.setHeaderVisibility(!1)),this.props.setTrackingMouseMovements(!0),this.props.recordYellowSquareImpression(),this.getAccoladesNode()&&this.animate({target:"takeoverAccolades",before:{opacity:1},opacity:0,duration:1e3,delay:0,easing:"easeIn"}),this.animate({target:"info",before:{opacity:1},opacity:0,duration:300,delay:0,easing:"easeIn"})},videoEnded:function(){this.props.setLolomoVisibility(!0),this.props.setHeaderVisibility(!0),this.props.setTrackingMouseMovements(!1),this.getAccoladesNode()&&this.animate({target:"takeoverAccolades",before:{opacity:0},opacity:1,duration:1e3,delay:0,easing:"easeIn"}),this.animate({target:"info",before:{opacity:0},opacity:1,duration:300,delay:0,easing:"easeIn"})},_setContainerNode:function(e){this.scope.takeoverContainer=e},render:function(){var e=this.props,o=e.billboardData||{},a=o.assets||{},i=d(o),s={"show-info-btn":e.mouseMoving},n=r("takeover-billboard",s,e.billboardClasses),l=a.accolade&&a.accolade.url,p=null;return l&&(p=t.createElement("img",{key:"takeoverAccolades",ref:"takeoverAccolades",className:b,src:a.accolade.url,alt:""})),t.createElement("div",{ref:this._setContainerNode,onMouseMove:e.onMouseMove,className:n},t.createElement(u,{billboardData:o,billboardTruths:e.billboardTruths,videoId:o.id,uiLabel:c.BILLBOARD_TAKEOVER,fadeAudio:!0,audioOnByDefault:!0,limitVideoToOnePlay:!0,usePauseThreshold:!0,onVideoStarted:this.setVideoIsStarting,onVideoEnded:this.videoEnded,videoHasPlayed:e.videoHasPlayed,isMotionEnabled:e.isMotionEnabled,rowModel:e.rowModel,backgroundImageStartsPlay:e.backgroundImageStartsPlay,recordAction:e.recordAction}),p,t.createElement(i,{ref:"info",videoModel:e.videoModel,billboardData:o,billboardTruths:e.billboardTruths,userLanguage:e.userLanguage,recordAction:e.recordAction,trackId:e.trackId}))}});o.exports=p(h)});C.r("akira/components/billboard/factories/billboards/hocs/MouseMoving.js",function(t,e,s){"use strict";function o(t){return r.get(t,"displayName",t)}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},a=t("react"),n=t("create-react-class"),r=t("lodash"),u=t("hoist-non-react-statics");e.exports=function(t){var e=n({displayName:"MouseMoving("+o(t)+")",getInitialState:function(){return this.lastTime=0,this.hasTimer=!1,{shouldTrack:!1,mouseMoving:!1}},setTrackingMouseMovements:function(t){this.state.shouldTrack!==t&&(this.setState({shouldTrack:t}),!t&&this.timerId&&clearTimeout(this.timerId))},onMouseMove:function(){var t=this;t.state.shouldTrack&&(t.state.mouseMoving||t.setState({mouseMoving:!0}),t.lastTime=Date.now(),t.hasTimer||t.wait(2e3))},wait:function(t){var e=this;setTimeout(function(){if(e.state.shouldTrack){var t=e.lastTime+2e3-Date.now();t<=0?(e.setState({mouseMoving:!1}),e.hasTimer=!1):e.wait(t)}},t),this.hasTimer=!0},render:function(){return a.createElement(t,i({},this.props,{setTrackingMouseMovements:this.setTrackingMouseMovements,onMouseMove:this.onMouseMove,mouseMoving:this.state.mouseMoving}))}});return u(e,t),e}});C.r("akira/components/billboard/factories/billboards/index.js",function(e,n,r){"use strict";function i(e){var n=function(n){return s.createElement(m,null,s.createElement(C,{imageKey:n.imageKey,videoId:n.videoId},s.createElement(e,n)))};return n.propTypes={imageKey:o.string.isRequired,videoId:o.number.isRequired},n}var s=e("react"),o=e("prop-types"),t=e("../../BillboardType"),a=e("./Standard"),d=e("./Countdown"),c=e("./Awards"),p=e("./TakeOver"),l=e("./ContentRefresh"),u=e("./ProfileAwareness"),f=e("./Licensed"),w=e("./NSREEpisodic"),m=e("../../../../../components/presentationTracking/presentationTrackingContainer.jsx"),C=e("../../../../../components/presentationTracking/trackingComponents/billboardPresTracking"),E={Countdown:i(d),ProfileAwareness:i(u),Awards:i(c),ContentRefresh:i(l),NSREEpisodic:i(w),TakeOver:i(p),Standard:i(a),Licensed:i(f)};n.exports=function(e){return t.isProfileAwareness(e)?E.ProfileAwareness:t.isCountdown(e)?E.Countdown:t.isAward(e)?E.Awards:t.isContentRefresh(e)?E.ContentRefresh:t.isNSREEpisodic(e)?E.NSREEpisodic:t.isTakeover(e)?E.TakeOver:e.isOriginal?E.Standard:E.Licensed}});C.r("akira/components/billboard/factories/falcor/getContentRefresh.js",function(e,t,o){"use strict";function r(e,t,o){var r=n(e);return[r.synopsis,r.titleTreatmentCropped,r.bb2OGLogoCropped,r.bgImages,r.queue,r.summary,r.episodeCount].concat(s.getPaths(e))}var s=e("../../../title/videoMeta.jsx"),n=e("./getContentRefreshPaths");t.exports=r});C.r("akira/components/billboard/factories/falcor/getContentRefreshPaths.js",function(e,o,t){"use strict";var n=e("../../../../../common/imageExtension");o.exports=function(e){var o=n.getExtensionForOpaqueImage(e),t=n.getExtensionForTransparentImage(e);return{titleTreatmentCropped:["titleTreatmentCropped","_Anyx130",t],bb2OGLogoCropped:["bb2OGLogoCropped","_Anyx75",t],bgImages:["BGImages",513,o],synopsis:["synopsis"],queue:["queue"],summary:["summary"],episodeCount:["episodeCount"]}}});C.r("akira/components/billboard/factories/falcor/getOriginals.js",function(t,e,n){"use strict";var o=t("../../../controls/playbutton.jsx"),r=t("../../../episode/episodeBadge.jsx");e.exports=function(t,e,n){return[["queue"]].concat(r.getPaths(t,e,n).map(function(t){return["current"].concat(t)})).concat(o.getPaths(t,e,n))}});C.r("akira/components/billboard/factories/falcor/index.js",function(t,n,r){"use strict";var e=t("./getContentRefresh"),o=t("./getOriginals");n.exports=function(t,n,r){return e(t,n,r).concat(o(t,n,r))}});C.r("akira/components/billboard/factories/meta/Awards.js",function(e,t,a){"use strict";var s=e("prop-types"),r=e("react"),o=e("create-react-class"),l=e("classnames"),i=e("../../common/Title"),c=e("../../common/Supplemental"),n=e("../../common/BillboardCTAs"),d=l("info meta-layer"),m=l("logo-and-text"),p=o({displayName:"Awards",contextTypes:{isRtl:s.bool},render:function(){var e=this.props.billboardData,t=this.props.userLanguage,a=e.assets||{};return r.createElement("div",{className:d},r.createElement("div",{className:m},r.createElement(i,{userLanguage:t,title:e.title,isRtl:this.context.isRtl,videoId:e.id,assets:a}),r.createElement(c,{billboardData:e})),r.createElement(n,{billboardData:e,billboardTruths:this.props.billboardTruths,videoModel:this.props.videoModel,recordAction:this.props.recordAction}))}});t.exports=p});C.r("akira/components/billboard/factories/meta/Countdown.js",function(e,t,a){"use strict";var i=e("prop-types"),s=e("react"),o=e("create-react-class"),n=e("classnames"),r=e("shakti-platform/dist/ui/ShaktiProperties"),l=e("../../common/Title"),c=e("../../common/Supplemental"),u=e("../../countdownClock.jsx"),d=e("../../common/BillboardCTAs"),p=e("../../../../../reactMixins/transition"),m=r.get("oui.billboard.web.useSpriteForCountdownClockFace"),b=n("info meta-layer"),h=n("logo-and-text"),v=o({displayName:"Countdown",mixins:[p],contextTypes:{isRtl:i.bool},getInitialState:function(){return{useAvailablePhase:this.props.useAvailablePhase}},onTimerEnd:function(){var e=this;e.animateOut(function(){e.animateIn(),e.setState({useAvailablePhase:!0}),e.props.onTimerEnd()})},animateOut:function(e){this.animate({target:"info",before:{opacity:1},opacity:0,duration:1e3,delay:0,easing:"easeIn",callback:e})},animateIn:function(){this.animate({target:"info",before:{opacity:0},opacity:1,duration:1e3,delay:0,easing:"easeIn"})},renderCountdownClock:function(e,t){var a=t.countdown&&t.countdown.url,i=a&&m,o=e.availabilityDates&&e.availabilityDates.start;return s.createElement(u,{targetTimestamp:o,shouldUseSpritesheet:i,spriteUrl:a,clockLabel:e.supplementalMessage,handleTimerEnd:this.onTimerEnd})},render:function(){var e=this.props.billboardData,t=this.props.userLanguage,a=e.assets||{};return s.createElement("div",{className:b,ref:"info"},s.createElement("div",{className:h},s.createElement(l,{userLanguage:t,title:e.title,isRtl:this.context.isRtl,videoId:e.id,assets:a}),s.createElement(c,{useAvailablePhase:this.props.useAvailablePhase,billboardData:e}),this.renderCountdownClock(e,a)),s.createElement(d,{billboardData:e,billboardTruths:this.props.billboardTruths,videoModel:this.props.videoModel,useAvailablePhase:this.state.useAvailablePhase,skipAnimation:!0,recordAction:this.props.recordAction}))}});t.exports=v});C.r("akira/components/billboard/factories/meta/NSREEpisodic.js",function(e,t,s){"use strict";var i=e("prop-types"),o=e("react"),a=e("create-react-class"),r=e("classnames"),l=e("../../common/Title"),n=e("../../common/Synopsis"),d=e("../../common/BillboardCTAs"),c=e("../../../episode/episodeBadge.jsx"),p=e("../../../../../utils/textUtils"),m=r("info meta-layer"),u=r("logo-and-text"),b=a({displayName:"NSREEpisodic",statics:{__meta__:{strings:[{bundle:"discovery/akira/Common",ids:["episode.title.quoted"]}]}},contextTypes:{getI18nString:i.func.isRequired,isRtl:i.bool},render:function(){var e=this.props.billboardData,t=this.props.userLanguage,s=e.assets||{},i={TITLE:e.title},a=this.context.getI18nString("discovery/akira/Common","episode.title.quoted",i),r=p.ellipsize(a,70);return o.createElement("div",{className:m},o.createElement("div",{className:u},o.createElement(l,{userLanguage:t,title:e.title,videoId:e.id,isRtl:this.context.isRtl,assets:s}),o.createElement(n,{userLanguage:t,synopsis:e.synopsis}),o.createElement("div",{className:"supplemental"},o.createElement(c,{badge:e.badgeKeys[0],model:this.props.videoModel}),o.createElement("span",{className:"episode-title"},r))),o.createElement(d,{billboardTruths:this.props.billboardTruths,billboardData:e,videoModel:this.props.videoModel,recordAction:this.props.recordAction}))}});t.exports=b});C.r("akira/components/billboard/factories/meta/NSREShow.js",function(e,s,t){"use strict";var a=e("prop-types"),l=e("react"),o=e("create-react-class"),r=e("classnames"),i=e("../../common/Title"),n=e("../../common/Synopsis"),c=e("../../common/BillboardCTAs"),d=r("info meta-layer"),p=r("logo-and-text"),m=o({displayName:"NSREEpisodic",contextTypes:{isRtl:a.bool},render:function(){var e=this.props.billboardData,s=this.props.userLanguage,t=e.assets||{},a=void 0;return t.dateBadge?a=l.createElement("div",{className:"supplemental"},l.createElement("img",{src:t.dateBadge.url})):e.supplementalMessage&&(a=l.createElement("div",{className:"supplemental"},e.supplementalMessage)),l.createElement("div",{className:d},l.createElement("div",{className:p,key:"logoAndText"},l.createElement(i,{userLanguage:s,title:e.title,videoId:e.id,isRtl:this.context.isRtl,assets:t}),a,l.createElement(n,{userLanguage:s,synopsis:e.synopsis})),l.createElement(c,{billboardTruths:this.props.billboardTruths,billboardData:e,videoModel:this.props.videoModel,recordAction:this.props.recordAction}))}});s.exports=m});C.r("akira/components/billboard/factories/meta/Static.js",function(e,s,a){"use strict";var t=e("prop-types"),l=e("react"),o=e("create-react-class"),i=e("classnames"),r=e("../../common/Title"),n=e("../../common/Synopsis"),c=e("../../common/Supplemental"),p=e("../../common/BillboardCTAs"),d=e("../../common/helpers"),m=i("info meta-layer"),b=i("logo-and-text"),u=o({displayName:"Static",contextTypes:{isRtl:t.bool},render:function(){var e=this.props.billboardData,s=this.props.userLanguage,a=e.assets||{};return l.createElement("div",{className:m},l.createElement("div",{className:b},l.createElement(r,{userLanguage:s,title:e.title,isRtl:!d.isFullBleed(this.context.isRtl,this.props.billboardData),videoId:this.props.billboardData.id,assets:a}),l.createElement(c,{useAvailablePhase:this.props.useAvailablePhase,billboardData:e}),l.createElement(n,{userLanguage:s,synopsis:e.synopsis})),l.createElement(p,{billboardTruths:this.props.billboardTruths,billboardData:e,videoModel:this.props.videoModel,useAvailablePhase:this.props.useAvailablePhase,recordAction:this.props.recordAction}))}});s.exports=u});C.r("akira/components/billboard/factories/meta/TakeOver.js",function(e,t,s){"use strict";var a=e("prop-types"),o=e("react"),r=e("create-react-class"),i=e("classnames"),l=e("../../common/Title"),c=e("../../../title/videoMeta.jsx"),d=e("../../common/BillboardCTAs"),n=i("info meta-layer"),p=i("logo-and-text"),m=r({displayName:"TakeOver",contextTypes:{isRtl:a.bool},render:function(){var e=this.props.billboardData,t=this.props.userLanguage,s=e.assets||{};return o.createElement("div",{className:n},o.createElement("div",{className:p},o.createElement(l,{userLanguage:t,title:e.title,isRtl:this.context.isRtl,videoId:e.id,assets:s}),o.createElement(c,{model:this.props.videoModel})),o.createElement(d,{billboardTruths:this.props.billboardTruths,billboardData:e,videoModel:this.props.videoModel,recordAction:this.props.recordAction}))}});t.exports=m});C.r("akira/components/billboard/factories/meta/Trailer.js",function(e,a,t){"use strict";var i=e("prop-types"),s=e("react"),n=e("create-react-class"),o=e("classnames"),r=e("../../common/Title"),l=e("../../common/Supplemental"),d=e("../../common/Synopsis"),c=e("../../../../../reactMixins/transition"),m=e("../../common/BillboardCTAs"),p=o("logo-and-text meta-layer"),u=o("info meta-layer"),v=o("fade-container"),h=o("trailer-vignette vignette-layer"),b=o("no-supplemental"),g=n({displayName:"Trailer",mixins:[c],contextTypes:{models:i.object.isRequired,isRtl:i.bool},componentWillReceiveProps:function(e){this.props.videoStarted!==e.videoStarted&&e.videoStarted&&this.animateOut(),this.props.videoFinished!==e.videoFinished&&e.videoFinished&&this.animateIn()},animateIn:function(){this.animate({target:v,opacity:1,duration:700,delay:0,easing:"easeIn"}),this.animate({target:h,opacity:0,duration:500,delay:0,easing:"easeIn"})},animateOut:function(){this.animate({target:v,opacity:0,duration:500,delay:0,easing:"easeIn"}),this.animate({target:h,opacity:1,duration:500,delay:0,easing:"easeIn"})},render:function(){var e=this.props,a=e.billboardData,t=e.userLanguage,i=a.assets||{},n=l.hasSupplementalMessage(a)?void 0:b;return s.createElement("div",{className:u},s.createElement("div",{ref:h,className:h}),s.createElement("div",{className:p},s.createElement(r,{userLanguage:t,title:a.title,videoId:a.id,isRtl:this.context.isRtl,assets:i}),s.createElement(m,{billboardTruths:e.billboardTruths,billboardData:a,videoModel:e.videoModel,useAvailablePhase:e.useAvailablePhase,recordAction:e.recordAction}),s.createElement("div",{ref:v,className:v},s.createElement(l,{useAvailablePhase:e.useAvailablePhase,billboardData:a}),s.createElement(d,{userLanguage:t,synopsisClasses:n,synopsis:a.synopsis}))))}});a.exports=g});C.r("akira/components/billboard/factories/meta/index.js",function(e,r,a){"use strict";var s=e("../../BillboardType"),i=e("../../common/helpers"),o=e("./Awards"),t=e("./Countdown"),c=e("./TakeOver"),n=e("./NSREShow"),l=e("./NSREEpisodic"),b=e("./Trailer"),d=e("./Static");r.exports=function(e){var r=e.billboardType;i.isTrailerAsset(e)&&(r=s.trailer);var a=null;switch(r){case s.award:a=o;break;case s.countdown:a=t;break;case s.takeOver:a=c;break;case s.nsreShow:a=n;break;case s.nsreEpisodic:a=l;break;case s.trailer:a=b;break;default:a=d}return a}});C.r("akira/components/billboard/forceAudioToEN.js",function(t,r,e){"use strict";function c(t){for(var r=null,e=0;e<t.length&&!r;++e){var c=t[e];c.bcp47===a&&(r=c)}return r}function i(t){if(t.getTimedTextTrack().bcp47!==n){for(var r=t.getTimedTextTrackList(),e=null,c=null,i=0;i<r.length&&!e;++i){var o=r[i];o.bcp47===n&&(e=o),o.bcp47===a&&(c=o)}e?t.setTimedTextTrack(e):c&&t.setTimedTextTrack(e)}}var a="en",n=void 0;r.exports=function(t){try{if(t.getAudioTrack().bcp47!==a){var r=t.getAudioTrackList(),e=c(r);e&&t.setAudioTrack(e)}i(t)}catch(t){}}});C.r("akira/components/bob/bobCard.jsx",function(e,t,i){"use strict";var a=e("prop-types"),s=e("react"),o=e("create-react-class"),n=e("react-dom"),r=e("lodash"),l=e("classnames"),u=e("../title/videoMeta.jsx"),c=e("../title/maturityRating.jsx"),d=e("../title/myListButton.jsx"),m=e("../title/thumbs.jsx"),h=e("../artwork/heroImages.jsx"),p=e("../controls/playbutton.jsx"),b=e("../controls/progress.jsx"),g=e("../../containers/slider/sliderItem.jsx"),f=e("../controls/mainViewLink.jsx"),y=e("../../utils/linkDefs.jsx"),S=e("./../episode/episodeBadge.jsx"),P=e("../../../reactMixins/cssAnimation.jsx"),k=e("../../akiraContextTypes"),v=e("../../utils/watched"),w=e("../../../reactMixins/jawBoneLink"),x=e("../../../reactMixins/eventBus"),B=e("../../containers/lolomo/lolomoConstants.jsx"),I=e("../../../utils/mouseUtils"),T=e("../../../common/svgIcon.jsx"),E=e("../../../utils/textUtils"),N=e("../../../utils/ab/kidsParityTest"),j=e("../../redux/logging/commandTriggers"),C="discovery/akira/Common",R=o({displayName:"BobCard",mixins:[w,P],contextTypes:Object.assign({getI18nString:a.func.isRequired,models:a.object},k),statics:{getPaths:function(e,t,i){i=i||{};var a=i.isTallPanel?"_848x477":"_665x375";return[["summary"],["title"],["availability"],["synopsis"],["queue"],["episodeCount"],["info"]].concat([["current",["summary","runtime","bookmarkPosition","creditsOffset"]]]).concat(u.getPaths(e)).concat(h.getPaths(e,null,{isShow:i.isShow,height:480,size:a})).concat(v.getPaths()).concat(p.getPaths()).concat(S.getPaths(e,t,i).map(function(e){return["current"].concat(e)}))}},getInitialState:function(){var e=this.context.models,t=r.get(e,"truths.data.showRatingsProductization",!1);return this.scope={isBobOpening:!1},{showRatingsProductization:t,rotateImages:!0}},componentDidMount:function(){this.openBOB()},scope:{},dataSet:{},featureSet:{},componentWillMount:function(){this.dataSet=this.getData(),this.featureSet=this.getFeatureSet(this.dataSet)},componentWillUpdate:function(){this.dataSet=this.getData(),this.featureSet=this.getFeatureSet(this.dataSet)},getPreExpandScale:function(){return this.props.isTallPanel?.8333333333:this.state.showRatingsProductization?.51282051282051:.54945055},openBOB:function(){var e=this,t=1.82;this.props.isTallPanel?t=1.2:this.state.showRatingsProductization&&(t=1.95),this.scope.isBobOpening=!0;var i=100*t,a=(i-100)/-2;this.setParentZIndex(4),this.dataSet.doubleWide&&this.dataSet.doubleWide.isDoubleWide?this.animate({target:"title-art",opacity:0,duration:400,easing:"linear",after:{display:"none"},callback:function(){e.animate({before:{transformOrigin:"center center 0",visibility:"visible",top:"0",height:"130%",margin:"0"},height:"195%",margin:"-13% 0 0 0",easing:"cubic-bezier(0.5, 0, 0.1, 1)",duration:400,callback:function(){e.scope.isBobOpening=!1}})}}):this.animate({before:{transformOrigin:"",scale:this.getPreExpandScale(),visibility:"visible",width:i+"%",height:i+"%",top:a+"%",left:a+"%"},scale:1,easing:"cubic-bezier(0.5, 0, 0.1, 1)",duration:400,callback:function(){e.scope.isBobOpening=!1}}),setTimeout(function(){e.scope.isBobOpening=!1},500),this.animate({target:"title-art",opacity:0,duration:400,easing:"linear",after:{display:"none"}}),"none"!==this.featureSet.jawButtonPosition&&this.animate({target:"jawbone-chevron",before:{translateY:"-10px",opacity:0},translateY:"0px",opacity:1,duration:400,delay:200,after:{reset:!0}}),this.props.onBobOpen(t,400)},getParentSliderItem:function(){if(!this.isMounted())return null;for(var e=n.findDOMNode(this);e&&(e=e.parentNode);)if(e instanceof HTMLElement&&e.classList.contains(g.className))return e;return null},setParentZIndex:function(e){var t=this.getParentSliderItem();t&&this.css({target:t,zIndex:e})},componentWillLeave:function(e){var t=this,i=!1,a=!this.props.isTallPanel;this.dataSet.doubleWide&&this.dataSet.doubleWide.isDoubleWide?this.animate({before:{duration:0,height:"195%",margin:"-13% 0 0 0"},margin:0,height:"130%",duration:400,easing:"cubic-bezier(0.5, 0, 0.1, 1)",callback:function(){i||(i=!0,t.setParentZIndex(null),"function"==typeof e&&e())}}):this.animate({before:{transformOrigin:"50% 50% 0",duration:0},scale:this.getPreExpandScale(),duration:400,easing:"cubic-bezier(0.5, 0, 0.1, 1)",callback:function(){i||(i=!0,t.setParentZIndex(null),"function"==typeof e&&e())}}),a&&this.animate({target:"title-art",before:{display:"block"},opacity:1,duration:400}),this.props.onBobClose(400),this.setParentZIndex(2),setTimeout(function(){i||(i=!0,t.setParentZIndex(null),"function"==typeof e&&e())},420)},onClickPlayHitZone:function(e){if(this.isVideoPlayable()){var t=n.findDOMNode(this.refs.playButton);t instanceof HTMLElement&&t.click(),e.stopPropagation()}},onClickJawHitZone:j.ViewDetailsCommand(function(e){if(!I.modifiedClick(e)){var t=this.props.model,i=(t.getValueSync(["userRating"])||{}).matchScore,a=(t.getValueSync(["userRating"])||{}).tooNewForMatchScore;e&&e.preventDefault(),x.emit("jawbone:open",r.assign({videoId:this.context.videoId,trackId:this.context.trackId,rowNum:this.context.rowNum,rankNum:this.context.rankNum,requestId:this.context.requestId},this.props,{trigger:"bob"},void 0!==i?{matchScore:i}:{},void 0!==a?{tooNewForMatchScore:a}:{})),this.props.onJawOpen&&this.props.onJawOpen(),this.openJawBoneAtRankNum(this.context.rankNum,this.props.videoId)}}),onClickTitleLink:function(e){return e.stopPropagation(),!0},onMylistChange:function(e){e&&this.props.onBobClose(0,null,e)},getFeatureSet:function(e){var t={meta:!0,rating:!1,synopsis:!0,queue:!!e.queue,watchedTitle:!1,progress:!1,autoRotateImages:!0,progressSummary:!1,episodeButton:!1,progressPosition:"info",playPosition:"top",jawButtonPosition:"bottom",jawHitZone:"half",state:"play",thumbs:!1,year:!0,duration:!0},i=this.props.isTallPanel,a=v.isInResumeState(this.props.model);return a?(t.state="resume",t.watchedTitle=!0,t.progress=!0,t.progressSummary=!0):v.isInNextUpState(this.props.model)&&(t.state="nextup",t.watchedTitle=!0),"play"!==t.state&&(t.synopsis=!1,t.meta=!1),this.context.listContext===B.LIST_CONTEXTS.CONTINUE_WATCHING&&(t.synopsis=!1,t.progress=!1,t.progressSummary=!1),t.synopsis||"top"!==t.playPosition||(t.playPosition="lowerTop"),this.state.showRatingsProductization&&(t.thumbs=!0),e.summary.isOriginal&&!this.isVideoPlayable()&&(t.meta=!1),i&&(t.jawButtonPosition="bottom",t.playPosition="lowerTop",t.thumbs=!1,t.rating=!1),N.kidsProfileWithoutParity(this.context.models)&&(t.thumbs=!1,t.queue=!1,t.synopsis=!1,t.watchedTitle=!1,t.rating=!0,t.meta=!1,t.autoRotateImages=!1,t.jawHitZone="only-button",t.episodeButton=!e.isStandalone,t.progressPosition="bottom",t.jawButtonPosition="none",t.episodeButton||i?t.playPosition="lowerTop":t.playPosition="middle",i&&(t.meta=!0,t.synopsis=!0,t.year=!1,t.duration=!1,t.rating=!1,t.watchedTitle=a,"play"!==t.state&&(t.synopsis=!1,t.meta=!1))),t},getData:function(){var e=this.props,t=e.model,i=e.isDoubleWide;return{title:t.getValueSync(["title"]),episodeTitle:t.getValueSync(["current","title"]),summary:t.getValueSync(["summary"]),heroImages:t.getValueSync(["heroImages"]),queue:t.getValueSync(["queue"]),bookmarkPosition:t.getValueSync(["bookmarkPosition"]),episodeRuntime:t.getValueSync(["current","runtime"]),episodeBookmark:t.getValueSync(["current","bookmarkPosition"]),isStandalone:(t.getValueSync(["episodeCount"])||0)<=0,info:t.getValueSync(["info"]),synopsis:E.ellipsize(t.getValueSync(["synopsis"]),160),doubleWide:i&&t.getValueSync(["doubleWide"])}},isVideoPlayable:function(){var e=this.props.model.getValueSync(["availability"]),t=e&&e.isPlayable;return!e||t},getResumeBobTitle:function(){var e=v.getResumeParams(this.props.model);return e.SEASON_ABBR&&e.EPISODE_NUMBER?this.context.getI18nString(C,"watched.title.bob",e):e.TITLE?this.context.getI18nString(C,"episode.title.quoted",e):""},renderHeroImages:function(){var e=this.props.titleArt;this.dataSet.doubleWide&&this.dataSet.doubleWide.isDoubleWide&&(e=null);var t="_665x375",i=void 0;return this.props.isTallPanel&&(t="_848x477",i={containerWidth:342,imageWidth:1216}),s.createElement(h,{model:this.props.model,className:"bob-background",auto:this.featureSet.autoRotateImages,firstDelay:2e3,duration:2e3,isStandalone:this.dataSet.isStandalone,preloadImage:e,bookmarkPosition:this.dataSet.bookmarkPosition,height:480,size:t,watched:v.hasBeenWatched(this.props.model),stop:!this.state.rotateImages,focalPointData:i})},renderBobInfo:function(){return s.createElement("div",{className:"bob-info",ref:"bobInfo"},s.createElement("div",{className:"bob-info-main"},this.renderBobText(),this.renderBobLastContent()),this.renderBobBottomContent())},renderBobText:function(){var e=this.props,t=e.model,i=e.isTallPanel,a=this.featureSet.watchedTitle&&!this.dataSet.isStandalone?this.getResumeBobTitle():"",o=void 0,n=void 0;if(this.dataSet.summary.isNSRE){var r=v.getResumeParams(this.props.model);o=s.createElement("div",{className:"watched-title"},v.isInNextUpState(this.props.model)?s.createElement(S,{model:t}):null,r.TITLE&&this.context.getI18nString(C,"episode.title.quoted",r))}else o=s.createElement("div",{className:"watched-title",dangerouslySetInnerHTML:{__html:a}});return this.featureSet.meta&&(n=s.createElement(u,{model:t,suppressRatings:i,suppressYear:!this.featureSet.year,suppressDuration:!this.featureSet.duration})),s.createElement("div",{className:"bob-text"},s.createElement("div",{className:l({"bob-title":!0})},this.dataSet.title),this.featureSet.watchedTitle?o:null,n,this.featureSet.synopsis?s.createElement("div",{className:"synopsis"},this.dataSet.synopsis):null,this.featureSet.progress&&"info"===this.featureSet.progressPosition?s.createElement(b,{runtime:this.dataSet.episodeRuntime,bookmarkPosition:this.dataSet.episodeBookmark,current:!0,showSummary:this.featureSet.progressSummary}):null)},renderBobLastContent:function(){var e=this.props,t=e.model,i=e.isTallPanel,a=this.dataSet.queue&&this.dataSet.queue.inQueue,o=[];if(this.featureSet.thumbs||this.featureSet.queue){var n=[];this.featureSet.thumbs&&n.push(s.createElement(m,{key:"bobcard-thumb",model:t,videoId:this.dataSet.summary.id,vertical:!0})),this.featureSet.queue&&n.push(s.createElement("div",{className:"mylist-container",key:"bobcard-mylist"},s.createElement(d,{model:t,videoId:this.dataSet.summary.id,onStateChange:this.onMylistChange,inQueue:a,showToolTip:!0,svgButton:!i}))),o.push(s.createElement("div",{className:"bob-button-wrapper",key:"buttons"},n))}else this.featureSet.rating&&o.push(s.createElement(c,{model:t}));return 0===o.length?null:s.createElement("div",{className:"bob-last-content"},o)},renderBobBottomContent:function(){var e=[];return"bottom"===this.featureSet.jawButtonPosition&&e.push(s.createElement("div",{key:"chevron",className:"bob-jawbone-bottom-chevron",ref:"jawbone-chevron"},s.createElement(T,{name:"chevron-down"}))),this.featureSet.progress&&"bottom"===this.featureSet.progressPosition&&e.push(s.createElement(b,{key:"progress",runtime:this.dataSet.episodeRuntime,bookmarkPosition:this.dataSet.episodeBookmark,current:!0,showSummary:!1})),this.featureSet.episodeButton&&e.push(this.renderTitleLink(this.context.getI18nString(C,"label.episodes"))),s.createElement("div",{className:"bob-info-bottom"},e)},renderPlayButton:function(){return this.isVideoPlayable()?s.createElement(p,{ref:"playButton",model:this.props.model,className:"bob-play bob-play-"+this.featureSet.playPosition,tabIndex:0,key:"playbutton",playbackQueryParams:this.props.playbackQueryParams}):null},renderJawboneLink:function(){return"none"===this.featureSet.jawButtonPosition?null:s.createElement(f,{resolver:y.getTitleRoute,key:"jawbone-link",params:{id:this.dataSet.summary.id},className:"bob-jaw-hitzone bob-jaw-hitzone-"+this.featureSet.jawHitZone,onClick:this.onClickJawHitZone})},renderTitleLink:function(e,t){return s.createElement(f,{resolver:y.getTitleRoute,key:"title-link",className:"bob-episodes",onClick:this.onClickTitleLink,params:{id:this.dataSet.summary.id}},e)},render:function(){var e=this.renderPlayButton(),t={"bob-card":!0,"bob-card-tall-panel":this.props.isTallPanel,"has-thumbs":this.featureSet.thumbs,"double-wide":this.dataSet.doubleWide&&this.dataSet.doubleWide.isDoubleWide};return s.createElement("div",{className:l(t),key:"bob-"+this.dataSet.summary.id},this.renderHeroImages(),s.createElement("div",{className:"bob-outline"}),s.createElement("div",{className:"bob-overlay",ref:"overlay"},s.createElement("div",{className:l({"bob-play-hitzone":!0}),onClick:this.onClickPlayHitZone},e),"half"===this.featureSet.jawHitZone?this.renderJawboneLink():null,this.renderBobInfo()),s.createElement("img",{src:this.props.titleArt,ref:"title-art",className:"bob-title-art"}))}});t.exports=R});C.r("akira/components/character/character.jsx",function(e,a,r){"use strict";var t=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},n=e("react"),s=e("create-react-class"),c=e("prop-types"),i=e("../controls/mainViewLink.jsx"),o=e("../../../components/presentationTracking/trackingComponents/kidsCharacterPresTracking"),m=e("classnames"),p=e("../../../utils/Routes"),l=e("./characterImage.jsx"),h=function(e,a,r){var t=["summary"],n=l.getPaths(e,a,r);return t.concat(n)},d=s({displayName:"Character",childContextTypes:{rankNum:c.number},getChildContext:function(){return{rankNum:this.props.rankNum}},statics:{getPaths:h},render:function(){var e=this.props,a=e.id,r=e.key,s=e.imageType,c=e.model,h=e.sliderIndex,d="character-index-"+h%5,u=c.getValueSync("summary"),k=u&&u.name,g={sliderRefocus:!0,"character-link":!0},y={characterWrapper:!0},b={"aria-hidden":!this.props.itemTabbable,"aria-label":k,tabIndex:this.props.itemTabbable?0:-1};return y[d]=!0,n.createElement(i,t({to:p.kidsCharacter,params:{id:this.props.id},className:m(g)},b),n.createElement("div",{id:a,key:r,className:m(y)},n.createElement(o,{characterId:a},n.createElement(l,{model:c,imageType:s}))))}});a.exports=d});C.r("akira/components/character/characterImage.jsx",function(e,a,r){"use strict";var t=e("prop-types"),s=e("react"),c=e("create-react-class"),o=e("../../../common/imageExtension"),n={full:"character_square",headshot:"SQUAREHEADSHOT_1000x1000"},i=function(e,a,r){var t=o.getExtensionForTransparentImage(e),s=r&&r.size||"_400x400",c=r&&r.imageType||"headshot";return[["artwork",n[c],t,s]]},m=c({displayName:"CharacterImage",getDefaultProps:function(){return{imageType:"headshot",imageSize:"_400x400"}},contextTypes:{models:t.object.isRequired},statics:{getPaths:i},render:function(){var e=this.props,a=e.model,r=e.imageSize,t=e.imageType,c=o.getExtensionForTransparentImage(this.context.models),i=n[t],m=a&&a.getValueSync(["artwork",i,c,r]),g=m&&m.url,u=void 0,d=void 0,l=void 0;return g?u={backgroundImage:"url("+g+")"}:(d=a&&a.getValueSync(["summary"]),l=d&&d.images&&d.images.character_cdp300&&d.images.character_cdp300.url,u={backgroundImage:"url("+l+")"}),s.createElement("div",{className:"characterImage",style:u})}});a.exports=m});C.r("akira/components/controls/breadCrumbs.jsx",function(e,r,t){"use strict";var s=(e("prop-types"),e("react")),a=e("create-react-class"),n=e("../controls/mainViewLink.jsx"),i=e("../../../reactMixins/falkor-auto-fetch"),l=e("../../akiraContextTypes"),m=e("../../utils/linkDefs.jsx"),o=a({displayName:"BreadCrumbs",contextTypes:l,mixins:[i],statics:{getPaths:function(e,r,t){var s=[],a=void 0;if(t.breadCrumbs)for(a=0;a<t.breadCrumbs.length;a++){var n=parseInt(t.breadCrumbs[a],10);n>0&&s.push(["genres",n,"name"])}return[["genres",t.id,"name"]].concat(s)}},getBreadCrumbs:function(){var e=[],r=void 0;if(this.props.breadCrumbs)for(r=0;r<this.props.breadCrumbs.length;r++){var t=parseInt(this.props.breadCrumbs[r],10),a=t>0&&this.props.model.bind(["genres",t]),i=a&&a.getValueSync(["name"]);i&&e.push(s.createElement("li",{key:"breadCrumb"+r},s.createElement(n,{resolver:m.getGenreRoute,params:{id:t}},i)))}return e},render:function(){var e=this.props.model.bind(["genres",this.props.id]),r=e.getValueSync(["name"]);if(!r)return null;var t=this.getBreadCrumbs();return s.createElement("div",{className:"title"},t.length?s.createElement("div",{className:"breadCrumbs"},s.createElement("ul",null,t)):null,!this.props.hideTitle&&s.createElement("span",{className:"genreTitle"},r))}});r.exports=o});C.r("akira/components/controls/exitComponent.jsx",function(e,t,n){"use strict";var i=e("react"),r=e("create-react-class"),o=e("prop-types"),s=r({displayName:"ExitComponent",contextTypes:{getI18nString:o.func.isRequired},render:function(){return i.createElement("div",{className:"exit-kids",onClick:this.onExitComponentClicked},this.context.getI18nString("discovery/akira/Chrome","header.exitkids"))}});t.exports=s});C.r("akira/components/controls/flatButton.jsx",function(t,e,n){"use strict";var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},l=(t("prop-types"),t("react")),r=t("create-react-class"),o=t("lodash"),s=t("classnames"),i=t("../../../utils/keyboardEventsWrapper"),c={BORDERLESS:"borderless",FOCUSABLE_STATIC:"focusableStatic"},u=r({displayName:"FlatButton",statics:{styleTypes:c},getDefaultProps:function(){return{tabIndex:0}},resolveAriaAttributes:function(t){var e=this.props,n=e.tabIndex,a=e.ariaLabel,l=e.label,r=-1!==n?"link":null,s=t?l:null;return{"aria-label":a,"aria-labelledby":!a&&s?s.props.id||o.uniqueId("flatButtonLabel"):null,role:r}},renderIcon:function(){if(!this.props.icon)return null;var t=this.props,e=t.icon,n=t.isTooltip,a=s("nf-flat-button-icon","nf-flat-button-icon-"+e,{"empty-label":n});return l.createElement("span",{className:a,key:"icon"})},render:function(){var t=this.props,e=t.useSpan,n=t.tabIndex,r=t.isPrimaryBtn,o=t.onClick,u=t.label,p=t.styleType,b=t.isTooltip,f=t.icon,y=t.hrefLink,d=e?"span":"a",m=e?null:y||null,E=s("nf-icon-button","nf-flat-button",{"nf-flat-button-type-borderless":p===c.BORDERLESS,"nf-flat-button-type-focusable-static":p===c.FOCUSABLE_STATIC,"nf-flat-button-primary":r,"no-icon":!f}),h=s("nf-flat-button-text",{"nf-icon-button-tooltip":b}),S=l.isValidElement(u),v=this.resolveAriaAttributes(S),I=S?l.cloneElement(u,{id:v["aria-labelledby"]}):u;return l.createElement(d,a({tabIndex:n,className:E},v,{onClick:o,onKeyDown:i.executeOnEnterOrSpace(o),href:m}),this.renderIcon(),l.createElement("span",{className:h,key:"label"},I))}});e.exports=u});C.r("akira/components/controls/iconButton.jsx",function(e,t,s){"use strict";var o=(e("prop-types"),e("react")),n=e("create-react-class"),r=e("react-dom"),i=e("classnames"),a=e("../../../utils/keyboardEventsWrapper"),p=n({displayName:"IconButton",getDefaultProps:function(){return{blurOnMouseLeave:!0}},getInitialState:function(){return{isHovered:!1}},onMouseEnter:function(){this.setState({isHovered:!0})},onMouseLeave:function(){this.setState({isHovered:!1}),this.refs.nfIconButton&&this.props.blurOnMouseLeave&&r.findDOMNode(this.refs.nfIconButton).blur()},render:function(){var e=i("nf-icon-button",this.props.extraClass,{hovered:this.state.isHovered}),t=i("nf-icon-button-icon","icon-button-"+this.props.icon+(this.state.isHovered?"-reverse":""),this.props.extraIconClass),s=i({"nf-icon-button-tooltip":this.props.tooltip,"nf-icon-button-label":!this.props.tooltip}),n=this.props.tabIndex||0,r=this.props.label?null:this.props.ariaLabel,p=[];return this.props.icon&&p.push(o.createElement("span",{key:"icon",role:"presentation",className:t})),this.props.label&&p.push(o.createElement("span",{key:"label",className:s,role:"status","aria-live":"assertive"},this.props.label)),p.push(this.props.children),o.createElement("a",{ref:"nfIconButton",role:"link",tabIndex:n,className:e,"aria-label":r,onClick:this.props.onClick,onKeyDown:a.executeOnEnterOrSpace(this.props.onClick),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onMouseEnter,onBlur:this.onMouseLeave},p)}});t.exports=p});C.r("akira/components/controls/languageDropdown.jsx",function(e,t,a){"use strict";var n=e("prop-types"),s=e("react"),r=e("create-react-class"),u=e("lodash"),i=e("classnames"),o=e("./nfDropdown.jsx"),g=e("./mainViewLink.jsx"),l=e("../../utils/setDataAsProps.jsx"),p=e("../../../utils/Routes"),c={wrapper:i("languageDropDown"),submenu:i("sub-menu-link")},d=l(r({displayName:"LanguageDropDown",contextTypes:{getI18nString:n.func.isRequired},statics:{getPaths:function(e,t,a){var n=a.isAudio?"spokenAudioLanguages":"subtitleLanguages";return{myPaths:{languages:[n,{to:25},["id","name"]],defaultLanguageId:[n,"default"]},childrenPaths:[]}}},getDefaultProps:function(){return{lanugages:[]}},getSelectedLanguage:function(e){var t=this.props.id||this.props.defaultLanguageId;return u.find(e,function(e){return e.id===t})},getLabel:function(e){var t=this.getSelectedLanguage(e);return t?t.name:this.context.getI18nString("discovery/akira/Chrome","language.label.default")},getOptions:function(e){var t=this,a=this.props.isAudio?p.audio:p.subtitles;return e.filter(function(e){var t=e.id,a=e.name;return t&&a}).map(function(e){var n=e.id,r=e.name;return s.createElement(g,{to:a,params:n===t.props.defaultLanguageId?{}:{id:n},className:c.submenu},r)})},render:function(){var e=this.props.languages;return s.createElement("div",{className:c.wrapper},s.createElement(o,{options:this.getOptions(e),cols:1,defaultValue:this.getLabel(e)}))}}));t.exports=d});C.r("akira/components/controls/mainViewLink.jsx",function(t,e,r){"use strict";var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},i=t("prop-types"),o=t("react"),n=t("create-react-class"),a=t("lodash"),p=t("shakti-platform/dist/ui/routing/Link"),l=n({displayName:"MainViewLink",contextTypes:{isKidsPage:i.bool,models:i.object.isRequired,routeHandler:i.object.isRequired},preventClick:!1,handleClick:function(t){var e=this;if(this.preventClick)return t.preventDefault(),void t.stopPropagation();this.preventClick=!0,setTimeout(function(){e.preventClick=!1},1e3),"function"==typeof this.props.onClick&&this.props.onClick(t,this.props)},render:function(){var t=this.props.resolver?this.props.resolver(this.context.models,this.context.isKidsPage):this.props.to,e=this.props.params||{},r=this.props.query;if(t){var i=null;try{return i=t.makePath(e,r),o.createElement(p,s({},a.omit(this.props,["resolver","to","params","query","startTime","episode","responsiveButton","replaceHistory","model","notPrimaryButton","flatButton","videoId","episodeId","ariaLabel"]),{href:i,onClick:this.handleClick}),this.props.children)}catch(t){var n=this.context.routeHandler&&this.context.routeHandler.path;throw t.message+=" with class "+(this.props.className||"")+". Current URL: "+n,t}}return this.props.href?o.createElement("a",a.omit(this.props,["resolver","to","params","query","onAfterNavigation"]),this.props.children):o.createElement("span",a.omit(this.props,["resolver","to","params","query","onAfterNavigation"]),this.props.children)}});e.exports=l});C.r("akira/components/controls/maturitySelector.jsx",function(e,t,r){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s=(e("prop-types"),e("react")),c=e("create-react-class"),n=c({displayName:"MaturitySelector",handleUpdate:function(){this.props.onChange(this.props.value,!this.props.checked)},render:function(){return this.props.label?s.createElement("li",{className:"ms"},s.createElement("input",a({},this.props,{type:"checkbox",id:"checkbox-"+this.props.reactKey})),s.createElement("label",{htmlFor:"checkbox-"+this.props.reactKey,onClick:this.handleUpdate}),s.createElement("span",{onClick:this.handleUpdate},this.props.label)):null}});t.exports=n});C.r("akira/components/controls/maturitySelectors.jsx",function(t,e,a){"use strict";var r=(t("prop-types"),t("react")),i=t("create-react-class"),n=t("./maturitySelector.jsx"),s=i({displayName:"MaturitySelectors",statics:{getPaths:function(t,e,a){return[["maturityRatings","summary"],["maturityRatings",{to:20},"summary"]]}},getInitialState:function(){return{ratings:[]}},filterByMaturity:function(t){var e=this.state.ratings,a=t.getValueSync(["maturity"]);return!a||!a.rating||!1!==e[a.rating.value]},handleMaturityChange:function(t,e){this.state.ratings[t]=e,this.props.onFilterChange(this.filterByMaturity)},render:function(){var t=this.props.model,e=t.bind(["maturityRatings"]),a=[],i=e.getValueSync(["summary"]);if(!i)return r.createElement("b",null);for(var s=0;s<Math.min(20,i.length);s++){var u=e.bind([s]),l=u.getValueSync(["summary"]);if(l){var c=l.value,m=l.value,y=void 0===this.state.ratings[c]||this.state.ratings[c];a.push(r.createElement(n,{key:"ms"+s,reactKey:"ms"+s,value:c,label:m,checked:y,onChange:this.handleMaturityChange}))}}return r.createElement("ul",{className:"maturitySelectors"},a)}});e.exports=s});C.r("akira/components/controls/menuCaret.jsx",function(e,r,a){"use strict";var t=e("react"),n=e("create-react-class"),s=e("../../../reactMixins/transition"),i=n({displayName:"HeaderMenuCaret",mixins:[s],transitions:{fadeInHover:150,fadeOut:0},render:function(){return t.createElement("div",{className:"callout-arrow"})}});r.exports=i});C.r("akira/components/controls/nfDropdown.jsx",function(e,t,s){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},n=(e("prop-types"),e("react")),i=e("create-react-class"),r=e("react-dom"),a=e("classnames"),p=e("lodash"),l=e("./subMenu.jsx"),c=e("../../../utils/keyboardEventsWrapper"),h=i({displayName:"nfDropDown",getDefaultProps:function(){return{widthRestricted:!0,theme:"theme-lakira"}},getInitialState:function(){return{open:!1}},shouldComponentUpdate:function(e,t){var s=e.options&&e.options.length,o=this.props.options&&this.props.options.length;return e.isLoading!==this.props.isLoading||s!==o||t.open!==this.state.open},componentDidUpdate:function(){if(this.props.refocus){var e=r.findDOMNode(this.refs.dropdownlabel);e&&e.focus()}},close:function(e){document.removeEventListener("click",this.close),this.setState({open:!1})},handleClick:function(){this.setState({open:!0}),document.addEventListener("click",this.close)},handleSubMenuClick:function(){this.close()},render:function(){var e=this.props.theme,t=void 0,s=1,i={nfDropDown:!0,widthRestricted:this.props.widthRestricted,open:this.state.open},r=a({label:!0,loading:this.props.isLoading}),h=n.createElement("span",{className:"arrow"});return i[e]=!0,this.props.isLoading&&(t=""),this.props.label&&(t=this.props.label),this.props.defaultValue&&(t=this.props.defaultValue),this.props.cols&&(s=this.props.cols),n.createElement("div",o({},p.omit(this.props,["options","theme","widthRestricted"]),{className:a(i)}),n.createElement("div",{className:r,onClick:this.handleClick,onKeyDown:c.executeOnEnterOrSpace(this.handleClick),ref:"dropdownlabel",role:"button",tabIndex:0,"aria-haspopup":!0},t,h),this.state.open&&n.createElement(l,{items:this.props.options,cols:s,theme:e,onClick:this.handleSubMenuClick,showTopBar:!1}))}});t.exports=h});C.r("akira/components/controls/playLink.jsx",function(t,e,r){"use strict";var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},o=t("../../akiraContextTypes"),i=t("../../../reactMixins/cssAnimation.jsx"),n=t("../../../reactMixins/eventBus"),s=t("../../../utils/titles/interactive"),c=t("./mainViewLink.jsx"),p=t("../../utils/linkDefs.jsx"),l=t("../../../mdx2/hoc/mdxLoader.jsx"),d=t("../../../common/playPrediction/playPredictionUtils"),u=t("../../../utils/player/playerFeatureDetection"),h=t("../../../common/position"),m=t("prop-types"),y=t("react"),g=t("create-react-class"),k=t("../../../utils/Routes"),I=t("../../../utils/RouteHelpers"),x=t("lodash"),P=t("../../../player/nfplayer/utils/playerSession"),v=t("../../redux/logging/commandTriggers"),f=g({displayName:"PlayLink",contextTypes:Object.assign({audioDescription:m.bool,getI18nString:m.func.isRequired,getModelData:m.func.isRequired,history:m.object.isRequired,jsongDocument:m.object,models:m.object,playerApp:m.object,rankNum:m.number.isRequired,requestId:m.string.isRequired,rowNum:m.number.isRequired},o),mixins:[i],getDefaultProps:function(){return{playbackQueryParams:{}}},getPlayerPath:function(t,e){var r=Object.assign({},this.props.playbackQueryParams,e.query);return t.makePath(e.params,r)},handleClick:function(t,e){var r=this;this.props.onBeforePlayCommand&&this.props.onBeforePlayCommand(),v.PlayCommand(function(){var a=r.context,o=a.models,i=a.playerApp,n=a.isKidsPage,c=a.jsongDocument,d=a.trackId,h=a.videoId,m=a.requestId,y=a.history,g=r.props,I=g.disableClick,v=g.interactive,f=g.replaceHistory;r.props.onClick&&r.props.onClick(t);var b=p.getWatchRoute(o,n);if(i){var w=i.getActionCreators();w.setStartTime({time:Date.now(),sessionId:P.Identifiers.Watch}),w.logPlayRequestStart({triggerEl:t.target,trackId:d,videoId:r.props.videoId||h,rowNum:r.props.rowNum||r.context.rowNum,rankNum:r.props.rankNum||r.context.rankNum,requestId:m,sessionId:P.Identifiers.Watch})}var N=s.isInteractive(c,r.props.videoId),D=l&&l.getManagerInstance&&l.getManagerInstance();I?(t.preventDefault(),t.stopPropagation()):D&&x.get(D,"state.currentTarget")?(D.state.currentTarget.cast(e.episodeId||e.videoId,d),t.preventDefault(),t.stopPropagation()):N&&v?(window.location=r.makeInteractivePlayerUrl(),t.preventDefault(),t.stopPropagation()):N?(window.location=r.makeAkiraPlayerUrl(),t.preventDefault(),t.stopPropagation()):!u.canPlayHTML5withDRM()||u.shouldUpgradePlayerType()?(window.location=r.makeAkiraPlayerUrl(),t.preventDefault(),t.stopPropagation()):b!==k.title?r.transitionToPlayer(e,b)||(t.preventDefault(),t.stopPropagation()):f&&b===k.title&&(y.replaceState(r.getPlayerPath(b,e)),t.preventDefault(),t.stopPropagation())})()},handlerHover:function(){d.isPlayPredictionEnabled(this.context.getModelData("truths"))&&n.emit("play:focus",x.assign({trackId:this.context.trackId},this.props))},makeAkiraPlayerUrl:function(){return I.makeAkiraPlayerURLWithUIPlayContext(this.props.episodeId||this.props.videoId,{trkid:this.context.trackId},{rowNum:this.context.rowNum,rankNum:this.context.rankNum,requestId:this.context.requestId})},makeInteractivePlayerUrl:function(){return I.makeInteractivePlayerURLWithUIPlayContext(this.props.episodeId||this.props.videoId,{trkid:this.context.trackId},{rowNum:this.context.rowNum,rankNum:this.context.rankNum,requestId:this.context.requestId})},transitionToPlayer:function(t,e){function r(){s||(s=!0,document.body&&(document.body.style.overflowX=""),i.props.replaceHistory?i.context.history.replaceState(i.getPlayerPath(e,t)):i.context.history.pushState(i.getPlayerPath(e,t)))}var a=document.getElementsByClassName("bd"),o=a.length&&a[0],i=this,n=this.context.getModelData("truths").playbackTransitionAnimationEnabled,s=!1;if(!o)return!0;if(!n)return r(),!1;var c=h.getScrollTop()+Math.floor(h.getWindowRect().height/2);return document.body&&(document.body.style.overflowX="hidden"),setTimeout(r,850),this.animate({target:o,before:{origin:"50% "+c+"px"},scale:1.04,opacity:0,duration:750,easing:"easeIn",after:{reset:!0,opacity:0},callback:r}),!1},render:function(){var t=x.get(this.context.models,"browserInfo.data");if(t.isIOS||t.isAndroid)return y.createElement("a",a({},this.props,{tabIndex:this.props.tabIndex,href:this.makeAkiraPlayerUrl()}),this.props.children);var e=this.props.startTime,r=Object.assign({},this.props.playbackQueryParams,{trackId:this.context.trackId,tctx:I.buildUIPlayContext({rowNum:this.context.rowNum,rankNum:this.context.rankNum,requestId:this.context.requestId})});return this.context.audioDescription&&(r.ad="true"),void 0!==e&&(r.t=e),y.createElement(c,a({},x.omit(this.props,["playbackQueryParams"]),{to:this.props.interactive?k.interact:p.watchNow(this.context.models,this.context.isKidsPage),params:{id:this.props.episodeId||this.props.videoId},query:r,onClick:this.handleClick,onMouseEnter:this.handlerHover,tabIndex:this.props.tabIndex,role:"link","aria-label":this.props.ariaLabel||this.context.getI18nString("discovery/akira/Common","play.button.annotation.play")}),this.props.children)}});e.exports=f});C.r("akira/components/controls/playbutton.jsx",function(t,e,a){"use strict";var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},n=t("prop-types"),o=t("react"),i=t("create-react-class"),l=t("./playLink.jsx"),r=t("../controls/flatButton.jsx"),p=t("../../utils/watched"),c=t("lodash"),u=t("../../../common/svgIcon.jsx"),m=i({displayName:"PlayButton",contextTypes:{getI18nBundle:n.func.isRequired},statics:{getPaths:function(t,e,a){return[["summary"],["availability"],["current","summary"]]},EPISODIC_TYPES:{show:!0,season:!0,series:!0}},getEpisodeId:function(){var t=this.props.episode||null,e=void 0,a=void 0,s=null;return t||(e=this.props.model.getValueSync(["summary"]))&&m.EPISODIC_TYPES[e.type]&&(t=this.props.model.bind(["current"])),t&&(a=t.getValueSync(["summary"]),s=(a||null)&&a.id),s},render:function(){var t=this.props.model,e=t.getValueSync("summary"),a=t.getValueSync("availability"),n=this.props.isPlayable,i=e&&e.id,m=c.assign({},this.props,{className:(this.props.className||"")+" playLink"}),y=this.context.getI18nBundle("discovery/akira/Common"),d=this.props.children,h=null,b=d,v=this.props.ariaLabel,g=void 0;return a&&!a.isPlayable&&!n||!i?null:(b||(b=p.isInNextUpState(this.props.model)?y.get("play.button.annotation.next.up"):p.isInResumeState(this.props.model)?y.get("play.button.annotation.resume"):y.get("play.button.annotation.play")),this.props.flatButton?g=o.createElement(r,{label:b,useSpan:!0,isPrimaryBtn:!this.props.notPrimaryButton,icon:"play",onClick:this.props.onClick,tabIndex:-1}):this.props.responsiveButton?g=o.createElement("span",{className:"play-button"},o.createElement("div",{className:"play-button-ring"},o.createElement(u,{name:"play"}))):(d||v||(v=b),g=o.createElement("div",{className:"playRing",onClick:this.props.onClick},o.createElement("div",{className:"play icon-play"})),h=d?o.createElement("div",{className:"annotation"},d):null),o.createElement(l,s({},m,{videoId:i,episodeId:this.getEpisodeId(),ariaLabel:v,playbackQueryParams:this.props.playbackQueryParams}),g,h))}});e.exports=m});C.r("akira/components/controls/progress.jsx",function(e,r,s){"use strict";var t=e("prop-types"),a=e("react"),n=e("create-react-class"),o=n({displayName:"Progress",contextTypes:{getI18nString:t.func.isRequired},render:function(){var e=parseInt(this.props.bookmarkPosition/60,10),r=parseInt(this.props.runtime/60,10);if(!this.props.runtime)return null;var s={width:parseInt(100*this.props.bookmarkPosition/this.props.runtime,10)+"%"};return a.createElement("div",{className:"progress"},a.createElement("span",{className:"progress-bar"},a.createElement("span",{role:"presentation",className:"progress-completed",style:s})),this.props.showSummary?a.createElement("span",{className:"summary"},this.context.getI18nString("discovery/akira/Common","progress.summary",{BOOKMARK:e,RUNTIME:r})):null)}});r.exports=o});C.r("akira/components/controls/subGenres.jsx",function(e,s,r){"use strict";var t=e("prop-types"),n=e("react"),i=e("create-react-class"),o=e("./nfDropdown.jsx"),a=e("./mainViewLink.jsx"),u=e("../../utils/linkDefs.jsx"),c=e("../../utils/setDataAsProps.jsx"),p=c(i({displayName:"SubGenres",contextTypes:{getI18nString:t.func.isRequired},statics:{getPaths:function(e,s,r){return{myPaths:{subgenres:["subgenres",{to:20},["id","name"]]},childrenPaths:[]}}},getDefaultProps:function(){return{breadCrumbs:[],cols:3}},renderOptions:function(){var e={bc:this.props.breadCrumbs.concat(this.props.id).join(",")};return this.props.subgenres.filter(function(e){return e.id}).map(function(s){return n.createElement(a,{resolver:u.getGenreRoute,params:{id:s.id},query:e,className:"sub-menu-link"},s.name)})},render:function(){return this.props.subgenres&&this.props.subgenres.length?n.createElement("div",{className:"subgenres"},n.createElement(o,{label:this.context.getI18nString("discovery/akira/Chrome","subgenres"),cols:this.props.cols,widthRestricted:!1,options:this.renderOptions()})):null}}));s.exports=p});C.r("akira/components/controls/subMenu.jsx",function(t,e,s){"use strict";var n=(t("prop-types"),t("react")),o=t("create-react-class"),i=t("react-dom"),r=t("classnames"),a=t("../../../reactMixins/transition"),l=t("../../../common/position"),u=o({displayName:"SubMenu",NUM_COLS:4,mixins:[a],transitions:{fadeInHover:150,fadeOut:0},statics:{DIRECTION_TOP:"top",DIRECTION_BOTTOM:"bottom",DIRECTION_CHANGE_THRESHOLD:80},getDefaultProps:function(){return{showTopBar:!0,theme:"theme-lakira"}},getInitialState:function(){return{menuDirection:"bottom"}},componentDidMount:function(){this.defineDirection()},defineDirection:function(){var t=i.findDOMNode(this),e=l.getRect(t),s=l.getWindowRect(),n=e.bottom>s.bottom,o=e.top-e.height-80>s.top,r=n&&o?"top":"bottom";this.state.direction!==r&&(this.props.onDirectionChange&&this.props.onDirectionChange(r),this.setState({menuDirection:r}))},numColumns:function(){return this.props.cols||this.NUM_COLS},renderColumn:function(t,e,s){for(var o=Math.ceil(e/this.numColumns()),i=t*o,a=(t+1)*o,l=[],u=i;u<a;u++){var p=s[u];p&&l.push(n.createElement("li",{className:r("sub-menu-item"),key:"sub-menu-item-"+u},p))}var m="sub-menu-list"+(this.props.cols>1||e>o?" multi-column":"");return n.createElement("ul",{className:m,key:t},l)},renderSpecialColumn:function(t){var e=t.map(function(t,e){return n.createElement("li",{className:"sub-menu-item-special",key:"specialItem"+e},t)});return e.length>0?n.createElement("ul",{className:"sub-menu-list-special multi-column",key:"specialItems"},e):null},handleClick:function(t){this.props.onClick&&"A"===t.target.tagName?this.props.onClick(t):t.nativeEvent.stopImmediatePropagation()},render:function(){var t=this.props.theme,e=this.numColumns(),s=[];if(!this.props.items)return null;this.props.specialItems&&s.push(this.renderSpecialColumn(this.props.specialItems));var o=this.props.items.length;if(o>0)for(var i=0;i<e;i++)s.push(this.renderColumn(i,o,this.props.items));var a={"sub-menu":!0,"sub-menu-top":"top"===this.state.menuDirection};return a[t]=!0,this.props.styleClass&&(a[this.props.styleClass]=!0),n.createElement("div",{className:r(a),onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onClick:this.handleClick},this.props.showTopBar&&this.props.showCalloutArrow?n.createElement("div",{className:"callout-arrow"}):null,this.props.showTopBar?n.createElement("div",{className:"topbar"}):null,s)}});e.exports=u});C.r("akira/components/controls/subMenuFunctions.js",function(e,n,t){"use strict";var u=e("../../../common/keyCodes"),i=e("./subMenu.jsx"),s={closeSubMenuTimeout:null,getInitialState:function(){return{subMenuOpen:!1,subMenuSelected:!0,subMenuDirection:i.DIRECTION_BOTTOM,isHumanAction:!1}},toggleSubMenu:function(e){this.state.subMenuOpen?this.prepareToCloseSubMenu(e):this.prepareToOpenSubMenu(e)},addEventListeners:function(e,n,t,u,i,s){window.PointerEvent?(n.addEventListener("pointerenter",u||this.handleMouseEnter),n.addEventListener("pointerleave",t||this.handleMouseLeave),e.addEventListener("keydown",i||this.handleKeyDown),e.addEventListener("pointerdown",s||this.handleClick)):(n.addEventListener("mouseenter",u||this.handleMouseEnter),n.addEventListener("mouseleave",t||this.handleMouseLeave),e.addEventListener("keydown",i||this.handleKeyDown),e.addEventListener("click",s||this.handleClick))},removeEventListeners:function(e,n,t,u,i,s){window.PointerEvent?(n.removeEventListener("pointerenter",u||this.handleMouseEnter),n.removeEventListener("pointerleave",t||this.handleMouseLeave),e.removeEventListener("keydown",i||this.handleKeyDown),e.removeEventListener("pointerdown",s||this.handleClick)):(n.removeEventListener("mouseenter",u||this.handleMouseEnter),n.removeEventListener("mouseleave",t||this.handleMouseLeave),e.removeEventListener("keydown",i||this.handleKeyDown),e.removeEventListener("click",s||this.handleClick))},handleKeyDown:function(e){switch(e&&e.which){case u.ENTER:case u.SPACE:this.toggleSubMenu();break;case u.ESC:this.prepareToCloseSubMenu()}},handleClick:function(e){this.toggleSubMenu(),this.state.isHumanAction||clearTimeout(this.executeHumanMouseEnter)},handleMouseEnter:function(e){this.isTouchEvent(e)||(this.setState({isHumanAction:!1}),this.executeHumanMouseEnter=setTimeout(function(){this.setState({isHumanAction:!0}),this.prepareToOpenSubMenu()}.bind(this),1))},handleMouseLeave:function(e){this.isTouchEvent(e)||this.state.isHumanAction&&this.prepareToCloseSubMenu()},isTouchEvent:function(e){return"touch"===e.pointerType},openSubMenu:function(){var e=s.currentOpenMenu;e&&e.isMounted()&&e.closeSubMenu(),s.setCurrentOpenMenu(this),this.subMenuEntered(),this.setState({subMenuOpen:!0})},closeSubMenu:function(){this.setState({subMenuOpen:!1,subMenuDirection:i.DIRECTION_BOTTOM})},prepareToOpenSubMenu:function(e){this.clearTimeouts(),this.state.subMenuOpen||(this.openSubMenuTimeout=setTimeout(this.openSubMenu,400))},prepareToCloseSubMenu:function(e){this.clearTimeouts(),this.state.subMenuOpen&&(this.closeSubMenuTimeout=setTimeout(this.closeSubMenu,250))},clearTimeouts:function(){clearTimeout(this.closeSubMenuTimeout),clearTimeout(this.openSubMenuTimeout)},subMenuEntered:function(){clearTimeout(this.closeSubMenuTimeout)},handleMenuDirectionChange:function(e){this.setState({subMenuDirection:e})}};s.currentOpenMenu=null,s.setCurrentOpenMenu=function(e){s.currentOpenMenu=e},n.exports=s});C.r("akira/components/controls/svgButton.jsx",function(e,t,n){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=(e("prop-types"),e("react")),r=e("create-react-class"),l=e("lodash"),o=e("classnames"),i=e("../../../utils/keyboardEventsWrapper"),c=e("../../../common/svgIcon.jsx"),p=e("../../../utils/shallowCompare"),u=r({displayName:"SvgButton",shouldComponentUpdate:p.pureRender,getInitialState:function(){return{clicked:!1}},handleClick:function(e){l.isFunction(this.props.onClick)&&this.props.onClick(e),this.setState({clicked:!0})},render:function(){var e=this.props,t=e.attributes,n=e.children,r=e.icon,l=e.label,p=e.showToolTip,u=e.extraClass,h=e.buttonStyle,d=this.props.tabIndex||0,b=l?null:this.props.ariaLabel,v=h||"simpleround",m=o("nf-svg-button-wrapper",u),k=o("nf-svg-button",{clicked:this.state.clicked},v),f=o({"nf-svg-button-tooltip":p,"nf-svg-button-label":!p}),g=[];return l&&g.push(s.createElement("span",{key:"label",className:f,role:"status","aria-live":"assertive"},l)),g.push(n),s.createElement("div",{ref:"nfSvgButton",className:m},s.createElement("a",a({role:"link"},t,{tabIndex:d,className:k,"aria-label":b,onClick:this.handleClick,onKeyDown:i.executeOnEnterOrSpace(this.handleClick)}),s.createElement(c,{attributes:t,name:r,key:r})),g)}});t.exports=u});C.r("akira/components/episode/episodeBadge.jsx",function(e,s,a){"use strict";var t=e("prop-types"),r=e("react"),n=e("create-react-class"),i=n({displayName:"EpisodeBadges",contextTypes:{getI18nString:t.func.isRequired},statics:{getPaths:function(e,s,a){return[[["summary","episodeBadges"]],["ancestor","summary"]]}},getData:function(){var e=this.props.model,s=e.getValueSync(["current","episodeBadges"])||e.getValueSync(["episodeBadges"])||[];return{isNSREShow:(e.getValueSync(["current","ancestor","summary"])||e.getValueSync(["ancestor","summary"])||{}).isNSRE,badge:s[0]||""}},render:function(){var e=this.getData(),s=this.props.badge||e.badge,a=this.context.getI18nString("discovery/akira/Billboard","billboard.episodeBadges."+s.toLowerCase());return e.isNSREShow&&a?r.createElement("span",{className:"episode-badge "+s},a):null}});s.exports=i});C.r("akira/components/episodeCard/ikoBonusVideoCard.jsx",function(e,t,o){"use strict";var s=e("prop-types"),r=e("react"),i=e("create-react-class"),a=e("react-dom"),n=e("../controls/playbutton.jsx"),l=e("../../../components/presentationTracking/trackingComponents/boxartPresTracking"),p=e("../../akiraContextTypes"),c=i({displayName:"IkoBonusVideoCard",contextTypes:p,childContextTypes:{rowNum:s.number,rankNum:s.number},getChildContext:function(){var e={rankNum:this.props.rankNum};return void 0!==this.props.rowNum&&(e.rowNum=this.props.rowNum),e},clickPlayButton:function(){this.refs.playButton&&a.findDOMNode(this.refs.playButton).click()},render:function(){var e=this.props.bonusModel,t=this.props.episodeModel.getValueSync(["summary"]),o=e.battleName,s=void 0,i=void 0,a=void 0;return e.isLocked?(i=e.merchBattleImageLocked.secureUrl,s=this.props.strings.watchEpisodeToUnlock,s=s.replace(/\$\{episodeNumber}/,this.props.episodeNum),a=null):(i=e.merchBattleImage.secureUrl,s="",a=r.createElement(n,{model:this.props.showModel,episode:this.props.episodeModel,className:this.props.useResponsivePlayButton?"":"trailerPlay",interactive:!0,responsiveButton:this.props.useResponsivePlayButton,ref:"playButton"})),r.createElement("div",{className:"bonusVideoLockup"},r.createElement(l,{videoId:t.id},r.createElement("div",{className:"video-artwork trailer-artwork",style:{backgroundImage:"url("+i+")"},alt:o,onClick:this.clickPlayButton},a),r.createElement("div",{className:"trailerTitle"},o),r.createElement("div",{className:"bonusSynopsis"},s),this.props.showDivider&&r.createElement("div",{className:"divider"})))}});t.exports=c});C.r("akira/components/hoc/detectFontsWrapper.jsx",function(t,e,n){"use strict";var r=t("./detectFonts.jsx");e.exports=r.stub?function(t){return t}:r});C.r("akira/components/hoc/withUpdateDimensions.jsx",function(t,i,n){"use strict";function e(t){m.push(t)}function s(t){m=m.filter(function(i){return i!==t})}function o(t){t()}function a(t,i){var n=h({displayName:"withUpdateDimensions("+t.displayName+")",_childCmp:null,componentDidMount:function(){e(this.updateDimensions),this.updateDimensions()},componentWillMount:function(){this._childCmp=null},componentWillUnmount:function(){s(this.updateDimensions)},getInitialState:function(){return{dimensions:void 0}},setComponentRef:function(t){this._childCmp=t},render:function(){return u.createElement(t,r({},this.props,this.state,{ref:this.setComponentRef,updateDimensions:this.updateDimensions}),this.props.children)},updateDimensions:function(){var t=this._childCmp&&p.findDOMNode(this._childCmp);if(t&&!(t instanceof Text)){var n=t.getBoundingClientRect();c.isEqual(this.state.dimensions,n)||(i?this.setState(c.assign(i(c.assign({},this.state,{dimensions:n}),t,this._childCmp,this),{dimensions:n})):this.setState({dimensions:n}))}}});return l(n,t),n}var r=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},c=t("lodash"),d=t("shakti-platform/dist/ui/utils/inNode"),u=(t("prop-types"),t("react")),h=t("create-react-class"),p=t("react-dom"),l=t("hoist-non-react-statics"),m=[],f=c.debounce(function(t){m.forEach(o)},16,{maxWait:16,leading:!0,trailing:!0});d||function(){window.addEventListener("resize",f),window.addEventListener("scroll",f)}(),a.areRectsEqual=function(t,i){return!t==!i&&(void 0===t&&void 0===i||t.width===i.width&&t.height===i.height)},i.exports=a});C.r("akira/components/loader/loadingBox.jsx",function(s,a,e){"use strict";var t=(s("prop-types"),s("react")),r=s("create-react-class"),n=s("classnames"),o=r({displayName:"LoadingBox",render:function(){var s=this.props.pulsate,a=this.props.displayWhenNotPulsing,e=this.props.boxClassNames,r=this.props.delay+"s",o=s?{WebkitAnimationDelay:r,AnimationDelay:r}:{};return e.pulsate=s&&a,e["pulsate-transparent"]=s&&!a,e["no-pulsate"]=!s&&a,t.createElement("div",{className:n(e),style:o})}});a.exports=o});C.r("akira/components/loader/loadingGallery.jsx",function(e,a,t){"use strict";var n=(e("prop-types"),e("react")),o=e("create-react-class"),s=e("classnames"),l=e("./loadingTitle.jsx"),r=e("../../akiraContextTypes"),c=o({displayName:"LoadingGallery",contextTypes:r,render:function(){for(var e=[],a=[],t={rowContainer:!0},o=0,r=this.context.columnsInRow||6,c={6:[0,1,2,4,2,4,3],5:[0,1,6,1,6,1,1],4:[0,1,4,1,6,0,1],3:[0,1,4,1,6,0,1],2:[0,1,4,1,6,0,1]},i=0,d=0,m=0;m<24;m++){var p="";d++===c[r][i]&&(p=2*Math.random()+m%6,i++,d=0,i>5&&(i=1)),e.push(n.createElement(l,{delay:p,pulsate:!d,displayWhenNotPulsing:!1,key:"loading-box-"+m})),m%this.context.columnsInRow==this.context.columnsInRow-1&&(a.push(n.createElement("div",{className:s(t),key:"loadingRow-"+o},e)),e=[],o++)}return n.createElement("div",{key:"loading-boxes",className:"galleryLoader"},a)}});a.exports=c});C.r("akira/components/loader/loadingRow.jsx",function(e,a,l){"use strict";var s=(e("prop-types"),e("react")),t=e("create-react-class"),o=e("classnames"),r=e("./loadingSpinner.jsx"),n=e("./loadingTitle.jsx"),i=t({displayName:"LoadingRow",render:function(){for(var e={lolomoRow:!0,lolomoRow_title_card:!0,lolomoPreview:!0},a={rowTitle:!0,pulsate:this.props.pulsateHeader},l=[],t=0;t<7;t++)l.push(s.createElement(n,{delay:.2*t,pulsate:this.props.pulsateTitles,displayWhenNotPulsing:!0,key:"loading-row-"+t}));return s.createElement("div",{className:o(e)},!this.props.hideRowHeader&&s.createElement("div",{className:"rowHeader"},s.createElement("span",{className:o(a)}," ")),s.createElement("div",{className:"rowContent"},s.createElement("div",{className:"slider"},l)),this.props.showSpinner?s.createElement("div",{className:"lolomoSpinLoader"},s.createElement(r,null)):null)}});a.exports=i});C.r("akira/components/loader/loadingSpinner.jsx",function(e,a,n){"use strict";var r=(e("prop-types"),e("react")),s=e("create-react-class"),i=e("../../../reactMixins/cssAnimation.jsx"),t=s({displayName:"LoadingSpinner",render:function(){var e=this.props.delay+"s",a=this.props.delay?i.getAnimationStyle({keyframes:{delay:e}}):{};return r.createElement("span",{className:"icon-spinner akira-spinner","aria-hidden":"true",style:a})}});a.exports=t});C.r("akira/components/loader/loadingTitle.jsx",function(s,a,e){"use strict";var t=(s("prop-types"),s("react")),l=s("create-react-class"),i=s("./loadingBox.jsx"),r=s("classnames"),o=l({displayName:"LoadingTitle",render:function(){var s={smallTitleCard:!0,loadingTitle:!0},a={"ratio-16x9":!0};return this.props.className&&(s[this.props.className]=!0),t.createElement("div",{className:r(s)},t.createElement(i,{boxClassNames:a,delay:this.props.delay,pulsate:this.props.pulsate,displayWhenNotPulsing:this.props.displayWhenNotPulsing}))}});a.exports=o});C.r("akira/components/notifications/notification-element-builders.jsx",function(e,t,a){"use strict";function s(){return n.createElement("div",{className:"play-action"},n.createElement("div",{className:"playable-icon"},n.createElement("div",{className:"playRing"},n.createElement("div",{className:"play icon-play"}))))}var i=e("lodash"),n=e("react"),l=e("../../../utils/images").srcsetBuilder,m=e("classnames"),r=e("./notification-link-wrapper.jsx"),c=e("./relativeTime.jsx"),g=function(e){var t=e.source,a=e.image,s=e.sizes;return n.createElement("div",{className:m("multi-landing-stack-space-holder")},n.createElement("div",{className:m("multi-landing-stack multi-landing-stack-1")}),n.createElement("div",{className:m("multi-landing-stack multi-landing-stack-2")}),n.createElement(d,{source:t,sizes:s,image:a,additionalClasses:"multi-landing-stack multi-landing-stack-img"}))},d=function(e){var t=e.source,a=e.image,s=e.sizes,i=e.additionalClasses;return n.createElement("img",{className:m("title-card",i),src:t.src,srcSet:t.srcset,alt:a.altText,sizes:s})},o={image:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.sizes||"112px",m=i.get(e,"message.templateJSON.elements.image",{}),c=i.get(e,"message.messageGuid",-1),o=i.get(e,"trkIds.baseTrkId",-1),u=l(m.urls||{},t.size||112),p="notification-landing-page"===i.get(e,"message.templateJSON.landingPage.templateType",null),v=p?"MULTI_LANDING_PAGE":i.get(m,"target.type"),N=t.position||-1,k=p?g:d;return u.src?n.createElement(r,{className:"element image",msgguid:c,position:N,trackId:o,linkTarget:v,videoId:i.get(e,"message.templateJSON.videoId"),trackingInfo:t.trackingInfo,eventGuid:e.message.eventGuid},"PLAYBACK"===v?n.createElement(s,null):null,n.createElement(k,{source:u,image:m,sizes:a})):null},buttons:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null},text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.get(e,"message.templateJSON.elements.text",{}),s=i.get(e,"message.created"),l=i.get(e,"message.messageGuid",""),m=i.get(e,"trkIds.baseTrkId",-1),g=t.position||0,d="notification-landing-page"===i.get(e,"message.templateJSON.landingPage.templateType",null),o=d?"MULTI_LANDING_PAGE":i.get(a,"target.type");return n.createElement(r,{className:"element text",msgguid:l,position:g,trackId:m,linkTarget:o,videoId:i.get(e,"message.templateJSON.videoId"),trackingInfo:t.trackingInfo,eventGuid:e.message.eventGuid},a.header?n.createElement("div",{className:"header"},a.header):null,a.body?n.createElement("div",{className:"body"},a.body):null,a.showTimestamp&&s?n.createElement("div",{className:"age"},n.createElement(c,{originTime:s})):null)}};t.exports=o});C.r("akira/components/notifications/notification-empty.jsx",function(t,e,a){"use strict";var i=(t("prop-types"),t("react")),n=t("create-react-class"),s=t("classnames"),r=n({displayName:"EmptyNotification",render:function(){var t=s({"empty-notification":!0});return i.createElement("div",{className:t},i.createElement("div",null,this.props.message))}});e.exports=r});C.r("akira/components/notifications/notification-image-text.jsx",function(t,i,n){"use strict";var o=t("prop-types"),e=t("react"),r=t("create-react-class"),a=t("lodash"),s=t("./notification-element-builders.jsx"),c=r({displayName:"NotificationImageText",childContextTypes:{rowNum:o.number,rankNum:o.number,trackId:o.number},getChildContext:function(){return{rowNum:-1,rankNum:-1,trackId:a.get(this.props.notification,"trkIds.baseTrkId",-1)}},render:function(){var t={position:this.props.position,trackingInfo:this.props.trackingInfo};return e.createElement("div",{className:"image-text-notification"},s.image(this.props.notification,t),s.text(this.props.notification,t),s.buttons(this.props.notification,t))}});i.exports=c});C.r("akira/components/notifications/notification-link-wrapper.jsx",function(i,n,t){"use strict";var o=(i("prop-types"),i("react")),s=i("create-react-class"),a=i("classnames"),e=i("../controls/playLink.jsx"),r=i("../controls/mainViewLink.jsx"),c=i("../../../utils/Routes"),d=i("../../../reactMixins/eventBus"),p=i("../../utils/linkDefs.jsx"),m=i("../../../components/presentationTracking/trackingComponents/logPresentationManually"),l=i("shakti-platform/dist/ui/consolidatedLogging/constants/commandTypes"),u=function(i,n,t,o){d.emit("notifications:clicked",{position:i,trackId:n,messageGuid:t,titleId:o})},f={DISPLAY:function(i,n){var t=void 0,s=function(){u(i.position,i.trackId,i.msgguid,i.id),t&&t();var n=i.onFocus();t=i.onCommand(l.ViewDetailsCommand),n()},a=function(){t&&(t(),t=void 0)};return i.id?o.createElement(r,{resolver:p.getTitleRoute,params:{id:i.id},onClick:s,onAfterNavigation:a,className:i.className},n):this._NOT_A_LINK(i,n)},MULTI_LANDING_PAGE:function(i,n){var t=void 0,s=function(){u(i.position,i.trackId,i.msgguid,i.id),t&&t();var n=i.onFocus();t=i.onCommand(l.ViewDetailsCommand),n()},a=function(){t&&(t(),t=void 0)};return i.id?o.createElement(r,{to:c.notificationLanding,params:{eventGuid:i.eventGuid},onClick:s,onAfterNavigation:a,className:i.className},n):this._NOT_A_LINK(i,n)},PLAYBACK:function(i,n){var t=a(i.className,"playLink"),s=void 0,r=function(){s&&s(),s=i.onFocus()},c=function(){u(i.position,i.trackId,i.msgguid,i.id),s&&(s(),s=void 0)};return i.id?o.createElement(e,{videoId:i.id,row:i.row||-1,className:t,onClick:c,onBeforePlayCommand:r},n):this._NOT_A_LINK(i,n)},YOURACCOUNT:function(i,n){return o.createElement(r,{href:c.yourAccount.makePath(),className:i.className},n)},_NOT_A_LINK:function(i,n){return o.createElement("span",{className:i.className},n)}},N=m(s({displayName:"NotificationLink",onFocus:function(){return this.props.onFocus("notificationItem",this.props.trackingInfo)},render:function(){var i=a(this.props.className,"notification-link"),n={id:this.props.videoId,className:i,position:this.props.position,trackId:this.props.trackId,msgguid:this.props.msgguid,onFocus:this.onFocus,onCommand:this.props.onCommand,eventGuid:this.props.eventGuid};return this.props.linkTarget&&f.hasOwnProperty(this.props.linkTarget)?f[this.props.linkTarget](n,this.props.children):f._NOT_A_LINK({},this.props.children)}}));n.exports=N});C.r("akira/components/notifications/notifications.jsx",function(t,e,n){"use strict";var i=t("prop-types"),o=t("react"),a=t("create-react-class"),s=t("react-dom"),c=t("lodash"),r=t("classnames"),l=t("../../../reactMixins/falkor-fetch"),u=t("../controls/subMenuFunctions"),f=t("../../utils/scrollLock"),m=t("../../../reactMixins/eventBus"),d=t("./pill.jsx"),p=t("../controls/menuCaret.jsx"),h=t("../controls/subMenu.jsx"),g=t("./notification-image-text.jsx"),M=t("./notification-empty.jsx"),v=t("../../../components/presentationTracking/presentationTrackingContainer.jsx"),E=t("../../../components/presentationTracking/trackingComponents/notificationItemPresTracking"),N=t("../../../components/presentationTracking/trackingComponents/notificationPanelPresTracking"),_="discovery/akira/Notifications",b=a({displayName:"Notifications",mixins:[u,l],contextTypes:{getI18nString:i.func.isRequired},statics:{getPaths:function(){return[["notifications",["fullList","unreadCount","latestTimestamp"]]]},rootModelName:"notifications"},getInitialState:function(){return{readTimer:null,notificationsRead:!1}},_notificationBuilders:{empty:function(){return o.createElement(M,{message:this.context.getI18nString(_,"notifications.defaults.noRecentNotifications")})},"IMAGE-TEXT":function(t,e,n){return o.createElement(g,{notification:t,position:e,trackingInfo:n,timeFormatter:this._formatTimeDiff})}},_scrollLimit:void 0,_validateNotification:function(t){var e=this,n=c.get(t,"message.templateJSON.layout");return!(!n||!e._notificationBuilders.hasOwnProperty(n)||"function"!=typeof e._notificationBuilders[n])&&n},_generateNotificationList:function(t){var e=this,n=[];return c.forEach(t,function(t,i){var a=e._validateNotification(t);if(a){var s=c.get(t,"message.isRead",!0),l=r({notification:!0,"is-new":!s}),u=c.get(t,"message.templateJSON.videoId",null),f=c.get(t,"message.messageGuid",""),m=c.get(t,"message.templateJSON.trackingInfo",{videoId:u,messageGuid:f});n.push(o.createElement(E,{trackingInfo:m},o.createElement("li",{className:l,key:"notification-"+i,onClick:e._closeSubMenu},e._notificationBuilders[a].call(e,t,i,m))))}}),0===n.length&&n.push(o.createElement("li",{className:"notification",key:"notification-empty",onClick:e._closeSubMenu},e._notificationBuilders.empty.call(e))),[o.createElement(v,null,o.createElement(N,null,o.createElement("ul",{ref:"notifications-scroller",className:"notifications-container"},n)))]},_markNotificationsAsRead:function(){this.setState({readTimer:null});var t=this,e=this.props.model.pathEvaluator.bind(["notifications"]);e.getValueSync(["unreadCount"])&&this.props.model.pathEvaluator.call(["notifications","markRead"],[e.getValueSync(["latestTimestamp"])],[],[]).subscribe(function(e){t.forceUpdate()},function(e){t.forceUpdate()})},_emitNotificationsPanelEvent:function(t){var e=this,n=t?"notifications:open":"notifications:close",i=t?"notifications:readstart":"notifications:readend",o=this.props.model.pathEvaluator.bind(["notifications"]),a=o.getValueSync(["fullList"]),s=!!o.getValueSync(["unreadCount"]),r=!1,l=[];c.forEach(a,function(t,n){e._validateNotification(t)&&(l.push(t),r=!0)}),m.emit(n,{hasNotifications:r,hasUnreadNotifications:s}),c.forEach(l,function(t,e){var n=c.get(t,"message.isRead",!0),o=c.get(t,"message.templateJSON.videoId",null),a=c.get(t,"message.messageGuid","");m.emit(i,{position:e,isRead:n,messageGuid:a,titleId:o})})},_closeSubMenu:function(t){this.handleMouseLeave(t),this.state.notificationsRead&&this._markNotificationsAsRead(),this._emitNotificationsPanelEvent(!1)},_openSubMenu:function(t){this.handleMouseEnter(t),this._emitNotificationsPanelEvent(!0)},componentDidUpdate:function(t,e){var n=this;!0===this.state.subMenuOpen&&!1===e.subMenuOpen?n.state.readTimer||n.setState({readTimer:window.setTimeout(function(){n.setState({notificationsRead:!0}),n.forceUpdate()},3e3)}):!1===this.state.subMenuOpen&&!0===e.subMenuOpen&&(n.state.readTimer&&(window.clearTimeout(n.state.readTimer),n.setState({readTimer:null})),f.scrollUnlock(this._scrollLimit))},componentDidMount:function(){this.addEventListeners(s.findDOMNode(this.refs.menu),s.findDOMNode(this.refs.menuContainer),this._closeSubMenu,this._openSubMenu)},componentWillUnmount:function(){this.removeEventListeners(s.findDOMNode(this.refs.menu),s.findDOMNode(this.refs.menuContainer),this._closeSubMenu,this._openSubMenu),f.scrollUnlock(this._scrollLimit)},onMouseEnter:function(){this._scrollLimit=f.scrollLock(this.refs["notifications-scroller"])},onMouseLeave:function(){f.scrollUnlock(this._scrollLimit)},render:function(){var t=this,e=t.props.model.pathEvaluator.bind(["notifications"]),n=e.getValueSync(["fullList"]),i=e.getValueSync(["unreadCount"]),a=r({notifications:!0,"direction-top":this.state.subMenuDirection===h.DIRECTION_TOP});return o.createElement("span",{ref:"menuContainer",className:a},o.createElement("button",{ref:"menu",className:"notifications-menu","aria-haspopup":!0,"aria-label":this.context.getI18nString(_,"notifications.button.text")},o.createElement("span",{className:"icon-button-notification"}),i>0?o.createElement(d,{number:i}):null,t.state.subMenuOpen?o.createElement(p,null):null),t.state.subMenuOpen?o.createElement(h,{cols:1,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,showCalloutArrow:!1,onDirectionChange:this.handleMenuDirectionChange,items:t._generateNotificationList(n)}):null)}});e.exports=b});C.r("akira/components/notifications/pill.jsx",function(t,e,r){"use strict";var s=(t("prop-types"),t("react")),n=t("create-react-class"),a=n({displayName:"Pill",getDefaultProps:function(){return{max:9}},makeContents:function(){return this.props.number>this.props.max?this.props.overflow||this.props.max+"+":this.props.number},render:function(){return s.createElement("span",{className:"notification-pill","aria-label":this.props.altText},this.makeContents())}});e.exports=a});C.r("akira/components/notifications/relativeTime.jsx",function(t,e,n){"use strict";var i=(t("prop-types"),t("react")),a=t("create-react-class"),r=t("../../../components/string.jsx"),s="discovery/akira/Notifications",o=function(t){return t instanceof Date?t.getTime():t},m=a({displayName:"RelativeTime",_formatTimeDiff:function(t,e){var n=Math.floor((e-t)/864e5),a=this._monthDiff(new Date(t),new Date(e));return n<0?"":n<1?i.createElement(r,{bundle:s,stringKey:"notifications.timestamp.today"}):n<7?i.createElement(r,{bundle:s,stringKey:"notifications.timestamp.daysAgo",stringParams:{num_days:n}}):0===a?i.createElement(r,{bundle:s,stringKey:"notifications.timestamp.weeksAgo",stringParams:{num_weeks:Math.floor(n/7)}}):i.createElement(r,{bundle:s,stringKey:"notifications.timestamp.monthsAgo",stringParams:{num_months:a}})},_monthDiff:function(t,e){return 12*(e.getUTCFullYear()-t.getUTCFullYear())+(e.getUTCMonth()-t.getUTCMonth())+(e.getUTCDate()>=t.getUTCDate()?0:-1)},render:function(){if(!this.props.originTime)return null;var t=o(this.props.originTime),e=o(this.props.now||new Date);return i.createElement("span",{className:"relative-time"},this._formatTimeDiff(t,e))}});e.exports=m});C.r("akira/components/profile/accountDropDown.jsx",function(e,t,n){"use strict";var i=e("prop-types"),s=e("react"),o=e("create-react-class"),a=e("react-dom"),r=e("classnames"),l=e("lodash"),u=e("../../../common/keyCodes"),c=e("../profile/profilesDropDown.jsx"),m=e("../controls/subMenu.jsx"),h=e("../controls/subMenuFunctions"),d=e("./profile.jsx"),p=e("../../containers/header/dvdLink.jsx"),f=e("../../akiraContextTypes"),k=e("../../../reactMixins/eventBus"),b=e("../../../utils/Routes"),E=e("../../../utils/RouteHelpers"),x=e("../controls/exitComponent.jsx"),C=e("../../../utils/ab/kidsParityTest"),D=e("./accountDropDownMenu.jsx"),g="discovery/akira/Chrome",M=o({displayName:"AccountDropDown",mixins:[h],contextTypes:Object.assign({getI18nBundle:i.func.isRequired,getI18nString:i.func.isRequired,models:i.object.isRequired},f),statics:{getPaths:function(){return c.getPaths().concat([["profilesList","current","summary"],["profilesList","current","avatar","images","byWidth",32]])}},getSubMenuItems:function(){var e=this.props.model,t=this.context.getI18nBundle(g),n=l.get(this,"context.models.truths.data.currentProfileIsKids"),i=[s.createElement(c,{key:"profiles",model:e,pqls:c.getPaths()})];return i.push(s.createElement("ul",{className:"sub-menu-list responsive-links",key:"browse-account-menu",role:"list"},this.props.showKidsLink?s.createElement("li",{className:"sub-menu-item kids-responsive-link",role:"listitem"},s.createElement("a",{tabIndex:0,onClick:this.props.onKidsLinkClicked},t.get("header.kids"))):null,this.props.showDVDLink?s.createElement("li",{className:"sub-menu-item dvd-link",role:"listitem"},s.createElement(p,null)):null)),i.push(s.createElement("ul",{key:"account",className:"account-links sub-menu-list",role:"list","aria-label":t.get("profiles.list.account.label")},s.createElement("li",{className:"sub-menu-item",role:"listitem"},s.createElement("a",{className:"sub-menu-link",href:b.yourAccount.makePath()},t.get("account.your.account"))),!n&&s.createElement("li",{className:"sub-menu-item",role:"listitem"},s.createElement("a",{className:"sub-menu-link",href:b.help.makePath()},t.get("account.help.center"))),s.createElement("li",{className:"sub-menu-item",role:"listitem"},s.createElement("a",{className:"sub-menu-link",href:b.signOut.makePath()},t.get("account.sign.out"))))),i},placeHolder:function(){return null},componentDidMount:function(){this.addEventListeners(a.findDOMNode(this.refs.menu),a.findDOMNode(this.refs.menuContainer),this._closeSubMenu,this._openSubMenu,this.onExitComponentKeyDown,this.onExitComponentClicked)},componentWillUnmount:function(){this.removeEventListeners(a.findDOMNode(this.refs.menu),a.findDOMNode(this.refs.menuContainer),this._closeSubMenu,this._openSubMenu,this.onExitComponentKeyDown,this.onExitComponentClicked)},_closeSubMenu:function(e){this.handleMouseLeave(e),k.emit("accountDropdown:close")},_openSubMenu:function(e){this.handleMouseEnter(e),k.emit("accountDropdown:open")},onExitComponentKeyDown:function(e){if(!C.kidsProfileWithoutParity(this.context.models))return void this.handleKeyDown();switch(e&&e.which){case u.ENTER:case u.SPACE:this.onExitComponentClicked()}},onExitComponentClicked:function(){if(!C.kidsProfileWithoutParity(this.context.models))return void this.handleClick();this.context.profileManager.openProfileList()},handleLinkClick:function(e){e.preventDefault()},render:function(){var e=this.props.model,t=e.bind(["profilesList"]),n=t.bind(["current"]),i=this.context.isKidsPage,o=C.kidsProfileWithoutParity(this.context.models),a=r({"account-menu-item":!0,active:this.state.subMenuOpen&&!i});if(!n)return this.placeHolder();var l=n.getValueSync(["summary"]),u=E.makeAccountDropdownButtonURL(i);if(!l)return null;var c=r({"account-dropdown-button":!0,"direction-top":this.state.subMenuDirection===m.DIRECTION_TOP});return s.createElement("div",{ref:"menuContainer",className:a},s.createElement("div",{ref:"menu",className:c,role:"button",tabIndex:0,"aria-haspopup":!0,"aria-label":this.context.getI18nString(g,"header.profile.altText",{profileName:l.profileName})},s.createElement("a",{href:u,onClick:this.handleLinkClick},s.createElement(d,{useHeaderProfile:!0,avatarWidth:32,model:n,useHeaderCaret:this.state.subMenuOpen&&!i,hideProfileName:this.props.hideProfileName})),o?null:s.createElement("span",{className:"caret",role:"presentation"}),o?s.createElement(x,null):null),this.state.subMenuOpen&&!o?s.createElement(D,{onDirectionChange:this.handleMenuDirectionChange,onSelect:this.closeSubMenu},this.getSubMenuItems()):null)}});t.exports=M});C.r("akira/components/profile/accountDropDownMenu.jsx",function(t,e,n){"use strict";var o=(t("prop-types"),t("react")),i=t("create-react-class"),r=t("react-dom"),c=t("classnames"),s=t("../../../reactMixins/transition"),a=t("../../../common/position"),p=t("../controls/subMenu.jsx"),u=t("../../../components/presentationTracking/trackingComponents/accountDropdownPanelPresTracking"),m=i({displayName:"AccountDropDownMenu",mixins:[s],transitions:{fadeInHover:150,fadeOut:250},getInitialState:function(){return{menuDirection:"bottom"}},componentDidMount:function(){this.defineDirection()},defineDirection:function(){var t=r.findDOMNode(this),e=a.getRect(t),n=a.getWindowRect(),o=e.bottom>n.bottom,i=e.top-e.height-p.DIRECTION_CHANGE_THRESHOLD>n.top,c=o&&i?p.DIRECTION_TOP:p.DIRECTION_BOTTOM;this.state.direction!==c&&(this.props.onDirectionChange&&this.props.onDirectionChange(c),this.setState({menuDirection:c}))},render:function(){var t=c({"account-drop-down":!0,"sub-menu":!0,"theme-lakira":!0,"sub-menu-top":this.state.menuDirection===p.DIRECTION_TOP});return o.createElement("div",{className:t},o.createElement(u,null,o.createElement("div",{className:"topbar"}),this.props.children))}});e.exports=m});C.r("akira/components/profile/create/profileAvatar.jsx",function(e,r,a){"use strict";var t=(e("prop-types"),e("react")),o=e("create-react-class"),s=e("../../loader/loadingBox.jsx"),l=e("./profileImage.jsx"),i=o({displayName:"ProfileAvatar",render:function(){var e={loadingTitle:!0};return this.props.profileAvatarSrc?t.createElement(l,{profileAvatarSrc:this.props.profileAvatarSrc}):t.createElement(s,{boxClassNames:e,delay:0,pulsate:!0,displayWhenNotPulsing:!0})}});r.exports=i});C.r("akira/components/profile/create/profileImage.jsx",function(e,r,a){"use strict";var t=(e("prop-types"),e("react")),i=e("create-react-class"),o=e("../../../../reactMixins/transition"),s=i({displayName:"ProfileImage",mixins:[o],transitions:{show:{target:"profileImage",before:{opacity:0,scale:.6},opacity:1,scale:1,duration:400}},render:function(){return t.createElement("img",{src:this.props.profileAvatarSrc,ref:"profileImage",alt:""})}});r.exports=s});C.r("akira/components/profile/create/profileTooltip.jsx",function(t,e,i){"use strict";var r=(t("prop-types"),t("react")),o=t("create-react-class"),a=t("../../../../reactMixins/transition"),s="kids-profile-tooltip",p=o({displayName:"ProfileTooltip",mixins:[a],transitions:{show:{target:s,before:{opacity:0},opacity:1,duration:350,delay:400},hide:{target:s,opacity:0,duration:350,delay:100}},render:function(){return r.createElement("span",{className:s,ref:s},this.props.tooltipText)}});e.exports=p});C.r("akira/components/profile/profile.jsx",function(e,r,t){"use strict";var i=(e("prop-types"),e("react")),s=e("create-react-class"),n=e("classnames"),a=e("../controls/menuCaret.jsx"),o=e("../loader/loadingSpinner.jsx"),l=e("../../akiraContextTypes"),p=e("../../../common/keyCodes"),c=e("../../../common/svgIcon.jsx"),d=e("../../../reactMixins/eventBus"),h=e("../../../utils/Routes"),m=e("../../../utils/consolidatedLogging/loggingEventRegistry"),u=s({displayName:"Profile",contextTypes:l,handleProfileClick:function(e){if(e.preventDefault(),this.props.inEditMode)this.context.profileManager.openEditProfile(this.props.model);else{var r=this.props.model.getValueSync(["summary"])||{};d.emit(m.PROFILES_SWITCH,{selectedProfile:r.guid,event:e}),this.context.profileManager.switchProfile(this.props.model)}},handleKeyDown:function(e){switch(e&&e.which){case p.ENTER:this.handleProfileClick(e)}},handleHover:function(e){this.props.onHover&&this.props.onHover(this.props.id)},handleFocus:function(e){this.props.onFocus&&this.props.onFocus(this.props.id)},renderAvatar:function(e,r,t){if(t&&!this.props.useDiv)return i.createElement("img",{className:r,src:t,alt:""});if(t&&this.props.useDiv){var s={backgroundImage:"url("+t+")"};return i.createElement("div",{className:r,style:s}," ")}return null},renderProfile:function(e,r,t){return i.createElement("li",{className:"profile-link"},this.renderAvatar(e,r,t),e.profileName&&!this.props.loading?i.createElement("span",{className:"profile-name",dangerouslySetInnerHTML:{__html:e.profileName}}):null,this.props.loading&&!this.props.errorLoadingProfile?i.createElement(o,null):null)},renderLinkedProfile:function(e,r,t){var s=h.switchProfiles.makePath(null,{tkn:e.guid}),o=n("profile-link",{focused:this.props.focused});return e||(e={}),i.createElement("div",null,i.createElement("a",{className:o,role:"link",onClick:this.handleProfileClick,onKeyDown:this.handleKeyDown,onMouseOver:this.handleHover,onFocus:this.handleFocus,tabIndex:0,href:s},i.createElement("div",{className:n("avatar-wrapper")},this.renderAvatar(e,r,t),this.props.useHeaderCaret&&i.createElement(a,null),this.props.inEditMode&&i.createElement("div",{className:n("svg-edit-overlay")},i.createElement(c,{name:"edit"}))),i.createElement("span",{className:n("profile-name"),dangerouslySetInnerHTML:{__html:e.profileName}})),i.createElement("div",{className:n("profile-children")},this.props.children))},renderHeaderProfile:function(e,r,t){return i.createElement("span",{className:"profile-link",role:"presentation"},this.props.useHeaderCaret?i.createElement("div",{className:"avatar-wrapper"},this.renderAvatar(e,r,t),i.createElement(a,null)):this.renderAvatar(e,r,t),!this.props.hideProfileName&&i.createElement("span",{className:"profile-name",dangerouslySetInnerHTML:{__html:e.profileName}}))},render:function(){var e=this.props.model,r=e.getValueSync(["summary"]),t=e.getValueSync(["avatar","images","byWidth",this.props.avatarWidth]),i=n({activeProfile:e.isActive,"profile-icon":!0,errorLoading:this.props.errorLoadingProfile,"profile-edit-mode":this.props.inEditMode});return this.props.useHeaderProfile?this.renderHeaderProfile(r,i,t):this.props.isClickable?this.renderLinkedProfile(r,i,t):this.renderProfile(r,i,t)}});r.exports=u});C.r("akira/components/profile/profileChoices.jsx",function(e,t,i){"use strict";var r=e("prop-types"),s=e("react"),n=e("create-react-class"),o=e("classnames"),a=e("shakti-platform/dist/ui/ShaktiProperties"),l=e("lodash"),c=e("../profile/profile.jsx"),d=e("../../../utils/profileManager"),p=e("../../../reactMixins/eventBus"),f=e("../../../reactMixins/transition"),m=e("../../../utils/Routes"),u=e("../controls/mainViewLink.jsx"),h=e("../../../utils/keyboardEventsWrapper"),g=e("../../../utils/consolidatedLogging/loggingEventRegistry"),E=a.get("web.ui.profiles.max"),v="discovery/akira/Chrome",P=n({displayName:"ProfileChoices",mixins:[f],contextTypes:{getI18nBundle:r.func.isRequired,getI18nString:r.func.isRequired,models:r.object.isRequired,profileManager:r.object.isRequired},statics:{getPaths:function(){return[["profilesList","summary"],["profilesList","current","summary"],["profilesList",{to:E},"summary"],["profilesList",{to:E},"avatar","images","byWidth",320]]}},transitions:{hide:{target:"centeredDiv",scale:1,opacity:0,duration:350}},componentDidMount:function(){p.emit("app:interactive");var e=this.props.model.getValueSync(["profilesList","current","summary"])||{};p.emit(g.PROFILES_LOADED,{currentProfile:e.guid})},renderChooseableProfiles:function(){for(var e=this.props.model.getValueSync(["profilesList","summary"]),t=this.props.activeView===d.VIEWS.MANAGE_PROFILES,i=Math.min(e.length,10),r=[],n=0;n<i;n++){var a=this.props.model.bind(["profilesList",n]);a&&r.push(s.createElement("li",{className:o("profile"),key:"profile"+n,ref:"profile"+n},s.createElement(c,{useDiv:!0,isClickable:!0,avatarWidth:320,inEditMode:t,model:a})))}return r},handleAddProfile:function(e){this.context.profileManager.openCreateProfile(this.props.activeView),e.preventDefault()},renderAddProfile:function(){return s.createElement("li",null,s.createElement("a",{onClick:this.handleAddProfile,onKeyDown:h.executeOnEnterOrSpace(this.handleAddProfile),role:"link",tabIndex:0},s.createElement("div",{className:o("addProfileIcon","icon-tvuiAdd")}),s.createElement("span",{className:o("profile-name")},this.context.getI18nString(v,"add.profile"))))},onEditComplete:function(){l.get(this.context.models,"truths.data.isIELt12")||this.context.profileManager.setProfileEditStorageData()},onManageProfiles:function(){p.emit(g.MANAGE_PROFILES)},renderActionButton:function(){var e=this.props.activeView===d.VIEWS.LIST,t=this.context.getI18nBundle(v),i=m.manageProfiles.makePath(),r=m.profilesGate.makePath();return e?s.createElement(u,{href:i,onClick:this.onManageProfiles},t.get("manage.profiles")):s.createElement(u,{href:r,onClick:this.onEditComplete},t.get("done"))},render:function(){var e=this.props.model.getValueSync(["profilesList","summary"]),t=this.context.getI18nBundle(v),i=e.length<E,r=this.props.activeView===d.VIEWS.LIST,n=r?t.get("whos.watching"):t.get("edit.profiles"),a=o("profile-button",{"preferred-action":!r});return s.createElement("div",{className:o("centered-div","list-profiles-container"),ref:"centeredDiv"},s.createElement("div",{className:o("list-profiles"),ref:"listProfiles",key:"listProfiles"},s.createElement("div",{className:o("profile-gate-label")},n),s.createElement("ul",{className:o("choose-profile")},this.renderChooseableProfiles(),i&&this.renderAddProfile())),s.createElement("span",{className:a},this.renderActionButton()))}});t.exports=P});C.r("akira/components/profile/profileCreate.jsx",function(e,t,i){"use strict";var r=e("prop-types"),a=e("react"),o=e("create-react-class"),s=e("react-dom"),l=e("lodash"),n=e("classnames"),d=e("../../../reactMixins/transition"),c=e("../../../utils/XHR"),p=e("../../../common/keyCodes"),f=e("./create/profileTooltip.jsx"),u=e("../../../utils/profileManager"),h=e("../../../utils/pathEvaluatorUtils"),m=e("../../../reactMixins/eventBus"),w=e("../../../reactMixins/falkor-fetch"),P=e("./create/profileAvatar.jsx"),v=e("../../../utils/keyboardEventsWrapper"),g=e("shakti-platform/dist/ui/utils/inNode"),N=e("../../containers/modal/profileAwareness.jsx"),b=e("../../containers/modal/modalManager.jsx"),E=e("../../../utils/lolomo/lolomoUtils"),k="discovery/partials/profiles_gate",S=o({displayName:"ProfileCreate",mixins:[d,w],contextTypes:{getI18nBundle:r.func.isRequired,getI18nString:r.func.isRequired,history:r.object.isRequired,jsongDocument:r.object.isRequired,models:r.object.isRequired,profileManager:r.object.isRequired,routeHandler:r.object.isRequired},transitions:{show:{target:"centeredDiv",before:{scale:1.1,opacity:0},scale:1,opacity:1,duration:450,delay:200}},getInitialState:function(){return{showKidsTooltip:!1,newProfileIsForAKid:this.props.createKidsProfile,newProfileName:"",newProfileRequested:!1,newProfileAvatarSrc:null,newProfileAvatarName:null,attemptedInvalidNewProfile:!1,attemptedNewProfileTimeout:!1}},getAvatarsXHRSuccess:function(e){var t=this,i={newProfileAvatarSrc:null,newProfileAvatarName:null},r=new Image;if(l.isObject(e)&&e.avatars){var a=l.find(e.avatars,function(e){return e.isDefault});a&&(i={newProfileAvatarSrc:a.images&&a.images[320],newProfileAvatarName:a.name})}i.newProfileAvatarSrc&&i.newProfileAvatarName?(r.addEventListener("load",function e(){r.removeEventListener("load",e),t.setState(i)}),r.src=i.newProfileAvatarSrc,this.setState({newProfileAvatarName:i.newProfileAvatarName})):this.setState(i)},onSuccessAddProfile:function(e){var t=this;this.context.profileManager.setActiveView(u.VIEWS.RELOADING_PROFILES);var i=void 0,r=!1;this.props.nextView?(this.props.nextView!==u.VIEWS.LIST&&this.props.nextView!==u.VIEWS.MANAGE_PROFILES||(r=!0),i=this.props.nextView):(i=this.props.previousView,r=!0);var a=this.props.getPageChromePaths(),o=this.context.models,s={currentView:i},l=this.props.getProfilesGatePaths(o,null,s),n=[].concat(a,l),d=function(){t.context.profileManager.setActiveView(i)},c=function(){t.context.profileManager.switchProfile(t.context.jsongDocument.bind(["profiles",e.newProfiles[0].guid]))};r?(h.resetCache(this.props.model),this.fetchData(this.props.model,n,null,d,!1)):("switchToKidsProfile"===i&&(h.resetCache(this.props.model),this.fetchData(this.props.model,n,null,c,!1)),"showModalReloadProfiles"===i&&(E.clearAllLolomoCookies(),h.resetCache(this.props.model),this.fetchData(this.props.model,n,null,null,!1),b.open(N,{name:"profileAwarenessModal",additionalClasses:["profile-awareness-modal"],contentProps:{onDismissal:d}})))},getAvatarsXHRError:function(){var e={newProfileAvatarSrc:null,newProfileAvatarName:null};this.isMounted()&&this.setState(e)},componentWillMount:function(){g||c.request({resource:"/profiles/avatars",query:{include:"available"},service:"api"}).subscribe(this.getAvatarsXHRSuccess,this.getAvatarsXHRError)},componentDidMount:function(){m.emit("app:interactive"),s.findDOMNode(this.refs["profile-name-entry"]).focus()},isValidData:function(){return""!==this.state.newProfileName},inputNameHandler:function(e){this.setState({newProfileName:e.target.value.trim()})},inputNameKeyDownHandler:function(e){e&&e.which===p.ENTER&&this.clickContinueHandler()},newProfileXHRError:function(){this.isMounted()&&this.setState({attemptedNewProfileTimeout:!0,attemptedInvalidNewProfile:!1})},createNewProfile:function(){this.isValidData()&&(this.state.attemptedNewProfileTimeout&&this.setState({attemptedNewProfileTimeout:!1}),c.request({resource:"/profiles/create",service:"api",protocol:"https",method:"post",data:{profiles:JSON.stringify([{firstName:this.state.newProfileName,avatarName:this.state.newProfileAvatarName,jfk:this.state.newProfileIsForAKid}]),copyViewingHistory:this.props.copyViewingHistory,deleteViewingHistory:this.props.deleteViewingHistory},timeout:5e3,authorize:!0}).subscribe(this.onSuccessAddProfile,this.newProfileXHRError))},clickContinueHandler:function(){this.isValidData()?this.createNewProfile():this.setState({attemptedNewProfileTimeout:!1,attemptedInvalidNewProfile:!0})},clickCancelHandler:function(){this.props.previousView===u.VIEWS.LIST?this.context.profileManager.openProfileList():this.props.previousView===u.VIEWS.CLOSED?this.context.profileManager.closeGate():this.context.profileManager.openEditList()},clickKidsLabelHandler:function(){this.props.createKidsProfile||this.setState({newProfileIsForAKid:!this.state.newProfileIsForAKid})},targetValidForTooltip:function(e){return s.findDOMNode(this.refs["add-kids-profile"]).contains(e)||s.findDOMNode(this.refs["add-kids-label"]).contains(e)||s.findDOMNode(this.refs["add-kids-marker"]).contains(e)},mouseOverKidsLabel:function(e){this.getTooltip()&&this.targetValidForTooltip(e.target)&&(clearTimeout(this.timeoutHideKidsLabel),this.state.showKidsTooltip||this.setState({showKidsTooltip:!0}))},mouseOutKidsLabel:function(e){var t=this;this.getTooltip()&&!this.targetValidForTooltip(e.relatedTarget)&&(clearTimeout(this.timeoutHideKidsLabel),this.state.showKidsTooltip&&(this.timeoutHideKidsLabel=setTimeout(function(){t.setState({showKidsTooltip:!1})},400)))},getTooltip:function(){var e=this.context.getI18nString(k,"addProfile.tooltip.kids");return e.indexOf("addProfile")<0&&e},render:function(){var e=this.getTooltip(),t=this.isValidData(),i=!t&&this.state.attemptedInvalidNewProfile,r=this.state.attemptedNewProfileTimeout,o=this.context.getI18nBundle(k),s=n({"profile-button":!0,"preferred-action":!0,"preferred-active":t}),l=n({"name-error":i}),d=n({"profile-metadata":!0,"profile-entry":!0,"is-kids-profile":this.props.createKidsProfile});return a.createElement("div",{className:"centered-div",ref:"centeredDiv"},a.createElement("div",{className:"profile-actions-container",ref:"add-profile"},a.createElement("h1",null,this.props.createKidsProfile?o.get("addProfile.kids.header"):o.get("addProfile.header")),a.createElement("h2",null,o.get("addProfile.subHeader")),a.createElement("div",{className:d},a.createElement("div",{className:"main-profile-avatar"},a.createElement(P,{profileAvatarSrc:this.state.newProfileAvatarSrc})),a.createElement("div",{className:"profile-add-parent"},a.createElement("div",{className:"profile-entry-inputs",onMouseOver:this.mouseOverKidsLabel,onMouseOut:this.mouseOutKidsLabel},a.createElement("input",{type:"text",id:"add-profile-name",className:l,ref:"profile-name-entry",placeholder:o.get("addProfile.placeholder.name"),onChange:this.inputNameHandler,onKeyDown:this.inputNameKeyDownHandler}),a.createElement("label",{htmlFor:"add-profile-name",ref:"add-profile-name-label","aria-label":o.get("addProfile.placeholder.name")}),a.createElement("input",{type:"checkbox",id:"add-kids-profile",ref:"add-kids-profile",checked:this.state.newProfileIsForAKid,onChange:this.NOOP}),a.createElement("label",{htmlFor:"add-kids-profile",ref:"add-kids-label",onClick:this.clickKidsLabelHandler}),a.createElement("span",{className:"add-kids-marker",ref:"add-kids-marker",role:"checkbox","aria-checked":this.state.newProfileIsForAKid,tabIndex:0,onClick:this.clickKidsLabelHandler,onKeyDown:v.executeOnEnterOrSpace(this.clickKidsLabelHandler)},this.props.createKidsProfile?o.get("addProfile.label.kids.forced"):o.get("addProfile.label.kids")),e&&this.state.showKidsTooltip&&!this.props.createKidsProfile?a.createElement(f,{tooltipText:e}):null),i?a.createElement("p",{className:"profile-entry-error"},o.get("addProfile.error.name")):null,r?a.createElement("p",{className:"profile-entry-error"},o.get("addProfile.error.create")):null)),a.createElement("span",{className:s,tabIndex:0,role:"button",onClick:this.clickContinueHandler,onKeyDown:v.executeOnEnterOrSpace(this.clickContinueHandler)},a.createElement("span",null,o.get("addProfile.button.continue"))),a.createElement("span",{className:"profile-button",tabIndex:0,role:"button",onClick:this.clickCancelHandler,onKeyDown:v.executeOnEnterOrSpace(this.clickCancelHandler)},a.createElement("span",null,o.get("addProfile.button.cancel")))))}});t.exports=S});C.r("akira/components/profile/profileDelete.jsx",function(e,t,i){"use strict";var r=e("prop-types"),a=e("react"),l=e("create-react-class"),s=e("classnames"),n=e("shakti-platform/dist/ui/ShaktiProperties"),o=e("../../../reactMixins/transition"),c=e("../../../reactMixins/eventBus"),p=e("../loader/loadingSpinner.jsx"),d=e("./create/profileAvatar.jsx"),f=e("../../../utils/htmlUtils"),u=e("../../redux/createActionGroup"),m=e("../../redux/profile/profileActions").TYPES,v=n.get("web.ui.profiles.max"),g=l({displayName:"ProfileDelete",contextTypes:{getI18nBundle:r.func.isRequired,pathEvaluator:r.object,profileManager:r.object.isRequired,discoveryApp:r.object.isRequired},mixins:[o],transitions:{show:{target:"centeredDiv",before:{scale:1.1,opacity:0},scale:1,opacity:1,duration:450,delay:200}},getInitialState:function(){return{isSaving:!1}},clickDeleteHandler:function(){var e=this,t=this.props.newProfile,i=t&&t.getValueSync(["summary"]).guid;this.setState({isSaving:!0}),u(this.context.discoveryApp.getActionCreators(),{start:m.deleteProfile,success:m.deleteProfileSuccess,failure:m.deleteProfileFailed}).dispatchStartAction({profileGuid:i}).wrapObservable(this.props.profileList.call(["profilesList","remove"],[i],[],[["profilesList","summary"],["profilesList",{to:v},"summary"],["profilesList",{to:v},"avatar","images","byWidth",320]])).subscribe(function(t){e.context.profileManager.openEditList(),c.emit("profile:deleteEnd",{profileGuid:i})})},clickKeepHandler:function(){this.context.profileManager.openEditProfile(this.props.newProfile)},render:function(){var e=this.context.getI18nBundle("discovery/partials/profiles_gate"),t=this.props.newProfile,i=t&&t.getValueSync(["avatar","images","byWidth",320]),r=t&&f.unescapeHtmlCharacters(t.getValueSync(["summary"]).profileName),l=s({"profile-button":!0,"preferred-action":!0}),n=s({"profile-metadata":!0,"profile-entry":!0});return a.createElement("div",{className:"centered-div",ref:"centeredDiv"},a.createElement("div",{className:"profile-actions-container",ref:"delete-profile"},this.state.isSaving?a.createElement("div",{className:"profileSavingMask",key:"profileSavingMask"},a.createElement(p,null)):null,a.createElement("h1",null,e.get("deleteProfile.header")),a.createElement("div",{className:n},a.createElement("div",{className:"main-profile-avatar"},a.createElement(d,{profileAvatarSrc:i}),a.createElement("div",{className:"profile-name"},r)),a.createElement("div",{className:"profile-delete-warning"},e.get("deleteProfile.warning"))),a.createElement("span",{className:l,onClick:this.clickKeepHandler},a.createElement("span",null,e.get("deleteProfile.button.keep"))),a.createElement("span",{className:"profile-button",onClick:this.clickDeleteHandler},a.createElement("span",null,e.get("deleteProfile.button.delete")))))}});t.exports=g});C.r("akira/components/profile/profileEdit.jsx",function(e,t,i){"use strict";var a=e("prop-types"),r=e("react"),n=e("create-react-class"),s=e("classnames"),l=e("shakti-platform/dist/ui/ShaktiProperties"),o=e("../../../reactMixins/transition"),d=e("../../../common/keyCodes"),c=e("./create/profileTooltip.jsx"),u=e("./profileLangDropdown.jsx"),f=e("./profileMaturityDropdown.jsx"),m=e("../loader/loadingSpinner.jsx"),p=e("../../../reactMixins/falkor-auto-fetch"),h=e("./create/profileAvatar.jsx"),g=e("../../../utils/Routes"),v=e("../../../utils/htmlUtils"),y=e("../../../reactMixins/eventBus"),P=e("../../../common/svgIcon.jsx"),k=e("../../../utils/lolomo/lolomoUtils"),w=e("../../redux/createActionGroup"),E=e("../../redux/profile/profileActions").TYPES,S="discovery/partials/profiles_gate",A=l.get("web.ui.profiles.max"),b=n({displayName:"ProfileEdit",contextTypes:{discoveryApp:a.object.isRequired,getI18nBundle:a.func.isRequired,getI18nString:a.func.isRequired,profileManager:a.object.isRequired},mixins:[o,p],statics:{getPaths:function(e,t,i){return[["profilesList","availableAvatarsList","summary"],["profilesList","availableAvatarsList",{to:20},"summary"],["profilesList","availableAvatarsList",{to:20},"images","byWidth",[320,50]],["profilesList",{to:A},"avatar","summary"],["profilesList",{to:A},"avatar","images","byWidth",50]]}},transitions:{show:{target:"centeredDiv",before:{scale:1.1,opacity:0},scale:1,opacity:1,duration:450,delay:200}},getInitialState:function(){return{showKidsTooltip:!1,newProfileIsForAKid:null,newProfileName:null,newProfileRequested:!1,newProfileAvatarSrc:null,newProfileAvatarName:null,attemptedInvalidEditProfile:!1,attemptedInvalidNewProfile:!1,inAvatarEditMode:!1,isSaving:!1}},componentDidMount:function(){this.refs["profile-name-entry"]&&this.refs["profile-name-entry"].focus()},isValidData:function(){return""!==this.state.newProfileName},inputNameHandler:function(e){this.setState({newProfileName:e.target.value,attemptedInvalidNewProfile:!1})},inputNameKeyDownHandler:function(e){e&&e.which===d.ENTER&&this.clickContinueHandler()},shouldReloadPage:function(e){return this.isActiveProfile()&&this.getInitialLanguage()!==e},clickContinueHandler:function(){var e=this;if(y.emit("profile:editStart"),this.isValidData()){var t=this.props.newProfile,i=t&&t.getValueSync(["summary"]).guid,a=this.state.newProfileName,r=this.state.newProfileAvatarName,n=this.state.newProfileIsForAKid,s=this.refs["language-dropdown"].getCurrentLanguage(),l=this.refs["maturity-dropdown"].getCurrentMaturityKey(),o=void 0;null!==this.state.newProfileIsForAKid&&(o=this.state.newProfileIsForAKid?"jfk":"standard"),this.setState({isSaving:!0});var d=w(this.context.discoveryApp.getActionCreators(),{start:E.editProfile,success:E.editProfileSuccess,failure:E.editProfileFailed});d.dispatchStartAction({profileGuid:i,desiredSettings:{avatarName:r,kids:n,language:s,maturityLevel:l,name:a}}).wrapObservable(this.props.model.call(["profiles",i,"edit"],[a,o,s,r,l],[],[["profilesList","summary"],["profilesList",{to:A},"summary"],["profilesList",{to:A},"avatar","images","byWidth",320]])).subscribe(function(){e.props.newProfile.getValueSync(["editProfileResult"]).success?(y.emit("profile:editEnd",{reason:"success",profileGuid:i,kid:n}),k.clearAllLolomoCookies(i),e.shouldReloadPage(s,l)?location.href=g.manageProfiles.makePath():e.context.profileManager.openEditList()):(d.dispatchFailureAction(),y.emit("profile:editEnd",{profileGuid:i,kid:e.getCurrentKidsSelection()}),e.setState({attemptedInvalidEditProfile:!0,attemptedInvalidNewProfile:!1,isSaving:!1}))})}else this.setState({attemptedInvalidEditProfile:!1,attemptedInvalidNewProfile:!0})},clickCancelHandler:function(){this.context.profileManager.openEditList()},clickDeleteHandler:function(){var e=this.props.newProfile&&this.props.newProfile.getValueSync(["summary"]).guid;this.context.profileManager.openDeleteProfile(this.props.newProfile),y.emit("profile:deleteStart",{profileGuid:e})},clickKidsLabelHandler:function(){this.setState({newProfileIsForAKid:!this.getCurrentKidsSelection()}),this.refs["maturity-dropdown"].handleKidsLabelClick(!this.getCurrentKidsSelection())},checkKidsLabel:function(){this.setState({newProfileIsForAKid:!0})},clickAvatarIconHandler:function(e){this.setState({inAvatarEditMode:!1,newProfileAvatarSrc:e.getValueSync(["images","byWidth",320]),newProfileAvatarName:e.getValueSync(["summary"]).name})},dismissAvatarModal:function(e){this.state.inAvatarEditMode&&this.setState({inAvatarEditMode:!1})},clickAvatarEditIconHandle:function(){this.setState({inAvatarEditMode:!0})},targetValidForTooltip:function(e){return this.refs["add-kids-profile"]&&this.refs["add-kids-profile"].contains(e)||this.refs["add-kids-label"]&&this.refs["add-kids-label"].contains(e)||this.refs["add-kids-marker"]&&this.refs["add-kids-marker"].contains(e)},mouseOverKidsLabel:function(e){this.getTooltip()&&this.targetValidForTooltip(e.target)&&(clearTimeout(this.timeoutHideKidsLabel),this.state.showKidsTooltip||this.setState({showKidsTooltip:!0}))},mouseOutKidsLabel:function(e){var t=this;this.getTooltip()&&!this.targetValidForTooltip(e.relatedTarget)&&(clearTimeout(this.timeoutHideKidsLabel),this.state.showKidsTooltip&&(this.timeoutHideKidsLabel=setTimeout(function(){t.setState({showKidsTooltip:!1})},400)))},getTooltip:function(){var e=this.context.getI18nString(S,"manageProfile.tooltip.kids");return e.indexOf("addProfile")<0&&e},getInitialLanguage:function(){var e=this.props.newProfile;return e&&e.getValueSync(["summary"]).language},getInitialMaturity:function(){var e=this.props.newProfile;return e&&e.getValueSync(["summary"]).maturityLevel},getInitialKidsSelection:function(){var e=this.props.newProfile;return e&&e.getValueSync(["summary"]).isKids},getCurrentProfileName:function(){if(null!==this.state.newProfileName)return this.state.newProfileName;var e=this.props.newProfile;return e&&v.unescapeHtmlCharacters(e.getValueSync(["summary"]).profileName)},getCurrentKidsSelection:function(){if(null!==this.state.newProfileIsForAKid)return this.state.newProfileIsForAKid;var e=this.props.newProfile;return e&&e.getValueSync(["summary"]).isKids},getCurrentAvatar:function(){if(this.state.newProfileAvatarSrc)return this.state.newProfileAvatarSrc;var e=this.props.newProfile;return e&&e.getValueSync(["avatar","images","byWidth",320])},isActiveProfile:function(){var e=this.props.newProfile;return e&&e.getValueSync(["summary"]).isActive},inAvatarEditMode:function(){return this.state.inAvatarEditMode},renderProfileAvatars:function(){var e=this.props.model.bind(["profilesList","availableAvatarsList"]),t=e&&e.getValueSync(["summary"]),i=t&&t.length||20,a=this.props.newProfile.bind(["avatar"]),n=a.getValueSync(["images","byWidth",50]),s=[];n&&s.push(r.createElement("li",{key:"avatar0",role:"listitem",onClick:this.clickAvatarClickHandler(a)},r.createElement(h,{profileAvatarSrc:n})));for(var l=0;l<Math.min(i,20);l++){var o=e.bind([l]);if(o){var d=o.getValueSync(["images","byWidth",50]);d&&s.push(r.createElement("li",{key:"avatar"+(l+1),role:"listitem",onClick:this.clickAvatarClickHandler(o)},r.createElement(h,{profileAvatarSrc:d})))}}return s},clickAvatarClickHandler:function(e){var t=this;return function(){t.clickAvatarIconHandler(e)}},render:function(){var e=this.getTooltip(),t=this.isValidData(),i=!t&&this.state.attemptedInvalidNewProfile,a=this.state.attemptedInvalidEditProfile,n=this.context.getI18nBundle(S),l=this.props.newProfile,o=this.getCurrentAvatar(),d=this.getCurrentKidsSelection(),p=this.getCurrentProfileName(),g=l&&l.getValueSync(["summary"]).isAccountOwner,v=this.getInitialLanguage(l),y=this.getInitialMaturity(l),k=this.props.model.bind(["profilesList"]),w=this.state.inAvatarEditMode,E=s({"profile-button":!0,"preferred-action":!0}),A=s({"main-profile-avatar":!0}),b=s({"name-error":i});return r.createElement("div",{className:"centered-div",ref:"centeredDiv",onClick:this.dismissAvatarModal},r.createElement("div",{className:"profile-actions-container",ref:"edit-profile"},this.state.isSaving?r.createElement("div",{className:"profileSavingMask",key:"profileSavingMask"},r.createElement(m,null)):null,r.createElement("h1",null,n.get("manageProfile.header")),r.createElement("div",{className:"profile-metadata profile-entry"},r.createElement("div",{className:A},r.createElement("div",{className:s("avatar-box")},r.createElement(h,{profileAvatarSrc:o}),r.createElement("div",{className:"avatar-edit-icon",onClick:this.clickAvatarEditIconHandle},r.createElement(P,{name:"edit"})))),r.createElement("div",{className:"profile-edit-parent"},r.createElement("div",{className:"profile-edit-inputs",onMouseOver:this.mouseOverKidsLabel,onMouseOut:this.mouseOutKidsLabel},r.createElement("input",{type:"text",value:p,className:b,ref:"profile-name-entry",placeholder:n.get("manageProfile.placeholder.name"),onChange:this.inputNameHandler,onKeyDown:this.inputNameKeyDownHandler}),!g||this.getInitialKidsSelection()?r.createElement("span",null,r.createElement("input",{type:"checkbox",id:"add-kids-profile",ref:"add-kids-profile",checked:d,onChange:this.NOOP}),r.createElement("label",{htmlFor:"add-kids-profile",ref:"add-kids-label",onClick:this.clickKidsLabelHandler}),r.createElement("span",{className:"add-kids-marker",ref:"add-kids-marker",onClick:this.clickKidsLabelHandler},n.get("manageProfile.label.kids")),e&&this.state.showKidsTooltip?r.createElement(c,{tooltipText:e}):null):null),i?r.createElement("p",{className:"profile-entry-error"},n.get("manageProfile.error.name")):null,a?r.createElement("p",{className:"profile-entry-error"},n.get("manageProfile.error.create")):null,r.createElement("div",{className:"profile-entry-dropdowns"},r.createElement(u,{pqls:u.getPaths(),ref:"language-dropdown",model:k,language:v}),r.createElement(f,{pqls:f.getPaths(),ref:"maturity-dropdown",model:k,onselectKidsMaturity:this.checkKidsLabel,initialMaturityKey:y,isKid:d,isOwner:g})))),w?r.createElement("ul",{className:"avatar-container"},this.renderProfileAvatars()):null,r.createElement("span",{className:E,onClick:this.clickContinueHandler},r.createElement("span",null,n.get("manageProfile.button.save"))),r.createElement("span",{className:"profile-button",onClick:this.clickCancelHandler},r.createElement("span",null,n.get("manageProfile.button.cancel"))),g?null:r.createElement("span",{className:"profile-button",onClick:this.clickDeleteHandler},r.createElement("span",null,n.get("manageProfile.button.delete")))))}});t.exports=b});C.r("akira/components/profile/profileLangDropdown.jsx",function(e,n,t){"use strict";var a=e("prop-types"),r=e("react"),i=e("create-react-class"),o=e("../controls/nfDropdown.jsx"),s=e("lodash"),l=e("../../../reactMixins/falkor-auto-fetch"),g=e("../../../utils/keyboardEventsWrapper"),u=i({displayName:"ProfileLangDropDown",contextTypes:{getI18nBundle:a.func.isRequired,models:a.object.isRequired},statics:{getPaths:function(e,n,t){return[["languages"]]}},getInitialState:function(){return{langIndex:void 0}},mixins:[l],getUserLanguage:function(){var e=this,n=this.props.model,t=n.getValueSync(["languages"]),a=[];return s.forEach(t,function(n,t){var i=n&&n.id,o=n&&n.label;if(i&&o){var s=r.createElement("a",{className:"user-lang-link",key:i,tabIndex:0,role:"link",onClick:e.dropDownClickHandler(t),onKeyDown:g.executeOnEnterOrSpace(e.dropDownClickHandler(t))},o);a.push(s)}}),a},dropDownClickHandler:function(e){var n=this;return function(){n.handleLanguageDropDownChange(e)}},handleLanguageDropDownChange:function(e){this.setState({langIndex:e})},getInitialLanguageIndex:function(){var e=this.getUserLanguage(),n=this.props.language;n.indexOf("-")<0&&(n=n+"-"+s.get(this.context.models,"geo.data.requestCountry.id","US"));for(var t=0;t<e.length;t++){if(e[t].key===n)return t}return-1},getCurrentLanguage:function(){var e=this.getUserLanguage(),n=void 0!==this.state.langIndex?this.state.langIndex:this.getInitialLanguageIndex();return n>=0&&e[n]&&e[n].key},render:function(){var e=this.context.getI18nBundle("discovery/partials/profiles_gate"),n=this.getUserLanguage(),t=void 0!==this.state.langIndex?n[this.state.langIndex]:n[this.getInitialLanguageIndex()];return r.createElement("div",{className:"profileDropDown"},r.createElement("div",{className:"profileDropDown-label"},e.get("languageSelection.dropDownHeader")),r.createElement(o,{options:n,cols:2,widthRestricted:!1,defaultValue:t}))}});n.exports=u});C.r("akira/components/profile/profileLoad.jsx",function(e,r,t){"use strict";var i=e("prop-types"),n=e("react"),a=e("create-react-class"),o=e("classnames"),l=e("../profile/profile.jsx"),s=e("../../../reactMixins/transition"),c=e("../../../reactMixins/eventBus"),p="discovery/partials/profiles_gate",d=a({displayName:"ProfileLoad",contextTypes:{getI18nString:i.func.isRequired,profileManager:i.object.isRequired},mixins:[s],transitions:{show:{target:"loadingProfileWrapper",before:{scale:.6,opacity:0},scale:.4,opacity:1,duration:450},hide:{target:"loadingProfileWrapper",scale:.6,opacity:0,duration:350}},componentDidMount:function(){c.emit("app:interactive")},handleRetry:function(){this.context.profileManager.switchProfile(this.props.newProfile)},renderLoadingError:function(){var e=o({"profile-load-error":!0,"show-error":this.props.errorLoadingProfile});return n.createElement("p",{className:e},this.context.getI18nString(p,"switch.error"),n.createElement("span",{className:"profile-button",onClick:this.handleRetry},n.createElement("span",null,this.context.getI18nString(p,"switch.button.tryAgain"))))},render:function(){var e=this.props.newProfile;return e?n.createElement("div",{ref:"centeredDiv",className:o({"centered-div":!0,"loading-wrapper":!0})},n.createElement("div",null,n.createElement("div",{ref:"loadingProfileWrapper",className:o({"loading-profile-wrapper":!0})},n.createElement("ul",null,n.createElement(l,{useDiv:!0,linked:!1,loading:!0,avatarWidth:320,errorLoadingProfile:this.props.errorLoadingProfile,model:e}))),this.renderLoadingError())):null}});r.exports=d});C.r("akira/components/profile/profileMaturityDropdown.jsx",function(t,e,i){"use strict";var r=t("prop-types"),n=t("react"),a=t("create-react-class"),s=t("../controls/nfDropdown.jsx"),o=t("../../../reactMixins/falkor-auto-fetch"),u=t("../../../utils/keyboardEventsWrapper"),l="discovery/partials/profiles_gate",d=a({displayName:"ProfileLangDropDown",contextTypes:{getI18nBundle:r.func.isRequired},statics:{getPaths:function(t,e,i){return[["maturityRatings"]]}},getInitialState:function(){return{maturityIndex:void 0}},mixins:[o],getMaturityLabels:function(){var t=this.context.getI18nBundle(l),e=[],i=this.getMaturityModel();if(i)for(var r=0;r<=i.length;r++)e.push(t.get("maturityRating."+i[r]));return e},getMaturityModel:function(){var t=this.props.model,e=t&&t.bind(["maturityRatings"]).getBoundValue();return e&&e.value},getMaturityOptions:function(){var t=this.getMaturityModel(),e=this.props.isOwner&&!this.props.isKid?2:0,i=this.props.isKid?1:3,r=this.getMaturityLabels(),a=[];if(t)for(var s=e;s<=i;s++){var o=r[s];if(o){var l=n.createElement("a",{className:"user-lang-link",role:"link",tabIndex:0,key:s,onClick:this.dropDownClickHandler(s),onKeyDown:u.executeOnEnterOrSpace(this.dropDownClickHandler(s))},o);a.push(l)}}return a},handleKidsLabelClick:function(t){var e=t?1:3;this.setState({maturityIndex:e}),this.forceUpdate()},dropDownClickHandler:function(t){var e=this;return function(){e.handleMaturityDropDownChange(t)}},handleMaturityDropDownChange:function(t){this.setState({maturityIndex:t}),t<=1&&this.props.onselectKidsMaturity()},getCurrentMaturityIndex:function(){var t=this.getMaturityModel();return void 0!==this.state.maturityIndex?this.state.maturityIndex:t&&t.indexOf(this.props.initialMaturityKey)},getCurrentMaturityKey:function(){var t=this.getMaturityModel();return t&&t[this.getCurrentMaturityIndex()]},getCurrentMaturityLabel:function(){var t=this.context.getI18nBundle(l);if(void 0===this.state.maturityIndex)return t.get("maturityRating."+this.props.initialMaturityKey);var e=this.getMaturityModel(),i=e&&e[this.getCurrentMaturityIndex()];return i?t.get("maturityRating."+i):t.get("maturityRating."+this.props.initialMaturityKey)},render:function(){var t=this.getMaturityOptions(),e=this.getCurrentMaturityLabel(),i=this.context.getI18nBundle(l);return n.createElement("div",{className:"profileDropDown"},n.createElement("div",{className:"profileDropDown-label"},i.get("maturityRating.dropDownHeader")),n.createElement(s,{options:t,cols:1,widthRestricted:!0,defaultValue:e}))}});e.exports=d});C.r("akira/components/profile/profilesDropDown.jsx",function(e,t,i){"use strict";var r=e("prop-types"),s=e("react"),a=e("create-react-class"),l=e("./profile.jsx"),o=e("../../../reactMixins/falkor-auto-fetch"),n=e("shakti-platform/dist/ui/ShaktiProperties"),m=e("../../../utils/Routes"),c=e("lodash"),f=n.get("web.ui.profiles.max"),u=a({displayName:"ProfilesDropDown",mixins:[o],contextTypes:{getI18nString:r.func.isRequired,models:r.object.isRequired},statics:{getPaths:function(e,t,i){return[["profilesList","summary"],["profilesList",{to:f},["summary","precacheConfig"]],["profilesList",{to:f},"avatar","images","byWidth",32]]}},renderProfiles:function(){for(var e=this.props.model.bind(["profilesList"]),t=e.getValueSync(["summary"]),i=[],r=0;r<Math.min(t.length,f);r++){var a=e.bind([r]);if(a){a.getValueSync(["summary"]).isActive||i.push(s.createElement("li",{className:"sub-menu-item profile",key:"profile"+r,role:"listitem"},s.createElement(l,{isClickable:!0,avatarWidth:32,model:a})))}}return i},render:function(){var e=this.renderProfiles(),t=c.get(this,"context.models.truths.data.currentProfileIsKids"),i=n.get("netflix.ui.akira.manageProfile.enabled")||!1,r=m.profilesManage.makePath();return s.createElement("ul",{className:"sub-menu-list profiles",role:"list","aria-label":this.context.getI18nString("discovery/akira/Chrome","profiles.list.profiles.label")},e,!t&&s.createElement("li",{className:"sub-menu-item profile-link",role:"listitem"},s.createElement("a",{className:"sub-menu-link",href:i?r:"/EditProfiles"},this.context.getI18nString("discovery/akira/Chrome","manage.profiles"))))}});t.exports=u});C.r("akira/components/profile/profilesGate.jsx",function(e,t,i){"use strict";function r(e){return P.inTest(e)?p:c}var s=e("prop-types"),a=e("react"),o=e("create-react-class"),n=e("lodash"),l=e("nf-cons-log"),c=e("./profileChoices.jsx"),p=e("./profileChoicesWithContinueWatching.jsx"),f=e("./profileLoad.jsx"),m=e("./profileCreate.jsx"),d=e("./profileEdit.jsx"),E=e("./profileDelete.jsx"),u=e("../../../reactMixins/falkor-fetch"),g=e("../../../utils/profileManager"),h=e("../../../utils/dynamicMessages/dynamicMessages"),P=e("../../../utils/ab/continueWatchingProfilesGate"),I=o({displayName:"ProfilesGate",contextTypes:{models:s.object},mixins:[u],statics:{getPaths:function(e,t,i){var s=r(e);switch(i&&i.currentView){case g.VIEWS.LIST:case g.VIEWS.MANAGE_PROFILES:case g.VIEWS.RELOADING_PROFILES:return s.getPaths(e,t,i);default:return[["profilesList","summary"],["profilesList",{to:10},"summary"],["profilesList",{to:10},"avatar","images","byWidth",320]]}}},getInitialState:function(){return{animateSwitchingProfilesComplete:!1}},componentDidMount:function(){n.get(this,"context.models.truths.data",{}).dynamicMessagesEnabled&&h.poll(h.pollingTypes.PROFILESGATE).subscribe()},componentWillUnmount:function(){n.get(this,"context.models.truths.data",{}).dynamicMessagesEnabled&&h.stop()},invalidProfileGateState:function(e){var t=r(this.context.models);return l.clientNotifications.notify("profileManagerError",{category:"uiAction",data:{name:"invalidGateView",activeView:e,message:"Invalid profiles gate active view"}}),a.createElement(t,{activeView:g.VIEWS.LIST,model:this.props.model})},renderInnerView:function(e){var t=r(this.context.models),i=e&&e.activeView;switch(i){case g.VIEWS.LIST:case g.VIEWS.MANAGE_PROFILES:return a.createElement(t,{model:this.props.model,activeView:i});case g.VIEWS.LOAD_PROFILE:case g.VIEWS.RELOADING_PROFILES:case g.VIEWS.LOAD_PROFILE_ERROR:return a.createElement(f,{newProfile:e.newProfile,errorLoadingProfile:i===g.VIEWS.LOAD_PROFILE_ERROR});case g.VIEWS.CREATE_PROFILE:return a.createElement(m,{model:this.props.model,getPageChromePaths:this.props.getPageChromePaths,getProfilesGatePaths:I.getPaths,previousView:e.previousView,createKidsProfile:e.createKidsProfile,nextView:e.nextView,copyViewingHistory:e.copyViewingHistory,deleteViewingHistory:e.deleteViewingHistory});case g.VIEWS.UPDATE_PROFILE:return a.createElement(d,{model:this.props.model,pqls:d.getPaths(),newProfile:e.newProfile});case g.VIEWS.DELETE_PROFILE:return a.createElement(E,{profileList:this.props.model,newProfile:e.newProfile});default:return this.invalidProfileGateState(i)}},render:function(){var e=this.props.model.bind(["profilesList"]),t=e.getValueSync(["summary"]);return t&&t.length?a.createElement("div",{className:"profiles-gate-container"},this.renderInnerView(this.props.profileGateAppState)):(l.clientNotifications.notify("profileManagerError",{category:"uiAction",data:{name:"noProfilesSummary",message:"No summary data loaded for profiles gate"}}),null)}});t.exports=I});C.r("akira/components/search/dvdUpsell.jsx",function(e,t,s){"use strict";var r=e("lodash"),l=e("prop-types"),n=e("react"),a=e("create-react-class"),d=e("./hybridDVDDetails.jsx"),c=e("./softUpsellDVDDetails.jsx"),i=e("./hardUpsellDVDDetails.jsx"),o=e("../../../reactMixins/eventBus"),m=a({displayName:"DvdUpsell",contextTypes:{getI18nString:l.func.isRequired,models:l.object.isRequired},statics:{getPaths:function(e,t,s){return[["dvdresult",["id","title","synopsis","isSoftUpsell"]]]}},render:function(){var e=this.props.model,t=e.bind(["dvdresult"]),s=t.bind(["isSoftUpsell"]).getValueSync(["value"]),l=t.getValueSync(["title"]),a=t.getValueSync(["id"]),m=this.props.referenceId,p="https://secure.netflix.com/us/boxshots/large/"+a+".jpg",u=r.get(this.context.models,"userInfo.data").isDVD,v=u||!s?" showDisc":"",h=void 0;return o.emit("search:impression",{referenceId:this.props.referenceId,view:"dvdUpsellResults"}),h=u?n.createElement(d,{model:t,referenceId:m}):s?n.createElement(c,{model:t,referenceId:m}):n.createElement(i,{model:t,referenceId:m}),l?n.createElement("div",{className:"dvdUpsell"},n.createElement("div",{className:"dvdUpsellImg"+v},n.createElement("img",{src:p})),h,n.createElement("div",{className:"dvdParent"},n.createElement("div",{className:"dvdIcon",dangerouslySetInnerHTML:{__html:this.context.getI18nString("discovery/akira/Search","search.dvd.icon.text")}}))):n.createElement("b",null)}});t.exports=m});C.r("akira/components/search/hardUpsellDVDDetails.jsx",function(e,t,s){"use strict";var r=e("prop-types"),l=e("react"),d=e("create-react-class"),i=e("../../../reactMixins/eventBus"),n=e("../../../utils/RouteHelpers"),a=d({displayName:"HardUpsellDVDDetails",contextTypes:{getI18nBundle:r.func.isRequired},getVideoId:function(){return this.props.model&&this.props.model.getValueSync(["id"])},mouseEnterHandler:function(e){i.emit("search:focus",{dvdUpsell:!0,referenceId:this.props.referenceId,entityId:this.getVideoId(),start:!0})},mouseLeaveHandler:function(e){i.emit("search:focus",{dvdUpsell:!0,entityId:this.getVideoId(),referenceId:this.props.referenceId})},onClick:function(e){i.emit("search:DVDUpsellClick",{dvdUpsellClick:!0})},render:function(){var e=this.props.model&&this.props.model.getValueSync(["title"]),t=n.getDVDUpsellURL(this.getVideoId(),"STRWEB_SEARCH"),s=this.context.getI18nBundle("discovery/akira/Search");return l.createElement("div",{className:"dvdUpsellText"},l.createElement("div",{className:"dvdTitle"},s.get("search.dvd.hardupsell.title",{title:e})),l.createElement("div",{className:"dvdUpsellLink",dangerouslySetInnerHTML:{__html:s.get("search.dvd.hardupsell.details",{title:e})}}),l.createElement("a",{href:t},l.createElement("div",{onClick:this.onClick,onMouseEnter:this.mouseEnterHandler,onMouseLeave:this.mouseLeaveHandler,className:"dvdAction"},s.get("search.add.dvds"))))}});t.exports=a});C.r("akira/components/search/hybridDVDDetails.jsx",function(e,t,a){"use strict";var s=e("prop-types"),r=e("react"),i=e("create-react-class"),c=e("../../../utils/Routes"),d=i({displayName:"HybridDVDDetails",contextTypes:{getI18nString:s.func.isRequired},render:function(){var e=this.props.model,t=e&&e.getValueSync(["title"]),a=e&&e.getValueSync(["id"]),s=e&&e.getValueSync(["synopsis"]),i=c.dvdMdp.makePath({id:a});return r.createElement("div",{className:"dvdUpsellText"},r.createElement("div",{className:"dvdTitle"},t),r.createElement("div",{className:"dvdSynopsis"},s),r.createElement("a",{href:i},r.createElement("div",{className:"dvdAction"},this.context.getI18nString("discovery/akira/Search","search.see.dvd.details"))))}});t.exports=d});C.r("akira/components/search/noResults.jsx",function(e,t,s){"use strict";var l=e("prop-types"),r=e("react"),n=e("create-react-class"),a=e("../../akiraContextTypes"),c=e("../../../utils/ab/kidsParityTest"),i=n({displayName:"NoResults",contextTypes:Object.assign({getI18nBundle:l.func.isRequired,models:l.object},a),statics:{getPaths:function(){}},render:function(){var e=this.context.getI18nBundle("discovery/akira/Search"),t=c.kidsProfileWithoutParity(this.context.models);return r.createElement("div",{className:"noResultsWrapper"},r.createElement("div",{className:"noResults"},t?r.createElement("p",null," ",e.get("search.noResults.kids")):[r.createElement("p",null," ",e.get("search.noresults.title",{query:this.props.term})," "),r.createElement("p",null,e.get("search.noresults.suggestions")),r.createElement("ul",null,r.createElement("li",null,e.get("search.noresults.keywords")),r.createElement("li",null,e.get("search.noresults.looking")),r.createElement("li",null,e.get("search.noresults.try")),r.createElement("li",null,e.get("search.noresults.genre")))]))}});t.exports=i});C.r("akira/components/search/searchBox.jsx",function(t,e,s){"use strict";var i=t("prop-types"),r=t("react"),n=t("create-react-class"),o=t("react-dom"),a=t("classnames"),c=t("lodash"),h=t("../../../utils/Routes"),u=t("./searchInput.jsx"),l=t("../../../reactMixins/eventBus"),p=t("../../../reactMixins/browserScroll"),d=t("../../utils/focusUtils"),m=t("../../akiraContextTypes"),f=t("../../utils/linkDefs.jsx"),x=t("../../views/search.jsx"),g=t("../../containers/gallery.jsx"),S=t("shakti-platform/dist/ui/utils/inNode"),y=/^[\x00- !-@[-`{-\u00bf\u00d7\u00f7\u02b9-\u02ff\u2000-\u2bff]*$/,v=/^[\x00- !-@[-`{-\u00bf\u00d7\u00f7\u02b9-\u02ff\u2000-\u2bff]*(?:\d[\x00- !-@[-`{-\u00bf\u00d7\u00f7\u02b9-\u02ff\u2000-\u2bff]*$|[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufdfe-\ufe6f\ufefd-\uffff])/,b="discovery/akira/Search",I=n({displayName:"SearchBox",contextTypes:Object.assign({getI18nString:i.func.isRequired,getModelData:i.func.isRequired,history:i.object.isRequired,models:i.object.isRequired,routeHandler:i.object.isRequired},m),getDefaultProps:function(){return{term:""}},getInitialState:function(){var t=c.get(this.context.models,"geo.data.locale.dir","ltr");return{isOpen:this.props.term,term:this.props.term||"",stringDirection:t}},goBackHistory:function(t){t&&(this.context.history.index+1<=t?this.context.history.replaceState(h.home.makePath()):this.context.history.go(-t))},handleSearchBoxFocus:function(){this.props.handleSearchBoxFocus(!0),this.setState({isOpen:!0})},doClose:function(){var t=this;this.props.handleSearchBoxFocus(!1),this.setState({isOpen:!1,term:""},function(){t.isTermEmpty(t.props.term)||t.setState({isOpen:!0,term:t.props.term})})},closeSearchBox:function(){var t=o.findDOMNode(this);t&&"none"!==getComputedStyle(t).display&&this.refs.searchInput?this.refs.searchInput.close(this.doClose):this.doClose()},resultLengthPath:function(){return this.context.getModelData("truths","useSearchAPIV2",!1)?x.pathPrefix(this.context.models,this.props.term).concat("titles",g.getNumTitlesToFetch(),"length"):["search",encodeURIComponent(this.props.term),"titles","length"]},isRailPage:function(){var t=!this.props.model.pathEvaluator.getValueSync(this.resultLengthPath()),e=this.context.routeHandler.query.personId||this.context.routeHandler.params.personId,s=this.context.routeHandler.query.suggestionId||this.context.routeHandler.params.suggestionId,i=this.context.routeHandler.query.dvdId||this.context.routeHandler.params.dvdId;return(e||s||i)&&!t},isSearchInputFocused:function(){return c.result(this,"refs.searchInput.isFocused",!1)},bodyClicked:function(){var t=this.isSearchInputFocused();this.props.term||t||!this.state.isOpen||this.closeSearchBox()},componentWillMount:function(){S||document.addEventListener("click",this.bodyClicked)},componentWillUnmount:function(){document.removeEventListener("click",this.bodyClicked)},shouldComponentUpdate:function(t,e){return t.term!==this.props.term||e.isOpen!==this.state.isOpen},componentDidUpdate:function(){this.handleSearchInputFocus()},componentDidMount:function(){this.handleSearchInputFocus()},handleSearchInputFocus:function(){!this.isTermEmpty(this.props.term)&&this.isRailPage()||d.focusElement(o.findDOMNode(this.refs.searchInput)),this.isTermEmpty(this.props.term)||this.setState({isOpen:!0})},handleSearchInputBlur:function(){this.isTermEmpty(this.props.term)&&this.state.isOpen&&this.closeSearchBox()},handleClear:function(){this.props.term&&this.state.isOpen&&(this.setState({isOpen:!0}),this.returnToPrevious(1))},returnToPrevious:function(t){var e=t;return this.setState({isOpen:!0}),this.isRailPage()&&e++,this.goBackHistory(e),!1},isTermEmpty:function(t){return!t||t.match(/^\s*$/)},hasSearchTerm:function(){return!this.isTermEmpty(this.state.term)},onSearchBoxClick:function(t){this.isRailPage()&&(this.returnToPrevious(0),t.preventDefault())},forceStringDirection:function(t){return v.test(t)?"ltr":y.test(t)?void 0:"rtl"},handleChange:function(t){var e=this.props.term,s=this.state.term,i=!0;if(-1===[" "].indexOf(t.charAt(0))){l.emit("search:edit",{term:t});var r=this.forceStringDirection(t)||c.get(this.context.models,"geo.data.locale.dir","ltr");if(this.isTermEmpty(t)){if(s)return this.setState({term:t,stringDirection:r}),void this.returnToPrevious(1)}else{p.scrollTo(0,0),this.isTermEmpty(e)&&(i=!1),this.setState({term:t,stringDirection:r});var n=f.getSearchRoute(this.context.models,this.context.isKidsPage).makePath(null,{q:t});i?this.context.history.replaceState(n):this.context.history.pushState(n)}}},render:function(){var t=void 0,e=this.state.term||this.state.isOpen,s=a("icon-close",{empty:!this.props.term}),i=a("searchInput",{isOpen:this.state.isOpen});return t=e?r.createElement("div",{className:i},r.createElement("span",{className:"icon-search"}),r.createElement(u,{term:this.props.term,ref:"searchInput",onChange:this.handleChange,onBlur:this.handleSearchInputBlur,onSearchBoxClick:this.onSearchBoxClick,direction:this.state.stringDirection}),r.createElement("span",{className:s,onClick:this.handleClear})):r.createElement("button",{className:"searchTab",tabIndex:0,onClick:this.handleSearchBoxFocus,"aria-label":this.context.getI18nString(b,"label.search")},r.createElement("span",{className:"icon-search"}),!this.props.hideLabel&&r.createElement("span",{className:"label"},this.context.getI18nString(b,"label.search"))),r.createElement("div",{className:"searchBox"},t)}});e.exports=I});C.r("akira/components/search/searchDVDs.jsx",function(e,t,s){"use strict";var r=e("prop-types"),n=e("react"),a=e("lodash"),i=e("create-react-class"),o=e("../controls/mainViewLink.jsx"),c=e("../../../reactMixins/eventBus"),h=e("../../../utils/Routes"),d=e("../../utils/linkDefs.jsx"),u="discovery/akira/Search",l=function(e){return a.get(e,"truths.data.useSearchAPIV2",!1)?["dvds",20]:["dvds"]},g=i({displayName:"SearchDVDs",contextTypes:{getI18nString:r.func.isRequired,getModelData:r.func.isRequired,models:r.object.isRequired},statics:{getPaths:function(e,t,s){var r=l(e);return a.get(e,"truths.data.useSearchAPIV2",!1)?[r.concat([["length","referenceId"]]),r.concat({to:20},"summary")]:[r.concat([["summary","reference"]]),r.concat({to:20},"summary")]}},hasLoggedImpression:!1,suggestionCount:0,getLength:function(){var e=this.props.model.bind(l(this.context.models));if(this.context.getModelData("truths","useSearchAPIV2",!1))return e.getValueSync(["length"]);var t=e.getValueSync(["summary"]);return t&&t.length},getDVDs:function(){var e=[],t=this.props.model.bind(l(this.context.models)),s=this.getLength(),r=this.context.getModelData("truths","useSearchAPIV2",!1),a=void 0;if(s)for(a=0;a<s;a++){var i=t.bind([a]),c=i.getValueSync(["summary"]),g=c&&c.name.toLowerCase(),m=r?c&&c.entityId:a,p=null;this.props.dvdId===m&&(p="selected"),g&&e.push(n.createElement("li",{key:"dvd"+e+a,className:p},n.createElement(o,{resolver:d.getSearchRoute,query:{q:this.props.term,dvdId:m},onClick:this.props.onRailClick},g)))}var v=this.props.term;return e.push(n.createElement("li",{key:"allDVD"},n.createElement("a",{href:h.dvdSearch.makePath({},{v1:v})},this.context.getI18nString(u,"search.see.all.dvd.results")))),e},getReferenceId:function(){var e=this.props.model.bind(l(this.context.models)),t=this.context.getModelData("truths","useSearchAPIV2",!1)?"referenceId":"reference";return e&&e.getValueSync([t])},logSearchImpression:function(e){var t=void 0;!this.suggestionCount||!e&&this.hasLoggedImpression||(t=this.getReferenceId())&&(c.emit("search:impression",{referenceId:t,view:"dvdResults"}),this.hasLoggedImpression=!0)},componentDidMount:function(){this.logSearchImpression()},componentDidUpdate:function(e,t){var s=e.searchKey!==this.props.searchKey;s&&(this.hasLoggedImpression=!1),this.logSearchImpression(s)},render:function(){var e=this.getDVDs();return this.suggestionCount=e?e.length:0,this.suggestionCount?n.createElement("div",{className:"dvds"},n.createElement("span",{className:"dvdLabel"},this.context.getI18nString(u,"search.dvd.label")),n.createElement("ul",null,e)):null}});t.exports=g});C.r("akira/components/search/searchInput.jsx",function(e,t,n){"use strict";var r=e("lodash"),o=e("prop-types"),s=e("react"),i=e("create-react-class"),a=e("../../../reactMixins/transition"),c=e("../../../reactMixins/eventBus"),h="discovery/akira/Search",u=i({displayName:"SearchInput",mixins:[a],contextTypes:{getI18nString:o.func.isRequired},transitions:{show:{before:{width:"20px",opacity:0},opacity:1,width:null,duration:300},close:{width:"20px",opacity:0,duration:200}},close:function(e){this.runTransition("close",e)},getInitialState:function(){return this.debouncedOnChange=r.debounce(this.props.onChange,20),{placeholder:this.context.getI18nString(h,"search.placeholder")}},onNewSearchTerm:function(e){this.debouncedOnChange(e.target.value)},onFocus:function(e){this.setState({placeholder:this.context.getI18nString(h,"search.placeholder")}),c.emit("search:focus",{term:encodeURI(e.target.value),start:!0})},onBlur:function(e){this.setState({placeholder:""}),c.emit("search:focus",{term:encodeURI(e.target.value)}),this.props.onBlur&&this.props.onBlur(e)},isFocused:function(){return""!==this.state.placeholder},render:function(){return s.createElement("input",{type:"text",onChange:this.onNewSearchTerm,defaultValue:this.props.term,onFocus:this.onFocus,onBlur:this.onBlur,onClick:this.props.onSearchBoxClick,ref:"searchInput",placeholder:this.state.placeholder,"data-search-input":!0,dir:this.props.direction})}});t.exports=u});C.r("akira/components/search/searchPeople.jsx",function(e,t,r){"use strict";var n=e("prop-types"),s=e("react"),o=e("create-react-class"),a=e("lodash"),c=e("../controls/mainViewLink.jsx"),i=e("../../../reactMixins/eventBus"),u=e("../../../utils/Routes"),l=function(e){return a.get(e,"truths.data.useSearchAPIV2",!1)},p=function(e,t){return l(e)?a.get(t.getValueSync([0,"summary"]),"entityId"):a.get(t.getValueSync([0,"person","summary"]),"id")},h=function(e,t){return l(e)?t.getValueSync(["length"]):a.get(t.getValueSync(["summary"]),"length")},m=function(e,t){return Boolean(h(e,t))},g=function(e){return a.get(e,"truths.data.useSearchAPIV2",!1)?["people",10]:["person"]},d=o({displayName:"SearchPeople",contextTypes:{getI18nString:n.func.isRequired,getModelData:n.func.isRequired,models:n.object.isRequired},statics:{getFirstPersonId:p,getNumPeople:h,hasPeople:m,pathPrefix:g,getPaths:function(e,t,r){var n=g(e);return a.get(e,"truths.data.useSearchAPIV2",!1)?[n.concat([["length","referenceId","trackId"]]),n.concat({to:10},"reference","summary"),n.concat({to:10},"summary")]:[n.concat([["summary","reference","trackId"]]),n.concat({to:10},"person","summary"),n.concat({to:10},["referenceId"])]}},hasLoggedImpression:!1,firstResult:null,peopleCount:0,getPeople:function(){var e=this.props.model.bind(g(this.context.models)),t=h(this.context.models,e),r=[],n=this.context.getModelData("truths","useSearchAPIV2",!1),o=void 0;if(this.firstResult=null,!t)return r;for(o=0;o<t;o++){var i=e.bind([o,n?"reference":"person"]),l=i.getValueSync(["summary"]),p=n?a.get(e.getValueSync([o,"summary"]),"entityId"):l.id,m=new RegExp("("+a.escapeRegExp(this.props.term)+")","gi"),d=l&&l.name.replace(m,function(e){return"<strong>"+e+"</strong>"}),f=null;l&&(0===o&&(this.firstResult=i),this.props.personId===p&&(f="selected"),r.push(s.createElement("li",{key:"person"+o,className:f},s.createElement(c,{to:u.search,query:{q:this.props.term,personId:p},onClick:this.props.onRailClick,dangerouslySetInnerHTML:{__html:d}}))))}return r},getReferenceId:function(){var e=this.props.model.bind(g(this.context.models)),t=this.context.getModelData("truths","useSearchAPIV2",!1)?"referenceId":"reference";return e&&e.getValueSync([t])},getFirstResult:function(){return this.firstResult},logSearchImpression:function(e){var t=void 0;!this.peopleCount||!e&&this.hasLoggedImpression||(t=this.getReferenceId())&&(i.emit("search:impression",{referenceId:t,view:"peopleResults"}),this.hasLoggedImpression=!0)},componentDidMount:function(){this.logSearchImpression()},componentDidUpdate:function(e,t){var r=e.searchKey!==this.props.searchKey;r&&(this.hasLoggedImpression=!1),this.logSearchImpression(r)},render:function(){var e=this.getPeople();return this.peopleCount=e?e.length:0,this.peopleCount?s.createElement("div",{className:"people"},s.createElement("span",{className:"peopleLabel"},this.context.getI18nString("discovery/akira/Search","search.people")),s.createElement("ul",null,e)):s.createElement("b",null)}});t.exports=d});C.r("akira/components/search/searchSuggestions.jsx",function(e,t,s){"use strict";var n=e("prop-types"),r=e("react"),i=e("create-react-class"),o=e("lodash"),a=e("../controls/mainViewLink.jsx"),u=e("../../../reactMixins/eventBus"),c=e("../../akiraContextTypes"),g=e("../../utils/linkDefs.jsx"),l=function(e){return o.get(e,"truths.data.useSearchAPIV2",!1)},h=function(e,t){return l(e)?o.get(t.getValueSync([0,"summary"]),"entityId"):0},d=function(e,t){return l(e)?t.getValueSync(["length"]):o.get(t.getValueSync(["summary"]),"length")},m=function(e,t){return Boolean(d(e,t))},p=function(e){return l(e)?["suggestions",20]:["suggestions"]},f=i({displayName:"SearchSuggestions",contextTypes:Object.assign({getI18nString:n.func.isRequired,getModelData:n.func.isRequired,models:n.object.isRequired},c),statics:{getFirstSuggestionId:h,getNumSuggestions:d,hasSuggestions:m,pathPrefix:p,getPaths:function(e,t,s){var n=p(e);return o.get(e,"truths.data.useSearchAPIV2",!1)?[n.concat([["length","referenceId","trackId"]]),n.concat({to:20},"summary")]:[n.concat([["summary","reference","trackId"]]),n.concat({to:20},[["referenceId","summary"]])]}},hasLoggedImpression:!1,suggestionCount:0,getFirstResult:function(){return this.firstResult},getReferenceId:function(){var e=this.props.model.bind(p(this.context.models)),t=this.context.getModelData("truths","useSearchAPIV2",!1)?"referenceId":"reference";return e&&e.getValueSync([t])},getSuggestions:function(){var e=[],t=this.context.getModelData("truths","useSearchAPIV2",!1),s=this.props.model.bind(p(this.context.models)),n=d(this.context.models,s),i=void 0;if(this.firstResult=null,!n)return e;for(i=0;i<n;i++){var o=s.bind([i]),u=o.getValueSync(["summary"]),c=u&&u.name,l=t?u&&u.entityId:i,h=null;0===i&&(this.firstResult=o),this.props.suggestionId===l&&(h="selected"),c&&e.push(r.createElement("li",{key:e+i,className:h},r.createElement(a,{resolver:g.getSearchRoute,query:{q:this.props.term,suggestionId:l},onClick:this.props.onRailClick},c)))}return e},logSearchImpression:function(e){var t=void 0;!this.suggestionCount||!e&&this.hasLoggedImpression||(t=this.getReferenceId())&&(u.emit("search:impression",{referenceId:t,view:"suggestionResults"}),this.hasLoggedImpression=!0)},componentDidMount:function(){this.logSearchImpression()},componentDidUpdate:function(e,t){var s=e.searchKey!==this.props.searchKey;s&&(this.hasLoggedImpression=!1),this.logSearchImpression(s)},render:function(){var e=this.getSuggestions();return this.suggestionCount=e.length,this.suggestionCount?r.createElement("div",{className:"suggestions"},r.createElement("span",{className:"suggestionsLabel"},this.context.getI18nString("discovery/akira/Search","search.suggestions.label")),r.createElement("ul",null,e)):r.createElement("b",null)}});t.exports=f});C.r("akira/components/search/softUpsellDVDDetails.jsx",function(e,t,s){"use strict";var r=e("prop-types"),l=e("react"),i=e("create-react-class"),n=e("../../../reactMixins/eventBus"),d=e("../../../utils/RouteHelpers"),o="discovery/akira/Search",a=i({displayName:"SoftUpsellDVDDetails",contextTypes:{getI18nString:r.func.isRequired},getVideoId:function(){return this.props.model&&this.props.model.getValueSync(["id"])},mouseEnterHandler:function(e){n.emit("search:focus",{dvdUpsell:!0,referenceId:this.props.referenceId,entityId:this.getVideoId(),start:!0})},mouseLeaveHandler:function(e){n.emit("search:focus",{dvdUpsell:!0,entityId:this.getVideoId(),referenceId:this.props.referenceId})},onClick:function(e){n.emit("search:DVDUpsellClick",{dvdUpsellClick:!0})},render:function(){var e=this.props.model&&this.props.model.getValueSync(["title"]),t=d.getDVDUpsellURL(this.getVideoId(),"STRWEB_SEARCH");return l.createElement("div",{className:"dvdUpsellText"},l.createElement("div",{className:"dvdStreamingTitle",dangerouslySetInnerHTML:{__html:this.context.getI18nString(o,"search.dvd.softupsell.title",{title:e})}}),l.createElement("div",{onMouseEnter:this.mouseEnterHandler,onMouseLeave:this.mouseLeaveHandler,onClick:this.onClick,className:"dvdUpsellLink",dangerouslySetInnerHTML:{__html:this.context.getI18nString(o,"search.dvd.softupsell.details",{dvdUpsellUrl:t})}}))}});t.exports=a});C.r("akira/components/title/badge.jsx",function(e,a,t){"use strict";var s=e("react"),n=e("classnames"),r=function(e){return s.createElement("span",{className:n("uhd-badge")},e.label)};a.exports=r});C.r("akira/components/title/basicStarBar.jsx",function(t,a,e){"use strict";var r=(t("prop-types"),t("react")),s=t("create-react-class"),i=t("lodash"),n=t("classnames"),o=t("../../../reactMixins/eventBus"),p=t("../../../utils/XHR"),h=t("../../akiraContextTypes"),l=n("transitionWrap"),c=n("star","clear-rating"),d=s({displayName:"StarBar",contextTypes:h,statics:{starClass:{25:"icon-star-25-percent",50:"icon-star-50-percent",75:"icon-star-75-percent",100:"icon-star"}},getInitialState:function(){return{hoverRating:0,userRating:void 0}},getStarInfo:function(){var t=this.state.hoverRating||this.state.userRating||this.props.userRating||this.props.predictedRating||this.props.reviewRating||0,a=this.state.hoverRating?"hover":this.props.userRating||this.state.userRating?"personal":"default",e=Math.floor(t),r=t%e,s=0;return r>=.25&&(r>=.75?s=75:r>=.5?s=50:r>=.25&&(s=25)),t<0?(t=0,e=0,s=0):t>5&&(t=5,e=5,s=0),{rating:t,ratingType:a,numWholeStars:e,partialStar:s}},handleEnter:function(t){var a=parseInt(t.target.getAttribute("data-rating"),10)||0;a&&this.setState({hoverRating:a})},handleLeave:function(t){this.setState({hoverRating:null})},handleClick:function(t){var a=parseInt(t.target.getAttribute("data-rating"),10)||0;this.props.readOnly&&-2!==a||(t.preventDefault(),t.stopPropagation(),"function"==typeof this.props.onRating&&this.props.onRating(a,this),this.props.videoId&&this.sendRating(a))},sendRating:function(t){!1!==this.props.sendRating&&(o.emit("rating:set",i.assign({rating:t,ratingType:"star",matchScore:null,predictedRating:this.props.predictedRating,videoId:this.props.videoId},this.context,{trackId:this.props.trackId})),p.request({method:"post",data:{},query:{titleid:this.props.videoId,rating:t,trackId:this.props.trackId||this.context.trackId||-1},resource:"/setVideoRating",service:"api",authorize:!0}).subscribe())},createStar:function(t,a,e){var s=this.props,i=s.readOnly,o=s.videoId;return r.createElement("span",{className:n("star",a,e),key:o+"_"+t+e,"data-rating":t,onMouseEnter:i?null:this.handleEnter,onMouseLeave:i?null:this.handleLeave})},renderTooltip:function(){return this.state.hoverRating&&this.props.tooltip?r.createElement("div",{className:n("starbar-tooltip","rating-"+this.state.hoverRating)},this.props.tooltip[this.state.hoverRating-1]):null},getStarMarkup:function(){var t=this.getStarInfo(),a=[],e=[],s=[],i=void 0,n=1;for(i=0;i<t.numWholeStars;i++)a.push(this.createStar(n++,t.ratingType,d.starClass[100]));t.partialStar&&(e.push(this.createStar(n,t.ratingType,d.starClass[t.partialStar])),e.push(this.createStar(n,"sb-placeholder",d.starClass[100])),n++);var o=5-(t.numWholeStars+(t.partialStar?1:0));for(i=0;i<o;i++)s.push(this.createStar(n++,"sb-placeholder",d.starClass[100]));return this.props.canClear&&s.push(r.createElement("span",{className:c,"data-rating":"-2",onClick:this.handleClick},"×")),{left:a,mid:e,right:s}},render:function(){var t={starbar:!0,hasClearRating:!0===this.props.canClear,lightBackground:!0===this.props.lightBackground,readOnly:!0===this.props.readOnly};this.props.extraClass&&(t[this.props.extraClass]=!0);var a=this.getStarMarkup();return r.createElement("div",{className:n(t),onClick:this.handleClick,"aria-hidden":!0},this.renderTooltip(),a.left,a.mid.length?r.createElement("div",{className:l},a.mid):null,a.right)}});a.exports=d});C.r("akira/components/title/copyright.jsx",function(t,e,r){"use strict";var s=(t("prop-types"),t("react")),a=t("create-react-class"),l=t("classnames"),c=t("lodash"),i=t("../../../utils/pathEvaluatorUtils"),n=a({displayName:"Copyright",statics:{getPaths:function(t,e,r){return[["copyright"]]}},getDefaultProps:function(){return{classSet:{}}},render:function(){var t=this.props.model.getValueSync(["copyright"]),e=c.merge({"video-copyright":!0},this.props.classSet);return null===t||i.isValueError(t)?null:s.createElement("div",{className:l(e)},s.createElement("div",null,t))}});e.exports=n});C.r("akira/components/title/duration.jsx",function(t,e,s){"use strict";var n=t("lodash"),r=t("prop-types"),a=t("react"),o=t("create-react-class"),i=t("classnames"),u=t("../../utils/setDataAsProps.jsx"),p=t("../../../components/string.jsx"),c="discovery/akira/Common",l=u(o({displayName:"Duration",contextTypes:{getI18nBundle:r.func.isRequired,getModelData:r.func},statics:{getPaths:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{myPaths:{runtime:["runtime"]},childrenPaths:[]}}},getDefaultProps:function(){return{seasonLabelKey:"Season"}},getMicrodata:function(){if(this.props.runtime){var t=this.getISO8601Duration(this.props.runtime);return a.createElement("meta",{itemProp:"duration",content:t})}return this.props.seasonCount?a.createElement("meta",{itemProp:"numberOfSeasons",content:this.props.seasonCount}):null},getFormattedDuration:function(t){var e=this.context.getI18nBundle(c),s=parseInt(t/60,10),r=parseInt(s/60,10),a=parseInt(s%60,10),o=e.get("duration.hours",{hours:r}),i=e.get("duration.minutes",{minutes:a}),u="onlyMinutes"===n.get(this.context.getModelData("geo"),"locale.durationFormat","hoursAndMinutes");return this.props.onlyInMinutes||u?s>0?e.get("duration.minutes",{minutes:s}):"":(r>0?o:"")+(r>0&&a>0?" ":"")+(a>0?i:"")},getISO8601Duration:function(t){var e=parseInt(t/60,10);return"T"+parseInt(e/60,10)+"H"+parseInt(e%60,10)+"M"},render:function(){var t="duration."+this.props.seasonLabelKey,e=this.props.showMicrodata?this.getMicrodata():null,s=i("duration",this.props.extraClasses),n=void 0;return this.props.runtime?(n=this.getFormattedDuration(this.props.runtime),a.createElement("span",{className:s},n,e)):this.props.seasonCount?(n=this.props.numSeasonsLabel?this.props.numSeasonsLabel:a.createElement(p,{bundle:c,stringKey:t,stringParams:{numSeasons:this.props.seasonCount},className:"test_dur_str"}),a.createElement("span",{className:s},n,e)):null}}));e.exports=l});C.r("akira/components/title/dvdAvailability.jsx",function(e,t,i){"use strict";function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=e("prop-types"),l=e("react"),n=e("create-react-class"),d=e("classnames"),r=e("../../akiraContextTypes"),o=e("../../../utils/dvdApi"),c=e("../../../utils/Routes"),v="discovery/akira/JawBone",u=n({displayName:"DVDAvailability",contextTypes:Object.assign({getI18nString:s.func.isRequired},r),successRetrievingRentability:function(e){e&&(this.props.model.setValueSync(["dvdAvailable"],!!e.dvdAvailable),this.props.model.setValueSync(["dvdSaveable"],!!e.dvdSaveable),this.isMounted()&&this.setState(a({},this.props.videoId,!0)))},getAvailability:function(){void 0===this.props.model.getValueSync(["dvdAvailable"])&&o.getRentabilityInfo(this.props.videoId,this.props.isShow).subscribe(this.successRetrievingRentability)},componentWillMount:function(){this.getAvailability()},componentWillReceiveProps:function(){this.getAvailability()},render:function(){var e=this.props.model;if(!e)return null;var t=e.getValueSync(["dvdAvailable"]),i=e.getValueSync(["dvdSaveable"]);if(t||i){var a=c.dvdMdp.makePath({id:this.props.videoId},{trkid:this.context.trackId});return l.createElement("a",{className:d("dvd-availability"),href:a},l.createElement("span",{className:d("icon-disc disc")}),t?l.createElement("span",{className:d("dvdAvailable")},this.context.getI18nString(v,"details.also.available.on.dvd")):null,!t&&i?l.createElement("span",{className:d("dvdSaveable")},this.context.getI18nString(v,"details.save.to.queue")):null)}return null}});t.exports=u});C.r("akira/components/title/falkorStarBar.jsx",function(t,r,e){"use strict";var a=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},n=(t("prop-types"),t("react")),i=t("create-react-class"),s=t("./basicStarBar.jsx"),o=i({displayName:"FalkorStarBar",getDefaultProps:function(){return{userRatingOnly:!1}},updateFalkorCacheWithRating:function(t){this.props.model.bind(["userRating"]).getBoundValue().userRating=t,this.isMounted()&&this.forceUpdate(),"function"==typeof this.props.onRating&&this.props.onRating(t)},render:function(){var t=this.props.model,r=t.getValueSync(["summary"]),e=t.getValueSync(["userRating"]);return r&&e?n.createElement(s,a({},this.props,{videoId:r.id,predictedRating:!this.props.userRatingOnly&&e&&e.predicted,userRating:e&&e.userRating,onRating:this.updateFalkorCacheWithRating})):null}});r.exports=o});C.r("common/svgIcon.jsx",function(e,a,r){"use strict";var t=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},l=e("classnames"),n=(e("prop-types"),e("react")),o=e("create-react-class"),s=["chevron-down","add","check","episodes","play","thumb-up","thumb-down","thumb-up-filled","thumb-down-filled","edit","grips","moveToTop","close","down-arrow-small","mylist-add","mylist-added","nmodp-play-button","n-logo","facebook-logo","instagram-logo","twitter-logo","youtube-logo","rows","grid","uma-plan-selector-selected","uma-plan-selector-not-selected","maturity-rating-KR-KMRB-35","maturity-rating-KR-KMRB-70","maturity-rating-KR-KMRB-95","maturity-rating-KR-KMRB-124","maturity-advisory-KR-KMRB-lewdness","maturity-advisory-KR-KMRB-harmful-themes","maturity-advisory-KR-KMRB-profanity","maturity-advisory-KR-KMRB-violence","maturity-advisory-KR-KMRB-immatatable-behaviors","maturity-advisory-KR-KMRB-fear","maturity-advisory-KR-KMRB-drugs","bvuiExit","bvuiFullScreenOff","bvuiFullScreenOn","nfplayerReplay","nfplayerCheck","nfplayerExit","nfplayerBack","nfplayerFullscreen","nfplayerNextEpisode","nfplayerPause","nfplayerPauser","nfplayerPlay","nfplayerStop","nfplayerMdx","nfplayerMdxFull","nfplayerOpticalCenterPause","nfplayerOpticalCenterPlay","nfplayerSubtitles","nfplayerWindowed","nfplayerEpisodes","nfplayerBackTen","volumeMuted","volumeLow","volumeMedium","volumeMax","netflixLogo","playerShare"],i=o({displayName:"SVGIcon",getDefaultProps:function(){return{classes:{},attributes:{},preventFocus:!1}},render:function(){var e=this.props,a=e.attributes,r=e.classes,o=e.filter,i=e.name,u=e.preventFocus;return s.indexOf(i)>-1&&n.createElement("svg",t({},a,{className:l("svg-icon","svg-icon-"+i,r),focusable:!u,key:i}),n.createElement("use",{filter:o?"url("+o+")":"",xlinkHref:"#"+i}))}});a.exports=i});C.r("node_modules/shakti-platform/dist/ui/ShaktiProperties.js",function(e,t,i){"use strict";t.exports={_client:null,setClient:function(e){this._client=e},_clientCheck:function(){if(!this._client)throw new Error("attempting to use ShaktiProperties before the properties client has been initialized.\nThis may mean you should defer your require until needed vs at the top of file.")},get:function(e){return this._clientCheck(),this._client.get(e)},getRawValue:function(e){return this._clientCheck(),this._client.getRawValue(e)},isReady:function(){return null!==this._client}}});C.r("node_modules/shakti-platform/dist/ui/utils/inNode.js",function(o,t,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},r=!1;try{r="object"===("undefined"==typeof process?"undefined":n(process))&&"[object process]"===Object.prototype.toString.call(process)||"undefined"==typeof window}catch(o){}t.exports=r});C.r("reactMixins/eventBus.js",function(t,e,i){"use strict";var n=t("shakti-platform/dist/ui/ShaktiProperties"),r=t("shakti-platform/dist/ui/utils/inNode");e.exports={_getListenerMap:function(){return this.listenerMap||(this.listenerMap={}),this.listenerMap},_addEvent:function(t,e,i){if(r){if(!1===n.get("PRODUCTION"))throw new Error("Attempted to use EventBus on the server")}else{var s=this._getListenerMap(),o=s[t];o||(s[t]=[],o=s[t]),o.push({listener:e,once:i})}},on:function(t,e){return this._addEvent(t,e,!1),this},once:function(t,e){return this._addEvent(t,e,!0),this},removeListener:function(t,e){var i=this._getListenerMap(),n=i[t];return n&&(n=n.filter(function(t){return t.listener!==e}),i[t]=n),this},emit:function(t){var e=this._getListenerMap(),i=e[t],n=Array.prototype.slice.call(arguments),r=this;i&&(n.shift(),i.forEach(function(t){t.listener.apply(r,n)}),i=i.filter(function(t){return!t.once}),e[t]=i)}}});C.r("akira/components/title/matchScore.jsx",function(t,e,n){"use strict";var a=t("prop-types"),r=t("react"),s=t("create-react-class"),i=t("../../../reactMixins/eventBus"),c=t("../../../common/svgIcon.jsx"),o=t("classnames"),m="discovery/akira/Common",u=s({displayName:"MatchScore",contextTypes:{getI18nString:a.func.isRequired},getInitialState:function(){return{wasUpdated:!1}},componentDidMount:function(){i.on("rating:set",this.onRating)},componentWillUnmount:function(){i.removeListener("rating:set",this.onRating)},onRating:function(t){this.isMounted()&&"thumb"===t.ratingType&&this.setState({wasUpdated:!0})},renderMatchScore:function(t,e){return t?r.createElement("span",{className:"match-score"},this.context.getI18nString(m,"rating.new")):e?r.createElement("span",{className:"match-score"},this.context.getI18nString(m,"rating.match",{matchScore:e})):null},render:function(){var t=this.props.model.getValueSync(["userRating"]),e=void 0,n=void 0,a=void 0;if(t&&(e=t.matchScore,n=t.userRating,a=t.tooNewForMatchScore,"thumb"===t.type)){var s={"rating-wrapper":!0,"no-rating":!(e||a)&&0===n},i="show-match-score";return 1!==n&&2!==n||(i=1===n?"show-thumb-down":"show-thumb-up"),r.createElement("span",{className:o(s)},r.createElement("div",{className:i+" rating-inner"+(this.state.wasUpdated?" updated":"")},this.renderThumb("thumb-down-filled","thumb-down"),this.renderThumb("thumb-up-filled","thumb-up"),this.renderMatchScore(a,e)))}return null},renderThumb:function(t,e){if(!t)return null;var n={thumb:!0},a="meta-thumb-container "+(e||"");return n[t]=!0,r.createElement("div",{className:a,key:t+"-container"},r.createElement(c,{name:t,key:t,classes:n}))}});e.exports=u});C.r("akira/components/title/maturityRating.jsx",function(t,e,i){"use strict";var r=t("prop-types"),n=t("react"),a=t("create-react-class"),s=t("lodash"),o=t("./complexMaturityAdvisories.jsx"),u=t("../../../utils/Routes"),c=t("../../../common/svgIcon.jsx"),l="discovery/akira/Title",m={NL:{707:"violence",708:"fear-anxiety",709:"sex",710:"discrimination",711:"drug-or-alcohol",712:"profanity"}},g=["NL"],p=["BR","GB","NL","KR"],y=["KR"],h=["GB","NL"],d=a({displayName:"MaturityRating",statics:{getPaths:function(){return[["maturity"]]}},contextTypes:{getI18nString:r.func.isRequired,models:r.object},getCountryGraphicClass:function(t,e){return"NL"===t?"nf-icon-button-icon icon-nicam-"+e:"maturity-rating-"+t+" maturity-rating-"+t+"-"+e},getCountrySVGIcon:function(t,e,i){return-1!==y.indexOf(t)?"maturity-rating-"+t+"-"+e+"-"+i:null},getMaturityGraphic:function(t,e){var i=s.get(t,"rating.value",""),r=i&&i.toUpperCase(),a=s.get(t,"rating.board",""),o=a&&a.toUpperCase(),l=s.get(t,"rating.maturityLevel"),m=-1!==g.indexOf(e),d=this.props.useCountryStyling&&-1!==p.indexOf(e),f=this.props.useCountryStyling&&-1!==y.indexOf(e),v=void 0,S=void 0;if(r){if(m||d)if(f){var x=this.getCountrySVGIcon(e,o,l);x&&(S=n.createElement(c,{name:x}))}else v="maturity-custom-styling "+this.getCountryGraphicClass(e,r),-1===h.indexOf(e)&&(S=r);else v="maturity-number",S=r;return this.props.withLinkToDetail?n.createElement("a",{key:"maturity-graphic",href:u.helpRatings.makePath(),className:v},S):n.createElement("span",{key:"maturity-graphic",className:v},S)}return null},getReasons:function(t,e){var i=t&&t.rating&&t.rating.reasons;return i&&i.length?i.map(function(t,i){var r=m[e]&&m[e][t.id];return r?n.createElement("span",{key:"maturity-reason-"+i,className:"maturity-reason nf-icon-button-icon icon-nicam-"+r}):null}):null},getDescription:function(t){return t&&t.rating&&t.rating.maturityDescription},renderSouthKoreaCustomStyling:function(t,e){var i=this.getDescription(t);return n.createElement("div",null,this.props.showLabel&&n.createElement("div",{className:"maturity-rating-label"},this.context.getI18nString(l,"maturity.rating.label")),n.createElement("div",{className:"maturity-rating inline-rating"},this.getMaturityGraphic(t,e),n.createElement("span",{className:"maturityDescription"},i)),n.createElement(o,{maturity:t,country:e}))},renderStandardStyling:function(t,e){var i=this.getDescription(t),r=s.get(t,"rating.value",""),a=[];return this.props.showLabel&&r&&a.push(n.createElement("div",{key:"maturityRatingLabel",className:"maturity-rating-label"},this.context.getI18nString(l,"maturity.rating.label"))),a.push(this.getMaturityGraphic(t,e)),this.props.withReasons&&a.push(this.getReasons(t,e)),this.props.withDescription&&i&&a.push(n.createElement("p",{key:"maturity-description",className:"maturityDescription"},i)),n.createElement("span",{className:"maturity-rating"},a)},render:function(){var t=this.props.model,e=t.getValueSync(["maturity"]),i=s.get(this.context.models,"geo.data"),r=s.get(i,"requestCountry.id","").toUpperCase();return e?"KR"===r&&this.props.useCountryStyling?this.renderSouthKoreaCustomStyling(e,r):this.renderStandardStyling(e,r):null}});e.exports=d});C.r("akira/components/title/myListButton.jsx",function(t,e,i){"use strict";var s=t("prop-types"),o=t("react"),n=t("create-react-class"),a=t("lodash"),r=t("../controls/iconButton.jsx"),l=t("../controls/flatButton.jsx"),p=t("../controls/svgButton.jsx"),u=t("../../../reactMixins/eventBus"),d=t("../../akiraContextTypes"),h=t("shakti-platform/dist/ui/ShaktiProperties"),c=t("../../../utils/mylist_utils"),m={inMyList:"inMyList",notInMyList:"notInMyList",adding:"adding",removing:"removing",error:"error"},y={general:"button.secondary.mylist",save:"button.secondary.save",inMyList:"my.list.remove",notInMyList:"my.list.add",adding:"my.list.adding",removing:"my.list.removing",error:"my.list.error"},g=n({displayName:"MyListButton",contextTypes:Object.assign({falcorModel:s.object,getI18nString:s.func.isRequired,models:s.object},d),pqls:{summary:["summary"],queue:["queue"],data:["data"],titleState:["titleState"],availability:["availability"]},toLabel:function(t){return this.context.getI18nString("discovery/akira/Common",y[t])},getAppStateModel:function(t){return this.context.falcorModel.bind(["appstate"].concat(t))},getTitleState:function(){var t=this.props.model,e=t.getValueSync(this.pqls.queue),i=e&&e.inQueue,s=t.getValueSync(this.pqls.summary),o=this.props.videoId||s&&s.id,n=this.getAppStateModel(["videos",o]),a=n.getValueSync(this.pqls.titleState),r=m.notInMyList;return a?r=a:!a&&i&&(r=m.inMyList),r},setTitleState:function(t,e,i){var s=this.props.model,o=e||this.props.videoId;o||(o=s.getValueSync(this.pqls.summary)&&s.getValueSync(this.pqls.summary).id);var n=["videos",o],r=this.getAppStateModel(n);r.setValueSync(this.pqls.data,n),r.setValueSync(this.pqls.titleState,t),t||void 0===i||(i?u.emit("myList:remove:end",a.assign({},this.context,this.props)):u.emit("myList:add:end",a.assign({},this.context,this.props)),"function"==typeof this.props.onStateChange&&this.props.onStateChange(i)),this.isMounted()&&this.forceUpdate()},getLabel:function(){var t=this.getTitleState();return this.props.showToolTip||t!==m.inMyList&&t!==m.notInMyList||(t="save"===this.props.label?"save":"general"),this.toLabel(t)},toggleQueue:function(t){t.stopPropagation(),t.preventDefault(),this.props.onClick&&this.props.onClick(t);var e=this.props.model,i=e.getValueSync(this.pqls.summary),s=this.props.videoId||i&&i.id,o=e.getValueSync(this.pqls.queue),n=o&&o.inQueue,r=this.context.trackId||this.props.trackId||0,l=this.setTitleState.bind(this,null,s,n),p=this.errNext.bind(this,s,n);n?(u.emit("myList:remove:start",a.assign({},this.context,this.props)),this.setTitleState(m.removing),c.removeFromList(this.context.discoveryApp.getActionCreators(),s,r,{lolomoId:this.context.lolomoId}).subscribe(l,p)):(u.emit("myList:add:start",a.assign({},this.context,this.props)),this.setTitleState(m.adding),c.addToList(this.context.discoveryApp.getActionCreators(),s,r,{lolomoId:this.context.lolomoId}).subscribe(l,p))},errNext:function(t,e){this.setTitleState("error",t,e),setTimeout(function(){this.setTitleState(null,t,e)}.bind(this),2e3)},render:function(){var t=this.props.model.getValueSync(this.pqls.summary),e=this.props.model.getValueSync(this.pqls.queue),i=this.props.model.getValueSync(this.pqls.availability),s=t&&t.isOriginal,n=i&&i.isPlayable,u=this.props.isComingSoon,d=this.props.forceDisplay,c=a.get(this,"context.models.truths.data.currentProfileIsKids"),m=h.get("netflix.ui.akira.kids.mylist.enabled");if(c&&!m)return null;if(!(s||n||u||d))return null;if(!e&&!u)return null;var y=this.getLabel();if(this.props.flatButton)return o.createElement(l,{icon:e&&e.inQueue?"mylist-added":"mylist-add",label:y,ariaLabel:y,isTooltip:this.props.showToolTip,isPrimaryBtn:this.props.isPrimaryBtn,onClick:this.toggleQueue,tabIndex:this.props.tabIndex});if(this.props.svgButton){var g=e&&e.inQueue?"mylist-added":"mylist-add";return o.createElement(p,{icon:g,extraClass:"mylist-button",label:y,showToolTip:this.props.showToolTip,onClick:this.toggleQueue})}return o.createElement(r,{extraClass:"mylist-button",icon:e&&e.inQueue?"mylist-added":"mylist-add",label:y,tooltip:this.props.showToolTip,onClick:this.toggleQueue,tabIndex:this.props.tabIndex})},statics:{getPaths:function(t,e,i){return[["summary"],["queue"],["data"],["titleState"],["availability"]]}}});e.exports=g});C.r("akira/containers/modal/modalManager.jsx",function(e,t,n){"use strict";var o=e("prop-types"),a=e("react"),i=e("create-react-class"),s=e("react-dom"),r=e("lodash"),l=e("../../../reactMixins/eventBus"),d=e("../timeoutTransition/timeoutTransitionGroup.jsx"),m=e("../../../common/nfNamespace"),c={CLOSE:"modal:close:",OPEN:"modal:open:",UPDATE:"modal:update:"},u={node:null,modalFactory:null,currentModal:null,currentConfig:null,_init:function(){this.node||(this.node=document.createElement("div"),document.body.insertBefore(this.node,document.body.firstChild),this.modalFactory=a.createFactory(p))},open:function(e,t){this._init();var n=this;if(!n.currentConfig){n.currentConfig=r.assign({name:"unnamed",disableDismiss:!1,additionalClasses:[],contentProps:{}},t),n.currentModal=a.createElement(e,n.currentConfig.contentProps);var o=n.modalFactory({modalDismiss:n.closeOpenModal,modalUpdate:n._update,modalDisableDismiss:n.currentConfig.disableDismiss,pathEvaluator:window&&window.pathEvaluator},n.currentModal);m.appContext&&m.appContext.provideAppContextToElement&&(o=m.appContext.provideAppContextToElement(o)),s.render(o,n.node),l.emit(c.OPEN+n.currentConfig.name,{name:n.currentConfig.name})}}};u._update=function(e){l.emit(c.UPDATE+u.currentConfig.name,e)},u.closeOpenModal=function(e){e=e||{},u.node&&s.unmountComponentAtNode(u.node);var t=u.currentConfig&&u.currentConfig.name;u.currentConfig=null,l.emit(c.CLOSE+t,e)};var p=i({displayName:"ModalElement",contextTypes:{models:o.object},childContextTypes:{modalDismiss:o.func,modalUpdate:o.func,modalDisableDismiss:o.bool,pathEvaluator:o.object},getChildContext:function(){return{modalDismiss:this.props.modalDismiss,modalUpdate:this.props.modalUpdate,modalDisableDismiss:this.props.modalDisableDismiss,pathEvaluator:this.props.pathEvaluator}},getInitialState:function(){return{shown:!1}},componentDidMount:function(){this.setState({shown:!0})},onMarginClick:function(){this.props.modalDisableDismiss||this.props.modalDismiss({event:"marginDismiss",data:{}})},render:function(){var e=r.get(this.context.models,"geo.data"),t=r.get(e,"locale.hasExtendedDiacritics",!1),n=t?"extended-diacritics-language ":"",o="nf-modal "+n+u.currentConfig.additionalClasses.join(" "),i=r.get(this.context.models,"geo.data.locale.dir","ltr");return a.createElement(d,{className:o,component:"div",transitionName:"modal",enterTimeout:450,leaveTimeout:0},this.state.shown?a.createElement("div",{className:"nf-modal-background",ref:"modalBackground",onClick:this.onMarginClick,key:"modalBackground"}):null,this.state.shown?a.createElement("div",{className:"nf-modal-content",ref:"modalContent",key:"modalContent",dir:i},u.currentModal):null)}});t.exports=u});C.r("akira/containers/modal/modalContent.jsx",function(s,e,o){"use strict";var t=s("prop-types"),n=s("react"),l=s("create-react-class"),a=s("../../utils/scrollLock"),i=l({displayName:"ModalContent",getDefaultProps:function(){return{useScrollLock:!0}},contextTypes:{modalDismiss:t.func,modalUpdate:t.func,modalDisableDismiss:t.bool},_makeComponent:function(s,e){if(this.props[s]){var o="nf-modal-"+s;return n.createElement("div",{className:o,ref:e||null},this.props[s])}return null},_cornerDismiss:function(){this.context.modalDismiss({event:"cornerDismiss",data:{}})},componentDidMount:function(){this.props.useScrollLock&&!this.props.customBody&&(this.scrollLimit=a.scrollLock(this.refs["modal-body"]))},componentWillUnmount:function(){a.scrollUnlock(this.scrollLimit)},render:function(){return n.createElement("div",{className:"nf-modal-content-wrapper"},n.createElement("div",{className:"nf-modal-dismiss"},this.context.modalDisableDismiss?null:n.createElement("button",{className:"nf-modal-dismiss-btn",onClick:this._cornerDismiss,"aria-label":"close",tabIndex:"1"},n.createElement("span",{className:"close-button icon-close"}))),this._makeComponent("header"),this.props.header?n.createElement("hr",{className:"nf-modal-hr"}):null,this.props.customBody?this.props.customBody:this._makeComponent("body","modal-body"),n.createElement("hr",{className:"nf-modal-hr"}),this._makeComponent("footer"))}});e.exports=i});C.r("akira/utils/scrollLock.js",function(e,o,t){"use strict";function n(e,o){var t=e.scrollTop,n=e.scrollHeight,l=e.offsetHeight,c=o.deltaY,d=o.target;(!e.contains(d)||t<=0&&c<=0||t>=n-l+r&&c>=0)&&o.preventDefault()}var l=e("react-dom"),r=-1,c={scrollLock:function(e){if(!e)return null;var o=l.findDOMNode(e),t=n.bind(null,o);return document.body.addEventListener("wheel",t),document.body.style.overflow="hidden",t},scrollUnlock:function(e){e&&(document.body.removeEventListener("wheel",e),document.body.style.overflow="auto")}};o.exports=c});C.r("akira/containers/modal/rating.jsx",function(e,t,n){"use strict";var r=e("prop-types"),a=e("react"),i=e("create-react-class"),o=e("./modalContent.jsx"),l=e("../../../common/svgIcon.jsx"),s="discovery/akira/Messaging",m=i({displayName:"WelcomeToRating",contextTypes:{getI18nBundle:r.func.isRequired,modalDismiss:r.func,modalUpdate:r.func},buildThumbUpPortion:function(){var e=this.context.getI18nBundle(s);return a.createElement("div",{className:"rating-portion"},a.createElement("h3",null,this.renderThumb("thumb-up"),e.get("rating.show.more.headline")),a.createElement("p",null,e.get("rating.show.more.body")))},buildThumbDownPortion:function(){var e=this.context.getI18nBundle(s);return a.createElement("div",{className:"rating-portion"},a.createElement("h3",null,this.renderThumb("thumb-down"),e.get("rating.show.fewer.headline")),a.createElement("p",null,e.get("rating.show.fewer.body")))},buildModal:function(){var e=this.context.getI18nBundle(s),t=1===this.props.thumbNumber;return a.createElement("div",{className:"rating-overlay"},a.createElement("div",{className:"rating-description"},a.createElement("h2",{dangerouslySetInnerHTML:{__html:e.get("rating.headline",{name:this.props.firstName})}}),a.createElement("p",{className:"rating-headline-body"},e.get("rating.body")),t?this.buildThumbDownPortion():this.buildThumbUpPortion(),t?this.buildThumbUpPortion():this.buildThumbDownPortion(),a.createElement("button",{className:"nf-flat-button",onClick:this.context.modalDismiss},e.get("rating.action"))))},renderThumb:function(e){var t={thumb:!0};return t[e]=!0,a.createElement(l,{key:e,name:e+"-filled",classes:t})},render:function(){return a.createElement(o,{body:this.buildModal()})}});t.exports=m});C.r("akira/containers/timeoutTransition/timeoutTransitionGroup.jsx",function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=e("lodash"),a=e("prop-types"),o=e("react"),s=e("create-react-class"),p=e("react-transition-group/TransitionGroup"),u=e("./timeoutTransitionGroupChild.jsx"),l=s({displayName:"TimeoutTransitionGroup",propTypes:{enterTimeout:a.number.isRequired,leaveTimeout:a.number.isRequired,enterDelayMs:a.number,leaveDelayMs:a.number,afterTransitionEnter:a.func,afterTransitionLeave:a.func,beforeTransitionEnter:a.func,beforeTransitionLeave:a.func,transitionName:a.string.isRequired,transitionAppear:a.bool,transitionEnter:a.bool,transitionLeave:a.bool},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return o.createElement(u,{enterTimeout:this.props.enterTimeout,leaveTimeout:this.props.leaveTimeout,afterTransitionEnter:this.props.afterTransitionEnter,afterTransitionLeave:this.props.afterTransitionLeave,beforeTransitionEnter:this.props.beforeTransitionEnter,beforeTransitionLeave:this.props.beforeTransitionLeave,enterDelayMs:this.props.enterDelayMs,leaveDelayMs:this.props.leaveDelayMs,name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave},e)},render:function(){return o.createElement(p,n({},i.omit(this.props,["enterTimeout","leaveTimeout","enterDelayMs","afterTransitionLeave"]),{childFactory:this._wrapChild}))}});t.exports=l});C.r("akira/containers/timeoutTransition/timeoutTransitionGroupChild.jsx",function(i,t,n){"use strict";function e(){return 0!==u.length}var s=(i("prop-types"),i("react")),o=i("create-react-class"),a=i("react-dom"),r=i("shakti-platform/dist/ui/utils/inNode"),p={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},u=[];!function(){if(!r){var i=document.createElement("div"),t=i.style;"AnimationEvent"in window||delete p.animationend.animation,"TransitionEvent"in window||delete p.transitionend.transition;for(var n in p)if(p.hasOwnProperty(n)){var e=p[n];for(var s in e)if(s in t){u.push(e[s]);break}}}}();var m=o({displayName:"TimeoutTransitionGroupChild",transition:function(i,t){if(!this.isMounted())return void("function"==typeof t&&t());var n=a.findDOMNode(this),s=this,o=this.props.name+"-"+i,r=o+"-active",p=(this.props.leaveDelayMs||0)+this.props.leaveTimeout,u=(this.props.enterDelayMs||0)+this.props.enterTimeout,m=function(){n.classList.remove(o),n.classList.remove(r),"enter"!==i&&"appear"!==i||!s.props.afterTransitionEnter?"leave"===i&&s.props.afterTransitionLeave&&s.props.afterTransitionLeave(n):s.props.afterTransitionEnter(n),"function"==typeof t&&t()};e()?"enter"===i||"appear"===i?(this.props.beforeTransitionEnter&&this.props.beforeTransitionEnter(n),this.animationTimeout=setTimeout(m,u)):"leave"===i&&(this.props.beforeTransitionLeave&&this.props.beforeTransitionLeave(n),this.animationTimeout=setTimeout(m,p)):m(),n.classList.add(o),"enter"!==i&&"appear"!==i||!this.props.enterDelayMs?"leave"===i&&this.props.leaveDelayMs?this.transitionLeaveTimeout=setTimeout(function(){s.queueClass(r)},this.props.leaveDelayMs):this.queueClass(r):this.transitionEnterTimeout=setTimeout(function(){s.queueClass(r)},this.props.enterDelayMs)},queueClass:function(i){this.classNameQueue.push(i),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,17))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(function(i){a.findDOMNode(this).classList.add(i)}.bind(this)),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.animationTimeout&&clearTimeout(this.animationTimeout),this.transitionEnterTimeout&&clearTimeout(this.transitionEnterTimeout),this.transitionLeaveTimeout&&clearTimeout(this.transitionLeaveTimeout)},componentWillAppear:function(i){this.props.appear?this.transition("appear",i):i()},componentWillEnter:function(i){this.props.enter?this.transition("enter",i):(this.props.beforeTransitionEnter&&this.props.beforeTransitionEnter(),i(),this.props.afterTransitionEnter&&this.props.afterTransitionEnter())},componentWillLeave:function(i){this.props.leave?this.transition("leave",i):(this.props.beforeTransitionLeave&&this.props.beforeTransitionLeave(),"function"==typeof i&&i(),this.props.afterTransitionLeave&&this.props.afterTransitionLeave())},render:function(){return s.Children.only(this.props.children)}});t.exports=m});C.r("common/keyCodes.js",function(U,N,M){"use strict";var F={BACKSPACE:8,SPACE:32,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS:20,ESC:27,PGUP:33,PGDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INS:45,DEL:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,NUM0:96,NUM1:97,NUM2:98,NUM3:99,NUM4:100,NUM5:101,NUM6:102,NUM7:103,NUM8:104,NUM9:105,MULTIPLY:106,PLUS:107,MINUS:109,DOT:110,NUMSLASH:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,EQUAL:187,COMMA:188,FSLASH:191,BSLASH:220};N.exports=F});C.r("common/nfNamespace.js",function(t,n,i){"use strict";var e=t("shakti-platform/dist/ui/utils/inNode"),l=void 0;l=e?global:window;try{l.netflix||(l.netflix={i18n:{},contextData:{}}),l.netflix.namespace=function(t){var n=l.netflix,i=null,e=t.split("."),a=void 0;"netflix"===e[0]&&e.shift();var o=e.length;for(a=0;a<o;++a)(i=e[a].toString())&&(n=n[i]=n[i]||{});return n},l.name="_nflx"}catch(t){}n.exports=l.netflix});C.r("node_modules/chain-function/index.js",function(n,t,e){t.exports=function(){for(var n=arguments.length,t=[],e=0;e<n;e++)t[e]=arguments[e];if(t=t.filter(function(n){return null!=n}),0!==t.length)return 1===t.length?t[0]:t.reduce(function(n,t){return function(){n.apply(this,arguments),t.apply(this,arguments)}})}});C.r("node_modules/react-transition-group/TransitionGroup.js",function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}t.__esModule=!0;var p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s=e("chain-function"),l=r(s),c=e("react"),d=r(c),h=e("prop-types"),u=r(h),f=e("warning"),y=r(f),v=e("./utils/ChildMapping"),m={component:u.default.any,childFactory:u.default.func,children:u.default.node},g={component:"span",childFactory:function(e){return e}},T=function(e){function n(t,r){o(this,n);var a=i(this,e.call(this,t,r));return a.performAppear=function(e){a.currentlyTransitioningKeys[e]=!0;var n=a.childRefs[e];n.componentWillAppear?n.componentWillAppear(a._handleDoneAppearing.bind(a,e)):a._handleDoneAppearing(e)},a._handleDoneAppearing=function(e){var n=a.childRefs[e];n&&n.componentDidAppear&&n.componentDidAppear(),delete a.currentlyTransitioningKeys[e];var t=(0,v.getChildMapping)(a.props.children);t&&t.hasOwnProperty(e)||a.performLeave(e)},a.performEnter=function(e){a.currentlyTransitioningKeys[e]=!0;var n=a.childRefs[e];n.componentWillEnter?n.componentWillEnter(a._handleDoneEntering.bind(a,e)):a._handleDoneEntering(e)},a._handleDoneEntering=function(e){var n=a.childRefs[e];n&&n.componentDidEnter&&n.componentDidEnter(),delete a.currentlyTransitioningKeys[e];var t=(0,v.getChildMapping)(a.props.children);t&&t.hasOwnProperty(e)||a.performLeave(e)},a.performLeave=function(e){a.currentlyTransitioningKeys[e]=!0;var n=a.childRefs[e];n.componentWillLeave?n.componentWillLeave(a._handleDoneLeaving.bind(a,e)):a._handleDoneLeaving(e)},a._handleDoneLeaving=function(e){var n=a.childRefs[e];n&&n.componentDidLeave&&n.componentDidLeave(),delete a.currentlyTransitioningKeys[e];var t=(0,v.getChildMapping)(a.props.children);t&&t.hasOwnProperty(e)?a.performEnter(e):a.setState(function(n){var t=p({},n.children);return delete t[e],{children:t}})},a.childRefs=Object.create(null),a.state={children:(0,v.getChildMapping)(t.children)},a}return a(n,e),n.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},n.prototype.componentDidMount=function(){var e=this.state.children;for(var n in e)e[n]&&this.performAppear(n)},n.prototype.componentWillReceiveProps=function(e){var n=(0,v.getChildMapping)(e.children),t=this.state.children;this.setState({children:(0,v.mergeChildMappings)(t,n)});for(var r in n){var o=t&&t.hasOwnProperty(r);!n[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var i in t){var a=n&&n.hasOwnProperty(i);!t[i]||a||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},n.prototype.componentDidUpdate=function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var n=this.keysToLeave;this.keysToLeave=[],n.forEach(this.performLeave)},n.prototype.render=function(){var e=this,n=[];for(var t in this.state.children)!function(t){var r=e.state.children[t];if(r){var o="string"!=typeof r.ref,i=e.props.childFactory(r),a=function(n){e.childRefs[t]=n};"production"!==process.env.NODE_ENV&&(0,y.default)(o,"string refs are not supported on children of TransitionGroup and will be ignored. Please use a callback ref instead: https://facebook.github.io/react/docs/refs-and-the-dom.html#the-ref-callback-attribute"),i===r&&o&&(a=(0,l.default)(r.ref,a)),n.push(d.default.cloneElement(i,{key:t,ref:a}))}}(t);var r=p({},this.props);return delete r.transitionLeave,delete r.transitionName,delete r.transitionAppear,delete r.transitionEnter,delete r.childFactory,delete r.transitionLeaveTimeout,delete r.transitionEnterTimeout,delete r.transitionAppearTimeout,delete r.component,d.default.createElement(this.props.component,r,n)},n}(d.default.Component);T.displayName="TransitionGroup",T.propTypes=m,T.defaultProps=g,t.default=T,n.exports=t.default});C.r("node_modules/react-transition-group/node_modules/prop-types/checkPropTypes.js",function(o,e,s){"use strict";function t(o,e,s,t,n){}e.exports=t});C.r("node_modules/react-transition-group/node_modules/prop-types/factoryWithThrowingShims.js",function(e,t,o){"use strict";var r=e("fbjs/lib/emptyFunction"),n=e("fbjs/lib/invariant"),p=e("./lib/ReactPropTypesSecret");t.exports=function(){function e(e,t,o,r,s,i){i!==p&&n(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return o.checkPropTypes=r,o.PropTypes=o,o}});C.r("node_modules/react-transition-group/node_modules/prop-types/factoryWithTypeCheckers.js",function(e,n,r){"use strict";var t=e("fbjs/lib/emptyFunction"),o=e("fbjs/lib/invariant"),i=e("fbjs/lib/warning"),u=e("./lib/ReactPropTypesSecret"),a=e("./checkPropTypes");n.exports=function(e,n){function r(e){var n=e&&(P&&e[P]||e[R]);if("function"==typeof n)return n}function f(e,n){return e===n?0!==e||1/e==1/n:e!==e&&n!==n}function c(e){this.message=e,this.stack=""}function l(e){function r(r,t,i,a,f,l,s){if(a=a||k,l=l||i,s!==u)if(n)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==t[i]?r?new c(null===t[i]?"The "+f+" `"+l+"` is marked as required in `"+a+"`, but its value is `null`.":"The "+f+" `"+l+"` is marked as required in `"+a+"`, but its value is `undefined`."):null:e(t,i,a,f,l)}var t=r.bind(null,!1);return t.isRequired=r.bind(null,!0),t}function s(e){function n(n,r,t,o,i,u){var a=n[r];if(x(a)!==e)return new c("Invalid "+o+" `"+i+"` of type `"+j(a)+"` supplied to `"+t+"`, expected `"+e+"`.");return null}return l(n)}function p(e){function n(n,r,t,o,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+t+"` has invalid PropType notation inside arrayOf.");var a=n[r];if(!Array.isArray(a)){return new c("Invalid "+o+" `"+i+"` of type `"+x(a)+"` supplied to `"+t+"`, expected an array.")}for(var f=0;f<a.length;f++){var l=e(a,f,t,o,i+"["+f+"]",u);if(l instanceof Error)return l}return null}return l(n)}function y(e){function n(n,r,t,o,i){if(!(n[r]instanceof e)){var u=e.name||k;return new c("Invalid "+o+" `"+i+"` of type `"+T(n[r])+"` supplied to `"+t+"`, expected instance of `"+u+"`.")}return null}return l(n)}function d(e){function n(n,r,t,o,i){for(var u=n[r],a=0;a<e.length;a++)if(f(u,e[a]))return null;return new c("Invalid "+o+" `"+i+"` of value `"+u+"` supplied to `"+t+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?l(n):t.thatReturnsNull}function v(e){function n(n,r,t,o,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+t+"` has invalid PropType notation inside objectOf.");var a=n[r],f=x(a);if("object"!==f)return new c("Invalid "+o+" `"+i+"` of type `"+f+"` supplied to `"+t+"`, expected an object.");for(var l in a)if(a.hasOwnProperty(l)){var s=e(a,l,t,o,i+"."+l,u);if(s instanceof Error)return s}return null}return l(n)}function b(e){function n(n,r,t,o,i){for(var a=0;a<e.length;a++){if(null==(0,e[a])(n,r,t,o,i,u))return null}return new c("Invalid "+o+" `"+i+"` supplied to `"+t+"`.")}if(!Array.isArray(e))return t.thatReturnsNull;for(var r=0;r<e.length;r++){var o=e[r];if("function"!=typeof o)return i(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",w(o),r),t.thatReturnsNull}return l(n)}function m(e){function n(n,r,t,o,i){var a=n[r],f=x(a);if("object"!==f)return new c("Invalid "+o+" `"+i+"` of type `"+f+"` supplied to `"+t+"`, expected `object`.");for(var l in e){var s=e[l];if(s){var p=s(a,l,t,o,i+"."+l,u);if(p)return p}}return null}return l(n)}function h(n){switch(typeof n){case"number":case"string":case"undefined":return!0;case"boolean":return!n;case"object":if(Array.isArray(n))return n.every(h);if(null===n||e(n))return!0;var t=r(n);if(!t)return!1;var o,i=t.call(n);if(t!==n.entries){for(;!(o=i.next()).done;)if(!h(o.value))return!1}else for(;!(o=i.next()).done;){var u=o.value;if(u&&!h(u[1]))return!1}return!0;default:return!1}}function g(e,n){return"symbol"===e||("Symbol"===n["@@toStringTag"]||"function"==typeof Symbol&&n instanceof Symbol)}function x(e){var n=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":g(n,e)?"symbol":n}function j(e){if(void 0===e||null===e)return""+e;var n=x(e);if("object"===n){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return n}function w(e){var n=j(e);switch(n){case"array":case"object":return"an "+n;case"boolean":case"date":case"regexp":return"a "+n;default:return n}}function T(e){return e.constructor&&e.constructor.name?e.constructor.name:k}var P="function"==typeof Symbol&&Symbol.iterator,R="@@iterator",k="<<anonymous>>",A={array:s("array"),bool:s("boolean"),func:s("function"),number:s("number"),object:s("object"),string:s("string"),symbol:s("symbol"),any:function(){return l(t.thatReturnsNull)}(),arrayOf:p,element:function(){function n(n,r,t,o,i){var u=n[r];if(!e(u)){return new c("Invalid "+o+" `"+i+"` of type `"+x(u)+"` supplied to `"+t+"`, expected a single ReactElement.")}return null}return l(n)}(),instanceOf:y,node:function(){function e(e,n,r,t,o){return h(e[n])?null:new c("Invalid "+t+" `"+o+"` supplied to `"+r+"`, expected a ReactNode.")}return l(e)}(),objectOf:v,oneOf:d,oneOfType:b,shape:m};return c.prototype=Error.prototype,A.checkPropTypes=a,A.PropTypes=A,A}});C.r("node_modules/react-transition-group/node_modules/prop-types/index.js",function(o,e,n){e.exports=o("./factoryWithThrowingShims")()});C.r("node_modules/react-transition-group/node_modules/prop-types/lib/ReactPropTypesSecret.js",function(e,_,o){"use strict";_.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"});C.r("node_modules/react-transition-group/utils/ChildMapping.js",function(r,n,t){"use strict";function e(r){if(!r)return r;var n={};return o.Children.map(r,function(r){return r}).forEach(function(r){n[r.key]=r}),n}function i(r,n){function t(t){return n.hasOwnProperty(t)?n[t]:r[t]}r=r||{},n=n||{};var e={},i=[];for(var o in r)n.hasOwnProperty(o)?i.length&&(e[o]=i,i=[]):i.push(o);var a=void 0,u={};for(var f in n){if(e.hasOwnProperty(f))for(a=0;a<e[f].length;a++){var h=e[f][a];u[e[f][a]]=t(h)}u[f]=t(f)}for(a=0;a<i.length;a++)u[i[a]]=t(i[a]);return u}t.__esModule=!0,t.getChildMapping=e,t.mergeChildMappings=i;var o=r("react")});C.r("node_modules/warning/browser.js",function(n,r,o){"use strict";var s=function(){};r.exports=s});C.r("utils/keyboardEventsWrapper.js",function(e,t,c){"use strict";var n=e("../common/keyCodes");t.exports={executeOnEnterOrSpace:function(e){return function(t){switch(t&&t.which){case n.ENTER:case n.SPACE:e(t)}}}}});C.r("utils/shallowCompare.js",function(r,t,n){"use strict";function e(r,t){for(var n in r)if(this.props[n]!==r[n])return!0;return!1}function i(r,t){for(var n in t)if(this.state[n]!==t[n])return!0;return!1}function u(r,t,n){for(var e in n)if(this.context[e]!==n[e])return!0;return!1}function o(r){if(!r||!r.length)return e;var t=r.length;return function(n,e){for(var i=0;i<t;i++){var u=r[i];if(this.props[u]!==n[u])return!0}return!1}}function f(){var r=arguments,t=r.length;return function(n,e,i){for(var u=0;u<t;u++){if(r[u].call(this,n,e,i))return!0}return!1}}function a(r){return f(o(r),i)}t.exports={props:e,state:i,context:u,partialProps:o,multiple:f,pureRender:f(e,i),partialPropsAndAllState:a}});C.r("akira/components/title/thumbs.jsx",function(t,e,a){"use strict";var s=t("prop-types"),r=t("react"),i=t("create-react-class"),n=t("lodash"),o=t("classnames"),c=t("../../../reactMixins/eventBus"),d=t("../../akiraContextTypes"),l=t("../../containers/modal/modalManager.jsx"),u=t("../../containers/modal/rating.jsx"),h=t("../controls/svgButton.jsx"),p=o("clear-rating"),m={NOT_RATED:0,DISLIKED:1,LIKED:2},g=i({displayName:"Thumbs",contextTypes:Object.assign({models:s.object},d),_modalTimeout:void 0,getDefaultProps:function(){return{allowModal:!0,vertical:!1,canClear:!1}},getInitialState:function(){return{wasUpdated:!1,showProfile:!1,showFirstThumbMessage:n.get(this.context.models,"userInfo.data.ratings.showFirstThumbMessage",!1),userRating:void 0}},handleClick:function(t){var e=parseInt(t.target.getAttribute("data-rating"),10)||0,a="true"===t.target.getAttribute("data-clear-thumbs");this.props.canClear&&!a&&0===e||this.props.videoId&&(this.sendRating(e),this.attemptToDisplayModal(e),"function"==typeof this.props.onRating&&this.props.onRating(e,this))},attemptToDisplayModal:function(t){if(this.props.allowModal){var e=this,a=window.pathEvaluator,s=a.getValueSync(["profilesList","current","summary"]),r={firstName:s.profileName,thumbNumber:t},i=["rating-modal"];n.get(this,"context.models.truths.data.currentProfileIsKids")&&i.push("kidsPage"),this.state.showFirstThumbMessage&&(this._modalTimeout=setTimeout(function(){l.open(u,{name:"ratingModal",additionalClasses:i,contentProps:r}),e.setState({showFirstThumbMessage:!1}),n.set(e.context.models,"userInfo.data.ratings.showFirstThumbMessage",!1)},1400))}},emitRatingEvent:function(t,e,a){c.emit("rating:set",n.assign({rating:t,ratingType:"thumb",matchScore:e,tooNewForMatchScore:a,videoId:this.props.videoId},this.context,{trackId:this.props.trackId?this.props.trackId:this.context.trackId}))},sendRating:function(t){var e=void 0,a=void 0,s=void 0,r=void 0,i=this.props.model;i?(e=i.getValueSync(["userRating"]))&&(r=e.userRating,a=e.matchScore,s=e.tooNewForMatchScore,e.userRating=t,i.setValueSync(["userRating"],e)):(r=this.props.userRating,a=this.props.matchScore,s=this.props.tooNewForMatchScore),this.emitRatingEvent(t,a,s,r),this.context.discoveryApp.getActionCreators().setThumbRating({titleId:this.props.videoId,trackId:this.props.trackId||this.context.trackId||-1,rating:t}),this.setState({wasUpdated:!0,previousRating:r})},componentWillUnmount:function(){window.clearTimeout(this._modalTimeout)},getRatingScore:function(){return void 0!==this.state.userRating?this.state.userRating:void 0!==this.props.userRating?this.props.userRating:this.props.model?(this.props.model.getValueSync(["userRating"])||{}).userRating:m.NOT_RATED},renderClear:function(){return this.props.canClear?r.createElement("span",{className:p,"data-rating":"0","data-clear-thumbs":"true"},"×"):null},renderLabel:function(){return this.props.unratedLabel?r.createElement("span",{role:"presentation",className:"ratingCTA"},r.createElement("span",{className:"label ratedLabel"},this.props.ratedLabel),r.createElement("span",{className:"label unratedLabel"},this.props.unratedLabel)):null},renderThumb:function(t,e){var a=void 0,s=void 0,i=void 0;switch(t){case"down":a=1===e?0:1,s="thumb-down"+(1===e?"-filled":""),i="thumb-container thumb-down-container ";break;case"up":a=2===e?0:2,s="thumb-up"+(2===e?"-filled":""),i="thumb-container thumb-up-container "}return r.createElement(h,{icon:s,extraClass:i,attributes:{"data-rating":a}})},render:function(){var t=this.getRatingScore(),e=o("thumbs-component thumbs",{"thumbs-vertical":this.props.vertical,"thumbs-horizontal":!this.props.vertical,animated:!this.props.canClear,unrated:t===m.NOT_RATED,rated:t!==m.NOT_RATED,"rated-down":t===m.DISLIKED,"rated-up":t===m.LIKED,updated:this.state.wasUpdated},this.props.extraClass);return r.createElement("div",{className:e,onClick:this.handleClick},this.renderThumb("up",t),this.renderThumb("down",t),this.renderClear(),this.renderLabel())}});e.exports=g});C.r("akira/components/title/userRating.jsx",function(e,t,r){"use strict";var s=e("prop-types"),a=e("react"),o=e("create-react-class"),n=e("lodash"),i=e("./falkorStarBar.jsx"),l=e("./matchScore.jsx"),c=o({displayName:"UserRating",contextTypes:{models:s.object.isRequired},render:function(){var e=this.context.models;return n.get(e,"truths.data.showRatingsProductization",!1)?a.createElement(l,{model:this.props.model,readOnly:this.props.readOnly,extraClass:this.props.extraClass}):a.createElement("span",{className:"rating-wrapper"},a.createElement(i,{model:this.props.model}))}});t.exports=c});C.r("akira/components/title/videoMeta.jsx",function(e,t,a){"use strict";var s=e("lodash"),n=e("prop-types"),r=e("react"),l=e("create-react-class"),u=e("../title/duration.jsx"),i=e("./maturityRating.jsx"),o=e("./userRating.jsx"),c=e("./badge.jsx"),m=l({displayName:"VideoMeta",contextTypes:{models:n.object,getI18nBundle:n.func.isRequired},statics:{getPaths:function(e,t,a){return[[["summary","runtime","seasonCount","releaseYear","userRating","numSeasonsLabel","delivery"]]].concat(i.getPaths(e,t,a))}},render:function(){var e=this.props,t=e.model,a=e.readOnly,n=e.suppressRatings,l=e.suppressYear,m=e.suppressMaturityRating,d=e.suppressDuration,y=e.withMaturityReasons,g=e.showUHDBadge,p=e.showHDRBadge;if(!t.getValueSync(["summary"]))return null;var h=t.getValueSync(["releaseYear"]),R=t.getValueSync(["runtime"]),x=t.getValueSync(["seasonCount"]),b=t.getValueSync(["delivery"]),S=t.getValueSync(["numSeasonsLabel"]),v="onlyMinutes"===s.get(this.context.models,"geo.data.locale.durationFormat","hoursAndMinutes"),j=this.context.getI18nBundle("discovery/akira/Title"),E=p&&b&&b.hasHDR,M=g&&b&&b.hasUltraHD;return r.createElement("div",{className:"meta"},!n&&r.createElement(o,{key:"ratings",model:t,extraClass:"jawmetastars",readOnly:a}),!l&&r.createElement("span",{key:"year",className:"year"},h||""),!m&&r.createElement(i,{key:"maturityRating",model:t,withReasons:y}),!d&&r.createElement(u,{onlyInMinutes:v,runtime:R,seasonCount:x,numSeasonsLabel:S}),M&&r.createElement(c,{label:j.get("badge.4k.ultra.hd")}),E&&r.createElement(c,{label:j.get("badge.hdr")}))}});t.exports=m});C.r("akira/components/titleCard/errorTitleCard.jsx",function(e,r,a){"use strict";var t=(e("prop-types"),e("react")),s=e("create-react-class"),l=s({displayName:"ErrorTitleCard",render:function(){var e={display:"none"},r={backgroundImage:"url(https://cdn0.nflximg.net/images/unavailable/342x192/unavailable.jpg)"};return t.createElement("div",{className:this.props.classes+" error-title-card"},t.createElement("div",{className:"video-artwork",style:r},t.createElement("div",{style:e},this.props.errorMessage)))}});r.exports=l});C.r("akira/components/titleCard/tinyTitleCard.jsx",function(e,t,a){"use strict";var r=e("prop-types"),n=e("react"),o=e("create-react-class"),s=e("react-dom"),i=e("../controls/playbutton.jsx"),c=e("../../../common/imageExtension"),l="_233x131",u=o({displayName:"TinyTitleCard",contextTypes:{models:r.object.isRequired},statics:{extension:function(e){return c.getExtensionForOpaqueImage(e)},getPaths:function(e,t,a){return[["summary"],["boxarts",l,c.getExtensionForOpaqueImage(e)]].concat(i.getPaths())},getSize:function(){return l}},placeHolder:function(){var e="lockup title_card "+(this.props.className||"");return n.createElement("div",{className:e},n.createElement("div",{className:"video-artwork tc-load"},"Loading..."))},clickPlayButton:function(){this.refs.playButton&&s.findDOMNode(this.refs.playButton).click()},render:function(){var e=u.extension(this.context.models),t=this.props.model,a=t.getValueSync(["summary"]),r=t.getValueSync(["boxarts",l,e]),o="lockup title_card "+(this.props.className||"");if(!a)return this.placeHolder();if(!r)return null;var s="video-artwork-"+a.id,c={backgroundImage:"url("+r.url+")"};return n.createElement("div",{id:s,key:s,className:o,onClick:this.clickPlayButton},n.createElement("div",{className:"video-artwork",style:c},n.createElement(i,{ref:"playButton",model:t,className:"evidencePlay"})))}});t.exports=u});C.r("akira/components/titleCard/titleCard.jsx",function(e,t,o){"use strict";var i=e("prop-types"),s=e("react"),a=e("create-react-class"),n=e("react-dom"),r=e("react-transition-group/TransitionGroup"),l=e("lodash"),c=e("classnames"),d=e("../../../utils/pathEvaluatorUtils"),u=e("./errorTitleCard.jsx"),h=e("./../bob/bobCard.jsx"),p=e("../controls/progress.jsx"),m=e("../../containers/jawbone/jawBone.jsx"),b=e("../../containers/lolomo/lolomoConstants.jsx"),g=e("../../../common/imageExtension"),k=e("../../../reactMixins/jawBoneLink"),f=e("../../akiraContextTypes"),v=e("../../../reactMixins/falkor-fetch"),x=e("../../../reactMixins/falkorPureRenderMixin"),y=e("../../../reactMixins/eventBus"),w=e("../../../common/keyCodes"),B=e("../../utils/linkDefs.jsx"),T=e("../../../common/position"),I=e("../../../utils/RouteHelpers"),N=e("../../../reactMixins/cssAnimation.jsx"),C=e("../../../components/presentationTracking/trackingComponents/boxartPresTracking"),E=e("../../../components/CenteredImage.jsx"),O=e("./titleCardFocus.jsx"),P=e("../../../utils/ab/kidsParityTest"),S=e("../../components/artwork/lazyLoadedBackgroundImage.jsx"),D=e("../../../common/playPrediction/playPredictionUtils"),R=e("../../../components/presentationTracking/trackingComponents/logPresentationManually"),M=e("../../redux/logging/commandTriggers"),j="_342x192",J={bobs:{bobs:!0,forceUpdate:void 0},jawBones:{jawBones:!0,forceUpdate:void 0}},W=function(e,t,o){t=t||{},o=o||{};var i=P.kidsProfileWithoutParity(e,!1),s=l.get(e,"truths.data.currentProfileIsKids",!1),a=[["summary"],["title"],["boxarts",j,g.getExtensionForOpaqueImage(e)]];return t.progress&&(a=a.concat([["current",["runtime","bookmarkPosition"]]])),t.bobs&&(a=a.concat(h.getPaths(e,t,o))),t.jawBones&&!i&&(a=a.concat(m.getPaths(e,t,{isShow:o.isShow}))),s&&(a=a.concat([["episodeCount"]])),a},F=R(a({displayName:"TitleCard",contextTypes:Object.assign({getModelData:i.func.isRequired,history:i.object.isRequired,models:i.object.isRequired},f),mixins:[k,v,x],statics:{extension:function(e){return g.getExtensionForOpaqueImage(e)},getPaths:W,getSize:function(){return j}},childContextTypes:{rankNum:i.number},getChildContext:function(){return{rankNum:this.props.rankNum}},getInitialState:function(){return this.scope={isHovering:!1},{hasBob:!1,hideJawFocus:!1}},dataSet:{},scope:{},onFocusEnd:void 0,fetchedBOBData:void 0,jawBoneTimeout:void 0,bobTimeout:void 0,titleCardRect:void 0,componentWillMount:function(){this.dataSet=this.getData()},componentDidMount:function(){y.on("rating:set",this.onRating)},componentWillUpdate:function(e,t){this.dataSet=this.getData()},componentWillUnmount:function(){this.clearDelays(),y.removeListener("rating:set",this.onRating)},getData:function(){var e=this.props.model,t=this.props.rowModel,o=e.getValueSync(["boxarts",j,F.extension(this.context.models)]),i=g.getExtensionForOpaqueImage(this.context.models),s={model:e,summary:e.getValueSync(["summary"]),boxart:o&&o.url,imageKey:o&&o.image_key,userRating:e.getValueSync(["userRating"])||{},title:e.getValueSync(["title"]),doubleWide:e.getValueSync(["doubleWide"])||{},episodeRuntime:void 0,episodeBookmark:void 0,boxartTall:void 0};return this.context.listContext===b.LIST_CONTEXTS.CONTINUE_WATCHING&&(s.episodeRuntime=e.getValueSync(["current","runtime"]),s.episodeBookmark=e.getValueSync(["current","bookmarkPosition"])),this.props.isTallPanel&&(s.boxartTall=t?t.getValueSync(["roarPanels",this.props.rankNum,i]):null),s},getTrackingInfo:function(){var e=this.dataSet.userRating,t=e.matchScore,o=e.tooNewForMatchScore,i=e.predicted;return{trackId:this.context.trackId,requestId:this.context.requestId,videoId:this.props.videoId||this.context.videoId,rowNum:this.props.rowNum||this.context.rowNum,rankNum:this.props.rankNum||this.context.rankNum,predictedRating:i,matchScore:t,tooNewForMatchScore:o}},eventOpenJaw:function(e){this.props.myJawBoneOpen||"keydown"!==e.type&&this.state.hasBob||(y.emit("jawbone:open",l.assign(this.getTrackingInfo(),{trigger:"miniBob"})),this.openJawBoneAtRankNum(this.props.rankNum,this.props.videoId,e.type),this.onOpenJaw(!0))},handleKeyDown:function(e){var t=this;switch(e&&e.which){case w.ENTER:this.context.isKidsPage&&P.kidsProfileWithoutParity(this.context.models)?this.props.videoId>0&&this.context.history.pushState(B.getTitleRoute(this.context.models,this.context.isKidsPage).makePath({id:this.props.videoId})):this.eventOpenJaw(e);break;case w.ESC:this.props.myJawBoneOpen&&(y.emit("jawbone:close",{reason:"explicit"}),this.closeJawBone(function(){var e=n.findDOMNode(t);e instanceof HTMLElement&&e.focus()}))}},handleClick:function(e){this.context.isKidsPage&&P.kidsProfileWithoutParity(this.context.models)?this.props.videoId>0&&this.context.history.pushState(B.getTitleRoute(this.context.models,this.context.isKidsPage).makePath({id:this.props.videoId})):this.eventOpenJaw(e)},handleMouseOver:function(e){var t=n.findDOMNode(this.refs.titleCard),o=document.activeElement||document.body;e.preventDefault(),e&&e.currentTarget&&t instanceof HTMLElement&&t.contains(e.currentTarget)&&!this.state.hasBob&&(o&&o!==document.body&&!o.getAttribute("data-search-input")&&o.blur(),this.handleEnter(e))},handleMouseOut:function(e){var t=n.findDOMNode(this.refs.titleCard);e.preventDefault(),(e&&!e.relatedTarget||e.relatedTarget.location||e.relatedTarget&&t instanceof HTMLElement&&!t.contains(e.relatedTarget))&&this.handleLeave()},handleEnter:function(e,t){var o=this,i=this.context.models;this.scope.isHovering=!0,this.fetchedBOBData||(this.fetchedBOBData=!0,setTimeout(function(){var e=J.bobs;o.fetchData(o.props.model,W(i,e),"titleCardEnter1",null,e.forceUpdate)}),setTimeout(function(){var e=J.jawBones,t=W(i,e);o.fetchData(o.props.model,t,"titleCardEnter2",null,e.forceUpdate)},700)),this.props.aJawBoneOpen?this.jawBoneTimeout||this.props.myJawBoneOpen||(this.jawBoneTimeout=setTimeout(M.ViewDetailsCommand(function(){y.emit("jawbone:open",l.assign({trackId:o.context.trackId,videoId:o.context.videoId,rowNum:o.context.rowNum,rankNum:o.props.rankNum,requestId:o.context.requestId},o.props,{trigger:"miniBob"})),o.openJawBoneAtRankNum(o.props.rankNum,o.props.videoId),o.clearDelays()}),300)):this.queueBobOpen()},queueBobOpen:function(){if(!this.bobTimeout&&!this.state.hasBob){var e=void 0;this.titleCardRect=T.getRect(n.findDOMNode(this)),e=this.props.getRowHasBobOpen&&this.props.getRowHasBobOpen()?100:400,this.bobTimeout=setTimeout(this.openBob,e)}},openBob:function(){this.scope.isHovering&&this.isMounted()&&(this.onFocusEnd=this.props.onFocus("bob",this.getTrackingInfo()),y.emit("bob:open",l.assign(this.getTrackingInfo(),this.props)),this.setState({hasBob:!0}),D.isPlayPredictionEnabled(this.context.getModelData("truths"))&&y.emit("play:focus",l.assign({trackId:this.context.trackId},this.props))),this.clearDelays()},clearDelays:function(){clearTimeout(this.jawBoneTimeout),clearTimeout(this.bobTimeout),this.jawBoneTimeout=0,this.bobTimeout=0},handleLeave:function(){var e=this;this.scope.isHovering=!1,this.clearDelays(),this.state.hasBob&&-1===window.location.href.indexOf("stickybob")&&(this.onFocusEnd&&(this.onFocusEnd(),delete this.onFocusEnd),y.emit("bob:close",l.assign({trackId:this.context.trackId,videoId:this.context.videoId,rowNum:this.context.rowNum,rankNum:this.props.rankNum,requestId:this.context.requestId},this.props)),this.props.onBobLeave(this.props.rankNum,function(){e.isMounted()&&e.setState({hasBob:!1})}))},onOpenJaw:function(e){this.handleLeave(),this.setState({hideJawFocus:!e,hasBob:!1})},onBobOpen:function(e,t){if(this.props.onBobOpen&&this.props.sliderItemId&&this.titleCardRect){var o=this.titleCardRect.width*e,i=(o-this.titleCardRect.width)/2;this.props.isDoubleWide&&(i=0),this.props.onBobOpen(this.props.sliderItemId,i,t)}},onBobClose:function(e,t,o){var i=this,s=function(){i.props.myJawBoneOpen&&i.setState({hideJawFocus:!1}),t&&t()};this.props.onBobClose&&this.props.sliderItemId&&this.props.onBobClose(this.props.sliderItemId,e,s,o)},onRating:function(){this.isMounted()&&this.forceUpdate()},isDisliked:function(){var e=this.dataSet.userRating;return!(!e||"thumb"!==e.type||1!==e.userRating)},renderBob:function(e){var t=this,o=this.props,i=o.isTallPanel,a=o.isDoubleWide,n=e.boxartTall,l=e.boxart,c=e.model,d=void 0;d=i?!n||n.isFallback?null:n.url:l;var u=s.createElement(r,null,this.state.hasBob&&s.createElement(h,{model:c,titleArt:d,onBobOpen:this.onBobOpen,onBobClose:this.onBobClose,onJawOpen:function(){return t.onOpenJaw(!1)},videoId:this.props.videoId,playbackQueryParams:this.props.playbackQueryParams,isTallPanel:i,isDoubleWide:a}));return i?s.createElement("div",{className:"tall-panel-bob-container"},u):u},renderTallPanel:function(e){var t=this.props.isTallPanel,o=c("video-artwork","video-artwork-tall"),i=e.boxartTall||{},a=i.url,n=i.focalPoint,r=i.isFallback;if(!t||!a)return null;var l=r&&e.title?s.createElement("div",{className:"fallback-text-container"},s.createElement("div",{className:"fallback-text"},e.title)):null;return n?s.createElement(E,{className:o,focalPoint:{x:n.x,containerWidth:342,imageWidth:848},url:a},l):s.createElement("div",{className:o,style:{backgroundImage:"url("+a+")"}},l)},render:function(){var e=this.props,t=e.isTallPanel,o=e.isDoubleWide,i=e.shouldLoadImage,a=this.dataSet,n=c({hasBob:this.state.hasBob,smallTitleCard:!0,lockup:!0,title_card:!0,sliderRefocus:!0,"pop-in":this.props.animateIn,highlighted:this.props.myJawBoneOpen,"not-highlighted":this.props.aJawBoneOpen&&!this.props.myJawBoneOpen,disliked:this.isDisliked(),"title-card-tall-panel":t});if(d.isValueError(a.summary))return s.createElement(u,{classes:n,errorMessage:a.summary.message});if(!a.summary||!a.boxart)return s.createElement(u,{classes:n,errorMessage:"Summary or boxart is undefined"});var r=void 0,l={};this.props.animateIn&&(r=a.summary.id%20*2.5/100+.3,l=N.getAnimationStyle({keyframes:{delay:r+"s"}}));var h="title-card-"+this.props.rowNum+"-"+this.props.rankNum,m=this.props.myJawBoneOpen&&!this.state.hideJawFocus,g={"video-artwork":!0};o&&a.doubleWide&&(g["double-wide"]=!0,a.boxart=a.doubleWide.doubleWideBoxArt);var k=c(g),f=null;this.context.listContext===b.LIST_CONTEXTS.CONTINUE_WATCHING&&a.episodeRuntime&&(f=s.createElement(p,{runtime:a.episodeRuntime,bookmarkPosition:a.episodeBookmark,current:!0,showSummary:!1}));var v=I.makeAkiraPlayerURLWithUIPlayContext(a.summary.id,{trackId:this.context.trackId},{rowNum:this.context.rowNum,rankNum:this.props.rankNum,requestId:this.context.requestId});return s.createElement("div",{className:"title-card-container"},s.createElement("div",{id:h,className:n+" "+(this.props.className||""),style:l,tabIndex:this.props.itemTabbable?0:-1,"aria-label":a.title?a.title:null,role:this.props.itemTabbable?"link":null,ref:"titleCard",onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut,onClick:this.handleClick,onKeyDown:this.handleKeyDown},s.createElement(C,{videoId:a.summary.id,imageKey:a.imageKey,isDoubleWide:o},s.createElement("a",{href:v,onClick:function(e){return e.preventDefault()}},s.createElement(S,{className:k,src:a.boxart,shouldLoadImage:i})),this.renderTallPanel(a),s.createElement("div",{className:"video-preload-title"},s.createElement("div",{className:"video-preload-title-label"},a.title?a.title:null))),m&&s.createElement(O,{model:a.model,playbackQueryParams:this.props.playbackQueryParams}),this.renderBob(a)),f)}}));t.exports=F});C.r("akira/components/titleCard/titleCardFocus.jsx",function(t,e,a){"use strict";var s=(t("prop-types"),t("react")),r=t("create-react-class"),i=t("../../../reactMixins/transition"),n=t("../controls/playbutton.jsx"),c=r({displayName:"TitleCardFocus",mixins:[i],componentWillMount:function(){this.transitions=this.props.transitions||{fadeIn:300,fadeOut:300}},render:function(){return s.createElement("div",{className:"title-card-jawbone-focus"},s.createElement("div",{className:"title-card-focus-ring"}),s.createElement(n,{ref:"playButton",model:this.props.model,className:"title-card-play",playbackQueryParams:this.props.playbackQueryParams}))}});e.exports=c});C.r("akira/containers/baseRouteHandlerContainer.js",function(e,r,n){"use strict";var s=e("../redux/connectToRedux.js"),o=e("../baseRouteHandler.jsx"),t=function(e){return{isRefreshingApp:e.discovery.isRefreshingApp}},i=s(t,null,null,{storeKey:"discoveryStore"})(o);r.exports=i});C.r("akira/containers/footer/appFooter.jsx",function(e,t,n){"use strict";var r=e("prop-types"),a=e("react"),s=e("create-react-class"),i=e("lodash"),o=e("classnames"),c=e("shakti-platform/dist/ui/ShaktiProperties"),l=e("../../../reactMixins/eventBus"),m=e("./serviceCode.jsx"),u=e("../../../common/svgIcon.jsx"),k=["facebook","instagram","twitter","youtube"],d=s({displayName:"NewFooter",contextTypes:{getI18nBundle:r.func.isRequired,models:r.object},statics:{getPaths:function(e,t,n){return c.get("netflix.ui.akira.enable.social.links")?[["socialLinks",k]]:[]}},shouldComponentUpdate:function(){return!1},generateLinks:function(e,t){return i.map(t,function(t){var n=null;return t.updated&&(n=a.createElement("span",{className:"member-footer-link-update"}," *"+e.get("link.updatedLink")+"* ")),a.createElement("li",{key:t.labelKey,className:"member-footer-link-wrapper"},a.createElement("a",{className:"member-footer-link",href:t.url},n,a.createElement("span",{className:"member-footer-link-content"},e.get("link."+t.labelKey))))})},getCopyrightSection:function(e,t){return t.showKoreaFooterDisclaimer?a.createElement("div",{className:"copy-text"},this.context.getI18nBundle("common/footerResponsive").get("footer.responsive.disclaimer.kr")):a.createElement("span",null,e.get("copyright",{currentYear:(new Date).getFullYear()}),"‎")},getSocialLinks:function(){var e=this.props.model.bind(["socialLinks"]);return k.reduce(function(t,n){var r=e.getValueSync(n);return r&&(t[n]=r),t},{})},renderSocialLinks:function(e,t){var n=o("social-link");return a.createElement("div",{className:o("social-links")},Object.keys(t).map(function(e){return a.createElement("a",{key:e,className:n,href:t[e],onClick:function(){return l.emit("socialLink:click",{service:e})},target:"_blank"},a.createElement(u,{name:e+"-logo"}))}))},render:function(){var e=i.get(this.context.models,"footerContent.data",""),t=i.get(this,"context.models.truths.data.currentProfileIsKids"),n=this.context.getI18nBundle("discovery/akira/Footer"),r=i.get(this.context.models,"serverDefs.data.instance",""),s=!t&&this.getSocialLinks(),o=s&&c.get("netflix.ui.akira.enable.social.links")&&Object.keys(s).length>0;return a.createElement("div",{role:"contentinfo",className:"member-footer"},o&&this.renderSocialLinks(n,s),a.createElement("ul",{className:"member-footer-links"},this.generateLinks(n,e.links)),a.createElement("div",{className:"member-footer-service"},a.createElement(m,null)),a.createElement("div",{className:"member-footer-copyright"},this.getCopyrightSection(n,e),a.createElement("span",{className:"member-footer-copyright-instance"},"{"+r+"}")))}});t.exports=d});C.r("akira/containers/footer/serviceCode.jsx",function(e,t,r){"use strict";var s=e("lodash"),i=e("prop-types"),o=e("react"),c=e("create-react-class"),a=e("../../utils/serviceCode"),n=c({displayName:"ServiceCode",contextTypes:{getI18nBundle:i.func.isRequired,models:i.object.isRequired},getInitialState:function(){return{serviceCode:null}},fetchServiceCode:function(){var e=this;a.fetchServiceCode().subscribe(function(t){e.setState({serviceCode:a.formatAuthCode(s.get(t,"data.authCode","888000"))})},function(t){e.setState({serviceCode:a.formatAuthCode(s.get(t,"data.authCode","888000"))})})},render:function(){var e=this.context.getI18nBundle("discovery/akira/Footer"),t=s.isNull(this.state.serviceCode)?e.get("serviceCode"):this.state.serviceCode;return s.get(this.context.models,"truths.data.masquerading")?null:o.createElement("button",{className:"service-code",onClick:this.fetchServiceCode},t)}});t.exports=n});C.r("akira/containers/footer/slimFooter.jsx",function(e,t,n){"use strict";var r=e("lodash"),o=e("prop-types"),a=e("react"),i=e("create-react-class"),l=i({displayName:"SlimFooter",contextTypes:{getI18nBundle:o.func.isRequired,models:o.object.isRequired},shouldComponentUpdate:function(){return!1},generateLink:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2];return a.createElement("li",{key:n.labelKey,className:"member-footer-link-wrapper"},a.createElement("a",{className:"member-footer-link",href:n.url},a.createElement("span",{className:"member-footer-link-content"},e.get(t+n.labelKey))))},generateLinks:function(e){var t=this,n=this.context.getI18nBundle("discovery/akira/Footer");return e.filter(function(e){return["tou","privacy","cookies"].indexOf(e.labelKey)>-1}).map(function(e){return t.generateLink(n,"link.",e)})},render:function(){var e=r.get(this.context.models,"footerContent.data","");return a.createElement("div",{role:"contentinfo",className:"member-footer"},a.createElement("ul",{className:"member-footer-links"},this.generateLinks(e.links)))}});t.exports=l});C.r("akira/containers/freezeOnChangedPageKey.jsx",function(e,n,r){"use strict";var t=e("prop-types"),a=e("react"),s=e("create-react-class"),p=s({displayName:"FreezeOnChangedPageKey",propTypes:{children:t.node},contextTypes:{pageKey:t.string.isRequired},shouldComponentUpdate:function(e,n,r){return this.context.pageKey===r.pageKey},render:function(){return this.props.children||a.createElement("div",null)}});n.exports=p});C.r("akira/containers/freezeWrapper.jsx",function(e,r,t){"use strict";var n=(e("prop-types"),e("create-react-class")),p=n({displayName:"FreezeWrapper",shouldComponentUpdate:function(e,r){return!e.shouldFreeze},render:function(){return this.props.children}});r.exports=p});C.r("akira/containers/gallery.jsx",function(e,t,r){"use strict";function s(e,t){return t&&t.toNum?t.toNum-(t.fromNum||0):e?e.numVideos:O.numVideos}var i=e("prop-types"),o=e("react"),n=e("create-react-class"),a=e("react-dom"),l=e("shakti-platform/dist/ui/ShaktiProperties"),d=e("lodash"),c=e("classnames"),h=e("../utils/scheduler"),u=e("../../reactMixins/falkor-auto-fetch"),p=e("../utils/sortable"),m=e("../../reactMixins/browserScroll"),f=e("../../reactMixins/eventBus"),y=e("../akiraContextTypes"),g=e("../../common/position"),R=e("./row.jsx"),I=e("../components/titleCard/titleCard.jsx"),v=e("../components/character/character.jsx"),w=e("../components/loader/loadingGallery.jsx"),k=e("../components/loader/loadingSpinner.jsx"),S=e("./timeoutTransition/timeoutTransitionGroup.jsx"),T=e("../../utils/pathEvaluatorUtils"),E="discovery/akira/Gallery",x=l.get("netflix.ui.akira.prefetch.strategies.gallery"),O=x.small,N=function(e,t,r){t||(t=O),r||(r={});var i=r&&r.fromNum||0,o=s(t,r),n=r.sortOrder?[r.sortOrder,{from:i,to:o}]:[{from:i,to:o}];r.videoRoot&&n.push(r.videoRoot);var a=I.getPaths(e,t).map(function(e){return n.concat(e)}),l=[[["id","length","name","trackIds","requestId"]]],d=void 0,c=void 0,h=void 0;return r.isCharacterPage?(h=v.getPaths(e,t,r).map(function(e){return n.concat(e)}),l=[[["requestId"]]].concat(h)):l=l.concat(a),r.sortOrder===p.ORDER_BY.MATURITY&&(d=n.concat("maturity"),l=l.concat([d])),r.sortOrder&&(c=[r.sortOrder,"requestId"],l=l.concat([c])),l},M=n({displayName:"GalleryContent",mixins:[u,m],contextTypes:Object.assign({getI18nString:i.func.isRequired,models:i.object.isRequired},y),getInitialState:function(){return{fetchingMoreRows:!1}},numTitlesToFetch:O.numVideos,isFirstSetOfResults:!0,isInteractive:!1,statics:{getNumTitlesToFetch:s,getPaths:N,defaultStrategy:O,prefetchStrategies:x,isEmpty:function(e,t){return!e.bind(t?[0,t]:[0]).getValueSync("summary")}},childContextTypes:{requestId:i.string,trackId:i.number,jawBoneTrackId:i.number,jawBoneEpisodeTrackId:i.number,jawBoneTrailerTrackId:i.number},getChildContext:function(){var e=this.getTrackIds();return{requestId:this.getRequestId(),trackId:e.trackId,jawBoneTrackId:e.trackId_jaw,jawBoneEpisodeTrackId:e.trackId_jawEpisode,jawBoneTrailerTrackId:e.trackId_jawTrailer}},bindSortedModel:function(){return this.props.sortOrder?this.props.model.bind([this.props.sortOrder]):this.props.model},hasResults:function(){return!M.isEmpty(this.bindSortedModel(),this.props.videoRoot)&&!this.hasErrors()},hasErrors:function(){return T.hasAnyError([this.bindSortedModel(),this.props.model.getValueSync(["name"])])},allRowsFetched:function(){var e=this.bindSortedModel();if(e){var t=this.numTitlesToFetch-1,r=this.props.videoRoot?[t,this.props.videoRoot]:[t];return!e.bind(r).getValueSync("summary")}return!0},fetchMoreRows:function(e){var t=l.get("netflix.ui.akira.prefetch.strategies.gallery").medium,r=this.props.sortOrder===p.ORDER_BY.MATURITY?x.maximum.batchVideoSize:t.batchVideoSize,s=this.props.model,i=void 0,o=void 0;this.isLoading()||this.allRowsFetched()||(this.numTitlesToFetch+=r,this.isFirstSetOfResults=!1,i={sortOrder:this.props.sortOrder,toNum:this.numTitlesToFetch,videoRoot:this.props.videoRoot},this.props.isCharacterGallery&&(i.isCharacterPage=!0),o=N(this.context.models,t,i),this.isMounted()&&(e&&(this.setState({fetchingMoreRows:!0}),this.state.fetchingMoreRows=!1),this.fetchData(s,o,"infinite-scroll-fetch-rows")))},prefetchOnLoad:function(){this.isFirstSetOfResults&&h.queue(this.fetchMoreRows,900)},onScroll:function(){this.isWithinDistanceBuffer(2e3)&&this.fetchMoreRows(!0)},isWithinDistanceBuffer:function(e){var t=this.refs.gallery&&a.findDOMNode(this.refs.gallery),r=!1;return t&&(r=g.getDistanceToBottomOfElement(t)<e),r},getTrackIds:function(){var e=this.props.model,t=this.props.trackIds;return!t&&e.getValueSync(["trackIds"])&&(t=e.getValueSync(["trackIds"])),t||{}},getRequestId:function(){var e=this.props.model.getValueSync([this.props.sortOrder,"requestId"]),t=this.props.model.getValueSync(["requestId"]);return this.props.referenceId||e||t},shouldAnimateInTitle:function(){return-1===["search"].indexOf(this.props.keyPrefix)&&this.isFirstSetOfResults&&!this.context.isInitialRender},renderCharacterGallery:function(){for(var e=this.props.model,t=[],r=this.context.columnsInRow+1,s=[],i=0,n=0,a=this.props.rowNum||0,l=void 0,d=void 0,c=void 0,h=void 0,u=0;u<this.numTitlesToFetch;u++)l=e.bind([u]),d=l.getValueSync(["summary"])&&l.getValueSync(["summary"]).id,c="character"+d,h=u,d&&(s.push(o.createElement(v,{id:d,rankNum:n++,key:c,sliderIndex:h,model:l})),i%r==r-1&&(t.push(this.renderRow(e,a,s)),a++,n=0,s=[]),i++);return s.length>0&&t.push(this.renderRow(e,a,s)),o.createElement("div",{key:"gallery-"+d,className:"galleryLockups"},t)},renderGallery:function(){if(this.props.isCharacterGallery)return this.renderCharacterGallery();var e=this.props.model.getValueSync(["id"]),t=this.bindSortedModel(),r=this.context.columnsInRow,s=[],i={},n=null,a=[],l=this.props.rowNum||0,d=0,c=0,h=void 0,u=void 0,p=void 0,m=0;for(u=0;u<this.numTitlesToFetch;u++)if(h=t.bind([u]),this.props.videoRoot&&(h=h.bind([this.props.videoRoot])),h.getBoundValue())(p=h.getValueSync("summary"))&&(this.props.filter&&!this.props.filter(h)||(this.props.jawBoneRowNum===l&&this.props.jawBoneRankNum===d&&(n=u),i[p.id]=u,a.push(o.createElement(I,{key:"title_"+p.id+"_"+l+"_"+u,shouldLoadImage:!0,model:h,rankNum:d,videoId:p.id,animateIn:this.shouldAnimateInTitle(),playbackQueryParams:this.props.playbackQueryParams})),d++,c%r==r-1&&(s.push(this.renderRow(t,l,a,n,i)),l++,d=0,a=[]),c++));else if(3===++m)break;return a.length>0&&s.push(this.renderRow(t,l,a,n,i)),o.createElement("div",{key:"gallery-"+e,className:"galleryLockups"},s)},renderRow:function(e,t,r,s,i){var n=this.props.isMyListRow,a=this.props.isCharacterGallery,l=null,c=null,h=!1;return this.props.jawBoneRowNum!==t||d.isUndefined(s)||(l=this.props.jawBoneRankNum,c=s,h=!0),o.createElement(R,{model:e,videoRoot:this.props.videoRoot,pqls:this.props.pqls,totalItems:r.length,key:"gallery-row-"+t,rowNum:t,jawBoneRankNum:l,jawBoneModelIndex:c,showJawBone:h,isGallery:!0,isMyListRow:n,is4KSupported:this.props.is4KSupported,isHDRSupported:this.props.isHDRSupported,orderedItemList:n?i||null:null,columnsInRow:a?this.context.columnsInRow+1||null:null,playbackQueryParams:this.props.playbackQueryParams},r)},renderNoResults:function(){if(this.props.noResults)return this.props.noResults;var e="mylist"===this.props.keyPrefix?"results.mylist.none":"results.none";return o.createElement("div",{className:"galleryMessage",key:"galleryMessage"},this.context.getI18nString(E,e))},renderError:function(){return o.createElement("div",{className:"galleryMessage",key:"galleryMessageError"},this.context.getI18nString(E,"results.error"))},componentWillReceiveProps:function(e){this.props.sortOrder!==e.sortOrder&&(this.numTitlesToFetch=O.numVideos,this.isFirstSetOfResults=!0)},setIsInteractive:function(){this.isLoading()||!this.isFirstSetOfResults||this.isInteractive||(f.emit("app:interactive",this.props),this.isInteractive=!0,this.hasErrors()?this.props.onError&&this.props.onError():this.props.onInteractive&&this.props.onInteractive())},componentDidMount:function(){this.prefetchOnLoad(),this.setIsInteractive()},componentDidUpdate:function(e,t){this.prefetchOnLoad(),this.setIsInteractive()},getName:function(){return this.hasErrors()?"&nbsp;":this.props.model.getValueSync(["name"])},renderHeader:function(){return this.props.header&&!this.hasErrors()?this.props.header:o.createElement("div",{className:"title",dangerouslySetInnerHTML:{__html:this.getName()}})},renderInfiniteScrollLoader:function(){return this.isFirstSetOfResults||!this.state.fetchingMoreRows?null:o.createElement("div",{className:"gallerySpinLoader"},o.createElement(k,null))},renderBody:function(){return this.hasResults()?this.renderGallery():this.hasErrors()?this.renderError():this.renderNoResults()},renderLoaderOrBody:function(){return this.isLoading()&&this.isFirstSetOfResults?o.createElement(w,null):o.createElement("div",{key:"main-gallery"},this.renderBody())},render:function(){var e=c("gallery","row-with-x-columns",{search:"search"===this.props.keyPrefix&&!this.props.header,"character-gallery":this.props.isCharacterGallery,"has-open-jaw":this.props.jawBoneVideoId});return o.createElement("div",{className:e,ref:"gallery"},this.renderHeader(),o.createElement(S,{className:"galleryContent",transitionName:"pulsateTransition",component:"div",enterTimeout:250,leaveTimeout:550},this.renderLoaderOrBody()),this.renderInfiniteScrollLoader())}});t.exports=M});C.r("akira/containers/header/dvdLink.jsx",function(e,t,s){"use strict";var r=e("lodash"),i=e("prop-types"),n=e("react"),a=e("create-react-class"),o=e("../../../utils/Routes"),c=e("../../../utils/RouteHelpers"),d=a({displayName:"DVDLink",contextTypes:{getI18nString:i.func.isRequired,models:i.object.isRequired},componentWillMount:function(){var e=r.get(this.context.models,"userInfo.data");this.setState({path:e&&e.isDVD?o.dvdHome.makePath():c.getDVDUpsellURL()})},render:function(){return n.createElement("a",{href:this.state.path},this.context.getI18nString("discovery/akira/Chrome","dvd.link"))}});t.exports=d});C.r("akira/containers/header/genreNavItem.jsx",function(e,t,n){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=e("prop-types"),o=e("react"),i=e("create-react-class"),a=e("react-dom"),u=e("lodash"),l=e("classnames"),c=e("./../../components/controls/menuCaret.jsx"),m=e("../../components/controls/subMenuFunctions"),p=e("../../components/controls/subMenu.jsx"),h=e("../../components/controls/mainViewLink.jsx"),d=e("../../utils/linkDefs.jsx"),f=i({displayName:"GenreNavigationItem",contextTypes:{getI18nBundle:r.func.isRequired,models:r.object.isRequired},mixins:[m],statics:{getPaths:function(e,t,n){return[["summary"],[{to:40},["id","menuName"]]]}},getSubMenuItems:function(e){var t=e||this.props.model,n=t.getValueSync(["summary"]),r=Math.min(40,u.result(n,"length",40)),i=l("sub-menu-link"),a=[],c=void 0;if(!n)return a;for(c=0;c<r;c++){var m=t.bind([c]);if(m){var p=m.getValueSync(["id"]),f=m.getValueSync(["menuName"]);f&&p&&"object"!==(void 0===f?"undefined":s(f))&&a.push(o.createElement(h,{resolver:d.getGenreRoute,params:{id:p},className:i},f))}}return a},getHierarchicalSubMenuItems:function(){var e=[],t=void 0,n=void 0;for(t=0;t<4;t++){var s=this.props.model.bind([t]),r=s.getValueSync(["summary"]);if(!r)return e;e.push(o.createElement(h,null,r.title));var i=this.getSubMenuItems(s),a=i.length;for(n=0;n<a;n++)e.push(i[n])}return e},getHierarchicalListLengths:function(){var e=[],t=void 0;if(this.props.model){for(t=0;t<4;t++){var n=this.props.model.bind([t]),s=n&&n.getValueSync(["summary"]);n&&s&&e.push(s.length)}return e}},componentDidMount:function(){this.addEventListeners(a.findDOMNode(this.refs.menu),a.findDOMNode(this.refs.menuContainer))},componentWillUnmount:function(){this.removeEventListeners(a.findDOMNode(this.refs.menu),a.findDOMNode(this.refs.menuContainer))},render:function(){var e=this.getSubMenuItems(),t=this.context.getI18nBundle("discovery/akira/Chrome"),n=l("browse",{active:this.props.selected||this.state.subMenuOpen,hasSubMenu:e,"direction-top":this.state.subMenuDirection===p.DIRECTION_TOP}),s=l("genreNav",{hasSpecialItems:this.props.specialItems}),r=t.get("header.browse");return this.props.isKidsPage&&(r=t.get("header.categories")),o.createElement("li",{ref:"menuContainer",className:n},o.createElement("a",{ref:"menu",role:"button","aria-haspopup":!0,tabIndex:0},r,this.state.subMenuOpen?o.createElement(c,null):null),e?o.createElement("span",{className:"caret",role:"presentation"}):null,this.state.subMenuOpen?o.createElement(p,{onClick:this.closeSubMenu,items:e,showCalloutArrow:!1,specialItems:this.props.specialItems,styleClass:s,onDirectionChange:this.handleMenuDirectionChange}):null)}});t.exports=f});C.r("akira/containers/header/myListNotification.jsx",function(e,t,s){"use strict";var i=e("prop-types"),n=e("react"),a=e("create-react-class"),r=e("./simpleNotification.jsx"),o="discovery/akira/Chrome",c=a({displayName:"MyListNotification",contextTypes:{getI18nString:i.func.isRequired},getDetails:function(){var e=this.props.model.status,t=this.props.model.reason||"",s=this.props.model.title||"";return"success"===e?{type:"success",message:this.context.getI18nString(o,"system.notification.queue.add.success",{TITLE:s})}:"AlreadyInQueue"===t?{type:"info",message:this.context.getI18nString(o,"system.notification.queue.add.inqueue",{TITLE:s})}:"FailedToMove"===t||"FailedToRemove"===t?{type:"warning",message:this.context.getI18nString(o,"system.notification.queue.general.error")}:{type:"warning",message:this.context.getI18nString(o,"system.notification.queue.add.error")}},render:function(){var e=this.getDetails();return n.createElement(r,{type:e.type,message:e.message,animated:!0})}});t.exports=c});C.r("akira/containers/header/networkNotification.jsx",function(t,e,n){"use strict";var i=t("react"),r=t("create-react-class"),o=t("prop-types"),a=t("./simpleNotification.jsx"),s="discovery/akira/Chrome",c=r({displayName:"NetworkNotification",contextTypes:{getI18nString:o.func.isRequired},render:function(){return i.createElement(a,{type:"warning",animated:!0,title:this.context.getI18nString(s,"network.down.tooltip"),message:this.context.getI18nString(s,"network.down.message")})}});e.exports=c});C.r("akira/containers/header/ratingNotification.jsx",function(t,e,s){"use strict";var i=t("prop-types"),n=t("react"),r=t("create-react-class"),a=t("./simpleNotification.jsx"),o="discovery/akira/Chrome",c=r({displayName:"RatingNotification",contextTypes:{getI18nString:i.func.isRequired},getDetails:function(){var t=this.props.model.status,e=this.props.model.newRating||0,s=this.props.model.title||"";return"success"!==t||1!==e&&2!==e?{type:"warning",message:this.context.getI18nString(o,"system.notification.rating.error")}:{type:"success",message:this.context.getI18nString(o,"system.notification.rating.success",{TITLE:s})}},render:function(){var t=this.getDetails();return n.createElement(a,{type:t.type,message:t.message,animated:!0})}});e.exports=c});C.r("akira/containers/header/simpleNotification.jsx",function(e,i,s){"use strict";var t=(e("prop-types"),e("react")),a=e("create-react-class"),n={success:"icon-success-inv",warning:"icon-warn-inv",error:"icon-warn-inv",info:"icon-info-inv"},r=a({displayName:"SimpleNotification",render:function(){var e="simple-notification "+this.props.type+(this.props.animated?" animated":"");return t.createElement("div",{className:e},t.createElement("p",{title:this.props.title},t.createElement("span",{className:n[this.props.type]}),t.createElement("span",{className:"simple-notification-message"},this.props.message)))}});i.exports=r});C.r("akira/containers/header/systemNotifications.jsx",function(t,i,e){"use strict";var n=(t("prop-types"),t("react")),a=t("create-react-class"),o=t("./networkNotification.jsx"),s=t("./myListNotification.jsx"),r=t("./ratingNotification.jsx"),h=t("../../../reactMixins/eventBus"),c=a({displayName:"SystemNotifications",getInitialState:function(){return{activeNetwork:!0,myListNotification:{},ratingNotification:{}}},handleNetworkStatusChange:function(){var t=this;setTimeout(function(){t.setState({activeNetwork:navigator.onLine})},navigator.onLine?1:1e3)},setNotificationTimeout:function(){var t=this;setTimeout(function(){t.setState({myListNotification:{},ratingNotification:{}})},3e3)},handleMyListChange:function(t){t.myListNotification&&(this.setState({myListNotification:t.myListNotification}),this.setNotificationTimeout())},handleRatingChange:function(t){t.ratingNotification&&(this.setState({ratingNotification:t.ratingNotification}),this.setNotificationTimeout())},componentDidMount:function(){navigator&&navigator.onLine&&(window.addEventListener("online",this.handleNetworkStatusChange),window.addEventListener("offline",this.handleNetworkStatusChange)),h.on("myList:add:end",this.handleMyListChange),h.on("myList:move:end",this.handleMyListChange),h.on("myList:remove:end",this.handleMyListChange),h.on("title:rating:end",this.handleRatingChange)},componentWillUnmount:function(){window.removeEventListener("online",this.handleNetworkStatusChange),window.removeEventListener("offline",this.handleNetworkStatusChange),h.removeListener("myList:add:end",this.handleMyListChange),h.removeListener("myList:move:end",this.handleMyListChange),h.removeListener("myList:remove:end",this.handleMyListChange),h.removeListener("title:rating:end",this.handleRatingChange)},render:function(){return this.state.activeNetwork?this.state.myListNotification.status?n.createElement(s,{model:this.state.myListNotification}):this.state.ratingNotification.status?n.createElement(r,{model:this.state.ratingNotification}):null:n.createElement(o,null)}});i.exports=c});C.r("akira/containers/jawbone/background.jsx",function(e,t,a){"use strict";var l=e("prop-types"),s=e("react"),n=e("create-react-class"),o=e("classnames"),i=e("../../components/artwork/heroImages.jsx"),r=e("../../../common/imageExtension"),d=e("../../utils/watched"),c=e("../../../utils/ab/richOriginalsRowTest"),u=n({displayName:"JawBoneImages",contextTypes:{isTallRow:l.bool,listContext:l.string,listType:l.string,models:l.object},statics:{getPaths:function(e,t,a){var l=[[["bookmarkPosition","runtime"]]],s=r.getExtensionForOpaqueImage(e);return u.pql={fullbleedBillboard:["artWorkByType","BILLBOARD","_1280x720",s]},c.isEnabled(e)&&l.push(u.pql.fullbleedBillboard),l.concat(i.getPaths(e,null,{isShow:a.isShow,height:480,size:"_665x375"}))}},getInitialState:function(){return this.scope={allowedFullbleed:c.isEnabled(this.context.isKidsPage)&&c.isPanelsOriginalsRow(this.context.listContext,this.context.isTallRow,this.context.isKidsPage)},{}},renderFullBleedBackground:function(e){return s.createElement("div",{style:{backgroundImage:"url("+e+")"},className:o("fullbleed-bg")})},renderBackground:function(){var e=this.props,t=e.model,a=e.id,l=e.dim,n=e.isStandalone,r=t.getValueSync("bookmarkPosition");return s.createElement(i,{id:"jawBoneIR"+a,stop:l,duration:3300,className:o("jawBoneBackground"),auto:!0,isStandalone:n,model:t,style:null,bookmarkPosition:r,height:480,size:"_665x375",variance:120,watched:d.hasBeenWatched(this.props.model)})},render:function(){var e=this.props,t=e.isFullBleed,a=e.model,l=e.dim,n=t&&this.scope.allowedFullbleed&&a.getValueSync(u.pql.fullbleedBillboard),i=n&&n.url,r=o("background",{dim:l,fullbleed:i});return s.createElement("div",{className:r},i?this.renderFullBleedBackground(n.url):this.renderBackground(),s.createElement("div",{className:o("vignette")}),s.createElement("div",{className:o("nav-shadow")}))}});t.exports=u});C.r("akira/containers/jawbone/details/details.jsx",function(e,t,a){"use strict";var s=e("prop-types"),l=e("react"),i=e("create-react-class"),n=e("lodash"),o=e("shakti-platform/dist/ui/ShaktiProperties"),r=e("./../../../components/title/maturityRating.jsx"),c=e("./festival.jsx"),d=e("./people.jsx"),m=e("./tags.jsx"),u=e("./reviews.jsx"),h=e("../../slider/simpleSlider.jsx"),g=e("./../../../components/title/commonSense.jsx"),p=e("./../../../components/title/dvdAvailability.jsx"),v=e("./../../../components/title/copyright.jsx"),y=e("./../../../components/title/broadcaster.jsx"),E=e("../../../akiraContextTypes"),x=e("./detailsColumn.jsx"),b=e("../../../../utils/pathEvaluatorUtils"),S=e("../../../../components/presentationTracking/trackingComponents/jawboneShowDetailsPresTracking"),w=i({displayName:"Details",contextTypes:Object.assign({getI18nBundle:s.func.isRequired,models:s.object},E),statics:{getPaths:function(e,t,a){var s=c.getPaths(e,t,a).map(function(e){return["festivals",{to:10}].concat(e)}),l=r.getPaths(e,t,a).concat(s).concat(d.getPaths(e,t,a)).concat(m.getPaths(e,t,a)).concat([["festivals","length"],["delivery"]]).concat(v.getPaths(e,t,a)).concat([["availabilityEndDateNear"]]);return"KR"===n.get(e,"geo.data.requestCountry.id")&&(l=l.concat(y.getPaths(e,t,a))),n.get(e,"truths.data.showCommonSense",!1)&&(l=l.concat(g.getPaths(e,t,a))),l}},getStreaming:function(e){var t=this.props.model.getValueSync(["delivery"]);return t?t.hasUltraHD?e.get("details.available.in.super.HD"):t.hasHD?e.get("details.available.in.HD"):e.get("details.available.in.standard.def"):null},render:function(){var e=this.props.model,t=e.getValueSync(["summary"]),a=e.getValueSync(["festivals","length"]),s=this.context.getI18nBundle("discovery/akira/JawBone"),i="show"===t.type,E=this.getStreaming(s),w=n.get(this,"context.models.truths.data.currentProfileIsKids"),f=l.createElement(m,{model:e,isShow:i}),k=n.get(this.context.models,"userInfo.data"),j=[],D=void 0,P=!w&&!this.context.isRtl&&n.get(this.context.models,"geo.data.showMemberReviews",!1);j.push(l.createElement(d,{model:e,key:"people"},k&&k.isDVD?l.createElement("div",{key:"detailsDVD"},l.createElement(p,{model:e,videoId:t.id,isShow:i})):null)),f&&j.push(l.createElement(x,{key:"detailsTags",classSet:{detailsTags:!0}},f));var R=n.get(this,"context.models.truths.data.showCommonSense",!1),C=n.get(this,"context.models.truths.data.showBroadcaster",!1),V=n.get(e.getValueSync(["maturity"]),"rating.value","");for(j.push(l.createElement(x,{key:"detailsMaturity",classSet:{detailsMaturity:!0}},V&&l.createElement("h4",{className:"listLabel"},s.get("details.ratings")),l.createElement(r,{model:e,withLinkToDetail:!0,withDescription:!0,withReasons:!0,useCountryStyling:!0}),R&&l.createElement(g,{model:e}),C&&l.createElement(y,{key:"broadcaster",model:e}),l.createElement(v,{key:"detailsCopyright",model:e,classSet:{"details-copyright":!0}}))),D=0;D<a;D++)j.push(l.createElement(x,{key:"festival"+D,classSet:{detailsFestivals:!0}},l.createElement(c,{model:e.bind(["festivals",D]),maxLines:14})));var I=e.getValueSync(["availabilityEndDateNear"]),N=I&&!b.isValueError(I);if((E||N)&&j.push(l.createElement(x,{key:"streaming"},N&&l.createElement("h4",{className:"listLabel"},s.get("details.availability.heading")),N&&l.createElement("ul",null,l.createElement("li",null,s.get("details.availability.until.date",{localizedDate:I}))),E&&l.createElement("h4",{className:"listLabel"},s.get("details.streaming")),E&&l.createElement("ul",null,l.createElement("li",null,E)))),P&&o.get("netflix.ui.akira.memberReviewsEnabled")){var T=3===this.context.columnsInRow?3:2,L=l.createElement(x,{key:"detailsReviews",classSet:{detailsReviews:!0,doubleWidth:!0}},l.createElement("h4",{className:"listLabel"},s.get("details.reviews")),l.createElement(u,{model:e,pqls:u.getPaths(this.props.model,null,null)}));j.splice(T,0,L)}return l.createElement(S,{videoId:t.id},l.createElement(h,{classes:{jawBoneDetails:!0},onSliderMove:this.props.onSliderMove},j))}});t.exports=w});C.r("akira/containers/jawbone/details/detailsColumn.jsx",function(e,s,t){"use strict";var a=(e("prop-types"),e("react")),r=e("create-react-class"),n=e("lodash"),i=e("classnames"),l=r({displayName:"DetailsColumn",getDefaultProps:function(){return{classSet:{}}},render:function(){var e=n.merge({detailsItem:!0},this.props.classSet);return a.createElement("div",{key:this.props.key,className:i(e)},this.props.children)}});s.exports=l});C.r("akira/containers/jawbone/details/festival.jsx",function(e,t,n){"use strict";var a=e("prop-types"),r=e("react"),s=e("create-react-class"),i=e("../../../components/controls/mainViewLink.jsx"),l=e("../../../../utils/Routes"),c=function(e,t,n){return[[["length","name","year"]],[{to:10},["type","winner"]],[{to:10},"person",["name","id"]]]},o=s({displayName:"Festival",statics:{getPaths:c},contextTypes:{getI18nString:a.func.isRequired},render:function(){var e=this.props.model,t=e.getValueSync(["name"])+"®",n=e.getValueSync(["year"]),a=n?n+" "+t:t,s=e.getValueSync(["length"]),c=[],o=void 0,u=0;for(o=0;o<s;o++){var m=e.bind([o]),p=m.bind(["person"]),d=m.getValueSync(["type"]),y=m.getValueSync(["winner"]),g=p.getValueSync(["name"]),h=p.getValueSync(["id"]),v=null;if(u+=1.5,h&&"number"==typeof h&&(u+=2,v=r.createElement("ul",null,r.createElement("li",null,r.createElement(i,{to:l.person,params:{id:h}},g)))),this.props.maxLines&&u>=this.props.maxLines)break;var S=y?d:this.context.getI18nString("discovery/akira/JawBone","details.award.nominee",{TYPE:d}),f=S+(v?":":"");c.push(r.createElement("div",{key:"award"+o},r.createElement("h5",{className:"listLabel"},f),v||null))}return r.createElement("div",null,r.createElement("h4",{className:"listLabel"},a),c)}});t.exports=o});C.r("akira/containers/jawbone/details/people.jsx",function(e,t,r){"use strict";function a(e,t){return c.createElement("li",{key:e+"-label",className:m("listLabel")},c.createElement(f,{bundle:j,stringKey:P[e].label,stringParams:{count:t.length}}))}function n(e,t,r,a){return c.createElement("li",{key:e+"-"+a},c.createElement(g,{to:k.person,params:{id:t}},r))}function i(e,t){var r=t.map(function(t,r){var a=t.id,i=t.name;return n(e,a,i,r)});return[a(e,t)].concat(r)}function s(e){return Object.keys(P).filter(function(t){return e[t]&&e[t].length}).map(function(t){return i(t,e[t])}).reduce(function(e,t){return e.concat(t)},[])}function l(e){return d.get(e,"geo.data.locale.doubleByte",!1)?y:h}function o(e,t){var r=s(e),a=e.children?[e.children].concat(r):r;return 0===a.length?null:c.createElement("span",null,d.chunk(a,l(t.models)).map(function(e,t){return c.createElement(b,{key:"column "+t,classSet:{detailsMedia:!0}},c.createElement("ul",null,e))}))}var c=e("react"),u=e("prop-types"),d=e("lodash"),m=e("classnames"),p=e("shakti-platform/dist/ui/ShaktiProperties"),b=e("./detailsColumn.jsx"),f=e("../../../../components/string.jsx"),k=e("../../../../utils/Routes"),g=e("../../../components/controls/mainViewLink.jsx"),w=e("../../../utils/setDataAsProps.jsx"),h=15,y=11,j="discovery/akira/JawBone",x=p.get("web.ui.akira.details.creatorCount"),E=p.get("web.ui.akira.details.directorCount"),C=p.get("web.ui.akira.details.castCount"),v=p.get("web.ui.akira.details.writerCount"),P={creators:{label:"details.creator"},directors:{label:"details.director"},cast:{label:"details.cast"},writers:{label:"details.writers"}};o.contextTypes={models:u.object},t.exports=w(o,{paths:{myPaths:{creators:["creators",{to:x-1},["id","name"]],directors:["directors",{to:E-1},["id","name"]],cast:["cast",{to:C-1},["id","name"]],writers:["writers",{to:v-1},["id","name"]]}}})});C.r("akira/components/review/deleteReview.jsx",function(e,t,i){"use strict";var r=e("prop-types"),s=e("react"),n=e("create-react-class"),c=e("../../../reactMixins/eventBus"),l=n({displayName:"DeleteReview",contextTypes:{getI18nBundle:r.func.isRequired},getDefaultProps:function(){return{reviewDeleted:!1}},deleteReview:function(){var e=this.props.videoModel.getValueSync(["summary"]).id;this.props.onReviewDeleted(),this.props.videoModel.call(["deleteReview"],[],[],[]).subscribe(function(t){c.emit("reviews:reviewsCountChanged",{videoId:e})})},render:function(){var e=this.context.getI18nBundle("discovery/akira/Reviews");return this.props.reviewDeleted?s.createElement("h4",{className:"reviewDeleted"},e.get("delete.review.success")):s.createElement("div",{className:"deleteReview action",onClick:this.deleteReview},e.get("delete.my.review"))}});t.exports=l});C.r("akira/components/review/helpfulCount.jsx",function(e,t,n){"use strict";var u=e("prop-types"),l=e("react"),r=e("create-react-class"),s=r({displayName:"HelpfulCount",contextTypes:{getI18nBundle:u.func.isRequired},render:function(){var e=this.context.getI18nBundle("discovery/akira/Reviews");return l.createElement("div",{className:"helpfulCount",dangerouslySetInnerHTML:{__html:e.get("helpful.review.count",{numHelpful:this.props.numHelpful,totalNum:this.props.numHelpful+this.props.numNotHelpful})}})}});t.exports=s});C.r("akira/components/review/checkbox.jsx",function(e,a,t){"use strict";var r=e("prop-types"),s=e("react"),i=e("create-react-class"),c=i({displayName:"Checkbox",contextTypes:{getI18nBundle:r.func.isRequired},handleChange:function(){this.props.onChange(this.props.value,!this.props.checked)},render:function(){var e=this.props.reviewId+"-"+this.props.value;return s.createElement("div",{className:"akira-checkbox-item"},s.createElement("input",{type:"checkbox",className:"akira-checkbox",name:"inappropriateReason-"+this.props.reviewId,id:e,value:this.props.value,defaultChecked:this.props.checked,onChange:this.handleChange}),s.createElement("label",{className:"akira-checkbox-label action",htmlFor:e},this.context.getI18nBundle("discovery/akira/Reviews").get("inappropriate.reason."+this.props.value)))}});a.exports=c});C.r("akira/components/review/reviewsConstants.js",function(e,E,L){"use strict";var t={votes:{HELPFUL:"HELPFUL",NOT_HELPFUL:"NOT_HELPFUL"},voteLocalizationLabels:{HELPFUL:"vote.review.helpful",NOT_HELPFUL:"vote.review.not.helpful"},flags:{OBJECTIONABLE_CONTENT:"OBJECTIONABLE_CONTENT",HAS_SPOILER:"HAS_SPOILER",NOT_A_REVIEW:"NOT_A_REVIEW"}};E.exports=t});C.r("akira/components/review/inappropriateReview.jsx",function(e,t,a){"use strict";var i=e("prop-types"),s=e("react"),l=e("create-react-class"),n=e("lodash"),r=e("./checkbox.jsx"),o=e("./reviewsConstants.js"),c=l({displayName:"InappropriateReview",contextTypes:{getI18nBundle:i.func.isRequired,pathEvaluator:i.object},getInitialState:function(){var e=this.props.reviewModel.getValueSync(["id"]),t=this.props.videoModel.getValueSync(["reviewFlags"])||{},a=t[e]||[];return{flagsForReview:n.clone(a)}},flagReview:function(e,t){var a=n.clone(this.state.flagsForReview);t?a.push(e):a=n.without(a,e),this.setState({flagsForReview:a})},saveFlags:function(){var e=this,t=this.props.reviewModel.getValueSync(["id"]),a=this.props.videoModel.getValueSync(["reviewFlags"])||{},i={};i[t]=this.state.flagsForReview;var s=n.assign(a,i);this.context.pathEvaluator.bind(["reviews",t]).call(["flagReview"],[this.state.flagsForReview],[],[["video","reviewFlags"]]).subscribe(function(t){e.props.videoModel.setValueSync(["reviewFlags"],s),e.props.onFlagsChange(e.state.flagsForReview)})},cancel:function(){this.setState(this.getInitialState()),this.props.onCancel()},render:function(){var e=this.context.getI18nBundle("discovery/akira/Reviews"),t=this.props.reviewModel.getValueSync(["id"]),a=n.contains(this.state.flagsForReview,o.flags.OBJECTIONABLE_CONTENT),i=n.contains(this.state.flagsForReview,o.flags.HAS_SPOILER),l=n.contains(this.state.flagsForReview,o.flags.NOT_A_REVIEW);return s.createElement("fieldset",{className:"inappropriate-review"},s.createElement("legend",{className:"inappropriate-review-legend"},e.get("report.as.inappropriate")),s.createElement("ul",{className:"inappropriate-review-types"},s.createElement("li",null,s.createElement(r,{value:o.flags.OBJECTIONABLE_CONTENT,reviewId:t,checked:a,onChange:this.flagReview})),s.createElement("li",null,s.createElement(r,{value:o.flags.HAS_SPOILER,reviewId:t,checked:i,onChange:this.flagReview})),s.createElement("li",null,s.createElement(r,{value:o.flags.NOT_A_REVIEW,reviewId:t,checked:l,onChange:this.flagReview}))),s.createElement("button",{className:"akira-button akira-button-red",onClick:this.saveFlags},e.get("submit")),s.createElement("button",{className:"akira-button",onClick:this.cancel},e.get("cancel")))}});t.exports=c});C.r("akira/components/review/reviewText.jsx",function(t,e,r){"use strict";var s=(t("prop-types"),t("react")),a=t("create-react-class"),i=t("lodash"),n=a({displayName:"ReviewText",FULL_WIDTH_CHARS_REGEX:/[\u3000-\u30ff\uff00-\uffef\u4e00-\u9faf\u3400-\u4dbf]/,FULL_WIDTH_CHARS_LENGTH_MULTIPLIER:.4,getInitialState:function(){var t=null;return this.props.maxLength&&(t=this.FULL_WIDTH_CHARS_REGEX.test(this.props.text)),{hasFullWidthCharacters:t}},render:function(){var t=this.props.text,e=this.props.maxLength;return e&&(!0===this.state.hasFullWidthCharacters&&(e*=this.FULL_WIDTH_CHARS_LENGTH_MULTIPLIER),t=i.trunc(t,{length:e,separator:/\s/})),s.createElement("div",{className:"reviewText"},t)}});e.exports=n});C.r("akira/components/review/voteReview.jsx",function(e,t,i){"use strict";var a=e("prop-types"),s=e("react"),r=e("create-react-class"),n=e("./reviewsConstants.js"),o=r({displayName:"VoteReview",contextTypes:{getI18nBundle:a.func.isRequired,reviewListId:a.string},handleChange:function(){this.props.checked||this.props.onVoteChange(this.props.value)},render:function(){var e=this.context.reviewListId+"-"+this.props.reviewId+"-"+this.props.value;return s.createElement("li",{className:"akira-radio-item"},s.createElement("input",{type:"radio",className:"akira-radio",name:this.context.reviewListId+"-helpfulVote-"+this.props.reviewId,id:e,value:this.props.value,checked:this.props.checked,onChange:this.handleChange}),s.createElement("label",{className:"akira-radio-label action",htmlFor:e},this.context.getI18nBundle("discovery/akira/Reviews").get(n.voteLocalizationLabels[this.props.value])))}});t.exports=o});C.r("akira/components/review/voteReviewSection.jsx",function(e,t,i){"use strict";var o=e("prop-types"),s=e("react"),r=e("create-react-class"),a=e("classnames"),n=e("lodash"),v=e("./reviewsConstants.js"),c=e("./voteReview.jsx"),l=r({displayName:"VoteReviewSection",contextTypes:{getI18nBundle:o.func.isRequired,pathEvaluator:o.object},voteReview:function(e){var t=this,i=this.props.reviewModel.getValueSync(["id"]),o=this.props.videoModel.getValueSync(["reviewVotes"])||{},s=o[i],r={};r[i]=e;var a=n.assign(o,r);s!==e&&this.context.pathEvaluator.call(["reviews",i,"voteReview"],[e],[],[["reviews",i,["helpfulCount","notHelpfulCount"]]]).subscribe(function(i){t.props.videoModel.setValueSync(["reviewVotes"],a),t.props.onVoteChange(e)})},renderVoteReview:function(e,t){return t&&t!==e?null:s.createElement(c,{reviewId:this.props.reviewModel.getValueSync(["id"]),value:e,checked:t===e,onVoteChange:this.voteReview})},render:function(){var e=this.context.getI18nBundle("discovery/akira/Reviews"),t=this.props.reviewModel.getValueSync(["id"]),i=(this.props.videoModel.getValueSync(["reviewVotes"])||{})[t];return s.createElement("div",{className:"voteReview"},s.createElement("span",{className:"voteReviewPrompt"},e.get("vote.review.prompt"))," ",s.createElement("div",{className:"reviewActions"},s.createElement("ul",{className:"voteReviewChoices"},this.renderVoteReview(v.votes.HELPFUL,i),this.renderVoteReview(v.votes.NOT_HELPFUL,i)),s.createElement("span",{className:a({action:!0,inappropriateTrigger:!0,selected:this.props.flagsForReview}),onClick:this.props.onInappropriateReviewClick},e.get("flag.review.inappropriate"))))}});t.exports=l});C.r("common/appContext.js",function(e,t,o){"use strict";var n=e("lodash"),a=e("./nfNamespace"),r=e("nf-ardbeg"),g=e("cookie-dough"),u=a.appContext;t.exports={getModelData:function(e,t,o){if(u)return u.getModelData(e,t,o);var r=n.get(a,["reactContext","models",e,"data"]);return t?n.get(r,t,o):r},getModels:function(){return u?u.getModels():n.get(a,["reactContext","models"])},getAB:function(){return u?u.getAB():r.evaluate(this.getModelData("ab")||{})},getCookieDough:function(){return u?u.getCookieDough():new g}}});C.r("node_modules/rxjs/BehaviorSubject.js",function(t,e,r){"use strict";var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},n=t("./Subject"),i=t("./util/ObjectUnsubscribedError"),u=function(t){function e(e){t.call(this),this._value=e}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(n.Subject);r.BehaviorSubject=u});C.r("node_modules/rxjs/InnerSubscriber.js",function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("./Subscriber"),o=function(t){function e(e,r,n){t.call(this),this.parent=e,this.outerValue=r,this.outerIndex=n,this.index=0}return n(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(i.Subscriber);r.InnerSubscriber=o});C.r("node_modules/rxjs/Notification.js",function(e,t,r){"use strict";var n=e("./Observable"),i=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();r.Notification=i});C.r("node_modules/rxjs/Observable.js",function(r,o,t){"use strict";var e=r("./util/root"),s=r("./util/toSubscriber"),i=r("./symbol/observable"),n=function(){function r(r){this._isScalar=!1,r&&(this._subscribe=r)}return r.prototype.lift=function(o){var t=new r;return t.source=this,t.operator=o,t},r.prototype.subscribe=function(r,o,t){var e=this.operator,i=s.toSubscriber(r,o,t);if(e?e.call(i,this.source):i.add(this.source?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},r.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(o){r.syncErrorThrown=!0,r.syncErrorValue=o,r.error(o)}},r.prototype.forEach=function(r,o){var t=this;if(o||(e.root.Rx&&e.root.Rx.config&&e.root.Rx.config.Promise?o=e.root.Rx.config.Promise:e.root.Promise&&(o=e.root.Promise)),!o)throw new Error("no Promise impl found");return new o(function(o,e){var s;s=t.subscribe(function(o){if(s)try{r(o)}catch(r){e(r),s.unsubscribe()}else r(o)},e,o)})},r.prototype._subscribe=function(r){return this.source.subscribe(r)},r.prototype[i.observable]=function(){return this},r.create=function(o){return new r(o)},r}();t.Observable=n});C.r("node_modules/rxjs/Observer.js",function(e,n,o){"use strict";o.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}});C.r("node_modules/rxjs/OuterSubscriber.js",function(t,o,r){"use strict";var n=this&&this.__extends||function(t,o){function r(){this.constructor=t}for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n]);t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)},e=t("./Subscriber"),i=function(t){function o(){t.apply(this,arguments)}return n(o,t),o.prototype.notifyNext=function(t,o,r,n,e){this.destination.next(o)},o.prototype.notifyError=function(t,o){this.destination.error(t)},o.prototype.notifyComplete=function(t){this.destination.complete()},o}(e.Subscriber);r.OuterSubscriber=i});C.r("node_modules/rxjs/ReplaySubject.js",function(t,e,r){"use strict";var i=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=t("./Subject"),n=t("./scheduler/queue"),o=t("./Subscription"),u=t("./operator/observeOn"),h=t("./util/ObjectUnsubscribedError"),c=t("./SubjectSubscription"),p=function(t){function e(e,r,i){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=i,this._events=[],this._bufferSize=e<1?1:e,this._windowTime=r<1?1:r}return i(e,t),e.prototype.next=function(e){var r=this._getNow();this._events.push(new b(r,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._trimBufferThenGetEvents(),i=this.scheduler;if(this.closed)throw new h.ObjectUnsubscribedError;this.hasError?e=o.Subscription.EMPTY:this.isStopped?e=o.Subscription.EMPTY:(this.observers.push(t),e=new c.SubjectSubscription(this,t)),i&&t.add(t=new u.ObserveOnSubscriber(t,i));for(var s=r.length,n=0;n<s&&!t.closed;n++)t.next(r[n].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||n.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,i=this._events,s=i.length,n=0;n<s&&!(t-i[n].time<r);)n++;return s>e&&(n=Math.max(n,s-e)),n>0&&i.splice(0,n),i},e}(s.Subject);r.ReplaySubject=p;var b=function(){function t(t,e){this.time=t,this.value=e}return t}()});C.r("node_modules/rxjs/Scheduler.js",function(e,n,t){"use strict";var o=function(){function e(n,t){void 0===t&&(t=e.now),this.SchedulerAction=n,this.now=t}return e.prototype.schedule=function(e,n,t){return void 0===n&&(n=0),new this.SchedulerAction(this,e).schedule(t,n)},e.now=Date.now?Date.now:function(){return+new Date},e}();t.Scheduler=o});C.r("node_modules/rxjs/Subject.js",function(t,r,e){"use strict";var s=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var s in r)r.hasOwnProperty(s)&&(t[s]=r[s]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},o=t("./Observable"),i=t("./Subscriber"),n=t("./Subscription"),c=t("./util/ObjectUnsubscribedError"),u=t("./SubjectSubscription"),b=t("./symbol/rxSubscriber"),h=function(t){function r(r){t.call(this,r),this.destination=r}return s(r,t),r}(i.Subscriber);e.SubjectSubscriber=h;var p=function(t){function r(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return s(r,t),r.prototype[b.rxSubscriber]=function(){return new h(this)},r.prototype.lift=function(t){var r=new l(this,this);return r.operator=t,r},r.prototype.next=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var r=this.observers,e=r.length,s=r.slice(),o=0;o<e;o++)s[o].next(t)},r.prototype.error=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var r=this.observers,e=r.length,s=r.slice(),o=0;o<e;o++)s[o].error(t);this.observers.length=0},r.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,r=t.length,e=t.slice(),s=0;s<r;s++)e[s].complete();this.observers.length=0},r.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},r.prototype._trySubscribe=function(r){if(this.closed)throw new c.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,r)},r.prototype._subscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),n.Subscription.EMPTY):this.isStopped?(t.complete(),n.Subscription.EMPTY):(this.observers.push(t),new u.SubjectSubscription(this,t))},r.prototype.asObservable=function(){var t=new o.Observable;return t.source=this,t},r.create=function(t,r){return new l(t,r)},r}(o.Observable);e.Subject=p;var l=function(t){function r(r,e){t.call(this),this.destination=r,this.source=e}return s(r,t),r.prototype.next=function(t){var r=this.destination;r&&r.next&&r.next(t)},r.prototype.error=function(t){var r=this.destination;r&&r.error&&this.destination.error(t)},r.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},r.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):n.Subscription.EMPTY},r}(p);e.AnonymousSubject=l});C.r("node_modules/rxjs/SubjectSubscription.js",function(t,s,i){"use strict";var e=this&&this.__extends||function(t,s){function i(){this.constructor=t}for(var e in s)s.hasOwnProperty(e)&&(t[e]=s[e]);t.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)},o=t("./Subscription"),r=function(t){function s(s,i){t.call(this),this.subject=s,this.subscriber=i,this.closed=!1}return e(s,t),s.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,s=t.observers;if(this.subject=null,s&&0!==s.length&&!t.isStopped&&!t.closed){var i=s.indexOf(this.subscriber);-1!==i&&s.splice(i,1)}}},s}(o.Subscription);i.SubjectSubscription=r});C.r("node_modules/rxjs/Subscriber.js",function(t,r,s){"use strict";var i=this&&this.__extends||function(t,r){function s(){this.constructor=t}for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);t.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)},e=t("./util/isFunction"),n=t("./Subscription"),o=t("./Observer"),c=t("./symbol/rxSubscriber"),h=function(t){function r(s,i,e){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o.empty;break;case 1:if(!s){this.destination=o.empty;break}if("object"==typeof s){s instanceof r?(this.destination=s,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,s));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,s,i,e)}}return i(r,t),r.prototype[c.rxSubscriber]=function(){return this},r.create=function(t,s,i){var e=new r(t,s,i);return e.syncErrorThrowable=!1,e},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r.prototype._unsubscribeAndRecycle=function(){var t=this,r=t._parent,s=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=r,this._parents=s,this},r}(n.Subscription);s.Subscriber=h;var u=function(t){function r(r,s,i,n){t.call(this),this._parentSubscriber=r;var c,h=this;e.isFunction(s)?c=s:s&&(c=s.next,i=s.error,n=s.complete,s!==o.empty&&(h=Object.create(s),e.isFunction(h.unsubscribe)&&this.add(h.unsubscribe.bind(h)),h.unsubscribe=this.unsubscribe.bind(this))),this._context=h,this._next=c,this._error=i,this._complete=n}return i(r,t),r.prototype.next=function(t){if(!this.isStopped&&this._next){var r=this._parentSubscriber;r.syncErrorThrowable?this.__tryOrSetError(r,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var r=this._parentSubscriber;if(this._error)r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!r.syncErrorThrowable)throw this.unsubscribe(),t;r.syncErrorValue=t,r.syncErrorThrown=!0,this.unsubscribe()}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var s=function(){return t._complete.call(t._context)};r.syncErrorThrowable?(this.__tryOrSetError(r,s),this.unsubscribe()):(this.__tryOrUnsub(s),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,r){try{t.call(this._context,r)}catch(t){throw this.unsubscribe(),t}},r.prototype.__tryOrSetError=function(t,r,s){try{r.call(this._context,s)}catch(r){return t.syncErrorValue=r,t.syncErrorThrown=!0,!0}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(h)});C.r("node_modules/rxjs/Subscription.js",function(r,t,i){"use strict";function n(r){return r.reduce(function(r,t){return r.concat(t instanceof a.UnsubscriptionError?t.errors:t)},[])}var s=r("./util/isArray"),e=r("./util/isObject"),o=r("./util/isFunction"),u=r("./util/tryCatch"),c=r("./util/errorObject"),a=r("./util/UnsubscriptionError"),p=function(){function r(r){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,r&&(this._unsubscribe=r)}return r.prototype.unsubscribe=function(){var r,t=!1;if(!this.closed){var i=this,p=i._parent,b=i._parents,f=i._unsubscribe,l=i._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,d=b?b.length:0;p;)p.remove(this),p=++h<d&&b[h]||null;if(o.isFunction(f)){var _=u.tryCatch(f).call(this);_===c.errorObject&&(t=!0,r=r||(c.errorObject.e instanceof a.UnsubscriptionError?n(c.errorObject.e.errors):[c.errorObject.e]))}if(s.isArray(l))for(h=-1,d=l.length;++h<d;){var v=l[h];if(e.isObject(v)){var _=u.tryCatch(v.unsubscribe).call(v);if(_===c.errorObject){t=!0,r=r||[];var j=c.errorObject.e;j instanceof a.UnsubscriptionError?r=r.concat(n(j.errors)):r.push(j)}}}if(t)throw new a.UnsubscriptionError(r)}},r.prototype.add=function(t){if(!t||t===r.EMPTY)return r.EMPTY;if(t===this)return this;var i=t;switch(typeof t){case"function":i=new r(t);case"object":if(i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if("function"!=typeof i._addParent){var n=i;i=new r,i._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(i),i._addParent(this),i},r.prototype.remove=function(r){var t=this._subscriptions;if(t){var i=t.indexOf(r);-1!==i&&t.splice(i,1)}},r.prototype._addParent=function(r){var t=this,i=t._parent,n=t._parents;i&&i!==r?n?-1===n.indexOf(r)&&n.push(r):this._parents=[r]:this._parent=r},r.EMPTY=function(r){return r.closed=!0,r}(new r),r}();i.Subscription=p});C.r("node_modules/rxjs/add/observable/concat.js",function(e,a,c){"use strict";var o=e("../../Observable"),s=e("../../observable/concat");o.Observable.concat=s.concat});C.r("node_modules/rxjs/add/observable/defer.js",function(e,r,s){"use strict";var b=e("../../Observable"),d=e("../../observable/defer");b.Observable.defer=d.defer});C.r("node_modules/rxjs/add/observable/empty.js",function(e,s,b){"use strict";var r=e("../../Observable"),t=e("../../observable/empty");r.Observable.empty=t.empty});C.r("node_modules/rxjs/add/observable/from.js",function(r,e,o){"use strict";var s=r("../../Observable"),b=r("../../observable/from");s.Observable.from=b.from});C.r("node_modules/rxjs/add/observable/fromEvent.js",function(e,r,o){"use strict";var s=e("../../Observable"),v=e("../../observable/fromEvent");s.Observable.fromEvent=v.fromEvent});C.r("node_modules/rxjs/add/observable/fromPromise.js",function(r,e,o){"use strict";var s=r("../../Observable"),m=r("../../observable/fromPromise");s.Observable.fromPromise=m.fromPromise});C.r("node_modules/rxjs/add/observable/interval.js",function(e,r,a){"use strict";var l=e("../../Observable"),s=e("../../observable/interval");l.Observable.interval=s.interval});C.r("node_modules/rxjs/add/observable/merge.js",function(e,r,s){"use strict";var b=e("../../Observable"),a=e("../../observable/merge");b.Observable.merge=a.merge});C.r("node_modules/rxjs/add/observable/of.js",function(e,o,s){"use strict";var b=e("../../Observable"),r=e("../../observable/of");b.Observable.of=r.of});C.r("node_modules/rxjs/add/observable/throw.js",function(r,e,o){"use strict";var s=r("../../Observable"),b=r("../../observable/throw");s.Observable.throw=b._throw});C.r("node_modules/rxjs/add/observable/timer.js",function(e,r,s){"use strict";var b=e("../../Observable"),t=e("../../observable/timer");b.Observable.timer=t.timer});C.r("node_modules/rxjs/add/observable/zip.js",function(e,s,b){"use strict";var r=e("../../Observable"),a=e("../../observable/zip");r.Observable.zip=a.zip});C.r("node_modules/rxjs/add/operator/catch.js",function(t,c,a){"use strict";var e=t("../../Observable"),r=t("../../operator/catch");e.Observable.prototype.catch=r._catch,e.Observable.prototype._catch=r._catch});C.r("node_modules/rxjs/add/operator/concat.js",function(o,r,t){"use strict";var a=o("../../Observable"),c=o("../../operator/concat");a.Observable.prototype.concat=c.concat});C.r("node_modules/rxjs/add/operator/delay.js",function(e,r,a){"use strict";var o=e("../../Observable"),d=e("../../operator/delay");o.Observable.prototype.delay=d.delay});C.r("node_modules/rxjs/add/operator/distinctUntilChanged.js",function(t,n,e){"use strict";var i=t("../../Observable"),d=t("../../operator/distinctUntilChanged");i.Observable.prototype.distinctUntilChanged=d.distinctUntilChanged});C.r("node_modules/rxjs/add/operator/do.js",function(o,e,r){"use strict";var d=o("../../Observable"),t=o("../../operator/do");d.Observable.prototype.do=t._do,d.Observable.prototype._do=t._do});C.r("node_modules/rxjs/add/operator/filter.js",function(r,e,t){"use strict";var o=r("../../Observable"),l=r("../../operator/filter");o.Observable.prototype.filter=l.filter});C.r("node_modules/rxjs/add/operator/map.js",function(r,a,e){"use strict";var o=r("../../Observable"),p=r("../../operator/map");o.Observable.prototype.map=p.map});C.r("node_modules/rxjs/add/operator/merge.js",function(e,r,o){"use strict";var s=e("../../Observable"),t=e("../../operator/merge");s.Observable.prototype.merge=t.merge});C.r("node_modules/rxjs/add/operator/mergeMap.js",function(e,r,a){"use strict";var p=e("../../Observable"),o=e("../../operator/mergeMap");p.Observable.prototype.mergeMap=o.mergeMap,p.Observable.prototype.flatMap=o.mergeMap});C.r("node_modules/rxjs/add/operator/observeOn.js",function(e,r,o){"use strict";var s=e("../../Observable"),b=e("../../operator/observeOn");s.Observable.prototype.observeOn=b.observeOn});C.r("node_modules/rxjs/add/operator/onErrorResumeNext.js",function(r,e,o){"use strict";var s=r("../../Observable"),t=r("../../operator/onErrorResumeNext");s.Observable.prototype.onErrorResumeNext=t.onErrorResumeNext});C.r("node_modules/rxjs/add/operator/publish.js",function(r,s,e){"use strict";var o=r("../../Observable"),b=r("../../operator/publish");o.Observable.prototype.publish=b.publish});C.r("node_modules/rxjs/add/operator/publishReplay.js",function(e,p,l){"use strict";var r=e("../../Observable"),s=e("../../operator/publishReplay");r.Observable.prototype.publishReplay=s.publishReplay});C.r("node_modules/rxjs/add/operator/reduce.js",function(e,r,o){"use strict";var d=e("../../Observable"),s=e("../../operator/reduce");d.Observable.prototype.reduce=s.reduce});C.r("node_modules/rxjs/add/operator/retryWhen.js",function(r,e,t){"use strict";var o=r("../../Observable"),n=r("../../operator/retryWhen");o.Observable.prototype.retryWhen=n.retryWhen});C.r("node_modules/rxjs/add/operator/sample.js",function(e,r,s){"use strict";var a=e("../../Observable"),o=e("../../operator/sample");a.Observable.prototype.sample=o.sample});C.r("node_modules/rxjs/add/operator/sampleTime.js",function(e,r,s){"use strict";var a=e("../../Observable"),m=e("../../operator/sampleTime");a.Observable.prototype.sampleTime=m.sampleTime});C.r("node_modules/rxjs/add/operator/scan.js",function(r,s,a){"use strict";var e=r("../../Observable"),o=r("../../operator/scan");e.Observable.prototype.scan=o.scan});C.r("node_modules/rxjs/add/operator/share.js",function(r,e,s){"use strict";var a=r("../../Observable"),o=r("../../operator/share");a.Observable.prototype.share=o.share});C.r("node_modules/rxjs/add/operator/startWith.js",function(t,r,s){"use strict";var a=t("../../Observable"),e=t("../../operator/startWith");a.Observable.prototype.startWith=e.startWith});C.r("node_modules/rxjs/add/operator/switchMap.js",function(r,s,t){"use strict";var a=r("../../Observable"),e=r("../../operator/switchMap");a.Observable.prototype.switchMap=e.switchMap});C.r("node_modules/rxjs/add/operator/take.js",function(e,r,t){"use strict";var a=e("../../Observable"),o=e("../../operator/take");a.Observable.prototype.take=o.take});C.r("node_modules/rxjs/add/operator/takeLast.js",function(t,a,e){"use strict";var r=t("../../Observable"),s=t("../../operator/takeLast");r.Observable.prototype.takeLast=s.takeLast});C.r("node_modules/rxjs/add/operator/takeUntil.js",function(t,e,r){"use strict";var a=t("../../Observable"),o=t("../../operator/takeUntil");a.Observable.prototype.takeUntil=o.takeUntil});C.r("node_modules/rxjs/add/operator/throttleTime.js",function(t,e,r){"use strict";var o=t("../../Observable"),l=t("../../operator/throttleTime");o.Observable.prototype.throttleTime=l.throttleTime});C.r("node_modules/rxjs/add/operator/timeInterval.js",function(e,r,t){"use strict";var a=e("../../Observable"),o=e("../../operator/timeInterval");a.Observable.prototype.timeInterval=o.timeInterval});C.r("node_modules/rxjs/add/operator/timeout.js",function(t,e,o){"use strict";var r=t("../../Observable"),s=t("../../operator/timeout");r.Observable.prototype.timeout=s.timeout});C.r("node_modules/rxjs/add/operator/timeoutWith.js",function(t,e,o){"use strict";var r=t("../../Observable"),i=t("../../operator/timeoutWith");r.Observable.prototype.timeoutWith=i.timeoutWith});C.r("node_modules/rxjs/add/operator/zip.js",function(r,o,e){"use strict";var p=r("../../Observable"),t=r("../../operator/zip");p.Observable.prototype.zip=t.zipProto});C.r("node_modules/rxjs/observable/ArrayLikeObservable.js",function(e,r,t){"use strict";var s=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var s in r)r.hasOwnProperty(s)&&(e[s]=r[s]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},n=e("../Observable"),i=e("./ScalarObservable"),a=e("./EmptyObservable"),c=function(e){function r(r,t){e.call(this),this.arrayLike=r,this.scheduler=t,t||1!==r.length||(this._isScalar=!0,this.value=r[0])}return s(r,e),r.create=function(e,t){var s=e.length;return 0===s?new a.EmptyObservable:1===s?new i.ScalarObservable(e[0],t):new r(e,t)},r.dispatch=function(e){var r=e.arrayLike,t=e.index,s=e.length,n=e.subscriber;if(!n.closed){if(t>=s)return void n.complete();n.next(r[t]),e.index=t+1,this.schedule(e)}},r.prototype._subscribe=function(e){var t=this,s=t.arrayLike,n=t.scheduler,i=s.length;if(n)return n.schedule(r.dispatch,0,{arrayLike:s,index:0,length:i,subscriber:e});for(var a=0;a<i&&!e.closed;a++)e.next(s[a]);e.complete()},r}(n.Observable);t.ArrayLikeObservable=c});C.r("node_modules/rxjs/observable/ArrayObservable.js",function(e,r,t){"use strict";var n=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},s=e("../Observable"),a=e("./ScalarObservable"),i=e("./EmptyObservable"),c=e("../util/isScheduler"),l=function(e){function r(r,t){e.call(this),this.array=r,this.scheduler=t,t||1!==r.length||(this._isScalar=!0,this.value=r[0])}return n(r,e),r.create=function(e,t){return new r(e,t)},r.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=e[e.length-1];c.isScheduler(n)?e.pop():n=null;var s=e.length;return s>1?new r(e,n):1===s?new a.ScalarObservable(e[0],n):new i.EmptyObservable(n)},r.dispatch=function(e){var r=e.array,t=e.index,n=e.count,s=e.subscriber;if(t>=n)return void s.complete();s.next(r[t]),s.closed||(e.index=t+1,this.schedule(e))},r.prototype._subscribe=function(e){var t=this.array,n=t.length,s=this.scheduler;if(s)return s.schedule(r.dispatch,0,{array:t,index:0,count:n,subscriber:e});for(var a=0;a<n&&!e.closed;a++)e.next(t[a]);e.complete()},r}(s.Observable);t.ArrayObservable=l});C.r("node_modules/rxjs/observable/ConnectableObservable.js",function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=t("../Subject"),i=t("../Observable"),r=t("../Subscriber"),u=t("../Subscription"),s=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return o(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new u.Subscription,t.add(this.source.subscribe(new b(this.getSubject(),this))),t.closed?(this._connection=null,t=u.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return this.lift(new a(this))},e}(i.Observable);n.ConnectableObservable=s;var l=s.prototype;n.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:l._subscribe},_isComplete:{value:l._isComplete,writable:!0},getSubject:{value:l.getSubject},connect:{value:l.connect},refCount:{value:l.refCount}};var b=function(t){function e(e,n){t.call(this,e),this.connectable=n}return o(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(c.SubjectSubscriber),a=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var o=new p(t,n),c=e.subscribe(o);return o.closed||(o.connection=n.connect()),c},t}(),p=function(t){function e(e,n){t.call(this,e),this.connectable=n}return o(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var n=this.connection,o=t._connection;this.connection=null,!o||n&&o!==n||o.unsubscribe()},e}(r.Subscriber)});C.r("node_modules/rxjs/observable/DeferObservable.js",function(t,r,e){"use strict";var o=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},s=t("../Observable"),n=t("../util/subscribeToResult"),c=t("../OuterSubscriber"),i=function(t){function r(r){t.call(this),this.observableFactory=r}return o(r,t),r.create=function(t){return new r(t)},r.prototype._subscribe=function(t){return new u(t,this.observableFactory)},r}(s.Observable);e.DeferObservable=i;var u=function(t){function r(r,e){t.call(this,r),this.factory=e,this.tryDefer()}return o(r,t),r.prototype.tryDefer=function(){try{this._callFactory()}catch(t){this._error(t)}},r.prototype._callFactory=function(){var t=this.factory();t&&this.add(n.subscribeToResult(this,t))},r}(c.OuterSubscriber)});C.r("node_modules/rxjs/observable/EmptyObservable.js",function(e,t,r){"use strict";var s=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Observable"),c=function(e){function t(t){e.call(this),this.scheduler=t}return s(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(n.Observable);r.EmptyObservable=c});C.r("node_modules/rxjs/observable/ErrorObservable.js",function(r,e,t){"use strict";var o=this&&this.__extends||function(r,e){function t(){this.constructor=r}for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);r.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)},s=r("../Observable"),n=function(r){function e(e,t){r.call(this),this.error=e,this.scheduler=t}return o(e,r),e.create=function(r,t){return new e(r,t)},e.dispatch=function(r){var e=r.error;r.subscriber.error(e)},e.prototype._subscribe=function(r){var t=this.error,o=this.scheduler;if(r.syncErrorThrowable=!0,o)return o.schedule(e.dispatch,0,{error:t,subscriber:r});r.error(t)},e}(s.Observable);t.ErrorObservable=n});C.r("node_modules/rxjs/observable/FromEventObservable.js",function(t,e,n){"use strict";function r(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function o(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function i(t){return!!t&&"[object NodeList]"===b.call(t)}function s(t){return!!t&&"[object HTMLCollection]"===b.call(t)}function u(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}var c=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},f=t("../Observable"),a=t("../util/tryCatch"),v=t("../util/isFunction"),p=t("../util/errorObject"),l=t("../Subscription"),b=Object.prototype.toString,h=function(t){function e(e,n,r,o){t.call(this),this.sourceObj=e,this.eventName=n,this.selector=r,this.options=o}return c(e,t),e.create=function(t,n,r,o){return v.isFunction(r)&&(o=r,r=void 0),new e(t,n,o,r)},e.setupSubscription=function(t,n,c,f,a){var v;if(i(t)||s(t))for(var p=0,b=t.length;p<b;p++)e.setupSubscription(t[p],n,c,f,a);else if(u(t)){var h=t;t.addEventListener(n,c,a),v=function(){return h.removeEventListener(n,c)}}else if(o(t)){var d=t;t.on(n,c),v=function(){return d.off(n,c)}}else{if(!r(t))throw new TypeError("Invalid event target");var y=t;t.addListener(n,c),v=function(){return y.removeListener(n,c)}}f.add(new l.Subscription(v))},e.prototype._subscribe=function(t){var n=this.sourceObj,r=this.eventName,o=this.options,i=this.selector,s=i?function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=a.tryCatch(i).apply(void 0,e);r===p.errorObject?t.error(p.errorObject.e):t.next(r)}:function(e){return t.next(e)};e.setupSubscription(n,r,s,t,o)},e}(f.Observable);n.FromEventObservable=h});C.r("node_modules/rxjs/observable/FromObservable.js",function(e,r,s){"use strict";var t=this&&this.__extends||function(e,r){function s(){this.constructor=e}for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);e.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)},i=e("../util/isArray"),o=e("../util/isArrayLike"),b=e("../util/isPromise"),n=e("./PromiseObservable"),a=e("./IteratorObservable"),l=e("./ArrayObservable"),u=e("./ArrayLikeObservable"),v=e("../symbol/iterator"),c=e("../Observable"),f=e("../operator/observeOn"),y=e("../symbol/observable"),O=function(e){function r(r,s){e.call(this,null),this.ish=r,this.scheduler=s}return t(r,e),r.create=function(e,s){if(null!=e){if("function"==typeof e[y.observable])return e instanceof c.Observable&&!s?e:new r(e,s);if(i.isArray(e))return new l.ArrayObservable(e,s);if(b.isPromise(e))return new n.PromiseObservable(e,s);if("function"==typeof e[v.iterator]||"string"==typeof e)return new a.IteratorObservable(e,s);if(o.isArrayLike(e))return new u.ArrayLikeObservable(e,s)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},r.prototype._subscribe=function(e){var r=this.ish,s=this.scheduler;return null==s?r[y.observable]().subscribe(e):r[y.observable]().subscribe(new f.ObserveOnSubscriber(e,s,0))},r}(c.Observable);s.FromObservable=O});C.r("node_modules/rxjs/observable/IntervalObservable.js",function(e,s,t){"use strict";var r=this&&this.__extends||function(e,s){function t(){this.constructor=e}for(var r in s)s.hasOwnProperty(r)&&(e[r]=s[r]);e.prototype=null===s?Object.create(s):(t.prototype=s.prototype,new t)},i=e("../util/isNumeric"),n=e("../Observable"),c=e("../scheduler/async"),o=function(e){function s(s,t){void 0===s&&(s=0),void 0===t&&(t=c.async),e.call(this),this.period=s,this.scheduler=t,(!i.isNumeric(s)||s<0)&&(this.period=0),t&&"function"==typeof t.schedule||(this.scheduler=c.async)}return r(s,e),s.create=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=c.async),new s(e,t)},s.dispatch=function(e){var s=e.index,t=e.subscriber,r=e.period;t.next(s),t.closed||(e.index+=1,this.schedule(e,r))},s.prototype._subscribe=function(e){var t=this.period,r=this.scheduler;e.add(r.schedule(s.dispatch,t,{index:0,subscriber:e,period:t}))},s}(n.Observable);t.IntervalObservable=o});C.r("node_modules/rxjs/observable/IteratorObservable.js",function(t,r,e){"use strict";function n(t){var r=t[h.iterator];if(!r&&"string"==typeof t)return new d(t);if(!r&&void 0!==t.length)return new f(t);if(!r)throw new TypeError("object is not iterable");return t[h.iterator]()}function o(t){var r=+t.length;return isNaN(r)?0:0!==r&&i(r)?(r=u(r)*Math.floor(Math.abs(r)),r<=0?0:r>v?v:r):r}function i(t){return"number"==typeof t&&a.root.isFinite(t)}function u(t){var r=+t;return 0===r?r:isNaN(r)?r:r<0?-1:1}var s=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},a=t("../util/root"),c=t("../Observable"),h=t("../symbol/iterator"),l=function(t){function r(r,e){if(t.call(this),this.scheduler=e,null==r)throw new Error("iterator cannot be null.");this.iterator=n(r)}return s(r,t),r.create=function(t,e){return new r(t,e)},r.dispatch=function(t){var r=t.index,e=t.hasError,n=t.iterator,o=t.subscriber;if(e)return void o.error(t.error);var i=n.next();return i.done?void o.complete():(o.next(i.value),t.index=r+1,o.closed?void("function"==typeof n.return&&n.return()):void this.schedule(t))},r.prototype._subscribe=function(t){var e=this,n=e.iterator,o=e.scheduler;if(o)return o.schedule(r.dispatch,0,{index:0,iterator:n,subscriber:t});for(;;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed){"function"==typeof n.return&&n.return();break}}},r}(c.Observable);e.IteratorObservable=l;var d=function(){function t(t,r,e){void 0===r&&(r=0),void 0===e&&(e=t.length),this.str=t,this.idx=r,this.len=e}return t.prototype[h.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),f=function(){function t(t,r,e){void 0===r&&(r=0),void 0===e&&(e=o(t)),this.arr=t,this.idx=r,this.len=e}return t.prototype[h.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),v=Math.pow(2,53)-1});C.r("node_modules/rxjs/observable/PromiseObservable.js",function(e,t,r){"use strict";function s(e){var t=e.value,r=e.subscriber;r.closed||(r.next(t),r.complete())}function o(e){var t=e.err,r=e.subscriber;r.closed||r.error(t)}var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=e("../util/root"),c=e("../Observable"),u=function(e){function t(t,r){e.call(this),this.promise=t,this.scheduler=r}return n(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t=this,r=this.promise,n=this.scheduler;if(null==n)this._isScalar?e.closed||(e.next(this.value),e.complete()):r.then(function(r){t.value=r,t._isScalar=!0,e.closed||(e.next(r),e.complete())},function(t){e.closed||e.error(t)}).then(null,function(e){i.root.setTimeout(function(){throw e})});else if(this._isScalar){if(!e.closed)return n.schedule(s,0,{value:this.value,subscriber:e})}else r.then(function(r){t.value=r,t._isScalar=!0,e.closed||e.add(n.schedule(s,0,{value:r,subscriber:e}))},function(t){e.closed||e.add(n.schedule(o,0,{err:t,subscriber:e}))}).then(null,function(e){i.root.setTimeout(function(){throw e})})},t}(c.Observable);r.PromiseObservable=u});C.r("node_modules/rxjs/observable/ScalarObservable.js",function(e,t,r){"use strict";var s=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=e("../Observable"),c=function(e){function t(t,r){e.call(this),this.value=t,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return s(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.done,r=e.value,s=e.subscriber;if(t)return void s.complete();s.next(r),s.closed||(e.done=!0,this.schedule(e))},t.prototype._subscribe=function(e){var r=this.value,s=this.scheduler;if(s)return s.schedule(t.dispatch,0,{done:!1,value:r,subscriber:e});e.next(r),e.closed||e.complete()},t}(n.Observable);r.ScalarObservable=c});C.r("node_modules/rxjs/observable/TimerObservable.js",function(e,i,r){"use strict";var t=this&&this.__extends||function(e,i){function r(){this.constructor=e}for(var t in i)i.hasOwnProperty(t)&&(e[t]=i[t]);e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)},s=e("../util/isNumeric"),u=e("../Observable"),c=e("../scheduler/async"),n=e("../util/isScheduler"),o=e("../util/isDate"),d=function(e){function i(i,r,t){void 0===i&&(i=0),e.call(this),this.period=-1,this.dueTime=0,s.isNumeric(r)?this.period=Number(r)<1&&1||Number(r):n.isScheduler(r)&&(t=r),n.isScheduler(t)||(t=c.async),this.scheduler=t,this.dueTime=o.isDate(i)?+i-this.scheduler.now():i}return t(i,e),i.create=function(e,r,t){return void 0===e&&(e=0),new i(e,r,t)},i.dispatch=function(e){var i=e.index,r=e.period,t=e.subscriber,s=this;if(t.next(i),!t.closed){if(-1===r)return t.complete();e.index=i+1,s.schedule(e,r)}},i.prototype._subscribe=function(e){var r=this,t=r.period,s=r.dueTime;return r.scheduler.schedule(i.dispatch,s,{index:0,period:t,subscriber:e})},i}(u.Observable);r.TimerObservable=d});C.r("node_modules/rxjs/observable/concat.js",function(c,o,t){"use strict";var a=c("../operator/concat");t.concat=a.concatStatic});C.r("node_modules/rxjs/observable/defer.js",function(e,r,s){"use strict";var b=e("./DeferObservable");s.defer=b.DeferObservable.create});C.r("node_modules/rxjs/observable/empty.js",function(e,r,s){"use strict";var t=e("./EmptyObservable");s.empty=t.EmptyObservable.create});C.r("node_modules/rxjs/observable/from.js",function(r,e,o){"use strict";var s=r("./FromObservable");o.from=s.FromObservable.create});C.r("node_modules/rxjs/observable/fromEvent.js",function(e,r,o){"use strict";var s=e("./FromEventObservable");o.fromEvent=s.FromEventObservable.create});C.r("node_modules/rxjs/observable/fromPromise.js",function(e,r,s){"use strict";var o=e("./PromiseObservable");s.fromPromise=o.PromiseObservable.create});C.r("node_modules/rxjs/observable/interval.js",function(e,r,a){"use strict";var l=e("./IntervalObservable");a.interval=l.IntervalObservable.create});C.r("node_modules/rxjs/observable/merge.js",function(e,r,o){"use strict";var s=e("../operator/merge");o.merge=s.mergeStatic});C.r("node_modules/rxjs/observable/of.js",function(r,e,s){"use strict";var o=r("./ArrayObservable");s.of=o.ArrayObservable.of});C.r("node_modules/rxjs/observable/throw.js",function(r,e,o){"use strict";var s=r("./ErrorObservable");o._throw=s.ErrorObservable.create});C.r("node_modules/rxjs/observable/timer.js",function(e,r,s){"use strict";var b=e("./TimerObservable");s.timer=b.TimerObservable.create});C.r("node_modules/rxjs/observable/zip.js",function(i,r,e){"use strict";var o=i("../operator/zip");e.zip=o.zipStatic});C.r("node_modules/rxjs/operator/catch.js",function(t,r,e){"use strict";function s(t){var r=new n(t),e=this.lift(r);return r.caught=e}var i=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var s in r)r.hasOwnProperty(s)&&(t[s]=r[s]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},o=t("../OuterSubscriber"),c=t("../util/subscribeToResult");e._catch=s;var n=function(){function t(t){this.selector=t}return t.prototype.call=function(t,r){return r.subscribe(new u(t,this.selector,this.caught))},t}(),u=function(t){function r(r,e,s){t.call(this,r),this.selector=e,this.caught=s}return i(r,t),r.prototype.error=function(r){if(!this.isStopped){var e=void 0;try{e=this.selector(r,this.caught)}catch(r){return void t.prototype.error.call(this,r)}this._unsubscribeAndRecycle(),this.add(c.subscribeToResult(this,e))}},r}(o.OuterSubscriber)});C.r("node_modules/rxjs/operator/concat.js",function(e,r,l){"use strict";function t(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return this.lift.call(n.apply(void 0,[this].concat(e)))}function n(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var l=null,t=e;return o.isScheduler(t[e.length-1])&&(l=t.pop()),null===l&&1===e.length&&e[0]instanceof a.Observable?e[0]:new c.ArrayObservable(e,l).lift(new s.MergeAllOperator(1))}var a=e("../Observable"),o=e("../util/isScheduler"),c=e("../observable/ArrayObservable"),s=e("./mergeAll");l.concat=t,l.concatStatic=n});C.r("node_modules/rxjs/operator/delay.js",function(t,e,i){"use strict";function o(t,e){void 0===e&&(e=s.async);var i=r.isDate(t),o=i?+t-e.now():Math.abs(t);return this.lift(new u(o,e))}var n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},s=t("../scheduler/async"),r=t("../util/isDate"),c=t("../Subscriber"),h=t("../Notification");i.delay=o;var u=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.delay,this.scheduler))},t}(),a=function(t){function e(e,i,o){t.call(this,e),this.delay=i,this.scheduler=o,this.queue=[],this.active=!1,this.errored=!1}return n(e,t),e.dispatch=function(t){for(var e=t.source,i=e.queue,o=t.scheduler,n=t.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(n);if(i.length>0){var s=Math.max(0,i[0].time-o.now());this.schedule(t,s)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,i=new d(e.now()+this.delay,t);this.queue.push(i),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(h.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(h.Notification.createComplete())},e}(c.Subscriber),d=function(){function t(t,e){this.time=t,this.notification=e}return t}()});C.r("node_modules/rxjs/operator/distinctUntilChanged.js",function(t,e,r){"use strict";function i(t,e){return this.lift(new h(t,e))}var n=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../util/tryCatch"),c=t("../util/errorObject");r.distinctUntilChanged=i;var h=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.compare,this.keySelector))},t}(),u=function(t){function e(e,r,i){t.call(this,e),this.keySelector=i,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return n(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=this.keySelector,r=t;if(e&&(r=s.tryCatch(this.keySelector)(t))===c.errorObject)return this.destination.error(c.errorObject.e);var i=!1;if(this.hasKey){if((i=s.tryCatch(this.compare)(this.key,r))===c.errorObject)return this.destination.error(c.errorObject.e)}else this.hasKey=!0;!1===Boolean(i)&&(this.key=r,this.destination.next(t))},e}(o.Subscriber)});C.r("node_modules/rxjs/operator/do.js",function(r,t,e){"use strict";function o(r,t,e){return this.lift(new i(r,t,e))}var n=this&&this.__extends||function(r,t){function e(){this.constructor=r}for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)},s=r("../Subscriber");e._do=o;var i=function(){function r(r,t,e){this.nextOrObserver=r,this.error=t,this.complete=e}return r.prototype.call=function(r,t){return t.subscribe(new c(r,this.nextOrObserver,this.error,this.complete))},r}(),c=function(r){function t(t,e,o,n){r.call(this,t);var i=new s.Subscriber(e,o,n);i.syncErrorThrowable=!0,this.add(i),this.safeSubscriber=i}return n(t,r),t.prototype._next=function(r){var t=this.safeSubscriber;t.next(r),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(r)},t.prototype._error=function(r){var t=this.safeSubscriber;t.error(r),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(r)},t.prototype._complete=function(){var r=this.safeSubscriber;r.complete(),r.syncErrorThrown?this.destination.error(r.syncErrorValue):this.destination.complete()},t}(s.Subscriber)});C.r("node_modules/rxjs/operator/filter.js",function(t,r,i){"use strict";function n(t,r){return this.lift(new o(t,r))}var e=this&&this.__extends||function(t,r){function i(){this.constructor=t}for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)},s=t("../Subscriber");i.filter=n;var o=function(){function t(t,r){this.predicate=t,this.thisArg=r}return t.prototype.call=function(t,r){return r.subscribe(new c(t,this.predicate,this.thisArg))},t}(),c=function(t){function r(r,i,n){t.call(this,r),this.predicate=i,this.thisArg=n,this.count=0}return e(r,t),r.prototype._next=function(t){var r;try{r=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}r&&this.destination.next(t)},r}(s.Subscriber)});C.r("node_modules/rxjs/operator/map.js",function(t,r,n){"use strict";function o(t,r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new s(t,r))}var i=this&&this.__extends||function(t,r){function n(){this.constructor=t}for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)},e=t("../Subscriber");n.map=o;var s=function(){function t(t,r){this.project=t,this.thisArg=r}return t.prototype.call=function(t,r){return r.subscribe(new c(t,this.project,this.thisArg))},t}();n.MapOperator=s;var c=function(t){function r(r,n,o){t.call(this,r),this.project=n,this.count=0,this.thisArg=o||this}return i(r,t),r.prototype._next=function(t){var r;try{r=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(r)},r}(e.Subscriber)});C.r("node_modules/rxjs/operator/merge.js",function(e,r,l){"use strict";function t(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return this.lift.call(n.apply(void 0,[this].concat(e)))}function n(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var l=Number.POSITIVE_INFINITY,t=null,n=e[e.length-1];return u.isScheduler(n)?(t=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(l=e.pop())):"number"==typeof n&&(l=e.pop()),null===t&&1===e.length&&e[0]instanceof o.Observable?e[0]:new a.ArrayObservable(e,t).lift(new s.MergeAllOperator(l))}var o=e("../Observable"),a=e("../observable/ArrayObservable"),s=e("./mergeAll"),u=e("../util/isScheduler");l.merge=t,l.mergeStatic=n});C.r("node_modules/rxjs/operator/mergeAll.js",function(t,e,i){"use strict";function r(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new c(t))}var n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},s=t("../OuterSubscriber"),o=t("../util/subscribeToResult");i.mergeAll=r;var c=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.concurrent))},t}();i.MergeAllOperator=c;var u=function(t){function e(e,i){t.call(this,e),this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0}return n(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(o.subscribeToResult(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.OuterSubscriber);i.MergeAllSubscriber=u});C.r("node_modules/rxjs/operator/mergeMap.js",function(t,e,i){"use strict";function r(t,e,i){return void 0===i&&(i=Number.POSITIVE_INFINITY),"number"==typeof e&&(i=e,e=null),this.lift(new c(t,e,i))}var o=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=t("../util/subscribeToResult"),s=t("../OuterSubscriber");i.mergeMap=r;var c=function(){function t(t,e,i){void 0===i&&(i=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=i}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector,this.concurrent))},t}();i.MergeMapOperator=c;var u=function(t){function e(e,i,r,o){void 0===o&&(o=Number.POSITIVE_INFINITY),t.call(this,e),this.project=i,this.resultSelector=r,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,i=this.index++;try{e=this.project(t,i)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,i)},e.prototype._innerSub=function(t,e,i){this.add(n.subscribeToResult(this,t,e,i))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,i,r,o){this.resultSelector?this._notifyResultSelector(t,e,i,r):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,i,r){var o;try{o=this.resultSelector(t,e,i,r)}catch(t){return void this.destination.error(t)}this.destination.next(o)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.OuterSubscriber);i.MergeMapSubscriber=u});C.r("node_modules/rxjs/operator/multicast.js",function(t,e,r){"use strict";function c(t,e){var r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return this.lift(new n(r,e));var c=Object.create(this,s.connectableObservableDescriptor);return c.source=this,c.subjectFactory=r,c}var s=t("../observable/ConnectableObservable");r.multicast=c;var n=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var r=this.selector,c=this.subjectFactory(),s=r(c).subscribe(t);return s.add(e.subscribe(c)),s},t}();r.MulticastOperator=n});C.r("node_modules/rxjs/operator/observeOn.js",function(t,e,i){"use strict";function n(t,e){return void 0===e&&(e=0),this.lift(new c(t,e))}var o=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},s=t("../Subscriber"),r=t("../Notification");i.observeOn=n;var c=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))},t}();i.ObserveOnOperator=c;var u=function(t){function e(e,i,n){void 0===n&&(n=0),t.call(this,e),this.scheduler=i,this.delay=n}return o(e,t),e.dispatch=function(t){var e=t.notification,i=t.destination;e.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new a(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(r.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(r.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(r.Notification.createComplete())},e}(s.Subscriber);i.ObserveOnSubscriber=u;var a=function(){function t(t,e){this.notification=t,this.destination=e}return t}();i.ObserveOnMessage=a});C.r("node_modules/rxjs/operator/onErrorResumeNext.js",function(t,e,r){"use strict";function o(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&u.isArray(t[0])&&(t=t[0]),this.lift(new l(t))}function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return 1===t.length&&u.isArray(t[0])&&(t=t[0]),r=t.shift(),new i.FromObservable(r,null).lift(new l(t))}var s=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../observable/FromObservable"),u=t("../util/isArray"),c=t("../OuterSubscriber"),b=t("../util/subscribeToResult");r.onErrorResumeNext=o,r.onErrorResumeNextStatic=n;var l=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.nextSources))},t}(),f=function(t){function e(e,r){t.call(this,e),this.destination=e,this.nextSources=r}return s(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(b.subscribeToResult(this,t)):this.destination.complete()},e}(c.OuterSubscriber)});C.r("node_modules/rxjs/operator/publish.js",function(t,u,c){"use strict";function s(t){return t?i.multicast.call(this,function(){return new e.Subject},t):i.multicast.call(this,new e.Subject)}var e=t("../Subject"),i=t("./multicast");c.publish=s});C.r("node_modules/rxjs/operator/publishReplay.js",function(e,t,u){"use strict";function l(e,t,u){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY),r.multicast.call(this,new i.ReplaySubject(e,t,u))}var i=e("../ReplaySubject"),r=e("./multicast");u.publishReplay=l});C.r("node_modules/rxjs/operator/reduce.js",function(t,e,i){"use strict";function s(t,e){var i=!1;return arguments.length>=2&&(i=!0),this.lift(new n(t,e,i))}var r=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},c=t("../Subscriber");i.reduce=s;var n=function(){function t(t,e,i){void 0===i&&(i=!1),this.accumulator=t,this.seed=e,this.hasSeed=i}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.accumulator,this.seed,this.hasSeed))},t}();i.ReduceOperator=n;var h=function(t){function e(e,i,s,r){t.call(this,e),this.accumulator=i,this.hasSeed=r,this.index=0,this.hasValue=!1,this.acc=s,this.hasSeed||this.index++}return r(e,t),e.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},e.prototype._tryReduce=function(t){var e;try{e=this.accumulator(this.acc,t,this.index++)}catch(t){return void this.destination.error(t)}this.acc=e},e.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},e}(c.Subscriber);i.ReduceSubscriber=h});C.r("node_modules/rxjs/operator/retryWhen.js",function(r,t,i){"use strict";function e(r){return this.lift(new b(r,this))}var s=this&&this.__extends||function(r,t){function i(){this.constructor=r}for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);r.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},n=r("../Subject"),o=r("../util/tryCatch"),u=r("../util/errorObject"),c=r("../OuterSubscriber"),h=r("../util/subscribeToResult");i.retryWhen=e;var b=function(){function r(r,t){this.notifier=r,this.source=t}return r.prototype.call=function(r,t){return t.subscribe(new l(r,this.notifier,this.source))},r}(),l=function(r){function t(t,i,e){r.call(this,t),this.notifier=i,this.source=e}return s(t,r),t.prototype.error=function(t){if(!this.isStopped){var i=this.errors,e=this.retries,s=this.retriesSubscription;if(e)this.errors=null,this.retriesSubscription=null;else{if(i=new n.Subject,(e=o.tryCatch(this.notifier)(i))===u.errorObject)return r.prototype.error.call(this,u.errorObject.e);s=h.subscribeToResult(this,e)}this._unsubscribeAndRecycle(),this.errors=i,this.retries=e,this.retriesSubscription=s,i.next(t)}},t.prototype._unsubscribe=function(){var r=this,t=r.errors,i=r.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),i&&(i.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(r,t,i,e,s){var n=this,o=n.errors,u=n.retries,c=n.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=o,this.retries=u,this.retriesSubscription=c,this.source.subscribe(this)},t}(c.OuterSubscriber)});C.r("node_modules/rxjs/operator/sample.js",function(t,e,i){"use strict";function n(t){return this.lift(new u(t))}var o=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=t("../OuterSubscriber"),s=t("../util/subscribeToResult");i.sample=n;var u=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var i=new a(t),n=e.subscribe(i);return n.add(s.subscribeToResult(i,this.notifier)),n},t}(),a=function(t){function e(){t.apply(this,arguments),this.hasValue=!1}return o(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,i,n,o){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(r.OuterSubscriber)});C.r("node_modules/rxjs/operator/sampleTime.js",function(t,e,s){"use strict";function i(t,e){return void 0===e&&(e=u.async),this.lift(new c(t,e))}function r(t){var e=t.subscriber,s=t.period;e.notifyNext(),this.schedule(t,s)}var n=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)},o=t("../Subscriber"),u=t("../scheduler/async");s.sampleTime=i;var c=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.period,this.scheduler))},t}(),h=function(t){function e(e,s,i){t.call(this,e),this.period=s,this.scheduler=i,this.hasValue=!1,this.add(i.schedule(r,s,{subscriber:this,period:s}))}return n(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(o.Subscriber)});C.r("node_modules/rxjs/operator/scan.js",function(t,e,s){"use strict";function i(t,e){var s=!1;return arguments.length>=2&&(s=!0),this.lift(new o(t,e,s))}var n=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)},r=t("../Subscriber");s.scan=i;var o=function(){function t(t,e,s){void 0===s&&(s=!1),this.accumulator=t,this.seed=e,this.hasSeed=s}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.accumulator,this.seed,this.hasSeed))},t}(),c=function(t){function e(e,s,i,n){t.call(this,e),this.accumulator=s,this._seed=i,this.hasSeed=n,this.index=0}return n(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,s=this.index++;try{e=this.accumulator(this.seed,t,s)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(r.Subscriber)});C.r("node_modules/rxjs/operator/share.js",function(t,r,e){"use strict";function u(){return new c.Subject}function n(){return s.multicast.call(this,u).refCount()}var s=t("./multicast"),c=t("../Subject");e.share=n});C.r("node_modules/rxjs/operator/startWith.js",function(e,r,t){"use strict";function a(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var t=e[e.length-1];n.isScheduler(t)?e.pop():t=null;var a=e.length;return 1===a?c.concatStatic(new l.ScalarObservable(e[0],t),this):a>1?c.concatStatic(new s.ArrayObservable(e,t),this):c.concatStatic(new b.EmptyObservable(t),this)}var s=e("../observable/ArrayObservable"),l=e("../observable/ScalarObservable"),b=e("../observable/EmptyObservable"),c=e("./concat"),n=e("../util/isScheduler");t.startWith=a});C.r("node_modules/rxjs/operator/switchMap.js",function(t,i,e){"use strict";function r(t,i){return this.lift(new c(t,i))}var n=this&&this.__extends||function(t,i){function e(){this.constructor=t}for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r]);t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)},o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");e.switchMap=r;var c=function(){function t(t,i){this.project=t,this.resultSelector=i}return t.prototype.call=function(t,i){return i.subscribe(new u(t,this.project,this.resultSelector))},t}(),u=function(t){function i(i,e,r){t.call(this,i),this.project=e,this.resultSelector=r,this.index=0}return n(i,t),i.prototype._next=function(t){var i,e=this.index++;try{i=this.project(t,e)}catch(t){return void this.destination.error(t)}this._innerSub(i,t,e)},i.prototype._innerSub=function(t,i,e){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=s.subscribeToResult(this,t,i,e))},i.prototype._complete=function(){var i=this.innerSubscription;i&&!i.closed||t.prototype._complete.call(this)},i.prototype._unsubscribe=function(){this.innerSubscription=null},i.prototype.notifyComplete=function(i){this.remove(i),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},i.prototype.notifyNext=function(t,i,e,r,n){this.resultSelector?this._tryNotifyNext(t,i,e,r):this.destination.next(i)},i.prototype._tryNotifyNext=function(t,i,e,r){var n;try{n=this.resultSelector(t,i,e,r)}catch(t){return void this.destination.error(t)}this.destination.next(n)},i}(o.OuterSubscriber)});C.r("node_modules/rxjs/operator/take.js",function(t,n,e){"use strict";function r(t){return 0===t?new u.EmptyObservable:this.lift(new c(t))}var o=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)},i=t("../Subscriber"),s=t("../util/ArgumentOutOfRangeError"),u=t("../observable/EmptyObservable");e.take=r;var c=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,n){return n.subscribe(new a(t,this.total))},t}(),a=function(t){function n(n,e){t.call(this,n),this.total=e,this.count=0}return o(n,t),n.prototype._next=function(t){var n=this.total,e=++this.count;e<=n&&(this.destination.next(t),e===n&&(this.destination.complete(),this.unsubscribe()))},n}(i.Subscriber)});C.r("node_modules/rxjs/operator/takeLast.js",function(t,n,r){"use strict";function e(t){return 0===t?new u.EmptyObservable:this.lift(new a(t))}var o=this&&this.__extends||function(t,n){function r(){this.constructor=t}for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},i=t("../Subscriber"),s=t("../util/ArgumentOutOfRangeError"),u=t("../observable/EmptyObservable");r.takeLast=e;var a=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,n){return n.subscribe(new c(t,this.total))},t}(),c=function(t){function n(n,r){t.call(this,n),this.total=r,this.ring=new Array,this.count=0}return o(n,t),n.prototype._next=function(t){var n=this.ring,r=this.total,e=this.count++;if(n.length<r)n.push(t);else{n[e%r]=t}},n.prototype._complete=function(){var t=this.destination,n=this.count;if(n>0)for(var r=this.count>=this.total?this.total:this.count,e=this.ring,o=0;o<r;o++){var i=n++%r;t.next(e[i])}t.complete()},n}(i.Subscriber)});C.r("node_modules/rxjs/operator/takeUntil.js",function(t,e,n){"use strict";function i(t){return this.lift(new u(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=t("../OuterSubscriber"),s=t("../util/subscribeToResult");n.takeUntil=i;var u=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.notifier))},t}(),c=function(t){function e(e,n){t.call(this,e),this.notifier=n,this.add(s.subscribeToResult(this,n))}return o(e,t),e.prototype.notifyNext=function(t,e,n,i,o){this.complete()},e.prototype.notifyComplete=function(){},e}(r.OuterSubscriber)});C.r("node_modules/rxjs/operator/throttle.js",function(t,i,n){"use strict";function r(t,i){return void 0===i&&(i=n.defaultThrottleConfig),this.lift(new o(t,i.leading,i.trailing))}var e=this&&this.__extends||function(t,i){function n(){this.constructor=t}for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r]);t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)},s=t("../OuterSubscriber"),l=t("../util/subscribeToResult");n.defaultThrottleConfig={leading:!0,trailing:!1},n.throttle=r;var o=function(){function t(t,i,n){this.durationSelector=t,this.leading=i,this.trailing=n}return t.prototype.call=function(t,i){return i.subscribe(new a(t,this.durationSelector,this.leading,this.trailing))},t}(),a=function(t){function i(i,n,r,e){t.call(this,i),this.destination=i,this.durationSelector=n,this._leading=r,this._trailing=e,this._hasTrailingValue=!1}return e(i,t),i.prototype._next=function(t){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t);else{var i=this.tryDurationSelector(t);i&&this.add(this.throttled=l.subscribeToResult(this,i)),this._leading&&(this.destination.next(t),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t))}},i.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},i.prototype._unsubscribe=function(){var t=this,i=t.throttled;t._trailingValue,t._hasTrailingValue,t._trailing;this._trailingValue=null,this._hasTrailingValue=!1,i&&(this.remove(i),this.throttled=null,i.unsubscribe())},i.prototype._sendTrailing=function(){var t=this,i=t.destination,n=t.throttled,r=t._trailing,e=t._trailingValue,s=t._hasTrailingValue;n&&r&&s&&(i.next(e),this._trailingValue=null,this._hasTrailingValue=!1)},i.prototype.notifyNext=function(t,i,n,r,e){this._sendTrailing(),this._unsubscribe()},i.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},i}(s.OuterSubscriber)});C.r("node_modules/rxjs/operator/throttleTime.js",function(t,i,e){"use strict";function r(t,i,e){return void 0===i&&(i=l.async),void 0===e&&(e=a.defaultThrottleConfig),this.lift(new o(t,i,e.leading,e.trailing))}function n(t){t.subscriber.clearThrottle()}var s=this&&this.__extends||function(t,i){function e(){this.constructor=t}for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r]);t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)},h=t("../Subscriber"),l=t("../scheduler/async"),a=t("./throttle");e.throttleTime=r;var o=function(){function t(t,i,e,r){this.duration=t,this.scheduler=i,this.leading=e,this.trailing=r}return t.prototype.call=function(t,i){return i.subscribe(new u(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),u=function(t){function i(i,e,r,n,s){t.call(this,i),this.duration=e,this.scheduler=r,this.leading=n,this.trailing=s,this._hasTrailingValue=!1,this._trailingValue=null}return s(i,t),i.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(n,this.duration,{subscriber:this})),this.leading&&this.destination.next(t))},i.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},i}(h.Subscriber)});C.r("node_modules/rxjs/operator/timeInterval.js",function(t,e,n){"use strict";function i(t){return void 0===t&&(t=o.async),this.lift(new c(t))}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=t("../Subscriber"),o=t("../scheduler/async");n.timeInterval=i;var u=function(){function t(t,e){this.value=t,this.interval=e}return t}();n.TimeInterval=u;var c=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.scheduler))},t}(),a=function(t){function e(e,n){t.call(this,e),this.scheduler=n,this.lastTime=0,this.lastTime=n.now()}return r(e,t),e.prototype._next=function(t){var e=this.scheduler.now(),n=e-this.lastTime;this.lastTime=e,this.destination.next(new u(t,n))},e}(s.Subscriber)});C.r("node_modules/rxjs/operator/timeout.js",function(t,e,i){"use strict";function s(t,e){void 0===e&&(e=r.async);var i=n.isDate(t),s=i?+t-e.now():Math.abs(t);return this.lift(new h(s,i,e,new c.TimeoutError))}var o=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=t("../scheduler/async"),n=t("../util/isDate"),u=t("../Subscriber"),c=t("../util/TimeoutError");i.timeout=s;var h=function(){function t(t,e,i,s){this.waitFor=t,this.absoluteTimeout=e,this.scheduler=i,this.errorInstance=s}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},t}(),a=function(t){function e(e,i,s,o,r){t.call(this,e),this.absoluteTimeout=i,this.waitFor=s,this.scheduler=o,this.errorInstance=r,this.action=null,this.scheduleTimeout()}return o(e,t),e.dispatchTimeout=function(t){t.error(t.errorInstance)},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},e}(u.Subscriber)});C.r("node_modules/rxjs/operator/timeoutWith.js",function(t,i,e){"use strict";function s(t,i,e){void 0===e&&(e=u.async);var s=r.isDate(t),o=s?+t-e.now():Math.abs(t);return this.lift(new c(o,s,i,e))}var o=this&&this.__extends||function(t,i){function e(){this.constructor=t}for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s]);t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)},u=t("../scheduler/async"),r=t("../util/isDate"),h=t("../OuterSubscriber"),n=t("../util/subscribeToResult");e.timeoutWith=s;var c=function(){function t(t,i,e,s){this.waitFor=t,this.absoluteTimeout=i,this.withObservable=e,this.scheduler=s}return t.prototype.call=function(t,i){return i.subscribe(new l(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),l=function(t){function i(i,e,s,o,u){t.call(this,i),this.absoluteTimeout=e,this.waitFor=s,this.withObservable=o,this.scheduler=u,this.action=null,this.scheduleTimeout()}return o(i,t),i.dispatchTimeout=function(t){var i=t.withObservable;t._unsubscribeAndRecycle(),t.add(n.subscribeToResult(t,i))},i.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(i.dispatchTimeout,this.waitFor,this))},i.prototype._next=function(i){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,i)},i.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},i}(h.OuterSubscriber)});C.r("node_modules/rxjs/operator/zip.js",function(t,e,r){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(n.apply(void 0,[this].concat(t)))}function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),new s.ArrayObservable(t).lift(new l(r))}var o=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=t("../observable/ArrayObservable"),u=t("../util/isArray"),h=t("../Subscriber"),a=t("../OuterSubscriber"),p=t("../util/subscribeToResult"),c=t("../symbol/iterator");r.zipProto=i,r.zipStatic=n;var l=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.project))},t}();r.ZipOperator=l;var f=function(t){function e(e,r,i){void 0===i&&(i=Object.create(null)),t.call(this,e),this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=i}return o(e,t),e.prototype._next=function(t){var e=this.iterators;u.isArray(t)?e.push(new b(t)):"function"==typeof t[c.iterator]?e.push(new y(t[c.iterator]())):e.push(new v(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0===e)return void this.destination.complete();this.active=e;for(var r=0;r<e;r++){var i=t[r];i.stillUnsubscribed?this.add(i.subscribe(i,r)):this.active--}},e.prototype.notifyInactive=function(){0===--this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,i=0;i<e;i++){var n=t[i];if("function"==typeof n.hasValue&&!n.hasValue())return}for(var o=!1,s=[],i=0;i<e;i++){var n=t[i],u=n.next();if(n.hasCompleted()&&(o=!0),u.done)return void r.complete();s.push(u.value)}this.project?this._tryProject(s):r.next(s),o&&r.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(h.Subscriber);r.ZipSubscriber=f;var y=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),b=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[c.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),v=function(t){function e(e,r,i){t.call(this,e),this.parent=r,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return o(e,t),e.prototype[c.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,i,n){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return p.subscribeToResult(this,this.observable,this,e)},e}(a.OuterSubscriber)});C.r("node_modules/rxjs/scheduler/Action.js",function(t,n,o){"use strict";var r=this&&this.__extends||function(t,n){function o(){this.constructor=t}for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)},e=t("../Subscription"),i=function(t){function n(n,o){t.call(this)}return r(n,t),n.prototype.schedule=function(t,n){return void 0===n&&(n=0),this},n}(e.Subscription);o.Action=i});C.r("node_modules/rxjs/scheduler/AsapAction.js",function(t,e,n){"use strict";var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=t("../util/Immediate"),o=t("./AsyncAction"),i=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return s(e,t),e.prototype.requestAsyncId=function(e,n,s){return void 0===s&&(s=0),null!==s&&s>0?t.prototype.requestAsyncId.call(this,e,n,s):(e.actions.push(this),e.scheduled||(e.scheduled=c.Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,s){if(void 0===s&&(s=0),null!==s&&s>0||null===s&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,s);0===e.actions.length&&(c.Immediate.clearImmediate(n),e.scheduled=void 0)},e}(o.AsyncAction);n.AsapAction=i});C.r("node_modules/rxjs/scheduler/AsapScheduler.js",function(t,e,s){"use strict";var i=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)},r=t("./AsyncScheduler"),n=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,s=this.actions,i=-1,r=s.length;t=t||s.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=s.shift()));if(this.active=!1,e){for(;++i<r&&(t=s.shift());)t.unsubscribe();throw e}},e}(r.AsyncScheduler);s.AsapScheduler=n});C.r("node_modules/rxjs/scheduler/AsyncAction.js",function(t,i,e){"use strict";var n=this&&this.__extends||function(t,i){function e(){this.constructor=t}for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n]);t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)},s=t("../util/root"),r=t("./Action"),c=function(t){function i(i,e){t.call(this,i,e),this.scheduler=i,this.work=e,this.pending=!1}return n(i,t),i.prototype.schedule=function(t,i){if(void 0===i&&(i=0),this.closed)return this;this.state=t,this.pending=!0;var e=this.id,n=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(n,e,i)),this.delay=i,this.id=this.id||this.requestAsyncId(n,this.id,i),this},i.prototype.requestAsyncId=function(t,i,e){return void 0===e&&(e=0),s.root.setInterval(t.flush.bind(t,this),e)},i.prototype.recycleAsyncId=function(t,i,e){return void 0===e&&(e=0),null!==e&&this.delay===e&&!1===this.pending?i:s.root.clearInterval(i)&&void 0||void 0},i.prototype.execute=function(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(t,i);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},i.prototype._execute=function(t,i){var e=!1,n=void 0;try{this.work(t)}catch(t){e=!0,n=!!t&&t||new Error(t)}if(e)return this.unsubscribe(),n},i.prototype._unsubscribe=function(){var t=this.id,i=this.scheduler,e=i.actions,n=e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&e.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null},i}(r.Action);e.AsyncAction=c});C.r("node_modules/rxjs/scheduler/AsyncScheduler.js",function(t,e,i){"use strict";var s=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=t("../Scheduler"),c=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return s(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}},e}(r.Scheduler);i.AsyncScheduler=c});C.r("node_modules/rxjs/scheduler/QueueAction.js",function(t,e,s){"use strict";var o=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)},n=t("./AsyncAction"),c=function(t){function e(e,s){t.call(this,e,s),this.scheduler=e,this.work=s}return o(e,t),e.prototype.schedule=function(e,s){return void 0===s&&(s=0),s>0?t.prototype.schedule.call(this,e,s):(this.delay=s,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,s){return s>0||this.closed?t.prototype.execute.call(this,e,s):this._execute(e,s)},e.prototype.requestAsyncId=function(e,s,o){return void 0===o&&(o=0),null!==o&&o>0||null===o&&this.delay>0?t.prototype.requestAsyncId.call(this,e,s,o):e.flush(this)},e}(n.AsyncAction);s.QueueAction=c});C.r("node_modules/rxjs/scheduler/QueueScheduler.js",function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},u=e("./AsyncScheduler"),c=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(u.AsyncScheduler);r.QueueScheduler=c});C.r("node_modules/rxjs/scheduler/asap.js",function(s,e,a){"use strict";var c=s("./AsapAction"),r=s("./AsapScheduler");a.asap=new r.AsapScheduler(c.AsapAction)});C.r("node_modules/rxjs/scheduler/async.js",function(c,n,s){"use strict";var e=c("./AsyncAction"),r=c("./AsyncScheduler");s.async=new r.AsyncScheduler(e.AsyncAction)});C.r("node_modules/rxjs/scheduler/queue.js",function(e,u,c){"use strict";var r=e("./QueueAction"),n=e("./QueueScheduler");c.queue=new n.QueueScheduler(r.QueueAction)});C.r("node_modules/rxjs/symbol/iterator.js",function(t,r,o){"use strict";function e(t){var r=t.Symbol;if("function"==typeof r)return r.iterator||(r.iterator=r("iterator polyfill")),r.iterator;var o=t.Set;if(o&&"function"==typeof(new o)["@@iterator"])return"@@iterator";var e=t.Map;if(e)for(var i=Object.getOwnPropertyNames(e.prototype),a=0;a<i.length;++a){var n=i[a];if("entries"!==n&&"size"!==n&&e.prototype[n]===e.prototype.entries)return n}return"@@iterator"}var i=t("../util/root");o.symbolIteratorPonyfill=e,o.iterator=e(i.root),o.$$iterator=o.iterator});C.r("node_modules/rxjs/symbol/observable.js",function(e,b,o){"use strict";function r(e){var b,o=e.Symbol;return"function"==typeof o?o.observable?b=o.observable:(b=o("observable"),o.observable=b):b="@@observable",b}var s=e("../util/root");o.getSymbolObservable=r,o.observable=r(s.root),o.$$observable=o.observable});C.r("node_modules/rxjs/symbol/rxSubscriber.js",function(r,o,b){"use strict";var s=r("../util/root"),u=s.root.Symbol;b.rxSubscriber="function"==typeof u&&"function"==typeof u.for?u.for("rxSubscriber"):"@@rxSubscriber",b.$$rxSubscriber=b.rxSubscriber});C.r("node_modules/rxjs/util/ArgumentOutOfRangeError.js",function(t,r,e){"use strict";var n=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},o=function(t){function r(){var r=t.call(this,"argument out of range");this.name=r.name="ArgumentOutOfRangeError",this.stack=r.stack,this.message=r.message}return n(r,t),r}(Error);e.ArgumentOutOfRangeError=o});C.r("node_modules/rxjs/util/Immediate.js",function(e,t,n){"use strict";var a=e("./root"),s=function(){function e(e){if(this.root=e,e.setImmediate&&"function"==typeof e.setImmediate)this.setImmediate=e.setImmediate.bind(e),this.clearImmediate=e.clearImmediate.bind(e);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var t=function e(t){delete e.instance.tasksByHandle[t]};t.instance=this,this.clearImmediate=t}}return e.prototype.identify=function(e){return this.root.Object.prototype.toString.call(e)},e.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},e.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},e.prototype.canUseReadyStateChange=function(){var e=this.root.document;return Boolean(e&&"onreadystatechange"in e.createElement("script"))},e.prototype.canUsePostMessage=function(){var e=this.root;if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}return!1},e.prototype.partiallyApplied=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var a=function e(){var t=e,n=t.handler,a=t.args;"function"==typeof n?n.apply(void 0,a):new Function(""+n)()};return a.handler=e,a.args=t,a},e.prototype.addFromSetImmediateArguments=function(e){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,e),this.nextHandle++},e.prototype.createProcessNextTickSetImmediate=function(){var e=function e(){var t=e.instance,n=t.addFromSetImmediateArguments(arguments);return t.root.process.nextTick(t.partiallyApplied(t.runIfPresent,n)),n};return e.instance=this,e},e.prototype.createPostMessageSetImmediate=function(){var e=this.root,t="setImmediate$"+e.Math.random()+"$",n=function n(a){var s=n.instance;a.source===e&&"string"==typeof a.data&&0===a.data.indexOf(t)&&s.runIfPresent(+a.data.slice(t.length))};n.instance=this,e.addEventListener("message",n,!1);var a=function e(){var t=e,n=t.messagePrefix,a=t.instance,s=a.addFromSetImmediateArguments(arguments);return a.root.postMessage(n+s,"*"),s};return a.instance=this,a.messagePrefix=t,a},e.prototype.runIfPresent=function(e){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,e),0);else{var t=this.tasksByHandle[e];if(t){this.currentlyRunningATask=!0;try{t()}finally{this.clearImmediate(e),this.currentlyRunningATask=!1}}}},e.prototype.createMessageChannelSetImmediate=function(){var e=this,t=new this.root.MessageChannel;t.port1.onmessage=function(t){var n=t.data;e.runIfPresent(n)};var n=function e(){var t=e,n=t.channel,a=t.instance,s=a.addFromSetImmediateArguments(arguments);return n.port2.postMessage(s),s};return n.channel=t,n.instance=this,n},e.prototype.createReadyStateChangeSetImmediate=function(){var e=function e(){var t=e.instance,n=t.root,a=n.document,s=a.documentElement,i=t.addFromSetImmediateArguments(arguments),r=a.createElement("script");return r.onreadystatechange=function(){t.runIfPresent(i),r.onreadystatechange=null,s.removeChild(r),r=null},s.appendChild(r),i};return e.instance=this,e},e.prototype.createSetTimeoutSetImmediate=function(){var e=function e(){var t=e.instance,n=t.addFromSetImmediateArguments(arguments);return t.root.setTimeout(t.partiallyApplied(t.runIfPresent,n),0),n};return e.instance=this,e},e}();n.ImmediateDefinition=s,n.Immediate=new s(a.root)});C.r("node_modules/rxjs/util/ObjectUnsubscribedError.js",function(t,r,s){"use strict";var e=this&&this.__extends||function(t,r){function s(){this.constructor=t}for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);t.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)},n=function(t){function r(){var r=t.call(this,"object unsubscribed");this.name=r.name="ObjectUnsubscribedError",this.stack=r.stack,this.message=r.message}return e(r,t),r}(Error);s.ObjectUnsubscribedError=n});C.r("node_modules/rxjs/util/TimeoutError.js",function(t,r,o){"use strict";var e=this&&this.__extends||function(t,r){function o(){this.constructor=t}for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)},s=function(t){function r(){var r=t.call(this,"Timeout has occurred");this.name=r.name="TimeoutError",this.stack=r.stack,this.message=r.message}return e(r,t),r}(Error);o.TimeoutError=s});C.r("node_modules/rxjs/util/UnsubscriptionError.js",function(r,t,n){"use strict";var s=this&&this.__extends||function(r,t){function n(){this.constructor=r}for(var s in t)t.hasOwnProperty(s)&&(r[s]=t[s]);r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(r){function t(t){r.call(this),this.errors=t;var n=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(r,t){return t+1+") "+r.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return s(t,r),t}(Error);n.UnsubscriptionError=o});C.r("node_modules/rxjs/util/errorObject.js",function(r,e,t){"use strict";t.errorObject={e:{}}});C.r("node_modules/rxjs/util/isArray.js",function(r,n,s){"use strict";s.isArray=Array.isArray||function(r){return r&&"number"==typeof r.length}});C.r("node_modules/rxjs/util/isArrayLike.js",function(r,e,i){"use strict";i.isArrayLike=function(r){return r&&"number"==typeof r.length}});C.r("node_modules/rxjs/util/isDate.js",function(t,s,e){"use strict";function i(t){return t instanceof Date&&!isNaN(+t)}e.isDate=i});C.r("node_modules/rxjs/util/isFunction.js",function(n,t,i){"use strict";function u(n){return"function"==typeof n}i.isFunction=u});C.r("node_modules/rxjs/util/isNumeric.js",function(r,i,s){"use strict";function u(r){return!t.isArray(r)&&r-parseFloat(r)+1>=0}var t=r("../util/isArray");s.isNumeric=u});C.r("node_modules/rxjs/util/isObject.js",function(t,e,n){"use strict";function s(t){return null!=t&&"object"==typeof t}n.isObject=s});C.r("node_modules/rxjs/util/isPromise.js",function(i,n,s){"use strict";function t(i){return i&&"function"!=typeof i.subscribe&&"function"==typeof i.then}s.isPromise=t});C.r("node_modules/rxjs/util/isScheduler.js",function(e,u,n){"use strict";function s(e){return e&&"function"==typeof e.schedule}n.isScheduler=s});C.r("node_modules/rxjs/util/root.js",function(o,e,n){"use strict";var l="undefined"!=typeof window&&window,f="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,t="undefined"!=typeof global&&global,d=l||t||f;n.root=d,function(){if(!d)throw new Error("RxJS could not find any global context (window, self, global)")}()});C.r("node_modules/rxjs/util/subscribeToResult.js",function(e,r,o){"use strict";function t(e,r,o,t){var f=new u.InnerSubscriber(e,o,t);if(f.closed)return null;if(r instanceof b.Observable)return r._isScalar?(f.next(r.value),f.complete(),null):r.subscribe(f);if(s.isArrayLike(r)){for(var v=0,d=r.length;v<d&&!f.closed;v++)f.next(r[v]);f.closed||f.complete()}else{if(i.isPromise(r))return r.then(function(e){f.closed||(f.next(e),f.complete())},function(e){return f.error(e)}).then(null,function(e){n.root.setTimeout(function(){throw e})}),f;if(r&&"function"==typeof r[c.iterator])for(var m=r[c.iterator]();;){var p=m.next();if(p.done){f.complete();break}if(f.next(p.value),f.closed)break}else if(r&&"function"==typeof r[a.observable]){var y=r[a.observable]();if("function"==typeof y.subscribe)return y.subscribe(new u.InnerSubscriber(e,o,t));f.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var w=l.isObject(r)?"an invalid object":"'"+r+"'",x="You provided "+w+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";f.error(new TypeError(x))}}return null}var n=e("./root"),s=e("./isArrayLike"),i=e("./isPromise"),l=e("./isObject"),b=e("../Observable"),c=e("../symbol/iterator"),u=e("../InnerSubscriber"),a=e("../symbol/observable");o.subscribeToResult=t});C.r("node_modules/rxjs/util/toSubscriber.js",function(r,e,b){"use strict";function i(r,e,b){if(r){if(r instanceof s.Subscriber)return r;if(r[u.rxSubscriber])return r[u.rxSubscriber]()}return r||e||b?new s.Subscriber(r,e,b):new s.Subscriber(c.empty)}var s=r("../Subscriber"),u=r("../symbol/rxSubscriber"),c=r("../Observer");b.toSubscriber=i});C.r("node_modules/rxjs/util/tryCatch.js",function(r,t,e){"use strict";function c(){try{return u.apply(this,arguments)}catch(r){return o.errorObject.e=r,o.errorObject}}function n(r){return u=r,c}var u,o=r("./errorObject");e.tryCatch=n});C.r("node_modules/shakti-platform/dist/ui/utils/URLGenerator.js",function(t,e,r){"use strict";function o(t){return l.endsWith(t,m)?t:t.replace(/[\/|:]/g,W)+m}function n(t){var e=t;return l.startsWith(e,y)||(e=y+e),e}function a(t){var e=p.stringify(t);return e?g+e:""}function h(t){if(l.isUndefined(t)||l.isEmpty(t))return W;var e=t;return l.startsWith(e,C)||(e=C+e),e}function s(t){var e="undefined"!=typeof document?document:{},r={protocol:t.protocol||l.get(e,"location.protocol",f),hostname:t.hostname||l.get(e,"location.hostname",d),path:t.path||q,query:t.query||v,hash:t.hash};return[o(r.protocol),r.hostname,n(r.path),a(r.query),h(r.hash)].join(W)}function u(t){var e={path:t.path||q,query:t.query||v,hash:t.hash};return[n(e.path),a(e.query),h(e.hash)].join(W)}function i(t){var e=void 0;if(t.search===W)e=v;else{var r=t.search.replace(/^\?/,W).split(j);e=l.reduce(r,function(t,e){var r=e.split(w);return 2===r.length?t[r[0]]=r[1]:1===r.length&&(t[r[0]]=null),t},{})}return{protocol:o(t.protocol),hostname:t.hostname,path:n(t.pathname),hash:h(t.hash),query:e}}function c(t){return{protocol:f,hostname:d,path:n(l.result(t,"getPath",q)),query:t.query||v}}var l=t("lodash"),p=t("qs"),f="https:",m="://",d="www.netflix.com",y="/",q="/",v={},g="?",j="&",w="=",C="#",W="";e.exports={create:s,createRelative:u,locationToConfig:i,requestToConfig:c}});C.r("node_modules/shakti-platform/node_modules/qs/lib/formats.js",function(t,r,e){"use strict";var o=String.prototype.replace,n=/%20/g;r.exports={default:"RFC3986",formatters:{RFC1738:function(t){return o.call(t,n,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}});C.r("node_modules/shakti-platform/node_modules/qs/lib/index.js",function(s,r,t){"use strict";var e=s("./stringify"),i=s("./parse"),o=s("./formats");r.exports={formats:o,parse:i,stringify:e}});C.r("node_modules/shakti-platform/node_modules/qs/lib/parse.js",function(e,t,r){"use strict";var i=e("./utils"),l=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(e,t){for(var r={},i=e.split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),o=0;o<i.length;++o){var a,n,c=i[o],s=-1===c.indexOf("]=")?c.indexOf("="):c.indexOf("]=")+1;-1===s?(a=t.decoder(c),n=t.strictNullHandling?null:""):(a=t.decoder(c.slice(0,s)),n=t.decoder(c.slice(s+1))),l.call(r,a)?r[a]=[].concat(r[a]).concat(n):r[a]=n}return r},n=function(e,t,r){if(!e.length)return t;var i,l=e.shift();if("[]"===l)i=[],i=i.concat(n(e,t,r));else{i=r.plainObjects?Object.create(null):{};var o="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,a=parseInt(o,10);!isNaN(a)&&l!==o&&String(a)===o&&a>=0&&r.parseArrays&&a<=r.arrayLimit?(i=[],i[a]=n(e,t,r)):i[o]=n(e,t,r)}return i},c=function(e,t,r){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=o.exec(i),s=c?i.slice(0,c.index):i,p=[];if(s){if(!r.plainObjects&&l.call(Object.prototype,s)&&!r.allowPrototypes)return;p.push(s)}for(var d=0;null!==(c=a.exec(i))&&d<r.depth;){if(d+=1,!r.plainObjects&&l.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;p.push(c[1])}return c&&p.push("["+i.slice(c.index)+"]"),n(p,t,r)}};t.exports=function(e,t){var r=t||{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.delimiter="string"==typeof r.delimiter||i.isRegExp(r.delimiter)?r.delimiter:o.delimiter,r.depth="number"==typeof r.depth?r.depth:o.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:o.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:o.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:o.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:o.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:o.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:o.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:o.strictNullHandling,""===e||null===e||void 0===e)return r.plainObjects?Object.create(null):{};for(var l="string"==typeof e?a(e,r):e,n=r.plainObjects?Object.create(null):{},s=Object.keys(l),p=0;p<s.length;++p){var d=s[p],u=c(d,l[d],r);n=i.merge(n,u,r)}return i.compact(n)}});C.r("node_modules/shakti-platform/node_modules/qs/lib/stringify.js",function(e,r,t){"use strict";var n=e("./utils"),o=e("./formats"),i={brackets:function(e){return e+"[]"},indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},l=Date.prototype.toISOString,a={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(e){return l.call(e)},skipNulls:!1,strictNullHandling:!1},f=function e(r,t,o,i,l,a,f,s,c,u,d,y){var p=r;if("function"==typeof f)p=f(t,p);else if(p instanceof Date)p=u(p);else if(null===p){if(i)return a&&!y?a(t):t;p=""}if("string"==typeof p||"number"==typeof p||"boolean"==typeof p||n.isBuffer(p)){if(a){return[d(y?t:a(t))+"="+d(a(p))]}return[d(t)+"="+d(String(p))]}var v=[];if(void 0===p)return v;var m;if(Array.isArray(f))m=f;else{var b=Object.keys(p);m=s?b.sort(s):b}for(var g=0;g<m.length;++g){var k=m[g];l&&null===p[k]||(v=Array.isArray(p)?v.concat(e(p[k],o(t,k),o,i,l,a,f,s,c,u,d,y)):v.concat(e(p[k],t+(c?"."+k:"["+k+"]"),o,i,l,a,f,s,c,u,d,y)))}return v};r.exports=function(e,r){var t=e,n=r||{};if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var l=void 0===n.delimiter?a.delimiter:n.delimiter,s="boolean"==typeof n.strictNullHandling?n.strictNullHandling:a.strictNullHandling,c="boolean"==typeof n.skipNulls?n.skipNulls:a.skipNulls,u="boolean"==typeof n.encode?n.encode:a.encode,d="function"==typeof n.encoder?n.encoder:a.encoder,y="function"==typeof n.sort?n.sort:null,p=void 0!==n.allowDots&&n.allowDots,v="function"==typeof n.serializeDate?n.serializeDate:a.serializeDate,m="boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:a.encodeValuesOnly;if(void 0===n.format)n.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,n.format))throw new TypeError("Unknown format option provided.");var b,g,k=o.formatters[n.format];"function"==typeof n.filter?(g=n.filter,t=g("",t)):Array.isArray(n.filter)&&(g=n.filter,b=g);var O=[];if("object"!=typeof t||null===t)return"";var w;w=n.arrayFormat in i?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var D=i[w];b||(b=Object.keys(t)),y&&b.sort(y);for(var N=0;N<b.length;++N){var h=b[N];c&&null===t[h]||(O=O.concat(f(t[h],h,D,s,c,u?d:null,g,y,p,v,k,m)))}return O.join(l)}});C.r("node_modules/shakti-platform/node_modules/qs/lib/utils.js",function(r,t,e){"use strict";var o=Object.prototype.hasOwnProperty,n=function(){for(var r=[],t=0;t<256;++t)r.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return r}();e.arrayToObject=function(r,t){for(var e=t&&t.plainObjects?Object.create(null):{},o=0;o<r.length;++o)void 0!==r[o]&&(e[o]=r[o]);return e},e.merge=function(r,t,n){if(!t)return r;if("object"!=typeof t){if(Array.isArray(r))r.push(t);else{if("object"!=typeof r)return[r,t];(n.plainObjects||n.allowPrototypes||!o.call(Object.prototype,t))&&(r[t]=!0)}return r}if("object"!=typeof r)return[r].concat(t);var c=r;return Array.isArray(r)&&!Array.isArray(t)&&(c=e.arrayToObject(r,n)),Array.isArray(r)&&Array.isArray(t)?(t.forEach(function(t,c){o.call(r,c)?r[c]&&"object"==typeof r[c]?r[c]=e.merge(r[c],t,n):r.push(t):r[c]=t}),r):Object.keys(t).reduce(function(r,o){var c=t[o];return Object.prototype.hasOwnProperty.call(r,o)?r[o]=e.merge(r[o],c,n):r[o]=c,r},c)},e.decode=function(r){try{return decodeURIComponent(r.replace(/\+/g," "))}catch(t){return r}},e.encode=function(r){if(0===r.length)return r;for(var t="string"==typeof r?r:String(r),e="",o=0;o<t.length;++o){var c=t.charCodeAt(o);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?e+=t.charAt(o):c<128?e+=n[c]:c<2048?e+=n[192|c>>6]+n[128|63&c]:c<55296||c>=57344?e+=n[224|c>>12]+n[128|c>>6&63]+n[128|63&c]:(o+=1,c=65536+((1023&c)<<10|1023&t.charCodeAt(o)),e+=n[240|c>>18]+n[128|c>>12&63]+n[128|c>>6&63]+n[128|63&c])}return e},e.compact=function(r,t){if("object"!=typeof r||null===r)return r;var o=t||[],n=o.indexOf(r);if(-1!==n)return o[n];if(o.push(r),Array.isArray(r)){for(var c=[],u=0;u<r.length;++u)r[u]&&"object"==typeof r[u]?c.push(e.compact(r[u],o)):void 0!==r[u]&&c.push(r[u]);return c}return Object.keys(r).forEach(function(t){r[t]=e.compact(r[t],o)}),r},e.isRegExp=function(r){return"[object RegExp]"===Object.prototype.toString.call(r)},e.isBuffer=function(r){return null!==r&&void 0!==r&&!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))}});C.r("utils/XHR.js",function(e,t,o){"use strict";function r(e){return e.authorize&&C&&C.authURL||null}function n(e,t){var o=R[e.service],r=h.assign({},o,e),n={},s={_:(new Date).getTime()},a={};return"api"===e.service&&S.get(b)&&(n.fallbackEsn=S.get(P)),e.method.toLowerCase()===y.METHODS.get?(t&&(s.authURL=t),j?s.stack=L:k||(s.revision=E),r.query=h.assign({},r.query||{},r.data,n,s)):(j?a.stack=L:k||(a.revision=E),r.query=h.assign({},r.query||{},n,a)),r.path=r.path.slice(0),"api"===e.service?(_||r.path.push(L),r.path.push(r.resource.slice(1)),_&&r.path.push(x[r.resource]),r.path=r.path.join("/")):(r.path=r.path?r.path.join("/"):m,r.path+=r.resource),f.create({protocol:r.protocol,hostname:r.hostname,path:r.path,query:r.query})}function s(e){var t=h.assign({method:y.METHODS.get,headers:{},timeout:15e3,authorize:!1,postType:y.POST_TYPES.json,responseType:y.POST_TYPES.json,withCredentials:!0},e),o=r(t);if(t.method.toLowerCase()===y.METHODS.post){o&&(t.data.authURL=o);var s=t.postType.toLowerCase();s===y.POST_TYPES.json?(t.postBody=JSON.stringify(t.data),t.headers["Content-Type"]="application/json",t.headers.Accept=["application/json","text/javascript","*/*"].join(", ")):s===y.POST_TYPES.text&&(t.postBody=h.reduce(t.data,function(e,t,o){return(e===m?m:e+"&")+o+"="+encodeURIComponent(t)},m))}return h.isString(t.resource)&&h.isString(t.service)&&(t.url=n(t,o)),t}function a(e){var t=new XMLHttpRequest;if(t.open(e.method.toLowerCase(),e.url),t.timeout=e.timeout,t.withCredentials=e.withCredentials,g)try{t.responseType=e.responseType}catch(e){}return h.forEach(e.headers,function(e,o){t.setRequestHeader(o,e)}),t}function i(e){return d.create(function(t){var o=s(e),r=void 0;return r=a(o),r.onload=u.bind(null,t,r,y.EVENT_TYPES.load,o),r.onerror=u.bind(null,t,r,y.EVENT_TYPES.error,o),r.ontimeout=u.bind(null,t,r,y.EVENT_TYPES.timeout,o),r.onabort=u.bind(null,t,r,y.EVENT_TYPES.abort,o),r.send(o.postBody||m),function(){r&&(r.onload=null,r.onerror=null,r.ontimeout=null,r.onabort=null,r.abort(),r=null)}})}function u(e,t,o,r){var n=void 0;t&&e&&(n=t.status,o===y.EVENT_TYPES.load&&n>=200&&n<=399?p(e,t,o,r):l(e,t,o))}function p(e,t,o,r){var n=void 0,s=y.POST_TYPES,a=h.get(t,"responseType",r.responseType).toLowerCase();try{a===s.buffer&&t.response?n=t.response:a===s.text||t.response&&!h.isObject(t.response)?n=JSON.parse(t.responseText||null):a===s.json&&(n=t.response),e.next(n),e.complete()}catch(r){l(e,t,o)}}function l(e,t,o){var r=new Error("xhr error - "+o);r.xhrStatus=t.status,r.xhrResponse=t.response,e&&"function"==typeof e.error&&e.error(r,t,o)}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=e("../utils/rx/shakti-rx").RxObservable,h=e("lodash"),f=e("shakti-platform/dist/ui/utils/URLGenerator"),T=e("../common/appContext"),y=e("./XHRConstants"),v=e("shakti-platform/dist/ui/utils/inNode"),S=e("shakti-platform/dist/ui/ShaktiProperties"),E="latest",m="",b="shakti.fallback.esn.enabled",P="shakti.fallback.esn.value",g=!0,C=void 0,O=void 0,R=void 0,_=void 0,x=void 0,L=void 0,j=void 0,k=void 0;v||(C=T.getModelData("userInfo"),O=T.getModelData("serverDefs"),R=T.getModelData("services"),_=O.API_CONSOLIDATED,L=O.BUILD_IDENTIFIER,j=O.CUSTOM_PRIMER_STACK,k=O.production,x=O.endpointIdentifiers,g=void 0!==c((new XMLHttpRequest).responseType)),t.exports={request:i}});C.r("utils/XHRConstants.js",function(t,o,r){"use strict";o.exports={EVENT_TYPES:{load:"load",error:"error",timeout:"timeout",abort:"abort"},METHODS:{get:"get",post:"post"},POST_TYPES:{text:"text",json:"json",buffer:"arraybuffer"}}});C.r("utils/pathEvaluatorUtils.js",function(r,n,t){"use strict";function e(r){return s.create(function(n){return r.subscribe(function(r){n.next(r)},function(r){n.error(r)},function(){n.complete()}),function(){}})}function u(r){return void 0!==r&&r&&"error"===r.$type}function i(r){return null===r||void 0!==r&&"error"!==r.$type}function o(r){return u(r.getBoundValue())}function c(r){var n=!1;return r&&Array.isArray(r)&&r.length>0&&(n=r.some(function(r){return u(r)})),n}function a(r){var n=Object.keys(r._cache).filter(function(r){return"_"!==r[0]&&"$"!==r[0]}).map(function(r){return[r]});r.invalidate.apply(r,n).subscribe()}var s=r("../utils/rx/shakti-rx").RxObservable;n.exports={toObservable:e,isValueError:u,isValueValid:i,isBoundToError:o,hasAnyError:c,resetCache:a}});C.r("utils/rx/shakti-rx.js",function(r,a,e){"use strict";var d=r("rxjs/Observable").Observable,o=r("rxjs/Subject").Subject,s=r("rxjs/BehaviorSubject").BehaviorSubject,t=r("rxjs/scheduler/asap").asap;r("rxjs/add/observable/concat"),r("rxjs/add/observable/defer"),r("rxjs/add/observable/empty"),r("rxjs/add/observable/from"),r("rxjs/add/observable/fromEvent"),r("rxjs/add/observable/fromPromise"),r("rxjs/add/observable/interval"),r("rxjs/add/observable/merge"),r("rxjs/add/observable/of"),r("rxjs/add/observable/throw"),r("rxjs/add/observable/timer"),r("rxjs/add/observable/zip"),r("rxjs/add/operator/catch"),r("rxjs/add/operator/concat"),r("rxjs/add/operator/delay"),r("rxjs/add/operator/distinctUntilChanged"),r("rxjs/add/operator/do"),r("rxjs/add/operator/filter"),r("rxjs/add/operator/map"),r("rxjs/add/operator/merge"),r("rxjs/add/operator/mergeMap"),r("rxjs/add/operator/observeOn"),r("rxjs/add/operator/onErrorResumeNext"),r("rxjs/add/operator/publish"),r("rxjs/add/operator/publishReplay"),r("rxjs/add/operator/reduce"),r("rxjs/add/operator/retryWhen"),r("rxjs/add/operator/sample"),r("rxjs/add/operator/sampleTime"),r("rxjs/add/operator/scan"),r("rxjs/add/operator/share"),r("rxjs/add/operator/startWith"),r("rxjs/add/operator/switchMap"),r("rxjs/add/operator/take"),r("rxjs/add/operator/takeLast"),r("rxjs/add/operator/takeUntil"),r("rxjs/add/operator/throttleTime"),r("rxjs/add/operator/timeInterval"),r("rxjs/add/operator/timeout"),r("rxjs/add/operator/timeoutWith"),r("rxjs/add/operator/zip"),a.exports={RxObservable:d,RxSubject:o,RxBehaviorSubject:s,RxSchedulerAsap:t}});C.r("akira/components/review/review.jsx",function(e,t,r){"use strict";var i=e("prop-types"),n=e("react"),o=e("create-react-class"),l=e("lodash"),a=e("../../../utils/pathEvaluatorUtils"),s=e("./../title/basicStarBar.jsx"),p=e("./reviewText.jsx"),d=e("./helpfulCount.jsx"),v=e("./voteReviewSection.jsx"),u=e("./inappropriateReview.jsx"),h=e("./deleteReview.jsx"),c=o({displayName:"Review",getDefaultProps:function(){return{forUsersReview:!1,readOnly:!0,truncatedTextLength:200}},getInitialState:function(){return{inappropriateFormOpen:!1,reviewDeleted:!1}},contextTypes:{pathEvaluator:i.object},onVoteChange:function(e){this.forceUpdate()},onFlagsChanged:function(e){this.forceUpdate()},onReviewDeleted:function(){this.setState({reviewDeleted:!0})},toggleInappropriateReviewForm:function(){this.setState({inappropriateFormOpen:!this.state.inappropriateFormOpen})},closeInappropriateReviewForm:function(){this.setState({inappropriateFormOpen:!1})},renderDeletedReview:function(){return n.createElement(h,{videoModel:this.props.videoModel,onReviewDeleted:this.onReviewDeleted,reviewDeleted:this.state.reviewDeleted})},isValidReview:function(){var e=["id","rating","reviewText","helpfulCount","notHelpfulCount"];return void 0!==this.props.reviewModel.getBoundValue()&&(!a.isBoundToError(this.props.reviewModel)&&l.every(e,function(e){var t=this.props.reviewModel.getValueSync([e]);return void 0!==t&&!a.isValueError(t)},this))},renderReview:function(){var e=this.props.reviewModel,t=this.props.videoModel,r=e.getValueSync(["id"]),i=(t.getValueSync(["reviewFlags"])||{})[r];return n.createElement("div",{className:"memberReview"},n.createElement(s,{reviewRating:e.getValueSync(["rating"]),readOnly:!0}),n.createElement(p,{text:e.getValueSync(["reviewText"]),maxLength:this.props.readOnly?200:null}),this.props.readOnly?null:n.createElement(d,{numHelpful:e.getValueSync(["helpfulCount"]),numNotHelpful:e.getValueSync(["notHelpfulCount"])}),this.props.readOnly||this.props.forUsersReview?null:n.createElement(v,{reviewModel:e,videoModel:t,onVoteChange:this.onVoteChange,onInappropriateReviewClick:this.toggleInappropriateReviewForm,flagsForReview:i}),this.props.readOnly||!this.state.inappropriateFormOpen||i&&i.length>0?null:n.createElement(u,{reviewModel:e,videoModel:t,onCancel:this.closeInappropriateReviewForm,onFlagsChange:this.onFlagsChanged}),this.props.readOnly||!this.props.forUsersReview?null:n.createElement(h,{videoModel:this.props.videoModel,onReviewDeleted:this.onReviewDeleted,reviewDeleted:this.state.reviewDeleted}))},renderError:function(){return null},render:function(){return this.isValidReview()?this.state.reviewDeleted?this.renderDeletedReview():this.renderReview():this.renderError()}});t.exports=c});C.r("akira/components/review/reviewList.jsx",function(e,r,i){"use strict";var t=e("prop-types"),s=e("react"),n=e("create-react-class"),o=e("../../../utils/pathEvaluatorUtils"),l=e("../review/review.jsx"),u=n({displayName:"ReviewList",getDefaultProps:function(){return{uniqueId:Math.random().toString()}},childContextTypes:{reviewListId:t.string},getChildContext:function(){return{reviewListId:this.props.uniqueId}},buildReviewsMarkup:function(){var e=void 0,r=void 0,i=[];for(r=0;r<this.props.numReviews;r++)e=this.props.forUsersReview?this.props.reviewsModel:this.props.reviewsModel.bind([r]),void 0!==e.getBoundValue()&&i.push(s.createElement("li",{key:"review-"+r},s.createElement(l,{reviewModel:e,videoModel:this.props.videoModel,readOnly:this.props.readOnly,forUsersReview:this.props.forUsersReview})));return i},renderError:function(){return null},render:function(){if(o.isBoundToError(this.props.reviewsModel))return this.renderError();var e=this.buildReviewsMarkup();return e.length>0?s.createElement("div",null,s.createElement("h3",null,this.props.heading),s.createElement("ul",{className:"memberReviews"},e)):null}});r.exports=u});C.r("node_modules/shakti-platform/dist/ui/routing/History.js",function(t,e,n){"use strict";function i(t){var e=t.state;this.state=e,c.index=e&&e.index||0,c.index>=c.length&&(c.length=c.index+1),o(e)}function o(t){r.forEach(function(e){e(t)})}function s(){return a.location.pathname+a.location.search}var r=[],a="undefined"!=typeof window?window:null,c={length:a&&a.history.state&&a.history.state.index+1||1,index:a&&a.history.state&&a.history.state.index||0,state:null,setWindow:function(t){a=t},addChangeListener:function(t){r.length||c.register(),r.push(t)},removeChangeListener:function(t){r.splice(r.indexOf(t),1),r.length||c.unRegister()},register:function(){a.addEventListener("popstate",i)},unRegister:function(){a.removeEventListener("popstate",i)},pushState:function(t,e){this.state=e,++c.index,c.length=c.index+1;var n=Object.assign({index:c.index,url:t},e);try{a.history.pushState(n,"",t),o(s())}catch(e){console.error(e),a.location=t}},replaceState:function(t,e){this.state=e,c.length=c.index+1;var n=Object.assign({index:c.index,url:t},e);try{a.history.replaceState(n,"",t),o(s())}catch(e){console.error(e),a.location.replace(t)}},back:function(){c.go(-1)},forward:function(){c.go(1)},go:function(t){a.history.go(t)}};e.exports=c});C.r("node_modules/shakti-platform/dist/ui/routing/Link.js",function(t,e,r){"use strict";function s(t){return 0===t.button}function o(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},n=t("react"),a=t("create-react-class"),p=t("prop-types"),c=t("lodash"),h=t("classnames"),l={history:p.object.isRequired,routeHandler:p.object.isRequired},u=a({displayName:"Link",propTypes:{children:p.any,className:p.string,href:p.string,onClick:p.func,onAfterNavigation:p.func,route:p.object,params:p.object,query:p.object,hash:p.string,preventScrollPositionReset:p.bool},contextTypes:l,isActive:function(t){var e=this.context.routeHandler;return t===e.route.makePath(e.params,e.query)},getHref:function(){return this.props.href?this.props.href:this.props.route?this.props.route.makePath(this.props.params,this.props.query,this.props.hash):null},handleClick:function(t){!o(t)&&s(t)&&(this.props.onClick&&(this.props.onClick(t),t.defaultPrevented)||(t.preventDefault(),this.context.history.pushState(this.getHref()),this.props.preventScrollPositionReset||window.scrollTo(0,0),this.props.onAfterNavigation&&this.props.onAfterNavigation()))},render:function(){var t=c.omit(this.props,["href","route","params","query","hash","onClick","children","className","onAfterNavigation"]),e=this.getHref(),r=h(this.props.className,{active:e&&this.isActive(e)});return r&&(t.className=r),e&&(t.href=e),n.createElement("a",i({},t,{onClick:this.handleClick}),this.props.children)}});e.exports=u});C.r("node_modules/shakti-platform/dist/ui/routing/Route.js",function(t,e,a){"use strict";function h(t){this.hostname=t.hostname,this.protocol=t.protocol,this.path=t.path,this._keys=[],this._regex=o(this.path,this._keys),this._pathMaker=o.compile(this.path)}var o=t("path-to-regexp"),r=t("../utils/URLGenerator");h.prototype={match:function(t){var e=this._regex.exec(t);if(!e)return null;for(var a=this._keys,h={},o=0,r=a.length;o<r;o++){var s=a[o],i=e[o+1];void 0!==i&&void 0===h[s.name]&&(h[s.name]=decodeURIComponent(i))}return h},makePath:function(t,e,a){if(this.hostname)return this.makeAbsolutePath({query:e,hash:a,params:t});var h=void 0;try{h=this._pathMaker(t)}catch(t){throw t.message+=" for "+this.path,t}return r.createRelative({path:h,query:e,hash:a})},makeAbsolutePath:function(t){t=t||{};var e=void 0;try{e=this._pathMaker(t.params)}catch(t){throw t.message+=" for "+this.path,t}return r.create({protocol:t.protocol||this.protocol,hostname:t.hostname||this.hostname,path:e,query:t.query,hash:t.hash})}},h.createRoute=function(t){return new h(t)},e.exports=h});C.r("node_modules/shakti-platform/dist/ui/routing/index.js",function(e,t,o){"use strict";var r=e("./Route"),n=e("./History"),i=e("./Link"),s=e("./match"),u=e("./resolveElement"),a=e("./provideRoutingContext"),l=e("./parseUrl");t.exports={createRoute:function(e){return new r(e)},History:n,Link:i,match:s,parseUrl:l,provideRoutingContext:a,resolveElement:u,Route:r}});C.r("node_modules/shakti-platform/dist/ui/routing/match.js",function(r,t,a){"use strict";var u=r("./parseUrl");t.exports=function(r,t){for(var a=u(t),s=0;s<r.length;++s){var e=r[s].route,h=e.match(a.path);if(h)return Object.assign({},r[s],{url:a.url,path:a.path,params:h,query:a.query,hash:a.hash})}return null}});C.r("node_modules/shakti-platform/dist/ui/routing/parseUrl.js",function(s,r,t){"use strict";var u=s("qs");r.exports=function(s){var r=s.indexOf("?"),t=s.indexOf("#"),i=-1!==r,e=-1!==t,o=void 0,a=void 0,d=void 0,n=void 0;if(e&&i){var b=r<t?r:t;o=s.substr(0,b),b!==t&&(a=s.substr(r+1,t-r-1)),n=s.substr(0,t),d=s.substr(t+1)}else e?(o=s.substr(0,t),n=o,d=s.substr(t+1)):i?(o=s.substr(0,r),a=s.substr(r+1),n=s):(o=s,n=s);return{url:n,path:o,query:u.parse(a||""),hash:d||""}}});C.r("node_modules/shakti-platform/dist/ui/routing/provideRoutingContext.js",function(t,e,r){"use strict";function o(t){var e=i({displayName:"Router",propTypes:u,childContextTypes:u,getChildContext:function(){return{routeHandler:this.props.routeHandler,history:this.props.history}},render:function(){return s.createElement(t,this.props)}});return p(e,t),e.wrappedComponent=t,e}var s=t("react"),i=t("create-react-class"),n=t("prop-types"),p=t("hoist-non-react-statics"),u={routeHandler:n.object.isRequired,history:n.object.isRequired};e.exports=o});C.r("node_modules/shakti-platform/dist/ui/routing/resolveElement.js",function(r,e,t){"use strict";var l=r("react");e.exports=function(r,e){if(!r)return null;r=Array.prototype.slice.call(r);for(var t=null;r.length;){var n=r.pop();t=l.createElement(n,e,t)}return t}});C.r("reactMixins/cssAnimation.jsx",function(t,n,i){"use strict";var e=t("react-dom"),a=t("lodash"),r=t("shakti-platform/dist/ui/utils/inNode"),o=!r,s=void 0,u=void 0,c=["target","callback","animation","after","before"],m={translate:"transform",translateX:"transform",translateY:"transform",rotate:"transform",scale:"transform",scaleX:"transform",scaleY:"transform",skewX:"transform",skewY:"transform",translateZ:"transform",translate3d:"transform",rotateX:"transform",rotateY:"transform",scale3d:"transform",scaleZ:"transform",matrix:"transform",matrix3d:"transform",origin:"transformOrigin",perspective:"perspective",easing:"transitionTimingFunction",duration:"transitionDuration",delay:"transitionDelay"},f={name:"animationName",duration:"animationDuration",delay:"animationDelay",easing:"animationTimingFunction",repeat:"animationIterationCount",direction:"animationDirection",fillMode:"animationFillMode"},l={ease:"ease",linear:"linear",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",stepStart:"step-start",stepEnd:"step-end",steps:"steps",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},d={transform:"transform",WebkitTransform:"-webkit-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform"},b={WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},y={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"},p=["Webkit","Moz","O","ms"];!function(){if(o){var t=void 0,n=void 0,i=void 0,e=void 0,a=document.createElement("div"),r=a.style;t="",p.forEach(function(n){if(n+"Transition"in r)return void(t=n)});for(n in m)m.hasOwnProperty(n)&&(i=m[n],(e=t+i.charAt(0).toUpperCase()+i.substr(1))in r&&(m[n]=e));for(n in f)m.hasOwnProperty(n)&&(i=f[n],(e=t+i.charAt(0).toUpperCase()+i.substr(1))in r&&(f[n]=e));u="TransitionEvent"in window?"transitionend":b[t+"Transition"],s="AnimationEvent"in window?"animationend":y[t+"Animation"]}}();var v=function(){if(!o)return function(){};var t=0;return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){var i=Date.now(),e=Math.max(0,16-(i-t));return t=i+e,setTimeout(function(){n(Date.now())},e)}}(),h={animate:function(t){var n=void 0,i=void 0,e=void 0;if(!t)throw new TypeError("React Component - "+this.constructor.displayName+": 'animation' argument must be an object.");if(this.isMounted()){var a=this._getDOMNode(t.target);if(a.addEventListener){t.before&&this._applyStyle(a,t.before);var r=this;(t.callback||t.animation||void 0!==t.opacity||t.after)&&(n=this._transitionEndCallback.bind(this,t.callback,t.animation),i=this._transitionEndHandler.bind(this,a,n,function(){t.after&&r._applyStyle(a,t.after),a.removeEventListener(u,i)}),a.addEventListener(u,i)),t.keyframes&&t.keyframes.callback&&(e=this._animationEndHandler.bind(this,a,t.keyframes.callback,function(t){a.removeEventListener(s,e)}),a.addEventListener(s,e)),v(function(){r._applyStyle(a,t)})}}},_getDOMNode:function(t){if(t){if("string"==typeof t){if(!this.refs[t])throw new Error("React Component - "+this.constructor.displayName+": 'animation' argument's 'target' property '"+t+"' not found in this.refs.");return e.findDOMNode(this.refs[t])}return t}return e.findDOMNode(this)},getAnimationStyle:function(t){var n=void 0,i=void 0,e=void 0,a={};"number"==typeof t.duration&&(t.duration+="ms"),"number"==typeof t.delay&&(t.delay+="ms"),t.keyframes&&"number"==typeof t.keyframes.duration&&(t.keyframes.duration+="ms");for(n in t)if(-1===c.indexOf(n))if(i=m[n],e=t[n],i)i in d?(a[i]||(a[i]=""),a[i]+=n+"("+e+") "):a[i]="easing"===i?l[e]:e;else if("keyframes"===n)for(n in e)n in f&&(a[f[n]]="easing"===n?l[e[n]]:e[n]);else a[n]=e;return a},_transitionEndCallback:function(t,n){if(t&&"function"!=typeof t)throw new Error("React Component - "+this.constructor.displayName+": 'animation' argument's 'callback' property must be a function.");t&&t.call(this),n&&this.animate(n)},_transitionEndHandler:function(t,n,i,e){e.target===t&&(i(),n())},_animationEndHandler:function(t,n,i,e){e.target===t&&(i(),n.call(this))},css:function(t){var n=this._getDOMNode(t.target);return this._applyStyle(n,t)},clearStyles:function(t){t.removeAttribute("style")},_applyStyle:function(t,n){return v(function(){n.reset&&(t.removeAttribute("style"),delete n.reset);var i=this.getAnimationStyle(n);for(var e in i)i.hasOwnProperty(e)&&(t.style[e]=i[e])}.bind(this)),t},hasWebAnimations:function(){return!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&"function"==typeof window.Element.prototype.animate},animateIt:function(t,n,i,e,a){if(t)if(this.hasWebAnimations(a)){var r=t.animate(n,i);"function"==typeof e&&(r.onfinish=function(){e()})}else Array.isArray(n)&&n.length>=2&&this.animatePolyfill(t,n[0],n[1],i,e)},animatePolyfill:function(t,n,i,e,r){var o={easing:"transitionTimingFunction",duration:"transitionDuration",delay:"transitionDelay",fill:"animationFillMode"};if(i&&e){var s={};if(n)for(var u in n)"forwards"!==e.fill&&(s[u]=t.style[u]),t.style[u]=n[u];v(function(){for(var n in e){"duration"!==n&&"delay"!==n||"number"!=typeof e[n]||(e[n]+="ms");var u=o[n]||n;t.style[u]!==e[n]&&(t.style[u]=e[n])}var c=t.style.transitionProperty.split(",").filter(function(t){return""!==t}).map(function(t){return t.trim()}),m=a.uniq(c.concat(Object.keys(i))).join(",");t.style.transitionProperty=m;for(var f in i)t.style[f]=i[f],"transform"===f&&(t.style.webkitTransform=i[f]);var l=parseInt(e.duration,10)||0;e.delay&&(l+=parseInt(e.delay,10)),setTimeout(function(){v(function(){for(var n in s)s.hasOwnProperty(n)&&(t.style[n]=s[n]);"function"==typeof r&&r()})},l+20)})}},reset:function(t,n,i){this.hasWebAnimations()?this.animateIt(t,[n,n],{duration:0,fill:"forwards"},i):v(function(){t.style.transition="",t.style.transitionDuration=0,t.style.transitionDelay=0,t.style.transitionProperty="",Object.keys(n).forEach(function(i){t.style[i]=n[i]}),i&&i()})}};n.exports=h});C.r("utils/Routes.js",function(e,t,a){"use strict";var i=e("shakti-platform/dist/ui/routing"),s=i.createRoute,o="help.netflix.com",r={home:s({path:"/"}),browse:s({path:"/browse"}),deepLinkedUma:s({path:"/messages/:umaType"}),title:s({path:"/:locale?/title/:id"}),titleShowEpisodes:s({path:"/title/:id#showEpisodes"}),addToMyList:s({path:"/add/:id"}),likeTitle:s({path:"/like/:id"}),dislikeTitle:s({path:"/dislike/:id"}),genre:s({path:"/browse/genre/:id"}),similars:s({path:"/browse/similars/:id"}),genreNewRelease:s({path:"/browse/genre-new-release/:id"}),hd:s({path:"/browse/hd/:id"}),person:s({path:"/browse/person/:id"}),myList:s({path:"/browse/my-list"}),recentlyAdded:s({path:"/browse/recently-added"}),justAdded:s({path:"/browse/just-added"}),newRelease:s({path:"/browse/new-release"}),newReleases:s({path:"/browse/new-releases"}),newArrivals:s({path:"/browse/new-arrivals"}),audio:s({path:"/browse/audio/:id?"}),subtitle:s({path:"/browse/subtitle/:id?"}),subtitles:s({path:"/browse/subtitles/:id?"}),audioDescription:s({path:"/browse/audio-description"}),audioDescriptionByGenre:s({path:"/browse/audio-description/:id"}),netflixOriginals:s({path:"/browse/originals"}),search:s({path:"/search"}),searchTerm:s({path:"/search/:term"}),searchPerson:s({path:"/search/:term/person/:personId"}),searchSuggestion:s({path:"/search/:term/suggestion/:suggestionId"}),searchDVD:s({path:"/search/:term/dvd/:dvdId"}),profilesManage:s({path:"/profiles/manage"}),manageProfiles:s({path:"/ManageProfiles"}),editProfiles:s({path:"/EditProfiles"}),profilesAdd:s({path:"/profiles/add"}),notificationLanding:s({path:"/notification/:eventGuid"}),kidsHome:s({path:"/Kids"}),kidsCharacter:s({path:"/Kids/character/:id"}),kidsTitle:s({path:"/Kids/title/:id"}),kidsCategory:s({path:"/Kids/category/:id"}),kidsSimilars:s({path:"/Kids/similars/:id"}),kidsSearch:s({path:"/Kids/search"}),kidsSearchTerm:s({path:"/Kids/search/:term"}),kidsSearchSuggestion:s({path:"/Kids/search/:term/suggestion/:suggestionId"}),kidsCharacterGallery:s({path:"/Kids/characters"}),kidsOriginals:s({path:"/Kids/originals"}),watchNow:s({path:"/watch/:id",query:["trkid","tctx","ad"]}),interact:s({path:"/interact/:id",query:["trkid","tctx","ad"]}),embedPlayer:s({path:"/embed/:id",query:["trkid","tctx","ad"]}),yourAccount:s({path:"/YourAccount"}),parentalControls:s({path:"/Pin"}),profiles:s({path:"/Profiles"}),affiliates:s({path:"/Affiliates"}),socialterms:s({path:"/socialterms"}),cookiePolicy:s({path:"/Cookies"}),signOut:s({path:"/SignOut?lnkctr=mL"}),freeTrialDetails:s({path:"/PopupDetails"}),gift:s({path:"/Gift"}),giftCard:s({path:"/redeem"}),verifyAge:s({path:"/verifyage"}),verifyMemberCode:s({path:"/verifymembercode"}),printInvoice:s({path:"/invoice/print/:invoiceId"}),viewingActivity:s({path:"/viewingactivity"}),info:s({path:"/:locale?/info/:id/"}),infoPage:s({path:"/:locale?/info/:id/:page"}),login:s({path:"/:locale?/login"}),loginHelp:s({path:"/LoginHelp"}),loginDeviceCode:s({path:"/lda/:code"}),densityAudioDescription:s({path:"/audio-description"}),profilesGate:s({path:"/ProfilesGate"}),clientCounter:s({path:"/clientcounter/:name"}),onRamp:s({path:"/Welcome/OnRamp"}),unsupportedCountry:s({path:"/unsupportedcountry"}),switchProfiles:s({path:"/SwitchProfile"}),devices:s({path:"/",hostname:"devices.netflix.com"}),mediaCenter:s({path:"/",hostname:"media.netflix.com"}),investors:s({path:"/",hostname:"ir.netflix.com",protocol:"http:"}),contact:s({path:"/contactus",hostname:"help.netflix.com"}),corporateInformation:s({path:"/en/node/2101",hostname:"help.netflix.com"}),jobs:s({path:"/",hostname:"jobs.netflix.com"}),support:s({path:"/",hostname:"support.netflix.com"}),help:s({path:"/",hostname:o}),privacyPolicy:s({path:"/legal/privacy",hostname:o}),termsOfUse:s({path:"/legal/termsofuse",hostname:o}),helpRatings:s({path:"/support/2064",hostname:o}),helpReviewsFAQ:s({path:"/support/9977",hostname:o}),helpPlayerSupport:s({path:"/support/23742",hostname:o}),jpTransactionAct:s({path:"/support/26101",hostname:o}),dvdHome:s({path:"/MemberHome?lnkctr=mhbwse",hostname:"dvd.netflix.com"}),dvdMdp:s({path:"/Movie/:id",hostname:"dvd.netflix.com"}),dvdUpsell:s({path:"/SubscriptionAdd",hostname:"dvd.netflix.com"}),dvdSearch:s({path:"/Search",hostname:"dvd.netflix.com"}),dvdTerms:s({path:"/Terms/",hostname:"dvd.netflix.com"}),dvdCancel:s({path:"/SubscriptionCancel/",hostname:"dvd.netflix.com"})};t.exports=r});C.r("akira/components/review/writeReview.jsx",function(e,t,r){"use strict";var i=e("prop-types"),a=e("react"),s=e("create-react-class"),n=e("react-dom"),o=e("lodash"),l=e("classnames"),d=e("../../../utils/Routes"),c=e("../title/basicStarBar.jsx"),u=e("../title/falkorStarBar.jsx"),v=e("../../components/loader/loadingSpinner.jsx"),w=e("../../../reactMixins/eventBus"),m="discovery/akira/Reviews",h=d.helpReviewsFAQ.makePath(),g=s({displayName:"WriteReview",contextTypes:{getI18nBundle:i.func.isRequired,models:i.object},getDefaultProps:function(){return{defaultOpen:!1}},getInitialState:function(){var e=this.context.models,t=o.get(e,"truths.data.showRatingsProductization",!1);return{formOpen:this.props.defaultOpen,reviewValid:!1,reviewSaving:!1,reviewSubmitted:!1,errorMessage:null,showNotRatedError:!1,userHasRatedTitle:!1,rating:0,showRatingsProductization:t}},titleRatedHandler:function(){this.setState({userHasRatedTitle:!0})},titleRatedForThumbsHandler:function(e){this.setState({userHasRatedTitle:!0,rating:e})},validateReview:function(){var e=n.findDOMNode(this.refs.reviewTextarea),t=e.value,r=t.length;this.setState({reviewValid:r>=80&&r<2e3})},openReviewForm:function(){this.setState({reviewValid:!1,formOpen:!0})},closeReviewForm:function(){this.setState({formOpen:!1})},submitReview:function(){this.state.userHasRatedTitle?(this.setState({reviewSaving:!0}),this.props.videoModel.call(["createReview"],[n.findDOMNode(this.refs.reviewTextarea).value,this.state.rating],[],[[["createReviewResult"],["usersReview"]]]).subscribe(this.handleCreateReviewResponse)):this.setState({showNotRatedError:!0})},handleCreateReviewResponse:function(){var e=this.props.videoModel.getValueSync(["createReviewResult"]),t=this.context.getI18nBundle(m),r=void 0,i=void 0;if(e.success)w.emit("reviews:reviewsCountChanged",{videoId:this.props.videoModel.getValueSync(["summary"]).id}),this.setState({reviewSaving:!1,reviewSubmitted:!0,formOpen:!1,reviewValid:!1,errorMessage:null,showNotRatedError:!1});else{switch(r=o.get(e,"info.validationInfo[0]",{infoType:"unknown"}),r.infoType){case"REVIEW_CONTAIN_BAD_WORDS":i=t.get("write.review.error.msg.bad.word",{BAD_WORD:r.value});break;default:i=t.get("write.review.error.msg.general")}this.setState({reviewSaving:!1,reviewValid:!1,errorMessage:i})}},renderButton:function(){var e=this.context.getI18nBundle(m);return a.createElement("button",{className:"akira-button akira-button-red",onClick:this.openReviewForm},e.get("write.review.cta"))},renderStarbar:function(){if(this.state.showRatingsProductization){var e=this.props.videoModel.getValueSync(["summary"]).id;return a.createElement(c,{videoId:e,userRating:this.state.rating,onRating:this.titleRatedForThumbsHandler,sendRating:!1})}return a.createElement(u,{model:this.props.videoModel,readOnly:!1,userRatingOnly:!0,onRating:this.titleRatedHandler})},renderForm:function(){var e=this.context.getI18nBundle(m);return a.createElement("div",{className:l({writeReviewForm:!0,saving:this.state.reviewSaving}),key:"writeReviewForm"},a.createElement("div",{className:"writeReviewSavingMask",key:"writeReviewSavingMask"},a.createElement(v,null)),!this.state.userHasRatedTitle&&this.state.showNotRatedError?a.createElement("div",{className:"error"},e.get("write.review.error.msg.rate")):null,a.createElement("div",{className:"rating",key:"writeReviewRating"},e.get("rate.show"),this.renderStarbar()),this.state.errorMessage?a.createElement("div",{className:"error"},this.state.errorMessage):null,a.createElement("textarea",{ref:"reviewTextarea",name:"reviewText",className:"reviewText",key:"writeReviewTextArea",onChange:this.validateReview,placeholder:e.get("write.review.prompt")}),a.createElement("div",{className:"buttons",key:"writeReviewButtons"},a.createElement("button",{className:"akira-button akira-button-red",disabled:!this.state.reviewValid,onClick:this.submitReview},e.get("submit")),a.createElement("button",{className:"akira-button",onClick:this.closeReviewForm},e.get("cancel")),a.createElement("span",{className:"spacer"}),a.createElement("span",{className:"faq",dangerouslySetInnerHTML:{__html:e.get("question.about.reviews",{URL:h})}})))},renderSuccessMessage:function(){var e=this.context.getI18nBundle(m);return a.createElement("div",{className:"writeReviewSuccess",key:"writeReviewSuccess"},a.createElement("h3",{className:"heading"},e.get("write.review.success.heading")),a.createElement("div",{className:"details",dangerouslySetInnerHTML:{__html:e.get("write.review.success.msg")}}))},render:function(){return this.state.reviewSubmitted?this.renderSuccessMessage():this.state.formOpen?this.renderForm():this.renderButton()}});t.exports=g});C.r("reactMixins/falkor-auto-fetch.js",function(t,o,i){"use strict";var n=t("./falkor-fetch"),s=t("../utils/doWithTimeout"),e=t("shakti-platform/dist/ui/utils/inNode"),u={mixins:[n],_isAutoLoading:!1,autoLoadDone:function(t,o){this._isAutoLoading=!1,this.emit("auto-fetch-done",t,o)},startAutoLoad:function(t){if(!t.isPrefetchingPaths){var o=this;s(function(i){o._isAutoLoading=!0,o.ensureDataLoaded(!0,t,i)},15e3,o.autoLoadDone,o)}},componentWillMount:function(){"function"==typeof this.prepareForAutoFetch&&this.prepareForAutoFetch(),this.startAutoLoad(this.props)},componentWillReceiveProps:function(t){this.startAutoLoad(t)},isAutoLoading:function(t){return this._isAutoLoading||t.isPrefetchingPaths}},a={isLoading:function(){return!1},isAutoLoading:function(){return!1}};o.exports=e?a:u});C.r("reactMixins/falkor-fetch.js",function(t,e,r){"use strict";var i=t("prop-types"),s=t("./eventBus"),n=t("../utils/rx/shakti-rx").RxObservable,o="falkor-auto-fetch-pending";e.exports={contextTypes:{models:i.object.isRequired,routeHandler:i.object.isRequired},mixins:[s],getInitialState:function(){return{generation:-1,key:"",dispose:null}},_getModel:function(t){return"function"==typeof this.getFalkorModel?this.getFalkorModel(t):t.model},_hasValidModel:function(t){var e=this._getModel(t);return e&&e.get&&e.set&&e.call&&e.getValueSync},_hasPQL:function(t){var e=t.pqls;return Array.isArray(e)&&e.length},_normalize:function(t){return t.length>=1&&!Array.isArray(t[0])?[t]:t},fetchData:function(t,e,r,i,s){function n(e,n){this.state[a]&&delete this.state[a],h=!0;var u=t.getBoundValue();this.state.dispose=null,u&&u.__generation&&"error"!==u.$type&&(this.state.generation=u.__generation,this.state.key=u.__key);var c=r===o;c&&i(null,t),this.isMounted()&&"onError"===e&&this.setState({fetchDataError:n}),l&&this.isMounted()&&s&&this.forceUpdate(),this.emit("dataFetch:complete",r||null),!c&&i&&i()}var a=JSON.stringify(t._path)+" -> "+JSON.stringify(e);if(this.state[a])return!0;this.state[a]=!0,void 0===s&&(s=!0);var h=!1,l=!1;this.state.fetchDataError=null;var u=t.get.apply(t,this._normalize(e)).subscribe(function(){},n.bind(this,"onError"),n.bind(this,"onComplete"));return l=!0,h||(this.state.dispose=u),h},fetchDataObservable:function(t,e,r,i,s){var o=this;return n.create(function(i){o.fetchData(t,e,r,function(){o.state.fetchDataError?i.error(o.state.fetchDataError):i.next(),i.complete()},s)})},isLoading:function(){return!!this.state.dispose||this.props.isPrefetchingPaths},ensureDataLoaded:function(t,e,r){var i=this._getModel(e),s=i.getBoundValue(),n=null;if(!this._hasValidModel(e))throw new Error("React Component - "+this.constructor.displayName+": Must be initialized with a Falkor PathEvaluator model.");if(!this._hasPQL(e))if(this.context.models&&"function"==typeof this.constructor.getPaths&&this.context.routeHandler)n=this.constructor.getPaths(this.context.models,null,e,this.context.routeHandler.params);else{if(!this.context.models||"function"!=typeof this.constructor.getPaths)throw new Error("React Component - "+this.constructor.displayName+": Must be initialized with PQLs with which to request data.");n=this.constructor.getPaths(this.context.models,null,e)}return s&&s.__generation&&(this.state.generation=s.__generation,this.state.key=s.__key),this.fetchData(i,n||e.pqls,t?o:null,r)}}});C.r("utils/doWithTimeout.js",function(t,i,u){"use strict";function n(t){t.timeout&&(clearTimeout(t.timeout),t.timeout=null)}function e(t,i){n(this),this.didTimeOut||this.next.call(this.thisArg||null,t,i)}function l(){this.didTimeOut=!0,this.timeout=null,this.next.call(this.thisArg||null,"timeout",null)}i.exports=function(t,i,u,n){var o={op:t,timeoutMS:i,didTimeOut:!1,timeout:null,next:u,thisArg:n};o.timeout=setTimeout(l.bind(o),i),t(function(t,i){e.call(o,t,i)})}});C.r("akira/containers/modal/reviews.jsx",function(e,t,i){"use strict";var o=e("prop-types"),n=e("react"),s=e("create-react-class"),l=e("react-dom"),r=e("lodash"),c=e("./modalContent.jsx"),d=e("../../components/review/writeReview.jsx"),a=e("../../components/review/reviewList.jsx"),u=e("../../../reactMixins/falkor-auto-fetch"),h=e("../../utils/scrollLock"),m=s({displayName:"ReviewsModal",numReviewsToFetch:20,mixins:[u],statics:{getPaths:function(e,t,i){return"infiniteScrollStrategy"===t?[["recentReviews",{from:0,to:i.numToFetch-1},["id","rating","reviewText","helpfulCount","notHelpfulCount"]]]:[["title"],["reviewsCount"],["usersReview",["id","rating","reviewText","helpfulCount","notHelpfulCount"]],["helpfulReviews",{from:0,to:1},["id","rating","reviewText","helpfulCount","notHelpfulCount"]],["recentReviews",{from:0,to:19},["id","rating","reviewText","helpfulCount","notHelpfulCount"]],["reviewVotes"],["reviewFlags"]]}},contextTypes:{getI18nBundle:o.func.isRequired,modalDismiss:o.func,modalUpdate:o.func,models:o.object.isRequired},componentDidMount:function(){this.refs["modal-body"]?this.scrollLimit=h.scrollLock(this.refs["modal-body"]):this.refs["modal-header"]&&(this.scrollLimit=h.scrollLock(this.refs["modal-header"]))},componentWillUnmount:function(){h.scrollUnlock(this.scrollLimit)},modalScrolled:r.throttle(function(e){this.numReviewsToFetch<this.props.model.getValueSync(["reviewsCount"])&&this.isWithinDistanceBuffer(500,l.findDOMNode(this.refs["modal-body"]))&&this.fetchMoreReviews()},100),fetchMoreReviews:function(){if(!this.isLoading()){this.numReviewsToFetch+=20;var e=m.getPaths(this.context.models,"infiniteScrollStrategy",{numToFetch:this.numReviewsToFetch});this.isMounted()&&this.fetchData(this.props.model,e,"infinite-scroll-fetch-reviews")}},isWithinDistanceBuffer:function(e,t){var i=t.getBoundingClientRect();return t.scrollTop+i.height+e>t.scrollHeight},buildModal:function(){var e=this.context.getI18nBundle("discovery/akira/Reviews"),t=this.props.model,i=t.getValueSync(["title"]),o=t.getValueSync(["reviewsCount"]),s=void 0!==t.getValueSync(["usersReview"]),l=n.createElement("div",{className:"reviewsModalHeader",ref:"modal-header"},n.createElement("h2",{className:"nf-modal-heading"},e.get("number.reviews.for.title",{number:o,title:i})),s?null:n.createElement(d,{videoModel:t,defaultOpen:0===o}));return 0===o?{body:l,useScrollLock:!1}:{header:l,customBody:n.createElement("div",{onScroll:this.modalScrolled,className:"nf-modal-body",ref:"modal-body"},n.createElement("div",{className:"reviewsModalBody"},n.createElement(a,{reviewsModel:t.bind(["usersReview"]),numReviews:1,videoModel:t,readOnly:!1,forUsersReview:!0,uniqueId:"yourReview",heading:e.get("your.review")}),n.createElement(a,{reviewsModel:t.bind(["helpfulReviews"]),numReviews:2,videoModel:t,readOnly:!1,uniqueId:"helpfulReviews",heading:e.get("most.helpful.reviews")}),n.createElement(a,{reviewsModel:t.bind(["recentReviews"]),numReviews:this.numReviewsToFetch,videoModel:t,readOnly:!1,uniqueId:"recentReviews",heading:e.get("recent.reviews")}))),useScrollLock:!1}},render:function(){return n.createElement(c,this.buildModal())}});t.exports=m});C.r("akira/containers/jawbone/details/reviews.jsx",function(e,i,t){"use strict";var n=e("prop-types"),s=e("react"),r=e("create-react-class"),a=e("../../../components/review/review.jsx"),o=e("../../modal/modalManager.jsx"),l=e("../../modal/reviews.jsx"),d=e("../../../../reactMixins/eventBus"),v=e("../../../../reactMixins/falkor-auto-fetch"),c=r({displayName:"Reviews",mixins:[v],contextTypes:{getI18nBundle:n.func.isRequired,models:n.object.isRequired},statics:{getPaths:function(e,i,t){return[["reviewsCount"],["helpfulReviews",{from:0,to:1},["id","rating","reviewText","helpfulCount","notHelpfulCount"]],["usersReview",["id","rating","reviewText","helpfulCount","notHelpfulCount"]]]}},componentDidMount:function(){d.on("reviews:reviewsCountChanged",this.onNumberReviewsChanged)},componentWillUnmount:function(){d.removeListener("reviews:reviewsCountChanged",this.onNumberReviewsChanged),d.removeListener("modal:close:reviewsModal",this.invalidateData)},onNumberReviewsChanged:function(e){e.videoId===this.props.model.getValueSync(["summary"]).id&&this.forceUpdate()},invalidateData:function(){this.props.model.invalidate(["reviewVotes"]).subscribe(function(){})},launchModal:function(){var e=["reviews-modal"];0===this.props.model.getValueSync(["reviewsCount"])&&e.push("write-first-review"),d.once("modal:close:reviewsModal",this.invalidateData),o.open(l,{name:"reviewsModal",additionalClasses:e,contentProps:{model:this.props.model.hardBind([]),pqls:l.getPaths(this.context.models,null,null)}})},render:function(){var e=[],i=this.context.getI18nBundle("discovery/akira/Reviews"),t=void 0,n=void 0;if(null!==this.state.fetchDataError)return s.createElement("div",{className:"memberReviews error"},i.get("write.review.error.msg.general"));if(!0===this.isLoading())return s.createElement("div",{className:"memberReviews loading"},this.context.getI18nBundle("discovery/akira/JawBone").get("overview.loading"));var r=this.props.model.getValueSync(["reviewsCount"]);if(0===r)return s.createElement("div",{className:"noReviews"},i.get("no.reviews"),s.createElement("div",{className:"action",onClick:this.launchModal},i.get("write.review.cta")));for(n=0;n<2;n++)t=this.props.model.bind(["helpfulReviews",n]),void 0!==t.getBoundValue()&&e.push(s.createElement("li",{key:"review-"+n},s.createElement(a,{reviewModel:t,videoModel:this.props.model})));var o=void 0===r?null:s.createElement("div",{className:"seeAllLink",onClick:this.launchModal},i.get("see.all.reviews.with.number",{number:r}));return s.createElement("div",{className:"memberReviews"},s.createElement("ul",{className:"memberReviews"},e),o)}});i.exports=c});C.r("akira/containers/jawbone/details/tags.jsx",function(e,t,n){"use strict";var s=e("prop-types"),r=e("react"),a=e("create-react-class"),i=e("../../../components/controls/mainViewLink.jsx"),l=e("../../../utils/linkDefs.jsx"),g="discovery/akira/JawBone",o=a({displayName:"Tags",statics:{getPaths:function(e,t,n){return[["genres","summary"],["genres",{to:3},["id","name"]],["tags","summary"],["tags",{to:1},["id","name"]]]}},contextTypes:{getI18nString:s.func.isRequired},renderList:function(e,t,n,s){var a=[],l=void 0;for(l=0;l<Math.min(e,t.length);l++){var g=this.props.model.bind([n,l]);if(g){var o=g.getValueSync(["id"]),c=g.getValueSync(["name"]);c&&o&&a.push(r.createElement("li",{key:n+l},r.createElement(i,{resolver:s,params:{id:o}},c)))}}return a},render:function(){var e=[],t=[],n=this.props.model,s=n.getValueSync(["genres","summary"]),a=n.getValueSync(["tags","summary"]),i=this.props.isShow?this.context.getI18nString(g,"details.this.show.is"):this.context.getI18nString(g,"details.this.movie.is");return s&&(e=this.renderList(4,s,"genres",l.getGenreRoute)),a&&(t=this.renderList(2,a,"tags",l.getGenreRoute)),e.length||t.length?r.createElement("div",null,e.length?r.createElement("h4",{className:"listLabel"},this.context.getI18nString(g,"details.genres")):null,e.length?r.createElement("ul",null,e):null,t.length?r.createElement("h4",{className:"listLabel"},i):null,t.length?r.createElement("ul",null,t):null):null}});t.exports=o});C.r("akira/containers/jawbone/episodes/episodeCard.jsx",function(e,t,s){"use strict";var a=e("prop-types"),n=e("react"),i=e("create-react-class"),o=e("react-dom"),r=e("classnames"),l=e("./../../../components/controls/progress.jsx"),c=e("../../../components/controls/playbutton.jsx"),p=e("../../../components/loader/loadingBox.jsx"),m=e("../../../components/episode/episodeBadge.jsx"),u=e("../../../../components/presentationTracking/trackingComponents/boxartPresTracking"),d=e("../../../../common/imageExtension"),g=e("../../../akiraContextTypes"),y=e("../../../components/title/duration.jsx"),h=e("../../../../utils/textUtils"),b=e("lodash"),E="discovery/akira/JawBone",k=i({displayName:"EpisodeCard",contextTypes:Object.assign({getI18nString:a.func.isRequired,models:a.object.isRequired},g),childContextTypes:{rowNum:a.number,rankNum:a.number},getChildContext:function(){var e={rankNum:this.props.rankNum};return void 0!==this.props.rowNum&&(e.rowNum=this.props.rowNum),e},statics:{getPaths:function(e,t,s){return[[["summary","synopsis","title","runtime","bookmarkPosition"]],["interestingMoment","_342x192",d.getExtensionForOpaqueImage(e)]].concat(m.getPaths(e,t,s))}},getImage:function(){var e=this.props.model,t=d.getExtensionForOpaqueImage(this.context.models),s=e.getValueSync(["interestingMoment","_342x192",t]);return s?{backgroundImage:"url("+s.url+")"}:{}},renderPlaceholders:function(){var e={"video-artwork":!0},t=.5+.2*this.props.index;return n.createElement("div",{className:"episodeLockup"},n.createElement(p,{boxClassNames:e,delay:t,pulsate:!0,displayWhenNotPulsing:!1}))},clickPlayButton:function(){this.refs.playButton&&o.findDOMNode(this.refs.playButton).click()},render:function(){if(this.props.isLoading)return this.renderPlaceholders();var e=this.props.model,t=this.props.show,s=e.getValueSync(["summary"]),a=e.getValueSync(["bookmarkPosition"]),i=e.getValueSync(["title"]),o=e.getValueSync(["synopsis"]),p=e.getValueSync(["runtime"]),d=(e.getValueSync(["ancestor","summary"])||{}).isNSRE,g=a>=0,k=this.context.getI18nString(E,"play.button.episode",{EPISODE_NUMER:s.episode}),x=this.props.showEpisodeNumber,N=this.props.showEpisodeDuration,v=r({episodeLockup:!0,current:this.props.current,sliderItemHidden:!this.props.itemTabbable,nsreEpisode:d}),P=r({episodeNumber:!0,noProgress:!g}),f=void 0,I=b.get(this.context.models,"geo.data.locale.language","en");if(!s)return null;"ja"===I&&(o=h.ellipsize(o,75));var S=this.getImage();return f=n.createElement(c,{ref:"playButton",tabIndex:this.props.itemTabbable?0:-1,model:t,episode:e,className:"episodePlay sliderRefocus",ariaLabel:k,playbackQueryParams:this.props.playbackQueryParams}),s.isPlayable||(i=i||this.context.getI18nString(E,"new.episode"),p="",o=s.availabilityDateMessaging,f=null,S.opacity=.4),n.createElement("div",{className:v},n.createElement(u,{videoId:s.id},n.createElement("div",{className:"episodeArt video-artwork",style:S,onClick:this.clickPlayButton},x?[n.createElement("div",{className:"numberVignette"}),n.createElement("div",{className:P},n.createElement("span",{"aria-hidden":!0},s.episode))]:null,g?n.createElement(l,{runtime:p,bookmarkPosition:a,current:this.props.current}):null,f)),n.createElement("div",{className:"episodeTitle"},n.createElement("p",{className:"ellipsized"},d?n.createElement(m,{model:e}):null,i),N&&!d?n.createElement(y,{additionalClasses:["ellipsized"],runtime:p,onlyInMinutes:!0}):null),this.props.showEpisodeSummary?n.createElement("div",{className:"episodeSynopsis"},o):null,n.createElement("div",{className:"bottom-metadata"},d?n.createElement("span",{className:"availabilityDateMessaging"},s.availabilityDateMessaging):null,N&&d?n.createElement(y,{runtime:p,onlyInMinutes:!0}):null))}});t.exports=k});C.r("akira/containers/jawbone/episodes/episodes.jsx",function(e,s,n){"use strict";var t=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},o=e("prop-types"),a=e("react"),i=e("create-react-class"),r=e("./episodesList.jsx"),d=e("./simpleEpisodesList.jsx"),c=e("../../../components/controls/nfDropdown.jsx"),u=e("../../../../reactMixins/falkor-auto-fetch"),p=e("shakti-platform/dist/ui/utils/inNode"),l=e("../../../../utils/keyboardEventsWrapper"),h=e("../../../../components/presentationTracking/trackingComponents/jawboneEpisodesPresTracking"),m=e("classnames"),g=function(e,s,n){var t=void 0!==n.seasonIndex?n.seasonIndex:"current";return[["episodeCount"],["seasonList","summary"],["seasonList",{to:void 0!==n.numSeasons?n.numSeasons:20},"summary"]].concat(r.getPaths(e).map(function(e){return["seasonList",t].concat(e)}))},v=i({displayName:"Episodes",mixins:[u],contextTypes:{getI18nString:o.func.isRequired,models:o.object.isRequired},statics:{getPaths:g},childContextTypes:{trackId:o.number},getChildContext:function(){var e={};return this.props.trackId&&(e.trackId=this.props.trackId),e},getInitialState:function(){return{seasonIndex:void 0,seasonHasChanged:!1}},getSeasonOptions:function(){var e=this.props.model,s=[],n=e.bind(["seasonList"]),t=n.getValueSync(["summary"]),o=n.bind(["current"]),i=void 0,r=void 0,d=void 0;if(!t)return null;for(o&&(d=o.getValueSync(["summary"]))&&(r=d.id),i=0;i<t.length;i++){var c=n.bind([i]).getValueSync(["summary"]),u=i,p=void 0;c&&(c.id===r&&(this.currentSeasonIndex=i),p=a.createElement("a",{className:"sub-menu-link",role:"link",tabIndex:0,key:"season"+i,onClick:this.dropDownClickHandler(u),onKeyDown:l.executeOnEnterOrSpace(this.dropDownClickHandler(u))},c.name),s.push(p))}return s},dropDownClickHandler:function(e){var s=this;return function(){s.handleSeasonDropDownChange(e)}},handleSeasonDropDownChange:function(e){this.setState({seasonIndex:e,seasonHasChanged:!0})},renderError:function(){return a.createElement("p",{className:"unavailable"},this.context.getI18nString("discovery/akira/JawBone","episodes.unavailable"))},render:function(){var e=this.props.model,s=this.getSeasonOptions(),n=e.getValueSync(["summary"])||{},o=e.getValueSync(["episodeCount"]),i=e.bind(["seasonList"]),u=!!p||(this.isLoading()||this.props.isLoading),l=this.props.useSlider?r:d;if(!o&&!u)return null;if(!s&&!u)return this.renderError();void 0===this.state.seasonIndex&&(this.state.seasonIndex=this.currentSeasonIndex);var g="episodes-"+n.id+"-"+this.state.seasonIndex,v=i.bind([this.state.seasonIndex]),x=v.getValueSync(["summary"]),y=x&&x.length,f=s?s[this.state.seasonIndex]:"",I=m("episodesContainer",{overlayEpisodes:this.props.overlayEpisodes});return a.createElement("div",{className:I},a.createElement(h,{videoId:n.id},a.createElement(c,{options:s,defaultValue:f,isLoading:u,refocus:this.state.seasonHasChanged}),a.createElement(l,t({},this.props,{isLoading:u,key:g,seasonIndex:this.state.seasonIndex,pqls:r.getPaths(this.context.models,null,{numEpisodes:y}),show:e,showEpisodeNumbers:this.props.showEpisodeNumbers,model:v}))))}});s.exports=v});C.r("akira/containers/jawbone/episodes/episodesList.jsx",function(e,s,i){"use strict";var o=(e("prop-types"),e("react")),t=e("create-react-class"),n=e("./episodeCard.jsx"),r=e("../../../components/episodeCard/ikoBonusVideoCard.jsx"),a=e("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),d=e("../../slider/slider.jsx"),p=e("../../../akiraContextTypes"),u=e("../../../../reactMixins/falkor-auto-fetch"),l=t({displayName:"EpisodesList",contextTypes:p,mixins:[u],statics:{getPaths:function(e,s,i){var o=[["episodes","summary"],["episodes","current","summary"]],t=i&&void 0!==i.numEpisodes?i.numEpisodes:40,r=n.getPaths(e).map(function(e){return["episodes",{from:-1,to:t}].concat(e)});return o.concat(r)}},getDefaultProps:function(){return{showEpisodeNumbers:!0,seasonIndex:"current"}},getEpisodesList:function(){var e=this.props.model,s=[];if(this.initialLowestVisibleIndex=0,!e.getBoundValue())return s;var i=e.getValueSync(["episodes","current","summary"]),t=e.bind(["episodes"]),a=t.getValueSync(["summary"]),d=this.props.show.getValueSync(["ikoDisplayPage"]),p=e.getValueSync(["summary"]),u=p&&!p.hiddenEpisodeNumbers&&this.props.showEpisodeNumbers;if(!a)return s;for(var l=0,c=0;c<a.length;c++){var h=t.bind([c]),m=void 0,g=void 0;if(h.getBoundValue()&&(m=h.getValueSync(["summary"]),i&&(g=m.id===i.id)&&(this.initialLowestVisibleIndex=c>0?c-1:c),s.push(o.createElement(n,{key:"episode"+l,show:this.props.show,season:e,model:h,current:g,rankNum:l,showEpisodeSummary:this.props.showEpisodeSummary,showEpisodeNumber:u,showEpisodeDuration:this.props.showEpisodeDuration,playbackQueryParams:this.props.playbackQueryParams})),l+=1,d&&d.episodes)){var y=d.episodes[m.id];y&&(s.push(o.createElement(r,{key:"bonus"+l,bonusModel:y,showModel:this.props.show,episodeModel:h,episodeNum:m.episode,strings:d.strings,rankNum:l,showDivider:!0})),l+=1)}}return s},getMaxPlaceHolders:function(){return this.props.maxLoadingTiles||5},getLoadingEpisodeList:function(){for(var e=[],s=this.getMaxPlaceHolders(),i=0;i<s;i++)e.push(o.createElement(n,{key:"episode"+i,isLoading:!0,index:i}));return e},render:function(){var e=void 0,s=void 0,i=void 0;return this.isLoading()||this.props.isLoading?(e=this.getMaxPlaceHolders(),s=this.getLoadingEpisodeList(),i="placeholder-episodes-"+this.props.seasonIndex):(e=this.context.isOverlayPage?this.context.columnsInRow:this.context.columnsInRow-1,s=this.getEpisodesList(),i="season-"+this.props.seasonIndex+this.initialLowestVisibleIndex),o.createElement("div",{className:"episodeWrapper"},o.createElement(a,null,o.createElement(d,{itemsInRow:e,totalItems:s.length,key:i,initialLowestVisibleIndex:this.initialLowestVisibleIndex,onSliderMove:this.props.onSliderMove},s)))}});s.exports=l});C.r("akira/containers/jawbone/jawBone.jsx",function(e,t,a){"use strict";function s(e,t,a){t||(t={all:!1}),a||(a={isShow:!0});var s=P.getExtensionForTransparentImage(e);h.pql={originalsLogo:["bb2OGLogo","_550x124",s]};var i=void 0===a.isShow||a.isShow,o=[[["summary","title","maturity","bookmarkPosition","runtime","requestId","availability","watched","hasSensitiveMetadata"]]].concat([["trailers",["summary"]]]).concat([h.pql.originalsLogo]).concat(h.getPaths(e,null,{isShow:i})).concat(S.getPaths(e,null,{isShow:i}));return i&&(o=o.concat([["episodeCount"]])),a&&a.isStandaloneJawbone&&(o=o.concat([["trackIds"]])),t.all&&(o=o.concat(g.getPaths(e,t,a)).concat(w.getPaths(e,t,a)).concat(v.getPaths(e,t,a)).concat(p.getPaths(e,t,{seasonIndex:"current"}))),o}var i=e("prop-types"),o=e("react"),n=e("create-react-class"),r=e("react-dom"),l=e("shakti-platform/dist/ui/ShaktiProperties"),c=e("classnames"),d=e("lodash"),u=e("../../../utils/pathEvaluatorUtils"),h=e("./overview/overview.jsx"),m=e("./overview/heroOverview.jsx"),p=e("./episodes/episodes.jsx"),g=e("./moreLikeThis/moreLikeThis.jsx"),v=e("./trailers/trailers.jsx"),w=e("./details/details.jsx"),b=e("./overview/jawBonePlayButton.jsx"),f=e("../slider/slider.jsx"),k=e("./pane.jsx"),x=e("./menu.jsx"),S=e("./background.jsx"),y=e("../../components/controls/mainViewLink.jsx"),P=e("../../../common/imageExtension"),E=e("../../../reactMixins/jawBoneLink"),j=e("../../akiraContextTypes"),I=e("../../utils/watched"),T=e("../../../reactMixins/falkor-fetch"),B=e("../../utils/scheduler"),C=e("../../../common/keyCodes"),D=e("../../../reactMixins/eventBus"),N=e("../../../reactMixins/transition"),O=e("../../../utils/ab/ikoKong.js"),M=e("../../../utils/ab/richOriginalsRowTest"),L=e("shakti-platform/dist/ui/utils/inNode"),R=e("../../utils/linkDefs.jsx"),V=e("../../../utils/imageLoadTracker"),J=e("../../../components/presentationTracking/presentationTrackingContainer.jsx"),H=["Episodes","Trailers","MoreLikeThis"],q=l.get("netflix.ui.akira.prefetch.strategies.jawBone"),_=n({displayName:"JawBoneContent",childContextTypes:{parentContext:i.object,rowNum:i.number,rankNum:i.number,requestId:i.string,trackId:i.number},contextTypes:Object.assign({columnsInRow:i.number,getI18nBundle:i.func.isRequired,jsongDocument:i.object,models:i.object,renderTracker:i.object,routeHandler:i.object.isRequired},j),getChildContext:function(){var e=this.context,t=e.rowNum,a=e.rankNum,s=e.requestId,i=e.trackId,o=e.jawBoneTrackId,n=this.getRequestId();return{rowNum:0,rankNum:0,parentContext:{rowNum:t,rankNum:a,requestId:s,trackId:i},trackId:o||this.getJawBoneTrackId()||i,requestId:n||s}},mixins:[E,T,N],transitions:{show:function(e){this.animateInfo(e,{before:{translateX:"30px",opacity:0},translateX:"0px",opacity:1,delay:250,duration:500})},hide:function(e,t){this.animateInfo(e,{opacity:0,duration:250}),setTimeout(t,950)}},animateInfo:function(e,t){if(!this.props.isFirstJaw)for(var a=e.getElementsByClassName("has-jawbone-nav-transition"),s=0;s<a.length;s++)t.target=a[s],this.animate(t)},ID:"jawBone-container",statics:{getPaths:s,prefetchStrategies:q},getDefaultProps:function(){return{disableClose:!1,disableAutoFocus:!1}},getRequestId:function(){return this.props.model.getValueSync(["requestId"])},getJawBoneTrackId:function(){return this.props.model.getValueSync(["trackIds"])&&this.props.model.getValueSync(["trackIds"]).trackId_jaw},getHasEpisodes:function(){var e=this.props.model.getValueSync(["episodeCount"]);return void 0!==e&&e>0},getDefaultPane:function(e){var t=this.context.routeHandler.query,a=["Overview","Episodes","Trailers"],s=d.get(this.context.models,"truths.data.kidsParityRetest",!1),i=this.context.isKidsPage&&s&&this.getHasEpisodes()?"Episodes":"Overview",o=void 0;return!L&&d.get(window,"location.hash","").indexOf("showEpisodes")>=0?"Episodes":(-1!==a.indexOf(t.jbp)&&(o=t.jbp,delete t.jbp),o||i)},getInitialState:function(){var e=this.props.model.getValueSync(["summary"]);return{data:void 0,isShow:!0,visiblePane:this.getDefaultPane(this.props.model),hasClickedMenu:!1,hasPaneData:[],useHeroOverview:M.isPanelsOriginalsRow(this.context.listContext,this.context.isTallRow,this.context.isKidsPage),hasBattleVideos:O.isIkoTitle(this.context.jsongDocument,e&&e.id),isBattleDataLoaded:!1}},handleNavHover:function(){var e=this.state,t=e.hasPaneData,a=e.isShow,i=this.props,o=i.model,n=i.videoId,r=this;if(n&&!t[n]){var c=l.get("netflix.ui.akira.prefetch.jawBoneNavHover");B.queue(function(){r.fetchData(o,s(r.context.models,c,{isShow:a}),"jawBoneNavHover",null,c.forceUpdate)}),t[n]=!0,this.setState({hasPaneData:t})}},getVisiblePane:function(e,t,a,s){var i=this.props,n=i.model,r=i.is4KSupported,l=i.isHDRSupported,c=void 0;switch(e){case"Overview":var d=this.state.useHeroOverview?m:h,u={model:n,isPrePromo:t.isPrePromo,is4KSupported:r,isHDRSupported:l};c=o.createElement("div",null,o.createElement(d,u));break;case"Episodes":c=o.createElement(p,{model:n,pqls:p.getPaths(this.context.models,null,{}),trackId:this.context.jawBoneEpisodeTrackId,isLoading:this.isLoading()||this.state.hasBattleVideos&&!this.state.isBattleDataLoaded,onSliderMove:this._handleSliderMove,useSlider:!0,showEpisodeSummary:!0,showEpisodeDuration:!0,playbackQueryParams:this.props.playbackQueryParams});break;case"Trailers":c=o.createElement(v,{model:n,trackId:this.context.jawBoneTrailerTrackId,isLoading:this.isLoading(),onSliderMove:this._handleSliderMove,playbackQueryParams:this.props.playbackQueryParams});break;case"MoreLikeThis":c=o.createElement(g,{model:n,isLoading:this.isLoading(),onSliderMove:this._handleSliderMove});break;case"ShowDetails":c=o.createElement(w,{model:n,isLoading:this.isLoading(),onSliderMove:this._handleSliderMove,watched:s})}return o.createElement(k,{key:"pane-"+e,ariaId:e,hasClickedMenu:this.state.hasClickedMenu},o.createElement(J,null,c))},onTabClicked:function(e){D.emit("jawbone:tab:open",{tab:e}),this.setState({visiblePane:e,hasClickedMenu:!0})},_handleSliderMove:function(e,t){f.MOVE_DIRECTION_NEXT===t?D.emit("jawbone:tab:scrollNext"):f.MOVE_DIRECTION_PREV===t&&D.emit("jawbone:tab:scrollPrev")},_handleClick:function(e){var t=e.target;this._isClickFromMenu(t)||D.emit("jawbone:tab:click",{tab:this.state.visiblePane,name:t.innerText||t.alt,url:t.href,type:t.type||t.parent&&t.parent.type})},_isClickFromMenu:function(e){return!!(e.parentElement&&"menu"===e.parentElement.className||e.parentElement.parentElement&&"menu"===e.parentElement.parentElement.className)},prefetchOnLoad:function(){var e=this,t=this.props,a=t.videoId,i=t.isStandaloneJawbone,o=this.state.hasPaneData,n=null,r=null,l=this.context.renderTracker;l&&(n=l.startSession("jawbone"+a),r=function(){V.trackBySelectors(["image-rotator-image"]).then(function(){l.endSession(n)}).catch(function(e){l.endSession(n,e)})}),a&&!o[a]?this.mountPrefetchTimeout=setTimeout(function(){var t=s(e.context.models,q.allJawBonePanes,{isShow:e.state.isShow,isStandaloneJawbone:i});e.fetchData(e.props.model,t,void 0,r||void 0),o[a]=!0,e.setState({hasPaneData:o})},600):r&&r()},handleCloseJawBone:function(){D.emit("jawbone:close",{reason:"explicit",listContext:this.context.listContext}),this.closeJawBone();var e=document.querySelector("#title-card-"+this.context.rowNum+"-"+this.context.rankNum);e&&e.focus()},handleKeyDown:function(e){switch(e&&e.which){case C.ESC:this.handleCloseJawBone();break;case C.ENTER:var t=r.findDOMNode(this.refs.closeJawboneButton);t&&t.contains(e.target)&&this.handleCloseJawBone()}},componentWillMount:function(){this.suppressOriginalsJaw=l.get("netflix.ui.akira.originals.jawbone.disable")||!1},componentDidMount:function(){var e=this;if(this.prefetchOnLoad(),D.emit("jawbone:tab:open",{tab:this.state.visiblePane}),this.props.disableAutoFocus||setTimeout(function(){e.isMounted()&&r.findDOMNode(e).focus()},450),this.state.hasBattleVideos){var t=function(){self.setState({isBattleDataLoaded:!0})};this.fetchData(this.props.model,[["ikoDisplayPage"]],"ikoDisplayPage",t,!1)}},shouldComponentUpdate:function(e,t,a){return this.props.videoId!==e.videoId||this.state.visiblePane!==t.visiblePane||this.props.is4KSupported!==e.is4KSupported||this.props.isHDRSupported!==e.isHDRSupported||this.state.isBattleDataLoaded!==t.isBattleDataLoaded||d.includes(H,this.state.visiblePane)&&this.context.columnsInRow!==a.columnsInRow},componentDidUpdate:function(){this.prefetchOnLoad()},componentWillUnmount:function(){clearTimeout(this.mountPrefetchTimeout)},componentWillReceiveProps:function(e){if(e.videoId!==this.props.videoId){var t=e.model,a=this.getHasEpisodes();this.setState({isShow:a,visiblePane:this.getDefaultPane(t)})}},getOriginalsModel:function(){var e=this.props.model,t=e.getValueSync(["summary"]),a=t&&t.isOriginal;if(!a||this.suppressOriginalsJaw)return{};var s=e.getValueSync(["trailers",["summary"]]),i=e.getValueSync(["availability"])||{},o=!this.context.isRtl&&e.getValueSync(h.pql.originalsLogo)||{url:""},n=s&&!!s.length;return{isOriginal:a,logoUrl:o.url,isPrePromo:!i.isPlayable,hasTrailers:n,suppressMenu:!i.isPlayable&&!n}},renderOriginalsTitle:function(e,t,a){var s=this.props.model.getValueSync(["summary"])||{isNSRE:!1},i=s.isNSRE,n=c("logo",{"no-logo":!a&&i,"small-logo":!a&&!i});return o.createElement("img",{alt:e,className:n,src:t.logoUrl})},renderTitle:function(e,t,a,s){var i="ja"===d.get(this.context.models,"geo.data.locale.language","en"),n=c("title","has-jawbone-nav-transition",{"title-small":e.length>30,"long-title-double-byte-width":i,"long-title-double-byte-font":i&&e.length>25});return o.createElement(this.props.isStandaloneJawbone?"h1":"h3",{},o.createElement(y,{resolver:R.getTitleRoute,className:c("jawbone-title-link"),params:{id:s},tabIndex:-1},o.createElement("div",{className:n},t.isOriginal&&t.logoUrl?this.renderOriginalsTitle(e,t,a):e)))},render:function(){var e=this.context.getI18nBundle("discovery/akira/JawBone"),t=this.props,a=t.model,s=t.videoId,i=t.disableClose,n=this.getOriginalsModel(),r=a.getValueSync(["summary"]),l=a.getValueSync(["title"])||e.get("overview.loading"),d=this.getHasEpisodes(),h=I.isInResumeState(this.props.model)||I.isInNextUpState(this.props.model),m=!this.context.isRtl&&n.isOriginal&&!h,p=this.state.useHeroOverview;if(!s||r&&u.isValueError(r))return null;var g=d||"Episodes"!==this.state.visiblePane?this.state.visiblePane:"Overview",v="Overview"===g;return o.createElement("div",{id:s,className:c("jawBoneContainer","slider-hover-trigger-layer"),onKeyDown:this.handleKeyDown,onClick:this._handleClick,tabIndex:0},o.createElement(S,{id:s,dim:!v,model:a,isStandalone:!d,isFullBleed:m}),o.createElement("div",{className:"jawBone"},this.renderTitle(l,n,v,s),v&&!this.state.useHeroOverview&&o.createElement(b,{model:a,playbackQueryParams:this.props.playbackQueryParams}),o.createElement("div",{className:c("jawBoneCommon")},o.createElement("div",{className:c("jawBonePanes",{"offset-for-logo":n.isOriginal&&n.logoUrl&&!v,fullBleed:m})},this.getVisiblePane(g,n,s,h))),!n.suppressMenu&&o.createElement(x,{supressMoreLikeThis:p,hasEpisodes:d,hasBattles:this.state.hasBattleVideos,hasTrailers:n.hasTrailers,isPrePromo:n.isPrePromo,visiblePane:g,onTabClicked:this.onTabClicked,onMouseEnter:this.handleNavHover})),!i&&o.createElement("a",{className:c("close-button","icon-close"),ref:"closeJawboneButton",onClick:this.handleCloseJawBone,tabIndex:0,role:"button","aria-label":e.get("button.close")}))}});t.exports=_});C.r("akira/containers/jawbone/jawBoneOnRow.jsx",function(e,t,n){"use strict";var o=e("prop-types"),i=e("react"),s=e("create-react-class"),a=e("lodash"),r=e("classnames"),l=e("./jawBone.jsx"),p=e("../slider/slider.jsx"),d=e("../../akiraContextTypes"),m=e("../../../reactMixins/jawBoneLink"),u=e("../../../reactMixins/eventBus"),w=e("../timeoutTransition/timeoutTransitionGroup.jsx"),c=s({displayName:"JawBoneOnRow",childContextTypes:{rankNum:o.number},mixins:[m],contextTypes:Object.assign({models:o.object.isRequired},d),getInitialState:function(){return{jawBoneIsNavigating:!1}},getChildContext:function(){return{rankNum:this.props.jawBoneRankNum}},componentWillReceiveProps:function(e){var t=this.props,n=t.jawBoneRankNum,o=t.showJawBone,i=t.lowestVisibleItemIndex,s=t.model;if(n!==e.jawBoneRankNum&&(this.isFirstJaw=null===n),o&&e.lowestVisibleItemIndex!==i){if(this.state.jawBoneIsNavigating)return void(this.state.jawBoneIsNavigating=!1);var r=s.bind(this.props.videoRoot?[e.lowestVisibleItemIndex,this.props.videoRoot]:[e.lowestVisibleItemIndex]),l=r&&r.getValueSync(["summary"]),d=l&&l.id,m=e.sliderMoveDirection===p.MOVE_DIRECTION_NEXT?"rowNext":"rowPrev";d&&(u.emit("jawbone:open",a.assign({},this.context,this.props,{trigger:m,videoId:d,rankNum:e.lowestVisibleItemIndex})),this.openJawBoneAtRankNum(e.lowestVisibleItemIndex,d))}},getJawBoneModel:function(){var e=this.props,t=e.jawBoneModelIndex,n=e.model;return t>=0?n.bind(this.props.videoRoot?[t,this.props.videoRoot]:[t]):null},renderJawBone:function(e,t,n){return i.createElement(w,{transitionName:"jawBoneFadeInPlace",key:"jawbone",className:r("jawBoneOpenContainer"),enterTimeout:640,leaveTimeout:640},i.createElement("div",{key:"jawbone-"+t,className:r("jawBoneFadeInPlaceContainer")},i.createElement(l,{videoId:t,model:e,is4KSupported:this.props.is4KSupported,isHDRSupported:this.props.isHDRSupported,pqls:n,isFirstJaw:this.isFirstJaw,playbackQueryParams:this.props.playbackQueryParams,disableClose:this.props.disableClose})))},render:function(){var e=this.props.showJawBone,t=!1,n=null;if(e){var o=this.getJawBoneModel(),s=o&&o.getValueSync(["summary"]),a=s&&s.id,p=s&&"show"===s.type,d=l.getPaths(this.context.models,null,{isShow:p});t=o&&d,n=t&&this.renderJawBone(o,a,d)}return i.createElement(w,{transitionName:"jawBoneOpen",enterTimeout:640,leaveTimeout:640,className:r("jawBoneContent",{open:t})},n)}});t.exports=c});C.r("akira/containers/jawbone/menu.jsx",function(e,t,r){"use strict";var n=e("prop-types"),i=e("react"),s=e("create-react-class"),a=e("classnames"),c=e("./menuTab.jsx"),o="discovery/akira/JawBone",l=s({displayName:"JawBoneMenu",contextTypes:{getI18nString:n.func.isRequired},render:function(){var e=this.props,t=e.onMouseEnter,r=e.visiblePane,n=e.onTabClicked,s=e.hasEpisodes,l=e.isPrePromo,d=e.hasBattles,u=e.hasTrailers,k=e.supressMoreLikeThis;return i.createElement("ul",{className:a("menu"),onMouseEnter:t,role:"tablist"},i.createElement(c,{id:"Overview",key:"Overview",clickHandler:n,currentPane:r},this.context.getI18nString(o,"tab.overview")),s&&!l&&i.createElement(c,{id:"Episodes",key:"Episodes",clickHandler:n,currentPane:r},this.context.getI18nString(o,d?"tab.episodes.and.battles":"tab.episodes")),u&&i.createElement(c,{id:"Trailers",key:"Trailers",clickHandler:n,currentPane:r},this.context.getI18nString(o,"tab.trailers")),!l&&!k&&i.createElement(c,{id:"MoreLikeThis",key:"MoreLikeThis",clickHandler:n,currentPane:r},this.context.getI18nString(o,"tab.more.like.this")),!l&&i.createElement(c,{id:"ShowDetails",key:"ShowDetails",clickHandler:n,currentPane:r},this.context.getI18nString(o,"tab.show.details")))}});t.exports=l});C.r("akira/containers/jawbone/menuTab.jsx",function(e,n,a){"use strict";var r=(e("prop-types"),e("react")),t=e("create-react-class"),c=e("classnames"),s=e("../../../utils/keyboardEventsWrapper"),i=t({displayName:"Tab",_handleClick:function(){this.props.clickHandler(this.props.id)},render:function(){var e=this.props,n=e.id,a=e.currentPane,t=e.children,i=c(n,{current:a===n});return r.createElement("li",{className:i,id:"tab-"+n,onClick:this._handleClick,onKeyDown:s.executeOnEnterOrSpace(this._handleClick)},r.createElement("a",{role:"link",tabIndex:0},t),r.createElement("span",null))}});n.exports=i});C.r("akira/containers/jawbone/moreLikeThis/moreLikeThis.jsx",function(e,t,n){"use strict";var i=e("prop-types"),r=e("react"),s=e("create-react-class"),a=e("./moreLikeThisCard.jsx"),o=e("../../slider/slider.jsx"),c=e("../../../akiraContextTypes"),l=e("../../../../components/presentationTracking/trackingComponents/jawboneSimilarsPresTracking"),m=s({displayName:"MoreLikeThis",contextTypes:Object.assign({getI18nString:i.func.isRequired},c),NUM_PER_PANE:25,statics:{getPaths:function(e,t,n){return[["similars",["summary","trackId"]]].concat(a.getPaths(e,t,n).map(function(e){return["similars",{to:25}].concat(e)}))}},childContextTypes:{trackId:i.number},getChildContext:function(){return{trackId:this.getTrackId()}},getTrackId:function(){return this.props.model.bind(["similars"]).getValueSync(["trackId"])},getSims:function(){var e=this.props.model,t=e.hardBind(["similars"]),n=t.getValueSync(["summary"]),i=[],s=5,o=void 0;if(!n)return null;void 0!==n.length&&(s=Math.min(this.NUM_PER_PANE,n.length));for(var c=0;c<s;c++)o=t.bind([c]),o.getBoundValue()&&i.push(r.createElement(a,{key:"sims"+c,model:o,rankNum:c}));return i},getLoadingSimsList:function(){for(var e=[],t=0;t<5;t++)e.push(r.createElement(a,{key:"sims"+t,isLoading:!0,index:t}));return e},renderError:function(){return r.createElement("p",{className:"unavailable"},this.context.getI18nString("discovery/akira/JawBone","more.like.this.unavailable"))},render:function(){var e=void 0,t=void 0,n=!0;if(this.props.isLoading)e=5,t=this.getLoadingSimsList(),n=!1;else if(e=this.context.isOverlayPage?this.context.columnsInRow:this.context.columnsInRow-1,null===(t=this.getSims())||0===t.length)return this.renderError();return r.createElement("div",{className:"simsWrapper"},r.createElement(l,null,r.createElement(o,{itemsInRow:e,totalItems:t.length,enableLooping:n,onSliderMove:this.props.onSliderMove},t)))}});t.exports=m});C.r("akira/containers/jawbone/moreLikeThis/moreLikeThisCard.jsx",function(e,t,a){"use strict";var s=e("prop-types"),n=e("react"),o=e("create-react-class"),i=e("react-dom"),r=e("classnames"),l=e("../../../components/controls/playbutton.jsx"),c=e("../../../components/loader/loadingBox.jsx"),m=e("../../../components/title/videoMeta.jsx"),d=e("../../../components/title/myListButton.jsx"),u=e("../../../../common/imageExtension"),p=e("../../../../components/presentationTracking/trackingComponents/boxartPresTracking"),g=e("../../../akiraContextTypes"),x=e("../../../../utils/textUtils"),h=e("lodash"),y=o({displayName:"MoreLikeThisCard",contextTypes:Object.assign({models:s.object.isRequired},g),childContextTypes:{rankNum:s.number},getChildContext:function(){return{rankNum:this.props.rankNum}},statics:{getPaths:function(e,t,a){return[[["synopsis","title","summary","queue","trackId"]],["boxarts","_260x146",u.getExtensionForOpaqueImage(e)],["boxarts","_342x192",u.getExtensionForOpaqueImage(e)]].concat(m.getPaths()).concat(l.getPaths())}},clickPlayButton:function(){this.refs.playButton&&i.findDOMNode(this.refs.playButton).click()},renderPlaceholders:function(){var e={"video-artwork":!0},t=.5+.2*this.props.index;return n.createElement("div",{className:"simsLockup"},n.createElement(c,{boxClassNames:e,delay:t,pulsate:!0,displayWhenNotPulsing:!1}))},render:function(){if(this.props.isLoading)return this.renderPlaceholders();var e=this.props.model,t=e.getValueSync(["summary"]),a=u.getExtensionForOpaqueImage(this.context.models),s=e.getValueSync(["boxarts","_260x146",a]),o=e.getValueSync(["title"]),i=e.getValueSync(["queue"]),c=e.getValueSync(["synopsis"]),g=t&&t.id,y=h.get(this.context.models,"geo.data.locale.language","en"),b=void 0,k=r({simsLockup:!0,sliderRefocus:!0,sliderItemHidden:!this.props.itemTabbable});return"ja"===y&&(c=x.ellipsize(c,98)),s&&(b={backgroundImage:"url("+s.url+")"}),n.createElement("div",{className:k,tabIndex:-1,"aria-label":o,"aria-role":"group"},n.createElement(p,{videoId:g},n.createElement("div",{className:"video-artwork sims-artwork",style:b,alt:o,onClick:this.clickPlayButton},n.createElement(l,{model:e,className:"simsPlay",ref:"playButton",tabIndex:this.props.itemTabbable?0:-1}),n.createElement(d,{model:e.hardBind([]),showToolTip:!0,videoId:g,inQueue:i.inQueue,labelOnHover:!0,labelLeft:!0,tabIndex:this.props.itemTabbable?0:-1}))),n.createElement(m,{model:e,readOnly:!0}),n.createElement("div",{className:"simsSynopsis"},c))}});t.exports=y});C.r("akira/containers/jawbone/overview/evidence.jsx",function(e,r,s){"use strict";var t=(e("prop-types"),e("react")),c=e("create-react-class"),i=c({displayName:"Evidence",render:function(){var e="hookIcon icon-"+this.props.kind;return t.createElement("li",{className:this.props.type+"-evidence"},this.props.imgSrc?t.createElement("img",{src:this.props.imgSrc}):t.createElement("span",{className:e}),t.createElement("p",null,this.props.children))}});r.exports=i});C.r("akira/containers/jawbone/overview/heroOverview.jsx",function(e,t,n){"use strict";var s=e("lodash"),a=e("prop-types"),r=e("react"),o=e("create-react-class"),i=e("classnames"),l=e("./../resume.jsx"),c=e("../../../components/title/thumbs.jsx"),u=e("../../../components/controls/playbutton.jsx"),m=e("../../../components/title/videoMeta.jsx"),d=e("../../../components/title/myListButton.jsx"),p=e("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),h=e("../../../../components/presentationTracking/trackingComponents/boxartPresTracking"),g=e("../../../utils/watched"),v=e("../../../akiraContextTypes"),y=e("../../../../utils/textUtils"),w="discovery/akira/JawBone",f=o({displayName:"HeroOverview",contextTypes:Object.assign({getI18nBundle:a.func.isRequired,models:a.object},v),statics:{getPaths:function(e){var t=[[["summary","regularSynopsis","queue","watched","episodeCount","info"]],["genres","summary"],["genres",{to:2},["id","name"]],["tags","summary"],["tags",{to:9},["id","name"]],["cast","summary"],["cast",{to:5},["id","name"]]];return e&&(t=t.concat(m.getPaths()).concat(g.getPaths()).concat(l.getPaths()).concat(u.getPaths())),t}},childContextTypes:{trackId:a.number},getInitialState:function(){var e=this.context.models;return{showRatingsProductization:s.get(e,"truths.data.showRatingsProductization",!1)}},getChildContext:function(){var e={};return this.props.trackId&&(e.trackId=this.props.trackId),e},updateAfterAction:function(){this.isMounted()&&this.forceUpdate()},render:function(){var e=this.props.model,t=e.getValueSync(["summary"]),n=e.getValueSync(["info"])||{},s=e.getValueSync(["episodeCount"]),a=this.context.getI18nBundle(w),o=this.props.isPrePromo,c=[],u=g.isInResumeState(this.props.model),d=g.isInNextUpState(this.props.model),v={overview:!0},f=e.getValueSync(["regularSynopsis"]);if(!t)return null;f=y.ellipsize(f,200);var x=u||d?"continue":"start",E="continue"===x,b=!o,I=n.message,S=c.length&&!o&&!I;return r.createElement("div",{className:i(v)},r.createElement(p,null,r.createElement(h,{videoId:t.id},r.createElement("div",{className:"jawbone-overview-info has-jawbone-nav-transition"},b?r.createElement(m,{model:e,withMaturityReasons:!0,showUHDBadge:this.props.is4KSupported,showHDRBadge:this.props.isHDRSupported}):null,E?r.createElement(l,{model:e,resume:u,isStandalone:!s}):null,"start"===x?r.createElement("span",null,I?r.createElement("div",{className:"supplemental-message"},n.message):null,r.createElement("div",{className:"synopsis heroSynopsis"},f||r.createElement("b",{style:{color:"#fff"}},a.get("overview.loading")))):null,S?r.createElement("div",{className:"user-evidence"},r.createElement("ul",null,c)):null,this.renderActionsRow(E)),null)))},renderActionsRow:function(e){var t=this.props.model,n=t.getValueSync(["queue"]),s=t.getValueSync(["summary"]);return r.createElement("div",{className:"actionsRow"+(e?" continueWatching":"")},this.renderQueue(n,s,e),this.renderThumbs(t,s))},renderQueue:function(e,t,n){var s=this.context.getI18nBundle(w),a=this.props.isPrePromo,o=i({myListWrapper:!0,prePromo:a}),l=a?this.updateAfterAction:null;return e?r.createElement("div",{className:o},r.createElement(u,{model:this.props.model,trackId:this.props.trackId,flatButton:!0}),r.createElement(d,{model:this.props.model,videoId:t.id,inQueue:e.inQueue,onStateChange:l,flatButton:!0}),e.inQueue&&a?r.createElement("div",{className:"myListPrepromoMessage"},s.get("mylist.prepromo.message")):null):null},renderThumbs:function(e,t){var n=this.context.getI18nBundle(w);return this.state.showRatingsProductization?r.createElement("div",{className:"thumbs-overview-wrapper"},r.createElement(c,{onRating:this.updateAfterAction,model:e,videoId:t.id,ratedLabel:n.get("overview.rating.label.rated"),unratedLabel:n.get("overview.rating.label.cta")})):null}});t.exports=f});C.r("akira/containers/jawbone/overview/jawBonePlayButton.jsx",function(a,e,t){"use strict";var r=(a("prop-types"),a("react")),n=a("create-react-class"),s=a("../../../components/controls/playbutton.jsx"),o=a("../../../../reactMixins/transition"),i=n({displayName:"JawBonePlayButton",mixins:[o],transitions:{fadeIn:300,fadeOut:300},render:function(){return r.createElement(s,{model:this.props.model,className:"overviewPlay",tabIndex:0,playbackQueryParams:this.props.playbackQueryParams})}});e.exports=i});C.r("akira/containers/jawbone/overview/overview.jsx",function(e,t,n){"use strict";var r=e("prop-types"),s=e("react"),a=e("create-react-class"),i=e("classnames"),o=e("shakti-platform/dist/ui/ShaktiProperties"),l=e("lodash"),c=e("./../resume.jsx"),u=e("./evidence.jsx"),m=e("../../../components/controls/mainViewLink.jsx"),d=e("../../../components/title/thumbs.jsx"),p=e("../../../components/controls/playbutton.jsx"),g=e("../../../components/title/videoMeta.jsx"),v=e("../../../components/title/myListButton.jsx"),h=e("../../../utils/watched"),y=e("../../../../utils/reactUtils"),w=e("../../../akiraContextTypes"),E=e("../../../../utils/textUtils"),f=e("../../../../utils/Routes"),S=e("../../../utils/linkDefs.jsx"),k=e("../../../../components/string.jsx"),x=e("../../../../components/presentationTracking/trackingComponents/jawboneOverviewPresTracking"),P=o.get("netflix.ui.akira.overview.actorCount"),b=o.get("netflix.ui.akira.overview.directorCount"),V=o.get("netflix.ui.akira.overview.creatorCount"),j="discovery/akira/JawBone",C=[[["summary","regularSynopsis","queue","evidence","watched","episodeCount","info"]],["genres","summary"],["genres",{to:2},["id","name"]],["tags","summary"],["tags",{to:9},["id","name"]],["cast","summary"],["cast",{to:P-1},["id","name"]],["directors","summary"],["directors",{to:b-1},["id","name"]],["creators","summary"],["creators",{to:V-1},["id","name"]]],N=C.concat(g.getPaths()).concat(h.getPaths()).concat(c.getPaths()).concat(p.getPaths()),R=a({displayName:"Overview",contextTypes:Object.assign({getI18nBundle:r.func.isRequired,models:r.object},w),statics:{getPaths:function(e){return e?N:C}},childContextTypes:{trackId:r.number},getChildContext:function(){var e={};return this.props.trackId&&(e.trackId=this.props.trackId),e},getInitialState:function(){var e=this.context.models;return{showRatingsProductization:l.get(e,"truths.data.showRatingsProductization",!1)}},updateAfterAction:function(){this.isMounted()&&this.forceUpdate()},renderPeople:function(e,t,n){for(var r=[],a=0;a<n;a++){var i=e.bind([t,a]);if(i){var o=i.getValueSync(["id"]),l=i.getValueSync(["name"]);l&&r.push(s.createElement(m,{to:f.person,key:t+a,params:{id:o}},l))}}return r},renderCreatorsOrDirectors:function(e,t,n){return 0===t?null:s.createElement("p",null,s.createElement(k,{bundle:j,stringKey:n,stringParams:{count:t}}),":",s.createElement("span",{className:"metaList"}," ",e))},render:function(){var e=this.props.model,t=e.getValueSync(["summary"]),n=e.getValueSync(["cast","summary"]),r=e.getValueSync(["creators","summary"]),a=e.getValueSync(["directors","summary"]),o=e.getValueSync(["genres","summary"]),l=e.getValueSync(["tags","summary"]),d=e.getValueSync(["info"])||{},p=e.getValueSync(["evidence"]),v=e.getValueSync(["episodeCount"]),w=this.context.getI18nBundle(j),C=this.props.isPrePromo,N=[],R=w.get("separator")+" ",I=h.isInResumeState(this.props.model),M=h.isInNextUpState(this.props.model),A={overview:!0},B=n?Math.min(P,n.length):0,D=r?Math.min(V,r.length):0,L=a?Math.min(b,a.length):0,O=e.getValueSync(["regularSynopsis"]),T=this.renderPeople(e,"cast",B);T=y.intersperse(T,R);var Q=this.renderPeople(e,"directors",L);Q=y.intersperse(Q,R);var U=this.renderPeople(e,"creators",D);U=y.intersperse(U,R);var z=[],q=[],H=void 0,K=void 0,G=void 0;if(!t)return null;O=E.ellipsize(O,200);var J=o?Math.min(3,o.length):0,W=l?Math.min(10,l.length):0;for(H=0;H<J;H++){var F=e.bind(["genres",H]);F&&(K=F.getValueSync(["id"]),(G=F.getValueSync(["name"]))&&z.push(s.createElement(m,{resolver:S.getGenreRoute,key:"genres"+H,params:{id:K}},G)))}for(z=y.intersperse(z,R),H=0;H<W;H++){var X=e.bind(["tags",H]);X&&(K=X.getValueSync(["id"]),(G=X.getValueSync(["name"]))&&q.push(s.createElement(m,{to:f.genre,key:"tags"+H,params:{id:K}},G)))}q=y.intersperse(q,R),!t.isOriginal&&p&&p.value&&("watched"===p.type?N.push(s.createElement(u,{key:"titleEvidence",type:p.type,imgSrc:p.value.image.url},w.get("overview.evidence.watched.by",{title:p.value.title}))):"hook"===p.type&&N.push(s.createElement(u,{key:"hookEvidence",type:p.type,kind:p.value.kind},p.value.text)));var Y=!C,Z=d.message,$=!!T.length,_=z.length&&!C,ee=N.length&&!C&&!Z,te=I||M?"continue":"start";return s.createElement("div",{className:i(A)},s.createElement(x,{videoId:t.id},s.createElement("div",{className:"jawbone-overview-info has-jawbone-nav-transition"},Y?s.createElement(g,{model:e,withMaturityReasons:!0,showUHDBadge:this.props.is4KSupported,showHDRBadge:this.props.isHDRSupported}):null,"continue"===te?s.createElement(c,{model:e,resume:I,isStandalone:!v}):null,"start"===te?s.createElement("span",null,Z?s.createElement("div",{className:"supplemental-message"},d.message):null,s.createElement("div",{className:"synopsis"},O||s.createElement("b",{style:{color:"#fff"}},w.get("overview.loading"))),s.createElement("div",{className:"listMeta"},$?s.createElement("p",null,s.createElement(k,{bundle:j,stringKey:"overview.starring",stringParams:{count:B}}),s.createElement("span",{className:"metaList"}," ",T)):null,this.renderCreatorsOrDirectors(Q,L,"details.director"),this.renderCreatorsOrDirectors(U,D,"details.creator"),_?s.createElement("p",null,w.get("overview.genres")," ",s.createElement("span",{className:"metaList"},z)):null)):null,ee?s.createElement("div",{className:"user-evidence"},s.createElement("ul",null,N)):null,this.renderActionsRow()),null))},renderActionsRow:function(){var e=this.props.model,t=e.getValueSync(["queue"]),n=e.getValueSync(["summary"]);return s.createElement("div",{className:"actionsRow"},this.renderQueue(t,n),this.renderThumbs(e,n))},renderQueue:function(e,t){var n=this.context.getI18nBundle(j),r=this.props.isPrePromo,a=i({myListWrapper:!0,prePromo:r}),o=r?this.updateAfterAction:null;return e?s.createElement("div",{className:a},s.createElement(v,{model:this.props.model,videoId:t.id,inQueue:e.inQueue,onStateChange:o,svgButton:!r}),e.inQueue&&r?s.createElement("div",{className:"myListPrepromoMessage"},n.get("mylist.prepromo.message")):null):null},renderThumbs:function(e,t){return this.state.showRatingsProductization?s.createElement("div",{className:"thumbs-overview-wrapper"},s.createElement(d,{onRating:this.updateAfterAction,model:e,videoId:t.id})):null}});t.exports=R});C.r("akira/containers/jawbone/pane.jsx",function(e,n,a){"use strict";var s=(e("prop-types"),e("react")),t=e("create-react-class"),i=e("react-dom"),r=e("classnames"),o=e("../../../reactMixins/transition"),c=t({displayName:"Pane",mixins:[o],transitions:{fadeIn:300,fadeOut:300},componentDidMount:function(){this.props.hasClickedMenu&&i.findDOMNode(this).focus()},render:function(){return s.createElement("div",{className:r("jawBonePane"),id:"pane-"+this.props.ariaId,tabIndex:-1},this.props.children)}});n.exports=c});C.r("akira/containers/jawbone/resume.jsx",function(e,t,n){"use strict";var s=e("prop-types"),r=e("react"),i=e("create-react-class"),o=e("./../../components/controls/progress.jsx"),a=e("../../components/episode/episodeBadge.jsx"),c=e("../../utils/watched"),l=e("../../../utils/textUtils"),m=e("lodash"),u=e("classnames"),d="discovery/akira/JawBone",p=i({displayName:"Resume",contextTypes:{getI18nString:s.func.isRequired,models:s.object.isRequired},statics:{getPaths:function(){return[["current",["summary","synopsis","title","runtime","bookmarkPosition"]]].concat(c.getPaths()).concat(a.getPaths().map(function(e){return["current"].concat(e)}))}},getEpisodeTitle:function(){var e=c.getResumeParams(this.props.model),t=e.SEASON_ABBR&&e.EPISODE_NUMBER?"watched.title.overview":"episode.title.quoted";return this.context.getI18nString(d,t,e)},renderNSRETitleComponent:function(e){var t=this.props,n=t.resume,s=t.model,i=e.getValueSync(["title"]);return r.createElement("div",{className:u("episodeTitle")},!n&&r.createElement(a,{model:s}),i&&r.createElement("b",null,i))},renderTitleComponent:function(e){var t=this.props.model.getValueSync(["summary"]);return t&&t.isNSRE?this.renderNSRETitleComponent(e):r.createElement("div",{className:u("episodeTitle"),dangerouslySetInnerHTML:{__html:this.getEpisodeTitle()}})},render:function(){var e=this.props,t=e.model,n=e.resume,s=e.isStandalone,i=t.hardBind(["current"]),a=i.getValueSync(["bookmarkPosition"]),c=i.getValueSync(["runtime"]),p=m.get(this.context.models,"geo.data.locale.language","en"),g="ja"===p,h=i.getValueSync(["synopsis"]);return r.createElement("div",{className:u("watched")},r.createElement("div",{className:u("watchedTitle")},this.context.getI18nString(d,n?"overview.resume":"overview.next.up")),!s&&this.renderTitleComponent(i),n&&r.createElement(o,{runtime:c,bookmarkPosition:a,showSummary:!0,current:!0}),h&&r.createElement("div",{className:u("synopsis")},g?l.ellipsize(h,200):h))}});t.exports=p});C.r("akira/containers/jawbone/trailers/trailerCard.jsx",function(e,t,r){"use strict";var a=e("prop-types"),n=e("react"),s=e("create-react-class"),o=e("react-dom"),i=e("../../../components/controls/playbutton.jsx"),l=e("../../../components/loader/loadingBox.jsx"),c=e("../../../../components/presentationTracking/trackingComponents/boxartPresTracking"),m=e("../../../../common/imageExtension"),u=e("../../../akiraContextTypes"),p=s({displayName:"TrailerCard",contextTypes:Object.assign({models:a.object.isRequired},u),childContextTypes:{rankNum:a.number},getChildContext:function(){return{rankNum:this.props.rankNum}},getImage:function(){var e=this.props.model,t=m.getExtensionForOpaqueImage(this.context.models),r=e.getValueSync(["interestingMoment","_260x146",t]);return r?{backgroundImage:"url("+r.url+")"}:{}},statics:{getPaths:function(e,t,r){return[[["title","summary","trackId"]],["interestingMoment","_260x146",m.getExtensionForOpaqueImage(e)]].concat(i.getPaths())}},clickPlayButton:function(){this.refs.playButton&&o.findDOMNode(this.refs.playButton).click()},renderPlaceholders:function(){var e={"video-artwork":!0},t=.5+.2*this.props.index;return n.createElement("div",{className:"trailerLockup"},n.createElement(l,{boxClassNames:e,delay:t,pulsate:!0,displayWhenNotPulsing:!1}))},render:function(){if(this.props.isLoading)return this.renderPlaceholders();var e=this.props.model,t=e.getValueSync(["summary"]),r=e.getValueSync(["title"]),a=t&&t.id,s=this.getImage();return n.createElement("div",{className:"trailerLockup"},n.createElement(c,{videoId:a},n.createElement("div",{className:"video-artwork trailer-artwork",style:s,alt:r,onClick:this.clickPlayButton},n.createElement(i,{model:e,className:"trailerPlay",startTime:"0",ref:"playButton",playbackQueryParams:this.props.playbackQueryParams}))),n.createElement("div",{className:"trailerTitle"},r))}});t.exports=p});C.r("akira/containers/jawbone/trailers/trailers.jsx",function(e,r,t){"use strict";var a=e("prop-types"),n=e("react"),i=e("create-react-class"),s=e("./trailerCard.jsx"),o=e("../../slider/slider.jsx"),l=e("../../../akiraContextTypes"),c=e("../../../../components/presentationTracking/trackingComponents/jawboneTrailersPresTracking"),u=i({displayName:"Trailers",contextTypes:Object.assign({getI18nString:a.func.isRequired},l),statics:{getPaths:function(e,r,t){return[["trailers","summary"]].concat(s.getPaths(e,r,t).map(function(e){return["trailers",{to:35}].concat(e)}))}},childContextTypes:{trackId:a.number},getChildContext:function(){var e={};return this.props.trackId&&(e.trackId=this.props.trackId),e},getTrailers:function(){var e=this.props.model,r=e.bind(["trailers"]),t=r.getValueSync(["summary"]),a=[],i=5,o=void 0;if(!t)return null;void 0!==t.length&&(i=Math.min(35,t.length));for(var l=0;l<i;l++)o=r.bind([l]),o.getBoundValue()&&a.push(n.createElement(s,{key:"trailer"+l,model:o,rankNum:l,playbackQueryParams:this.props.playbackQueryParams}));return a},getLoadingTrailersList:function(){for(var e=[],r=0;r<5;r++)e.push(n.createElement(s,{key:"trailer"+r,isLoading:!0,index:r}));return e},renderError:function(){return n.createElement("p",{className:"unavailable"},this.context.getI18nString("discovery/akira/JawBone","trailers.unavailable"))},render:function(){var e=void 0,r=void 0;if(this.props.isLoading)e=5,r=this.getLoadingTrailersList();else if(e=this.context.columnsInRow-1,null===(r=this.getTrailers())||0===r.length)return this.renderError();return n.createElement("div",{className:"trailerWrapper"},n.createElement(c,null,n.createElement(o,{itemsInRow:e,totalItems:r.length,enableLooping:!1,onSliderMove:this.props.onSliderMove},r)))}});r.exports=u});C.r("akira/containers/lolomo/lolomoConstants.jsx",function(o,I,a){"use strict";var i={LIST_CONTEXTS:{CONTINUE_WATCHING:"continueWatching",SUGGESTION_GALLERY:"suggestionsForYouGallery",SUGGESTION_ROW:"galleryDisplayAsRow",BILLBOARD:"billboard",SOCIAL_POPULAR:"socialPopular",RATE_MOVIES:"rateMovies",BIG_ROW:"bigRow",NETFLIX_ORIGINALS:"netflixOriginals",SIMILIARS:"similars",MY_LIST:"queue",CHARACTER_ROW:"character"},LIST_TYPES:{FLAT:"flat",COMPOSITE:"composite"},LAZY_LOADING:{IMAGES:6}};I.exports=i});C.r("akira/containers/row.jsx",function(e,o,s){"use strict";var t=e("prop-types"),n=e("react"),i=e("create-react-class"),r=e("react-dom"),a=e("classnames"),l=e("./slider/slider.jsx"),p=e("./jawbone/jawBone.jsx"),d=e("./jawbone/jawBoneOnRow.jsx"),h=e("../../reactMixins/jawBoneLink"),c=e("../../reactMixins/cssAnimation.jsx"),u=e("../akiraContextTypes"),m=e("../../reactMixins/eventBus"),w=e("../../reactMixins/falkorPureRenderMixin"),B=e("../../components/presentationTracking/presentationTrackingContainer.jsx"),v=i({displayName:"Row",sliderMoveDirection:null,mixins:[h,c,w],contextTypes:Object.assign({models:t.object.isRequired},u),getInitialState:function(){return{lowestVisibleItemIndex:0,isBobOpen:!1}},componentDidMount:function(){this.props.isMyListRow&&(m.on("myList:remove:end",this._decreaseSelectedIndex),m.on("myList:add:end",this._increaseSelectedIndex))},componentWillUnmount:function(){this.props.isMyListRow&&(m.removeListener("myList:remove:end",this._decreaseSelectedIndex),m.removeListener("myList:add:end",this._increaseSelectedIndex))},_increaseSelectedIndex:function(){var e=this.props.totalItems;this.props.showJawBone&&null!==this.props.jawBoneRankNum&&void 0!==this.props.jawBoneRankNum&&e&&(this.props.isGallery?(this.context.columnsInRow&&this.context.columnsInRow>e&&(e=this.context.columnsInRow),this.props.jawBoneRankNum+1<e?this.openJawBoneAtRankNum(this.props.jawBoneRankNum+1):this.openJawBoneAtRankNum(0)):this.props.jawBoneRankNum+1<=e&&this.openJawBoneAtRankNum(this.props.jawBoneRankNum+1))},_decreaseSelectedIndex:function(e){var o=this.props.orderedItemList[e.videoId],s=this.props.totalItems,t=this.props.jawBoneRankNum,n=void 0;this.props.showJawBone&&this.props.orderedItemList&&void 0!==o&&(n=this.props.isGallery?(t+1)*(this.props.rowNum+1):t,t-1>=0&&(o<n||t+1>=s)&&this.openJawBoneAtRankNum(t-1))},childContextTypes:{rowNum:t.number},getChildContext:function(){return{rowNum:this.props.rowNum}},handleSliderMove:function(e,o){this.setState({lowestVisibleItemIndex:e}),this.sliderMoveDirection=o,"function"==typeof this.props.handleSliderMove&&this.props.handleSliderMove(e,o)},closingBobs:[],onBobLeave:function(e,o){var s=this,t={position:e,callback:o,closeTimeout:setTimeout(function(){s.isMounted()&&s.closePrevBobs(!1)},500)};this.closingBobs.push(t)},onBobOpen:function(e,o,s,t){this.pushSliderItems(e,o,s,t),this.closePrevBobs(!0),this.setState({isBobOpen:!0})},onBobClose:function(e,o,s,t){t&&this.handleRowBlur(),!this.ignoreClosingPush||this.isJawBoneOpen()?this.pushSliderItems(e,0,o,s):s(),this.ignoreClosingPush=!1},closePrevBobs:function(e){this.ignoreClosingPush=e;for(var o=0,s=this.closingBobs.length;o<s;o++){var t=this.closingBobs[o];clearTimeout(t.closeTimeout),t.callback&&t.callback()}this.closingBobs=[]},cleanUpAllBobStyles:function(){if(this.isMounted()){var e=this.refs.slider;if(e){(e.getAllSliderItems()||[]).map(function(e){c.clearStyles(r.findDOMNode(e))})}}},getIsBobOpen:function(){return this.state.isBobOpen},pushSliderItems:function(e,o,s,t){var n=this.refs.slider,i=n&&n.getItem(e);if(i&&s){var a=void 0,l=i.props.viewportPosition;a="leftEdge"===l?1:"rightEdge"===l?-1:0;for(var p,d=n.getSliderItemsInViewport(),h=0;p=d[h];h++){var c=0;if(p===i)c=a*o;else{var u=a?2:1,m=p.props.viewportIndex>i.props.viewportIndex?1:-1;a&&m!==a&&(u=0),c=m*o*u}this.context.isRtl&&(c*=-1),this.animate({target:r.findDOMNode(p),translate3d:Math.floor(c)+"px, 0,0",duration:s,callback:t,easing:"cubic-bezier(0.5, 0, 0.1, 1)",delay:0})}}},isJawBoneOpen:function(){return this.props.showJawBone},getJawBoneModel:function(){if(this.props.jawBoneModelIndex>=0){var e=this.props.videoRoot?[this.props.jawBoneModelIndex,this.props.videoRoot]:[this.props.jawBoneModelIndex];return this.props.model.bind(e)}return null},handleRowBlur:function(){return this.closePrevBobs(!1),this.getIsBobOpen()&&setTimeout(this.cleanUpAllBobStyles,500),this.setState({isBobOpen:!1}),null},wrapChildItems:function(e){var o=this;return e.map(function(e){return n.cloneElement(e,{onBobOpen:o.onBobOpen,onBobClose:o.onBobClose,onBobLeave:o.onBobLeave,getRowHasBobOpen:o.getIsBobOpen,aJawBoneOpen:o.isJawBoneOpen(),myJawBoneOpen:o.isJawBoneOpen()&&o.props.jawBoneRankNum===e.props.rankNum})})},render:function(){var e=this.props.model,o=this.context.columnsInRow,s=void 0,t=void 0,i=void 0,r=void 0,h=void 0;this.props.columnsInRow&&(o=this.props.columnsInRow),this.isJawBoneOpen()&&(t=this.getJawBoneModel(),s=t&&t.getValueSync(["summary"]),i=s&&"show"===s.type,r=p.getPaths(this.context.models,null,{isShow:i}),h=t&&r);var c=a({rowContainer:!0,jawBoneOpen:h&&this.props.isGallery,bobOpen:this.state.isBobOpen,rowContainer_title_card:!0});return n.createElement("div",{className:c,id:"row-"+this.props.rowNum},n.createElement(B,null,n.createElement("div",{className:"rowContent slider-hover-trigger-layer",onMouseLeave:this.handleRowBlur},n.createElement(l,{ref:"slider",itemsInRow:o,totalItems:this.props.totalItems,onSliderMove:this.handleSliderMove,enableLooping:!0,enablePeek:!0,enablePaginationIndicator:this.props.enablePaginationIndicator},this.wrapChildItems(this.props.children))),n.createElement(d,{model:e,sliderRef:this.refs.slider,jawBoneRankNum:this.props.jawBoneRankNum,showJawBone:this.isJawBoneOpen(),is4KSupported:this.props.is4KSupported,isHDRSupported:this.props.isHDRSupported,lowestVisibleItemIndex:this.state.lowestVisibleItemIndex,sliderMoveDirection:this.sliderMoveDirection,infinite:!this.props.isGallery,jawBoneModelIndex:this.props.jawBoneModelIndex,playbackQueryParams:this.props.playbackQueryParams,videoRoot:this.props.videoRoot,disableClose:this.props.disableJawClose})))}});o.exports=v});C.r("akira/containers/slider/paginationIndicator.jsx",function(a,e,t){"use strict";var r=(a("prop-types"),a("react")),i=a("create-react-class"),s=i({displayName:"PaginationIndicator",render:function(){for(var a=[],e=0;e<this.props.totalPages;e++){var t=e===this.props.activePage?"active":"";a.push(r.createElement("li",{className:t,key:"pi"+e}))}return r.createElement("ul",{className:"pagination-indicator"},a)}});e.exports=s});C.r("akira/containers/slider/simpleSlider.jsx",function(t,e,i){"use strict";var n=t("prop-types"),s=t("react"),a=t("create-react-class"),r=t("react-dom"),c=t("classnames"),o=t("../../../common/presentationTracking/presentationTracking.js"),l=t("../../utils/touchEvents"),h=t("../../utils/horizontalScrolling"),d=t("./simpleSliderNavHandle.jsx"),v=a({displayName:"SimpleSlider",touchStart:{},isAnimating:!1,statics:{MOVE_DIRECTION_NEXT:1,MOVE_DIRECTION_PREV:-1},contextTypes:{isRtl:n.bool},getInitialState:function(){return{translateX:0,canAccessDOM:!1}},advance:function(t,e){this.props.onSliderMove&&this.props.onSliderMove(null,e),this.isAnimating=!0,r.findDOMNode(this.refs.sliderContent).classList.add("animating"),this.setState({translateX:t})},advanceNext:function(){var t=this.context.isRtl?Math.max(this.calculateMinTranslateX(),this.state.translateX+100):Math.max(this.calculateMinTranslateX(),this.state.translateX-100);this.advance(t,this.MOVE_DIRECTION_NEXT)},advancePrev:function(){var t=this.context.isRtl?Math.max(0,this.state.translateX-100):Math.min(0,this.state.translateX+100);this.advance(t,this.MOVE_DIRECTION_PREV)},getReactAnimationStyle:function(t){if(!t)return null;var e="translate3d("+t+"%, 0px, 0px)";return{WebkitTransform:e,MsTransform:e,transform:e}},handleTouchStart:function(t){this.touchStart=l.getTouchObjectStart(t)},handleTouchMove:function(t){var e=h.touchAdvanceDirection(t,this.touchStart,this.context.isRtl);Math.abs(e.deltaX)>Math.abs(e.deltaY)&&t.preventDefault(),this.isAnimating||(e.direction===h.ADVANCE_NEXT&&this.isNextNavActive()?(this.advanceNext(),this.touchStart={}):e.direction===h.ADVANCE_PREV&&this.isPrevNavActive()&&(this.advancePrev(),this.touchStart={}))},handleMouseWheel:function(t){if(!this.isAnimating){var e=h.wheelAdvanceDirection(t);e===h.ADVANCE_NEXT?this.advanceNext(t):e===h.ADVANCE_PREV&&this.advancePrev(t)}},calculateMinTranslateX:function(){var t=this.refs.sliderContent;if(t){var e=r.findDOMNode(t);return-100*(e.scrollWidth/e.clientWidth-1)}return 0},isPrevNavActive:function(){return 0!==this.state.translateX},isNextNavActive:function(){var t=this.context.isRtl?-1*this.state.translateX:this.state.translateX,e=t-this.calculateMinTranslateX();if(this.refs.sliderContent){return e/100*r.findDOMNode(this.refs.sliderContent).clientWidth>3}return e>1},animationComplete:function(){r.findDOMNode(this.refs.sliderContent).classList.remove("animating"),this.isAnimating=!1,o.requestScan()},componentDidMount:function(){var t=r.findDOMNode(this.refs.sliderContent);l.isTouchEnabled()&&(t.addEventListener("pointerdown",this.handleTouchStart),t.addEventListener("pointermove",this.handleTouchMove)),t.addEventListener("transitionend",this.animationComplete),this.setState({canAccessDOM:!0})},componentWillUnmount:function(){var t=r.findDOMNode(this.refs.sliderContent);l.isTouchEnabled()&&(t.removeEventListener("pointerdown",this.handleTouchStart),t.removeEventListener("pointermove",this.handleTouchMove)),t.removeEventListener("transitionend",this.animationComplete)},render:function(){var t=this.getReactAnimationStyle(this.state.translateX),e=c("sliderContent"),i=c("simpleSlider","slider",this.props.classes),n=c("sliderMask");return s.createElement("div",{className:i},s.createElement(d,{direction:"prev",canAccessDOM:this.state.canAccessDOM,onClick:this.advancePrev,isNavActive:this.isPrevNavActive}),s.createElement(d,{direction:"next",canAccessDOM:this.state.canAccessDOM,onClick:this.advanceNext,isNavActive:this.isNextNavActive}),s.createElement("div",{className:n,ref:"sliderMask"},s.createElement("div",{className:e,ref:"sliderContent",style:t,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onWheel:this.handleMouseWheel},this.props.children)))}});e.exports=v});C.r("akira/containers/slider/simpleSliderNavHandle.jsx",function(e,t,n){"use strict";var i=e("prop-types"),a=e("react"),s=e("create-react-class"),c=e("react-dom"),r=e("classnames"),o=s({displayName:"NavHandle",contextTypes:{isRtl:i.bool},setHandleInteraction:function(){this.props.canAccessDOM&&c.findDOMNode(this.refs["nav-handle"]).classList[this.props.isNavActive()?"add":"remove"]("active")},componentDidMount:function(){this.setHandleInteraction()},componentDidUpdate:function(){this.setHandleInteraction()},handleClick:function(e){this.props.isNavActive()&&this.props.onClick(e)},render:function(){var e="prev"===this.props.direction,t=this.context.isRtl,n=r("indicator-icon",{"icon-rightCaret":t?e:!e,"icon-leftCaret":t?!e:e}),i=r("handle",{handlePrev:e,handleNext:!e});return a.createElement("div",{ref:"nav-handle",className:i,onClick:this.handleClick},a.createElement("b",{className:n}))}});t.exports=o});C.r("akira/containers/slider/slider.jsx",function(e,t,i){"use strict";var s=e("prop-types"),n=e("react"),o=e("create-react-class"),r=e("react-dom"),a=e("classnames"),l=e("./sliderItem.jsx"),h=e("./paginationIndicator.jsx"),d=e("../../components/loader/loadingTitle.jsx"),c=e("../../utils/horizontalScrolling"),u=e("../../utils/syntheticMouseEvent.js"),p=e("../../../reactMixins/eventBus.js"),m=e("../../../utils/keyboardEventsWrapper"),I=e("../../utils/touchEvents"),v=e("../../../common/presentationTracking/presentationTracking.js"),f=e("../../../common/presentationTracking/presentationTrackingConsts"),g=e("../../../utils/ab/doubleWideHelpers.js"),w=o({displayName:"Slider",animateHoverTimeout:null,isAnimating:!1,touchStart:null,statics:{MOVE_DIRECTION_NEXT:1,MOVE_DIRECTION_PREV:-1},contextTypes:{getI18nString:s.func.isRequired,getModelData:s.func,isRtl:s.bool},getInitialState:function(){var e=this.getTotalItemCount(),t=this.props.initialLowestVisibleIndex||0;return!this.props.enableLooping&&e&&t+this.props.itemsInRow>e&&(t=e-this.props.itemsInRow)<0&&(t=0),{lowestVisibleItemIndex:t,highestVisibleItemIndex:t+this.props.itemsInRow,hasMovedOnce:this.props.initialLowestVisibleIndex||!1,sliderHandleFocused:!1,videoHalfInViewportOnLeftEdge:null}},advanceNext:function(e){var t=this.getTotalItemCount(),i=this.props.itemsInRow,s=this.state.lowestVisibleItemIndex,n=this.state.lowestVisibleItemIndex+i,o=!1,r=void 0;if(e&&e.preventDefault(),this.isNextNavActive()&&!this.isAnimating){this.isAnimating=!0;var a=this.context.getModelData("truths"),l=a&&a.inDoubleWideTest,h=void 0;if(l){var d=this.props.children,c=g.advanceNext(s,n,d,i,t);h=c.numSingleWideSlotsToMove,r=c.itemToLandOn,o=c.videoHalfInViewportOnLeftEdge}else{var u=s+2*i;n!==t&&u>t&&(n=t-this.props.itemsInRow),h=this.state.lowestVisibleItemIndex-n,r=n}var p=this.getNewSliderOffset(h),m=p+this.getBaseSliderOffset();r===t&&(r=0),e&&"wheel"===e.type?this.shiftSlider(r,o,m,w.MOVE_DIRECTION_NEXT,{x:e.clientX,y:e.clientY}):e&&"keydown"===e.type?this.shiftSlider(r,o,m,w.MOVE_DIRECTION_NEXT,null,!0):this.shiftSlider(r,o,m,w.MOVE_DIRECTION_NEXT)}},advancePrev:function(e){var t=this.getTotalItemCount(),i=this.props.itemsInRow,s=this.state.lowestVisibleItemIndex,n=this.state.lowestVisibleItemIndex-this.props.itemsInRow,o=!1,r=void 0;if(e&&e.preventDefault(),this.isPrevNavActive()&&!this.isAnimating){this.isAnimating=!0;var a=this.context.getModelData("truths"),l=a&&a.inDoubleWideTest,h=void 0;if(l){var d=this.props.children,c=g.advancePrev(s,n,d,i,t,this.state.videoHalfInViewportOnLeftEdge);h=c.numSingleWideSlotsToMove,n=c.itemToLandOn,o=c.videoHalfInViewportOnLeftEdge}else 0!==s&&n<0&&(n=0),r=i,h=this.state.lowestVisibleItemIndex-n,0===s&&(n=t-r);var u=this.getNewSliderOffset(h),p=u+this.getBaseSliderOffset();e&&"wheel"===e.type?this.shiftSlider(n,o,p,w.MOVE_DIRECTION_PREV,{x:e.clientX,y:e.clientY}):e&&"keydown"===e.type?this.shiftSlider(n,o,p,w.MOVE_DIRECTION_PREV,null,!0):this.shiftSlider(n,o,p,w.MOVE_DIRECTION_PREV)}},shiftSlider:function(e,t,i,s,n,o){var a=this,l=r.findDOMNode(this.refs.sliderContent),h=this.refs.handlePrev?r.findDOMNode(this.refs.handlePrev):null,d=this.getAnimationStyle(i),c=this.context.getModelData("truths"),m=c&&c.inDoubleWideTest;clearTimeout(this.animateHoverTimeout),"function"==typeof this.props.onSliderMove&&this.props.onSliderMove(e,s),h&&h.classList.add("active"),l.addEventListener("transitionend",function i(o){o.target===this&&(l.removeEventListener("transitionend",i),l.classList.remove("animating"),a.setState({lowestVisibleItemIndex:e,hasMovedOnce:!0,videoHalfInViewportOnLeftEdge:t}),a.resetSliderPosition(),a.isAnimating=!1,a.refocusAfterShift(s),v.requestScan({event:f.LOLOMO_SCROLL,xScrollDirection:s}),p.emit("motion-boxart:scan"),n&&(clearTimeout(a.animateHoverTimeout),a.animateHoverTimeout=setTimeout(function(){u.mouseOver(n)},100)))}),l.classList.add("animating");var I=function(){return l.setAttribute("style",d)};m?setTimeout(I,0):I()},refocusAfterShift:function(e){var t=this.getSliderItemsInViewport(),i=void 0,s=void 0;t&&t.length>1&&(s=e===w.MOVE_DIRECTION_NEXT?1:t.length-2,(i=r.findDOMNode(t[s]).querySelector(".sliderRefocus"))&&i.focus())},resetSliderPosition:function(){if(this.refs.sliderContent){var e=this.getBaseSliderOffset(),t=this.getAnimationStyle(e);r.findDOMNode(this.refs.sliderContent).setAttribute("style",t)}},getSliderItemWidth:function(){return 100/this.props.itemsInRow},getHighestIndex:function(){return Math.min(this.getTotalItemCount(),this.state.lowestVisibleItemIndex+2*this.props.itemsInRow+1)},getLowestIndex:function(){return Math.max(0,this.state.lowestVisibleItemIndex-this.props.itemsInRow-1)},getTotalItemCount:function(){return this.props.totalItems},getTotalPages:function(){var e=this.props.itemsInRow,t=Math.ceil(this.getTotalItemCount()/e),i=this.context.getModelData("truths");if(i&&i.inDoubleWideTest&&t<2){var s=this.getDoubleWideSliderItemsInViewport();e-=s&&s.length||0,t=Math.min(2,Math.ceil(this.getTotalItemCount()/e))}return t},getPageNumber:function(e){return Math.ceil(e/this.props.itemsInRow)},getBaseSliderOffset:function(){var e=this.context.getModelData("truths"),t=e&&e.inDoubleWideTest,i=t?this.getDoubleWideBaseSliderOffset():this.getSingleWideBaseSliderOffset();return this.context.isRtl?-1*i:i},getSingleWideBaseSliderOffset:function(){var e=this.props.itemsInRow,t=this.getSliderItemWidth(),i=0;return this.getTotalPages()>1&&((this.state.hasMovedOnce&&0===this.state.lowestVisibleItemIndex&&this.props.enableLooping||this.state.lowestVisibleItemIndex>=e)&&(i=-100),this.state.hasMovedOnce&&(this.props.enableLooping||this.state.lowestVisibleItemIndex>e)&&(i-=t),this.state.lowestVisibleItemIndex>0&&this.state.lowestVisibleItemIndex<e&&(i-=this.state.lowestVisibleItemIndex*t)),i},getDoubleWideBaseSliderOffset:function(){var e=this.getSliderItemWidth(),t=0;if(this.getTotalPages()>1){var i=this.refs.sliderContent&&this.refs.sliderContent.children||[];this.state.hasMovedOnce&&(t=g.getBaseSliderOffset(i,e))}return t},getNewSliderOffset:function(e){return e*this.getSliderItemWidth()*(this.context.isRtl?-1:1)},getSliderContents:function(){var e=this.props.itemsInRow,t=this.getTotalItemCount(),i=[],s=[],o=0,r=this.state.lowestVisibleItemIndex-this.getLowestIndex();if(this.props.children&&this.props.children.length){i=this.props.children.slice(this.getLowestIndex(),this.getHighestIndex()),o=this.getHighestIndex()-this.getLowestIndex();for(var a=0;i.length<o&&i.length<t;)i.push(n.createElement(d,{className:"fullWidth",delay:.2*a,pulsate:!1,displayWhenNotPulsing:!0,key:"loading-title-"+a})),a++;this.getTotalPages()>1&&this.props.enableLooping&&(this.getHighestIndex()-this.state.lowestVisibleItemIndex<=2*e&&(s=this.state.lowestVisibleItemIndex+e===t?this.props.children.slice(0,this.props.itemsInRow+1):this.props.children.slice(0,1),s=this.cloneItemsWithNewKeys(s,"_appended"),i=i.concat(s)),this.state.hasMovedOnce&&this.state.lowestVisibleItemIndex-e<=0&&(s=0===this.state.lowestVisibleItemIndex?this.props.children.slice(-this.props.itemsInRow-1):this.props.children.slice(-1),r+=s.length,s=this.cloneItemsWithNewKeys(s,"_prepended"),i=s.concat(i)))}return this.wrapSliderItems(i,r)},cloneItemsWithNewKeys:function(e,t){return e.map(function(e){return n.cloneElement(e,{key:e.key+t})})},sliderWrappedItems:[],getSliderItemsInViewport:function(){return this.getSliderItems(this.sliderWrappedItems.filter(function(e){return e.inViewport}))},getDoubleWideSliderItemsInViewport:function(){return this.getSliderItems(this.sliderWrappedItems.filter(function(e){return e.inViewport&&e.isDoubleWide}))},getAllSliderItems:function(){return this.getSliderItems(this.sliderWrappedItems)},getSliderItems:function(e){var t=[],i=void 0,s=void 0;for(i=0;s=e[i];i++)this.refs[s.uid]&&t.push(this.refs[s.uid]);return t},getItem:function(e){return this.refs[e]},isItemInMiddle:function(e){var t=this.getItem("item_"+e);return t&&("middle"===t.props.viewportPosition||"leftEdge"===t.props.viewportPosition||"rightEdge"===t.props.viewportPosition)},wrapSliderItems:function(e,t){var i=t+this.props.itemsInRow-1,s=this,o=0;this.sliderWrappedItems=[];var r=this.state.videoHalfInViewportOnLeftEdge;return n.Children.map(e,function(e,a){var h="",d=!1;if(e.props.isDoubleWide){r===e.props.videoId&&a++}a===t?(h="leftEdge",d=!0):a===t-1?h="leftPeek":a===i+1?h="rightPeek":a===i?(h="rightEdge",d=!0):a>=t&&a<=i&&(h="middle",d=!0);var c=h?o:"",u="item_"+a,p=!1;h&&(++o,p=!0),s.sliderWrappedItems.push({uid:u,inViewport:p,isDoubleWide:e.props.isDoubleWide});var m=n.cloneElement(e,{sliderItemId:u,itemTabbable:d}),I={};if(e.props.isDoubleWide){I={"double-wide":!0,"half-in-viewport":r===e.props.videoId},"leftEdge"!==h&&"rightEdge"!==h&&"middle"!==h||i--}return n.createElement(l,{ref:u,key:u,viewportIndex:c,viewportPosition:h,additionalClasses:I},m)})},getAnimationStyle:function(e){var t=e?"translate3d("+e+"%, 0px, 0px)":"";return["-webkit-transform: "+t,"-ms-transform: "+t,"transform: "+t].join(";")},getReactAnimationStyle:function(e){if(e){var t="translate3d("+e+"%, 0px, 0px)";return{WebkitTransform:t,MsTransform:t,transform:t}}return null},handleMouseLeaveSliderMask:function(){clearTimeout(this.animateHoverTimeout)},handleTouchStart:function(e){if(e.pointerType&&"touch"!==e.pointerType)return void e.stopPropagation();this.touchStart=I.getTouchObjectStart(e)},handleTouchMove:function(e){if(e.pointerType&&"touch"!==e.pointerType)return void e.stopPropagation();var t=c.touchAdvanceDirection(e,this.touchStart,this.context.isRtl);Math.abs(t.deltaX)>Math.abs(t.deltaY)&&e.preventDefault(),this.isAnimating||(t.direction===c.ADVANCE_NEXT&&this.isNextNavActive()?(this.advanceNext(),this.touchStart={}):t.direction===c.ADVANCE_PREV&&this.isPrevNavActive()&&(this.advancePrev(),this.touchStart={}))},handleMouseWheel:function(e){if(!this.isAnimating){var t=c.wheelAdvanceDirection(e);t===c.ADVANCE_NEXT?this.advanceNext(e):t===c.ADVANCE_PREV&&this.advancePrev(e)}},componentDidUpdate:function(e){this.props.itemsInRow!==e.itemsInRow&&this.resetSliderPosition()},componentWillReceiveProps:function(e){e.totalItems<this.props.totalItems&&this.isLastPage()&&this.setState({lowestVisibleItemIndex:Math.max(0,e.totalItems-e.itemsInRow)})},hasMorePrevPages:function(){var e=this.state.lowestVisibleItemIndex-this.props.itemsInRow;return this.props.enableLooping||e>-this.props.itemsInRow},hasMoreNextPages:function(){var e=this.state.lowestVisibleItemIndex+this.props.itemsInRow;return this.props.enableLooping||e<this.getTotalItemCount()},isPrevNavActive:function(){return this.getTotalPages()>1&&this.state.hasMovedOnce&&this.hasMorePrevPages()},isNextNavActive:function(){return this.getTotalPages()>1&&this.hasMoreNextPages()},isLastPage:function(){return this.getPageNumber(this.state.lowestVisibleItemIndex)+1===this.getTotalPages()},componentDidMount:function(){if(I.isTouchEnabled()){var e=r.findDOMNode(this.refs.sliderContent);e.addEventListener("pointerdown",this.handleTouchStart),e.addEventListener("pointermove",this.handleTouchMove)}},componentWillUnmount:function(){if(I.isTouchEnabled()){var e=r.findDOMNode(this.refs.sliderContent);e.removeEventListener("pointerdown",this.handleTouchStart),e.removeEventListener("pointermove",this.handleTouchMove)}},renderPageHandle:function(e,t,i,s,o){if(e<=1||t&&!this.state.hasMovedOnce)return null;var r=this.context.isRtl,l=a("handle",{handlePrev:t,handleNext:!t,active:s}),h=a("indicator-icon",{"icon-leftCaret":r?!t:t,"icon-rightCaret":r?t:!t}),d=t?"slider.handle.previous":"slider.handle.next";return n.createElement("span",{className:l,tabIndex:!t||this.state.hasMovedOnce?0:-1,ref:i,onClick:o,onKeyDown:m.executeOnEnterOrSpace(o),onMouseEnter:this.props.onMouseEnterSliderHandle,onFocus:this.props.onMouseEnterSliderHandle,onMouseLeave:this.props.onMouseLeaveSliderHandle,onBlur:this.props.onMouseLeaveSliderHandle,role:"button","aria-label":this.context.getI18nString("discovery/akira/Common",d)},n.createElement("b",{className:h}))},render:function(){var e=this.getReactAnimationStyle(this.getBaseSliderOffset()),t=a("sliderContent","row-with-x-columns"),i=this.getTotalPages(),s=this.props.enablePaginationIndicator&&i>1,o=a("sliderMask",{showPeek:this.props.enablePeek});return n.createElement("div",{className:"slider"},this.renderPageHandle(i,!0,"handlePrev",this.isPrevNavActive(),this.advancePrev),s?n.createElement(h,{totalPages:i,activePage:this.getPageNumber(this.state.lowestVisibleItemIndex)}):null,n.createElement("div",{className:o,onMouseLeave:this.handleMouseLeaveSliderMask},n.createElement("div",{className:t,ref:"sliderContent",style:e,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onWheel:this.handleMouseWheel},this.getSliderContents())),this.renderPageHandle(i,!1,"handleNext",this.isNextNavActive(),this.advanceNext))}});t.exports=w});C.r("akira/containers/slider/sliderItem.jsx",function(e,s,t){"use strict";var r=(e("prop-types"),e("react")),i=e("create-react-class"),a=e("lodash"),d=e("classnames"),l=i({displayName:"SliderItem",getDefaultProps:function(){return{additionalClasses:{}}},statics:{className:"slider-item"},render:function(){var e=a.extend({"slider-item":!0},this.props.additionalClasses);return void 0!==this.props.viewportIndex&&(e["slider-item-"+this.props.viewportIndex]=!0),r.createElement("div",{className:d(e)},this.props.children)}});s.exports=l});C.r("akira/containers/subHeaders/personHeader.jsx",function(e,t,s){"use strict";var a=e("prop-types"),r=e("react"),n=e("lodash"),i=e("create-react-class"),o=e("../../../common/imageExtension"),l=e("../../../reactMixins/falkor-auto-fetch"),u=i({displayName:"PersonHeader",statics:{getPaths:function(e,t,s){return[["headshot",o.getExtensionForOpaqueImage(e)],[n.get(e,"truths.data.useSearchAPIV2",!1)?"header":"name"]]}},mixins:[l],contextTypes:{models:a.object.isRequired,getModelData:a.func.isRequired},getSuggestionTitle:function(){var e=this.props.suggestionsModel.getValueSync(["length"]),t=this.props.model.getValueSync(["header"]),s=t&&t.suggestionId,a=t&&t.suggestionType;if(!s||!a)return"";for(var r=0;r<e;r++){var n=this.props.suggestionsModel.bind([r]),i=n&&n.getValueSync(["summary"]);if(i&&i.id===s&&i.type===a)return i.name}return t.fallbackTitle},getHeaderString:function(){if(this.context.getModelData("truths","useSearchAPIV2",!1)){var e=this.props.model.getValueSync(["header"]);return e&&e.listNameTemplate.replace("${TITLE}",this.getSuggestionTitle())}return this.props.model.getValueSync(["name"])},render:function(){var e=this.props.model,t=e.getValueSync(["headshot",o.getExtensionForOpaqueImage(this.context.models)]);return r.createElement("div",{className:"personHeader"},t?r.createElement("img",{className:"headshot",src:t}):null,r.createElement("div",{className:"title",dangerouslySetInnerHTML:{__html:this.getHeaderString()}}))}});t.exports=u});C.r("akira/containers/subHeaders/suggestionHeader.jsx",function(e,t,r){"use strict";var a=e("prop-types"),s=e("react"),n=e("create-react-class"),i=n({displayName:"SuggestionHeader",contextTypes:{getModelData:a.func.isRequired},statics:{getPaths:function(e,t,r){return[["header"]]}},getSuggestionTitle:function(){var e=this.props.suggestionsModel.getValueSync(["length"]),t=this.props.model.getValueSync(["header"]),r=t&&t.suggestionId,a=t&&t.suggestionType;if(!r||!a)return"";for(var s=0;s<e;s++){var n=this.props.suggestionsModel.bind([s]),i=n&&n.getValueSync(["summary"]);if(i&&i.id===r&&i.type===a)return i.name}return t.fallbackTitle},getHeaderString:function(){var e=this.props.model,t=e.getValueSync(["header"]);if(this.context.getModelData("truths","useSearchAPIV2",!1))return t&&t.listNameTemplate.replace("${TITLE}",this.getSuggestionTitle());var r=e.getValueSync(["summary"])&&e.getValueSync(["summary"]).name;return r&&t?t.replace("${TITLE}",r):r},render:function(){return s.createElement("div",{className:"suggestionHeader"},s.createElement("div",{className:"title"},this.getHeaderString()))}});t.exports=i});C.r("akira/redux/createActionGroup.js",function(t,n,r){"use strict";function i(t){return t.do?t:a.create(function(n){return t.subscribe(function(t){return n.next(t)},function(t){return n.error(t)},function(){return n.complete()}),c.noop})}function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,e=r(),c=function(n){var r=this;return n===s?function(){return r}:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0===t[n]&&d("Key "+n+" is not an available action");var i=r instanceof Object?r:{data:r};return t[n](Object.assign({},i,{eventUuid:e})),this}};return{dispatchStartAction:c(n.start||s),dispatchSuccessAction:c(n.success||s),dispatchFailureAction:c(n.failure||s),dispatchCancelAction:c(n.cancel||s),wrapObservable:function(t){var n=this;return i(t).do(function(t){t&&t.error?n.dispatchFailureAction(t):n.dispatchSuccessAction(t)},function(t){return n.dispatchFailureAction(t)})}}}var c=t("lodash"),o=t("tiny-uuid"),u=t("../../utils/throwError"),a=t("../../utils/rx/shakti-rx").RxObservable,s="__no_binding_provided__",d=function(t){return u("ActionKeyNotPresentError",t)};n.exports=e});C.r("akira/redux/discovery/discoveryActions.js",function(e,o,r){"use strict";var s=e("../../../player/nfplayer/domain/common/createAction"),a=e("../eventUuidUtils"),l=a.ensureWithRandomUuid,t=e("ramda/src/compose"),i={addToPlaylist:"addToPlaylist",addToPlaylistSuccess:"addToPlaylistSuccess",addToPlaylistFailed:"addToPlaylistFailed",startPageLoad:"startPageLoad",expireApp:"expireApp",changeRoute:"changeRoute",forceUpdate:"forceUpdate",renoPushReceived:"renoPushReceived",renoPollingError:"renoPollingError",deferLolomoRefresh:"deferLolomoRefresh",websocketError:"websocketError",websocketClose:"websocketClose",refreshLolomo:"refreshLolomo",refreshLolomoStart:"refreshLolomoStart",refreshLolomoSuccess:"refreshLolomoSuccesss",refreshLolomoFailed:"refreshLolomoFailed",removeFromPlaylist:"removeFromPlaylist",removeFromPlaylistSuccess:"removeFromPlaylistSuccess",removeFromPlaylistFailed:"removeFromPlaylistFailed",setThumbRating:"setThumbRating",setThumbRatingSuccess:"setThumbRatingSuccess",setThumbRatingFailed:"setThumbRatingFailed"},d=s(i.addToPlaylist),c=s(i.addToPlaylistSuccess),m=s(i.addToPlaylistFailed),u=s(i.startPageLoad),h=s(i.expireApp),n=s(i.changeRoute),P=s(i.renoPushReceived),f=s(i.renoPollingError),y=s(i.deferLolomoRefresh),F=s(i.websocketError),R=s(i.websocketClose),T=s(i.refreshLolomo),g=s(i.refreshLolomoStart),L=s(i.refreshLolomoSuccess),S=s(i.refreshLolomoFailed),b=s(i.removeFromPlaylist),p=s(i.removeFromPlaylistSuccess),v=s(i.removeFromPlaylistFailed),k=t(s(i.setThumbRating),l),E=s(i.setThumbRatingSuccess),w=s(i.setThumbRatingFailed);o.exports={TYPES:i,actions:{addToPlaylist:d,addToPlaylistSuccess:c,addToPlaylistFailed:m,startPageLoad:u,expireApp:h,changeRoute:n,forceUpdate:s(i.forceUpdate),renoPushReceived:P,renoPollingError:f,deferLolomoRefresh:y,websocketError:F,websocketClose:R,refreshLolomo:T,refreshLolomoStart:g,refreshLolomoSuccess:L,refreshLolomoFailed:S,removeFromPlaylist:b,removeFromPlaylistSuccess:p,removeFromPlaylistFailed:v,setThumbRating:k,setThumbRatingSuccess:E,setThumbRatingFailed:w}}});C.r("akira/redux/eventUuidUtils.js",function(n,u,e){"use strict";function i(n,u){return Object.assign({eventUuid:n},u)}function t(n){return i(r(),n)}var r=n("tiny-uuid");u.exports={ensureUuid:i,ensureWithRandomUuid:t}});C.r("akira/redux/logging/commandTriggers.js",function(t,n,i){"use strict";function o(t,n){return u||!e.getModelData("truths").isCl2LoggingEnabledForDiscoveryPlayback?n:function(){var i=a.getInstance(),o=i.startSession(t),s=n.apply(this,arguments);return i.endSession(o),s}}var s=t("lodash"),a=t("shakti-platform/dist/ui/consolidatedLogging"),r=t("shakti-platform/dist/ui/consolidatedLogging/constants/commandTypes"),e=t("../../../common/appContext"),u=t("shakti-platform/dist/ui/utils/inNode"),g=s.mapValues(r,function(t){return function(n){return o(t,n)}});n.exports=g});C.r("akira/utils/focusUtils.js",function(e,t,a){"use strict";t.exports={focusableElementsString:"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",focusElement:function(e){if(e&&document.activeElement!==e)if(e.focus(),"number"==typeof e.selectionStart&&e.value)e.selectionStart=e.selectionEnd=e.value.length;else if(e.createTextRange&&e.value){var t=e.createTextRange();t.collapse(!1),t.select()}}}});C.r("akira/utils/horizontalScrolling.js",function(t,e,n){"use strict";var _=t("./touchEvents"),i={MIN_HORZ_SWIPE_THRESHOLD_IN_PX:65,MIN_VERT_SWIPE_THRESHOLD_IN_PX:30,ADVANCE_NEXT:"next",ADVANCE_PREV:"prev",deltaIndicatesAdvancement:function(t,e,n){var _=(n?-1:1)*t;if(Math.abs(e)<=this.MIN_VERT_SWIPE_THRESHOLD_IN_PX){if(_>=this.MIN_HORZ_SWIPE_THRESHOLD_IN_PX)return this.ADVANCE_NEXT;if(_<=-this.MIN_HORZ_SWIPE_THRESHOLD_IN_PX)return this.ADVANCE_PREV}return null},wheelAdvanceDirection:function(t,e){var n=Math.abs(t.deltaY);return"wheel"===t.type&&n<=this.MIN_VERT_SWIPE_THRESHOLD_IN_PX?(t.stopPropagation(),this.deltaIndicatesAdvancement(t.deltaX,t.deltaY,e)):null},touchAdvanceDirection:function(t,e,n){var i=_.getTouchObject(t),a=e?e.x-i.clientX:0,r=e?e.y-i.clientY:0;return{deltaX:a,deltaY:r,direction:this.deltaIndicatesAdvancement(a,r,n)}}};e.exports=i});C.r("akira/utils/linkDefs.jsx",function(e,t,i){"use strict";var r=e("../../utils/Routes"),s={getHomeRoute:function(e,t){return t?r.kidsHome:r.home},getGenreRoute:function(e,t){return t?r.kidsCategory:r.genre},getSimilarRoute:function(e,t){return t?r.kidsSimilars:r.similars},getTitleRoute:function(e,t){return t?r.kidsTitle:r.title},getEpisodeRoute:function(e,t){return t?r.kidsTitle:r.titleShowEpisodes},getSearchRoute:function(e,t){return t?r.kidsSearch:r.search},getNetflixOriginalsRoute:function(e,t){return t?r.kidsOriginals:r.netflixOriginals},getWatchRoute:function(e,t){return r.watchNow},hd:r.hd,person:r.person,recentlyAdded:r.recentlyAdded,justAdded:r.justAdded,newRelease:r.newRelease,genrenewrelease:r.genreNewRelease,audioDescription:r.audioDescription,audioDescriptionByGenre:r.audioDescriptionByGenre,subtitle:r.subtitle,subtitles:r.subtitle,audio:r.audio,tag:r.genre,queue:r.myList,searchPerson:r.searchPerson,searchDVD:r.searchDVD,kidsCharacter:r.kidsCharacter,kidsSearch:r.kidsSearch,kidsSearchSuggestion:r.kidsSearch,kidsCharacterGallery:r.kidsCharacterGallery,kidsOriginals:r.kidsOriginals,newArrivals:r.newArrivals,interact:r.interact,manageProfiles:r.manageProfiles,editProfiles:r.manageProfiles};s.home=s.getHomeRoute,s.genre=s.getGenreRoute,s.similars=s.getSimilarRoute,s.title=s.getTitleRoute,s.watchNow=s.getWatchRoute,s.search=s.getSearchRoute,s.searchSuggestion=s.getSearchRoute,s.netflixOriginals=s.getNetflixOriginalsRoute,t.exports=s});C.r("akira/utils/scheduler.js",function(e,u,t){"use strict";u.exports={queue:function(e,u){return u=u||10,setTimeout(function(){e()},u)},cancelQueuedItem:function(e){clearTimeout(e)}}});C.r("akira/utils/setDataAsProps.jsx",function(t,s,e){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=t("prop-types"),i=t("react"),n=t("create-react-class"),r=t("lodash"),l=t("../../utils/pathEvaluatorUtils"),h=t("../../reactMixins/falkor-auto-fetch");s.exports=function(t){function s(s,e,o,a,i){if(!u.paths)return t.getPaths(s,e,o,a,i);var n=void 0;return n=r.isFunction(u.paths)?u.paths(s,e,o,a,i):u.paths,n.myPaths=n.myPaths||{},n.boundLists=n.boundLists||{},n.childrenPaths=n.childrenPaths||[],n}function e(t,e,o,a,i){var n=s(t,e,o,a,i);return m=n.myPaths,f=n.boundLists,p&&(P=n.childrenPaths),r.values(m).concat(n.childrenPaths)}var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=u.autoFetch,c=u.usePqls,p=u.debug,m=void 0,f=void 0,P=void 0,y=d?[h]:[];return n({displayName:"SetDataAsProps"+t.displayName,mixins:y,contextTypes:{models:a.object.isRequired},propTypes:{model:a.object,pqls:a.array,mappedPqls:a.object},statics:{getPaths:e,__meta__:t.__meta__,Component:t},modelDataAsProps:{},defaultProps:{},componentWillMount:function(){this.setModelDataAsProps(this.props),this.defaultProps="function"==typeof t.getDefaultProps&&t.getDefaultProps()},componentWillUpdate:function(t){this.setModelDataAsProps(t)},getMyPaths:function(){return m||(m=s(this.context.models,null,{}).myPaths),m},getChildPaths:function(){return P||(P=s(this.context.models,null,{}).childrenPaths),P},getBoundLists:function(){return f||(f=s(this.context.models,null,{}).boundLists),f},_fetchData:function(s,o,a){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.fetchData(this.props.model,e(this.context.models,s,o),t.displayName+"-fetching",a,i)},setModelDataAsProps:function(t){var s=t.model,e=t.mappedPqls;if(this.modelDataAsProps={},this.modelFuncs={},s){var o=c?e:this.getMyPaths();d&&(this.modelFuncs.isFetchingData=!!this.isAutoLoading(t),this.modelFuncs.fetchData=this._fetchData);for(var a in o)o.hasOwnProperty(a)&&(this.isList(a,o)?this.setListWithValues(t,a,o):this.setSimpleValue(t,a,o));if(!c){var i=this.getBoundLists();for(var n in i)i.hasOwnProperty(n)&&this.setListAsBoundPaths(t,n,i)}}},isList:function(t,s){var e=s[t];if(!e)return!1;var o=e.length,a=this.isRangeObject(e[o-2]),i=e[o-1]&&e[o-1].length;return a||(a=this.isRangeObject(e[o-3])),a&&i},isRangeObject:function(t){return t&&(t.from||t.to)},setListWithValues:function(t,s,e){var o=this,a=e[s],i=a.length,n=this.isRangeObject(a[i-3])?3:2,r=a[i-n];if(r){var h=r.from||0,u=r.to||1,d=a.slice(0,i-n),c=d.length?t.model.bind(d):t.model,p=Array.isArray(a[i-1])?a[i-1]:[a[i-1]],m=3===n?a[i-2]:null;this.modelDataAsProps[s]=[];for(var f=h;f<u;f++)!function(t){var e=m?c.bind([t,m]):c.bind([t]),a=!1;if(e&&e.getBoundValue()&&p&&p.length){var i={};p.map(function(t){var s=e.getValueSync([t]);l.isValueValid(s)&&(a=!0,i[t]=s)}),a&&(o.modelDataAsProps[s][t]=i)}}(f)}},setListAsBoundPaths:function(t,s,e){var o=e[s],a=o.length,i=t.model.bind(o.slice(0,a-1)),n=o[a-1],r=n.from||0,l=n.to||1;this.modelDataAsProps[s]=[];for(var h=r;h<l;h++){var u=i.bind([h]);u&&u.getBoundValue()&&(this.modelDataAsProps[s][h]=u)}},setSimpleValue:function(t,s,e){var a=e[s],i=o(this.defaultProps[s]),n=t.model.getValueSync(a),r=!l.isValueValid(n);r&&(this.modelDataAsProps.dataErrors||(this.modelDataAsProps.dataErrors={}),this.modelDataAsProps.dataErrors[s]=n),(!r||r&&!i)&&(this.modelDataAsProps[s]=n)},render:function(){return i.createElement(t,Object.assign({},this.modelDataAsProps,this.props,this.modelFuncs))}})}});C.r("akira/utils/sortable.js",function(R,_,O){"use strict";var r=R("lodash"),E={DEFAULT_SORT_ORDER:"su",ARO_DEFAULT_SORT_ORDER:"rw",ORDER_BY:{SUGGESTIONS:"su",YEAR:"yr",A_Z:"az",Z_A:"za",MATURITY:"mr",ROW:"rw"},getSortOrder:function(R,_){return r.includes(E.SORT_ORDER_QUERY_PARAMS,R.so)?R.so:_||E.DEFAULT_SORT_ORDER}};E.SORT_ORDER_QUERY_PARAMS=r.values(E.ORDER_BY),_.exports=E});C.r("akira/utils/syntheticMouseEvent.js",function(e,t,n){"use strict";function o(e){var t=document.createEvent("MouseEvent"),n=document.elementFromPoint(e.x,e.y);t.initMouseEvent(e.type,!0,!0,window,null,e.x,e.y,0,0,!1,!1,!1,!1,0,null),t.synthetic=!0,n.dispatchEvent(t)}var s=e("lodash"),i={mouseOver:function(e){o(s.assign({type:"mouseover"},e))}};t.exports=i});C.r("akira/utils/touchEvents.js",function(t,n,o){"use strict";var e=t("shakti-platform/dist/ui/utils/inNode"),i={isTouchEnabled:function(){return!e&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)},getTouchObject:function(t){return!this.isTouchEnabled()||t.pointerType&&"mouse"===t.pointerType?t:t.changedTouches?t.changedTouches[0]:t},getTouchObjectStart:function(t){var n=this.getTouchObject(t);return{x:n.clientX,y:n.clientY}}};n.exports=i});C.r("akira/utils/watched.js",function(e,t,n){"use strict";function r(e){var t=e.bind(["current"]),n=e.getValueSync(["summary"]),r=t.getValueSync(["summary"]);return(n&&n.id)===(r&&r.id)}var u=function(e){var t=void 0,n=void 0,r=void 0,u=void 0,a=e.getValueSync(["current","title"]),i=e.getValueSync(["current","summary"]),o=e.getValueSync(["seasonList","current","summary"]);return i&&i.hiddenEpisodeNumbers||o&&o.hiddenEpisodeNumbers?{TITLE:a,SEASON:t}:(o&&(t=o.name,n=o.shortName),i&&(r=i.episode,u=i.season),{SEASON:t,SEASON_ABBR:n,SEASON_NUMBER:u,EPISODE_NUMBER:r,TITLE:a})};t.exports={getPaths:function(){return[["watched"],["episodeCount"],["seasonList","current","summary"]].concat([["current",["title","bookmarkPosition","summary"]]])},isInResumeState:function(e){var t=e.bind(["current"]);if(!t.getBoundValue())return!1;var n=t.getValueSync(["bookmarkPosition"]),u=t.getValueSync(["runtime"]);if(!n||!u)return!1;var a=n/u,i=n&&n>30,o=r(e)?a<.95:u-n>20;return i&&o},isInNextUpState:function(e){var t=e.getValueSync(["current","bookmarkPosition"]),n=e.getValueSync(["watched"]);return e.getValueSync(["episodeCount"])&&n&&t<=30},hasBeenWatched:function(e){return e.getValueSync(["watched"])},getResumeParams:function(e){return u(e)}}});C.r("akira/views/search.jsx",function(e,t,s){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},i=e("lodash"),n=e("prop-types"),o=e("react"),a=e("create-react-class"),c=e("classnames"),d=e("../../utils/pathEvaluatorUtils"),h=e("../containers/gallery.jsx"),l=e("../containers/subHeaders/personHeader.jsx"),g=e("../containers/subHeaders/suggestionHeader.jsx"),u=e("../components/search/searchPeople.jsx"),p=e("../components/search/noResults.jsx"),I=e("../components/search/searchSuggestions.jsx"),f=e("../components/search/searchDVDs.jsx"),m=e("../components/search/dvdUpsell.jsx"),v=e("../../reactMixins/falkor-auto-fetch"),P=e("../../reactMixins/eventBus"),S=e("../../common/appContext"),x=e("../../utils/Routes"),y=e("../../utils/RouteHelpers"),k=e("../akiraContextTypes"),E=e("../../utils/imageLoadTracker"),b=function(e,t){return i.get(e,"truths.data.useSearchAPIV2",!1)?["search","byTerm","|"+t]:["search",encodeURIComponent(t)]},M=function(e,t,s){var r=i.get(e,"truths.data.useSearchAPIV2",!1),n=b(e,s.term),o=u.getPaths(e).map(function(e){return n.concat(e)}),a=I.getPaths(e).map(function(e){return n.concat(e)}),c=S.getModelData("userInfo"),d=c&&c.isDVD,p=void 0,v=void 0,P=[];if(r){var x=h.getNumTitlesToFetch(t,s),y=s.personId||s.suggestionId||s.dvdId;p=y?["search","byEntity",y,x]:n.concat("titles",x),v=p}else p=n.concat("titles"),s.personId&&(p=u.pathPrefix(e).concat(s.personId)),s.suggestionId&&(p=n.concat(["suggestions",encodeURI(s.suggestionId),"relatedvideos"]),v=n.concat(["suggestions",encodeURI(s.suggestionId)])),s.dvdId&&(p=n.concat(["dvds",s.dvdId,"relatedvideos"]),v=n.concat(["dvds",s.dvdId]));var k=r?Object.assign({},s,{videoRoot:"reference"}):s;P=h.getPaths(e,t,k).map(function(e){return p.concat(e)});var E=P.concat(o).concat(a).concat([p.concat(["referenceId"])]);if(d){var M=f.getPaths(e).map(function(e){return n.concat(e)});E=E.concat(M)}if(s.personId){var R=l.getPaths(e).map(function(e){return p.concat(e)});E=E.concat(R)}if(s.suggestionId||s.dvdId){var V=m.getPaths(e).concat(g.getPaths(e));E=E.concat(V.map(function(e){return v.concat(e)}))}return E},R=a({displayName:"Search",contextTypes:Object.assign({history:n.object.isRequired,models:n.object.isRequired,getModelData:n.func.isRequired,renderTracker:n.object},k),mixins:[v],statics:{pathPrefix:b,getPaths:M},pageKey:null,hasLoggedImpression:!1,getFalkorModel:function(){return this.props.model.pathEvaluator},getSearchGalleryModel:function(){if(this.context.getModelData("truths","useSearchAPIV2",!1))return this.getFalkorModel().bind(["search","byReference",this.getReferenceId()]);var e=this.getSearchBaseModel(),t=void 0;return e&&(t=this.getPersonId()?this.props.model.pathEvaluator.bind(u.pathPrefix(this.context.models).concat(this.getPersonId())):void 0!==this.getSuggestionId()?e.bind(I.pathPrefix(this.context.models).concat(this.getSuggestionId(),"relatedvideos")):i.isNumber(this.getDvdId())?e.bind(["dvds",this.getDvdId(),"relatedvideos"]):e.bind(["titles"])),t},getSuggestionsModel:function(){return this.getSearchBaseModel().bind(I.pathPrefix(this.context.models))},getPeopleModel:function(){return this.getSearchBaseModel().bind(u.pathPrefix(this.context.models))},isRailPage:function(){return!!(this.props.personId||this.props.suggestionId||this.props.dvdId)},hasSuggestions:function(){return I.hasSuggestions(this.context.models,this.getSuggestionsModel())},hasPeople:function(){return u.hasPeople(this.context.models,this.getPeopleModel())},getFirstPersonId:function(){return u.getFirstPersonId(this.context.models,this.getPeopleModel())},hasFallBackPage:function(){return!this.isRailPage()&&(this.hasSuggestions()||this.hasPeople())},getFirstSuggestionId:function(){return I.getFirstSuggestionId(this.context.models,this.getSuggestionsModel())},getSuggestionUrl:function(e){return e||0===e?y.getSearchSuggestionUrl(this.props.term,e,this.context.isKidsPage):null},getPersonUrl:function(e){return e?x.search.makePath(null,{q:this.props.term,personId:e}):null},getFallBackPage:function(){return this.hasFallBackPage()?this.hasSuggestions()?this.getSuggestionUrl(this.getFirstSuggestionId()):this.getPersonUrl(this.getFirstPersonId()):null},getSearchBaseModel:function(){return this.getFalkorModel().bind(b(this.context.models,this.props.term))},getReferenceId:function(){if(this.context.getModelData("truths","useSearchAPIV2",!1)){var e=this.getPersonId()||this.getSuggestionId()||this.getDvdId();if(e){var t=["search","byEntity",e,h.getNumTitlesToFetch(),"referenceId"];return this.props.model.pathEvaluator.getValueSync(t)}var s=this.getSearchBaseModel().bind(["titles",h.getNumTitlesToFetch()]);return s&&s.getValueSync(["referenceId"])}var r=this.getSearchBaseModel(),i=r.bind(["titles"]),n=this.getSuggestionId(),o=i&&i.getValueSync(["referenceId"]);return r&&this.getPersonId()?this.getPersonRefId(r.bind(u.pathPrefix(this.context.models))):r&&void 0!==n?r.getValueSync(I.pathPrefix(this.context.models).concat(n,"referenceId")):r&&this.getDvdId()?r.getValueSync(["dvds","referenceId"]):o},getPersonRefId:function(e){var t=e.getValueSync(["summary"]),s=parseInt(this.props.personId,10),r=void 0,i=void 0,n=void 0;if(!t)return null;for(i=0;i<t.length;i++)if(r=e.bind([i,"person"]),n=r.getValueSync(["summary"]),s===n.id)return e.bind([i]).getValueSync(["referenceId"]);return null},getSearchView:function(){var e="titleResults",t=this.getSuggestionId();return this.getPersonId()&&(e="peopleTitleResults"),void 0!==t&&(e="suggestionTitleResults"),this.getDvdId()&&(e="dvdTitleResults"),e},getSearchPageKey:function(){return this.props.term+":"+this.getPersonId()+":"+this.getSuggestionId()+":"+this.getDvdId()},logSearchImpression:function(e){var t=void 0;this.isLoading()||!e&&this.hasLoggedImpression||(t=this.getReferenceId())&&(P.emit("search:impression",{referenceId:t,view:this.getSearchView()}),this.hasLoggedImpression=!0)},componentDidMount:function(){this.logSearchImpression(),this.context.renderTracker&&(this.renderId=this.context.renderTracker.startSession("search"))},logSearchError:function(e,t){P.emit("search:error",{view:this.getSearchView(),id:e,reffId:this.getReferenceId(),parentReffId:t})},logEmptyRailPageError:function(){if(this.context.getModelData("truths","useSearchAPIV2",!1)){var e=this.getPersonId()||this.getSuggestionId()||this.getDvdId();return void this.logSearchError(e)}var t=this.getSearchBaseModel();if(this.props.personId){var s=t.bind(u.pathPrefix(this.context.models));this.logSearchError(this.props.personId,s&&s.getValueSync(["reference"]))}else{var r=void 0===this.props.suggestionId,i=r?f.pathPrefix(this.context.models):I.pathPrefix(this.context.models),n=t.bind(i.concat(r?this.props.dvdId:this.props.suggestionId)),o=n&&n.getValueSync(["summary"]),a=t.bind([i]);this.logSearchError(o&&o.id,a&&a.getValueSync(["reference"]))}},logSuggestionFallBack:function(){var e=this.getSearchBaseModel(),t=e.bind(I.pathPrefix(this.context.models).concat(0));P.emit("search:focus",{autoClick:!0,id:this.getFirstSuggestionId(),referenceId:t.getValueSync(["referenceId"])})},logPersonFallBack:function(){var e=this.getSearchBaseModel();P.emit("search:focus",{autoClick:!0,id:this.getFirstPersonId(),referenceId:e.bind(u.pathPrefix(this.context.models).concat(0)).getValueSync(["referenceId"])})},redirectToFallbackIfExists:function(){var e=this.getFallBackPage();e&&(this.hasSuggestions()?this.logSuggestionFallBack():this.logPersonFallBack(),this.context.history.replaceState(e))},isEmpty:function(){var e=this.getSearchGalleryModel();return this.context.getModelData("truths","useSearchAPIV2",!1)?h.isEmpty(e,"reference"):h.isEmpty(e)},componentDidUpdate:function(e,t){var s=this.getSearchPageKey(),r=this.pageKey!==s;this.isEmpty()&&(this.isRailPage()?this.logEmptyRailPageError():this.redirectToFallbackIfExists()),r&&(this.pageKey=s,this.hasLoggedImpression=!1),this.logSearchImpression()},componentWillReceiveProps:function(e,t){var s=this;t.renderTracker&&["term","personId","dvdId","suggestionId"].some(function(t){return e[t]!==s.props[t]})&&(this.renderId=t.renderTracker.startSession("search"))},shouldComponentUpdate:function(){return!this.isLoading()},onRailClick:function(e,t){var s=t.resolver?t.resolver(this.context.models,this.context.isKidsPage):t.to;this.isRailPage()?this.context.history.replaceState(s.makePath(t.params,t.query)):this.context.history.pushState(s.makePath(t.params,t.query)),e.preventDefault(),e.stopPropagation()},castEntityIdIfOldAPI:function(e){return this.context.getModelData("truths","useSearchAPIV2",!1)?e:e&&parseInt(e,10)},getPersonId:function(){return this.castEntityIdIfOldAPI(this.props.personId)},getSuggestionId:function(){return this.castEntityIdIfOldAPI(this.props.suggestionId)},getDvdId:function(){return this.castEntityIdIfOldAPI(this.props.dvdId)},getTrackIdOverrides:function(e){var t=void 0,s=this.getPersonId()||this.getSuggestionId();return this.context.getModelData("truths","useSearchAPIV2",!1)&&s?this.getFalkorModel().getValueSync(["search","byEntity",s,"trackId"]):(this.getPersonId()&&(t=e.bind(u.pathPrefix(this.context.models)).getValueSync(["trackId"])),void 0!==this.getSuggestionId()&&(t=e.bind(I.pathPrefix(this.context.models)).getValueSync(["trackId"])),{trackId:t,jawBoneTrackId:t,jawBoneEpisodeTrackId:t,jawBoneTrailerTrackId:t})},hasSearchError:function(){var e=this.state&&this.state.fetchDataError,t=void 0;if(e){t=this.getSearchBaseModel();var s=this.context.getModelData("truths","useSearchAPIV2",!1)?[0,"reference"]:[0];return t&&d.isValueError(t.getValueSync(s))}return!1},logRenderCompleted:function(){var e=this;this.context.renderTracker&&this.renderId&&E.trackBySelectors([".video-artwork"]).then(function(){e.context.renderTracker.endSession(e.renderId),e.renderId=null}).catch(function(t){e.context.renderTracker.endSession(e.renderId,t),e.renderId=null})},logPageError:function(){this.logSearchError(),this.context.renderTracker&&this.context.renderTracker.cancel()},componentWillUnmount:function(){this.context.getModelData("truths","useSearchAPIV2",!1)&&(this.props.model.pathEvaluator.invalidate(["search","byTerm"]).subscribe(),this.props.model.pathEvaluator.invalidate(["search","byEntity"]).subscribe())},render:function(){var e=this.props.term,t=this.getSearchBaseModel(),s=this.getSearchGalleryModel(),n=i.get(this.context.models,"userInfo.data"),a=this.getPersonId(),d=this.getSuggestionId(),v=t.bind(I.pathPrefix(this.context.models)),P=this.getDvdId(),S=!(!n||!n.isDVD)&&n.isDVD,x=this.getReferenceId(),y=this.getSearchPageKey(),k=this.context.getModelData("truths","useSearchAPIV2",!1),E=o.createElement("div",{className:"rail"},S&&!this.context.isKidsPage?o.createElement(f,{model:t,searchKey:y,term:e,ref:"searchDVDs",dvdId:P,onRailClick:this.onRailClick}):null,o.createElement(I,{model:t,searchKey:y,term:e,ref:"searchSuggestions",pqls:I.getPaths(),suggestionId:d,onRailClick:this.onRailClick}),o.createElement(u,{model:t,searchKey:y,term:e,ref:"searchPeople",pqls:u.getPaths(),personId:a,onRailClick:this.onRailClick})),b=null,M=void 0,R=void 0;if((a||void 0!==d)&&(M=this.getTrackIdOverrides(t)),a)b=o.createElement(l,{model:s,suggestionsModel:v,pqls:l.getPaths(this.context.models)});else if(void 0!==d){R=k?s:v.bind([d]);var V=R&&R.bind(["dvdresult"]);b=V&&V.getValueSync(["title"])&&!this.context.isKidsPage?o.createElement("div",null,o.createElement(m,{model:R,referenceId:x}),o.createElement(g,{model:R,suggestionsModel:v})):o.createElement(g,{model:R,suggestionsModel:v})}else void 0!==P&&(R=k?s:t.bind(["dvds",P]),b=o.createElement("div",null,o.createElement(m,{model:R,referenceId:x}),o.createElement(g,{model:R,suggestionsModel:v})));var D=c({searchTitleHeader:!b}),T=o.createElement("div",{className:D},E,b),F=k?"reference":void 0;return o.createElement("div",{className:c("search")},o.createElement(h,r({},this.props,{keyPrefix:"search",videoRoot:F,key:y,model:s,noResults:this.hasFallBackPage()?o.createElement("div",null):o.createElement(p,{term:this.props.term}),isPrefetchingPaths:this.isLoading(),pqls:h.getPaths(this.context.models,void 0,{videoRoot:F}),referenceId:x,header:T,trackIds:M,onInteractive:this.logRenderCompleted,onError:this.logPageError})))}});t.exports=R});C.r("common/imageExtension.js",function(e,n,t){"use strict";var r=e("../common/appContext"),o={canUseWebPFromContext:function(e){var n=e?e.browserInfo&&e.browserInfo.data||e.browserInfo:r.getModelData("browserInfo");return!!n&&n.features.webp},getExtensionForOpaqueImage:function(e){return this.getWebpOrFallback(e,"jpg")},getExtensionForTransparentImage:function(e){return this.getWebpOrFallback(e,"png")},getWebpOrFallback:function(e,n){return this.canUseWebPFromContext(e)?"webp":n}};n.exports=o});C.r("common/playPrediction/playPredictionUtils.js",function(i,n,t){"use strict";function e(i){return i.playPredictionEnabled||i.playPredictionV2Enabled}n.exports={isPlayPredictionEnabled:e}});C.r("common/position.js",function(t,e,i){"use strict";var n={getRect:function(t){return t&&t.getBoundingClientRect()},getWindowRect:function(){var t=window,e=document,i=e.documentElement,n=e.getElementsByTagName("body")[0],o=t.innerWidth||i.clientWidth||n.clientWidth,h=t.innerHeight||i.clientHeight||n.clientHeight;return{top:0,bottom:h,left:0,right:o,width:o,height:h}},isElementInViewport:function(t){return this.isElementInRegion(this.getRect(t),this.getWindowRect())},isElementInRegion:function(t,e){var i=t.left+(t.right-t.left)/2,n=t.top+(t.bottom-t.top)/2;return t.left!==t.right&&e.left!==e.right&&(i>=e.left&&i<=e.right&&n>=e.top&&n<=e.bottom)},getScrollTop:function(){return window.pageYOffset},getDistanceToTopOfElement:function(t){var e=this.getScrollTop(),i=this.getWindowRect(),n=this.getRect(t),o=e+i.height;return n.top+e-o},getDistanceToBottomOfElement:function(t){var e=this.getScrollTop(),i=this.getWindowRect(),n=this.getRect(t),o=e+i.height;return n.top+e+n.height-o},getTotalDocumentSize:function(){return{height:void 0!==document.height?document.height:document.body.offsetHeight,width:void 0!==document.width?document.width:document.body.offsetWidth}}};e.exports=n});C.r("common/presentationTracking/presentationTracking.js",function(e,t,n){"use strict";var i=e("lodash"),r=e("../../common/appContext"),o=e("../position"),a=(e("../nfNamespace"),e("../../reactMixins/eventBus")),c=e("./presentationTrackingConsts"),l=e("./presentationTrackingStorage.js"),s=e("./presentationTrackingSender.js"),u=function(e){return c.IN_NODE?void 0:i.get(r.getModelData("fastProps"),e)},d={_viewportRegion:null,_onScreen:{},_onScreenElems:{},_headerEl:null,_initialized:!1,_verticalScrollPosition:0,_trackedElements:[],_isElementInRegion:function(e,t){var n=e.left+(e.right-e.left)/2,i=e.top+(e.bottom-e.top)/2;return e.left!==e.right&&t.left!==t.right&&(n>=t.left&&n<=t.right&&i>=t.top&&i<=t.bottom)},_calcWindowActiveRegion:function(){if(!this._headerEl){var e=document.querySelector(c.GLOBAL_HEADER_SELECTOR);this._headerEl=e}var t=o.getWindowRect();return{left:0,top:this._headerEl&&"fixed"===window.getComputedStyle(this._headerEl).getPropertyValue("position")?this._headerEl.getBoundingClientRect().height:0,right:t.right,bottom:t.bottom}},_scanElement:function(e){return this._isElementInRegion(o.getRect(e),this._viewportRegion)},_extractTrackingData:function(e){return JSON.parse(decodeURI(e.getAttribute("data-ui-tracking-context")))},_findAllVisibleElements:function(e,t){var n=this,r=e.filter(function(e){return-1===t.indexOf(e)&&n._scanElement(e)}).map(function(e){return e.getElementsByClassName(c.ELEMENT_SELECTOR_CLASS)}).reduce(function(e,t){return Object.assign(e,i.mapKeys(t,function(e){return e.getAttribute("data-tracking-uuid")}))},{});return i.pick(r,function(e){return n._scanElement(e)})},_fullScan:function(e,t){return function(){return t.apply(this,arguments)}}("fullScan",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=this._onScreen,r=Array.prototype.slice.call(document.getElementsByClassName(c.CONTAINER_SELECTOR_CLASS)),o=Array.prototype.slice.call(document.querySelectorAll("."+c.DISABLED_SECTION_SELECTOR_CLASS+" ."+c.CONTAINER_SELECTOR_CLASS)),a=(new Date).getTime();t._viewportRegion=t._calcWindowActiveRegion();var l=window.scrollY;t._verticalScrollPosition!==l&&(e.yScrollDirection=t._verticalScrollPosition<l?c.Y_SCROLL_DIRECTION.DOWN:c.Y_SCROLL_DIRECTION.UP);var s=t._findAllVisibleElements(r,o),u=i.mapValues(s,function(e){var n=t._extractTrackingData(e);return n.time=n.time||a,n}),d=Object.keys(s).filter(function(e){return!n[e]}),_=Object.keys(n).filter(function(e){return!s[e]});return e.data={elements:u,added:d,removed:_},t._verticalScrollPosition=l,t._onScreen=u,t._onScreenElems=s,e}),requestScan:i.debounce(function(e){d._initialized&&a.emit(c.FULL_SCAN,d._fullScan(e))},u(c.FAST_PROPS.DEBOUNCE_MS)),init:function(){if(!this._initialized&&!c.IN_NODE&&u(c.FAST_PROPS.ACTIVE)){var e=this;l.init(),s.start();var t=function(){window.addEventListener("scroll",function(){e.requestScan({event:c.SCAN_EVENTS.SCROLL})}),window.addEventListener("resize",function(){e.requestScan({isResize:!0,event:c.SCAN_EVENTS.RESIZE})})};"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?t():document.addEventListener("DOMContentLoaded",t,!1),a.on(c.FULL_SCAN,function(e){var t=e.data,n=t.added,r=t.elements;i.isEmpty(n)||l.save(n.map(function(e){return r[e]}))}),this._verticalScrollPosition=window.scrollY,this._initialized=!0}},registerElement:function(e,t){this._trackedElements[t]=e},unregisterElement:function(e){delete this._trackedElements[e]}};t.exports=d});C.r("common/presentationTracking/presentationTrackingConsts.js",function(t,E,n){"use strict";var e=t("lodash"),S=t("shakti-platform/dist/ui/ShaktiProperties"),i=t("../../common/appContext"),o=t("shakti-platform/dist/ui/utils/inNode"),T={IN_NODE:o,DEFAULT_TRACKING_VALUES:{NUMBER:-99,OBJECT:{},ARRAY:[],STRING:"unknown",BOOLEAN:!1},FAST_PROPS:{SEND_INTERVAL_MS:"ui.presTracking.sendIntervalMs",ACTIVE:"ui.presTracking.isActive",DEBOUNCE_MS:"ui.presTracking.scanDebounceMs"},TRANSPORT:{MAX_SEND_ERROR:10,MAX_CONCURRENT_ATTEMPTS:4,ENDPOINT:"/uitracking/users/presentationtracking"},STORAGE:{NAMESPACE:"nfpt",MAX_ITEMS:250,DEFAULT_DATASTORE:{totalContentLength:0,values:[]}},DISABLED_SECTION_SELECTOR_CLASS:"ptrack-disabled",GLOBAL_HEADER_SELECTOR:"#hdPinTarget",CONTAINER_SELECTOR_CLASS:"ptrack-container",ELEMENT_SELECTOR_CLASS:"ptrack-content",DEBUG_ENTERING_CLASS:"ptdebug-entering",DEBUG_CURRENT_CLASS:"ptdebug-current",GEO:i.getModelData("geo"),BROWSERINFO:i.getModelData("browserInfo"),FULL_SCAN:"pt:fullscan",SCAN_EVENTS:{INIT:"init",SCROLL:"scroll",RESIZE:"resize"},Y_SCROLL_DIRECTION:{UP:1,DOWN:-1},LOLOMO_SCROLL:"lolomoScroll"};T.TRANSPORT.IMPRESSION_SEND_INTERVAL_MS_START=T.IN_NODE?void 0:S.get(T.FAST_PROPS.SEND_INTERVAL_MS),T.DEBUG=!T.IN_NODE&&!!window.location.search.match(/ptdebug=1/),T.TIMING=!T.IN_NODE&&!!window.location.search.match(/pttiming=1/),T.TRANSPORT.REQUEST_DEFAULTS={country:e.get(T.GEO,"requestCountry.id","null"),application_name:"AKIRA",application_v:e.get(i.getModelData("serverDefs"),"BUILD_IDENTIFIER"),sw_version:function(t){return t&&t.os?t.os.name+" "+t.os.version+", "+t.name+" "+t.version:"null"}(T.BROWSERINFO)},E.exports=T});C.r("common/presentationTracking/presentationTrackingSender.js",function(t,n,e){"use strict";var r=t("lodash"),s=t("../../utils/XHR"),o=t("./presentationTrackingStorage"),a=t("./presentationTrackingConsts"),i={_sendInterval:null,_currentAttempts:0,_sendErrorCount:0,_send:function(){var t=this,n=o.fetch();if(!(!n.totalContentLength||t._sendErrorCount>a.TRANSPORT.MAX_SEND_ERROR||t._currentAttempts>a.TRANSPORT.MAX_CONCURRENT_ATTEMPTS)){var e=[],i=[];r.forEach(n.values,function(t){e.push(t.key),i=i.concat(t.contents)});var c=r.cloneDeep(a.TRANSPORT.REQUEST_DEFAULTS);c.data=JSON.stringify(i),t._currentAttempts++;s.request({method:"post",data:c,resource:"/presentationtracking",service:"uitracking",postType:"text"}).subscribe(function(){o.remove(e),t._sendErrorCount=0,t._currentAttempts--},function(n,e){t._sendErrorCount++,t._currentAttempts--})}},start:function(){var t=this;t._sendInterval||a.IN_NODE||(t._send(),t._sendInterval=window.setInterval(function(){t._send()},a.TRANSPORT.IMPRESSION_SEND_INTERVAL_MS_START))},stop:function(){this._sendInterval&&window.clearInterval(this._sendInterval)}};n.exports=i});C.r("common/presentationTracking/presentationTrackingStorage.js",function(e,t,n){"use strict";var o=e("lodash"),i=e("./presentationTrackingConsts"),r={_initialized:!1,_inMemoryCache:null,_writeOutLocalStorage:function(){try{return localStorage.setItem(i.STORAGE.NAMESPACE,JSON.stringify(this._inMemoryCache)),!0}catch(e){return!1}},_loadFromStorage:function(){var e=void 0;try{e=JSON.parse(localStorage.getItem(i.STORAGE.NAMESPACE)),e&&o.isNumber(e.totalContentLength)&&o.isArray(e.values)||(e=void 0)}catch(e){}this._inMemoryCache=e||o.cloneDeep(i.STORAGE.DEFAULT_DATASTORE)},init:function(){this._initialized||i.IN_NODE||(this._loadFromStorage(),this._initialized=!0)},save:function(e){var t=o.now(),n=this;return n._inMemoryCache.values.push({key:t,contents:e}),n._inMemoryCache.totalContentLength+=e.length,n._inMemoryCache.totalContentLength>i.STORAGE.MAX_ITEMS&&(n._inMemoryCache.values=o.dropWhile(r._inMemoryCache.values,function(e){return n._inMemoryCache.totalContentLength>i.STORAGE.MAX_ITEMS&&(n._inMemoryCache.totalContentLength-=e.contents.length,!0)})),n._writeOutLocalStorage(),t},remove:function(e){var t=this,n=[];return o.isArray(e)||(e=[e]),o.remove(t._inMemoryCache.values,function(o){return-1!==e.indexOf(o.key)&&(n.push(o.key),t._inMemoryCache.totalContentLength-=o.contents.length,!0)}),t._writeOutLocalStorage(),n},fetch:function(){return o.cloneDeep(this._inMemoryCache)},kill:function(){this._inMemoryCache=o.cloneDeep(i.STORAGE.DEFAULT_DATASTORE),this._writeOutLocalStorage()}};t.exports=r});C.r("components/CenteredImage.jsx",function(e,t,a){"use strict";var r=e("lodash"),s=(e("prop-types"),e("react")),n=e("create-react-class"),o=e("../utils/focalPoint"),i=n({displayName:"CenteredImage",render:function(){var e=this.props,t=e.focalPoint,a=r.assign({},e.style,{backgroundImage:"url("+e.url+")",backgroundPosition:t?o.getBackgroundPositionOffset(t.containerWidth,t.imageWidth,t.x):"50% 50%"});return s.createElement("div",{className:e.className,style:a},e.children)}});t.exports=i});C.r("components/presentationTracking/presentationTrackingContainer.jsx",function(e,r,a){"use strict";var n=(e("prop-types"),e("react")),s=e("create-react-class"),t=e("classnames"),c=s({displayName:"PresTrackedContainer",render:function(){return n.createElement("div",{className:t("ptrack-container",this.props.className)},this.props.children)}});r.exports=c});C.r("components/presentationTracking/trackingComponents/accountDropdownPanelPresTracking.js",function(n,o,t){"use strict";var a=n("./createTrackingComponent"),e=n("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");o.exports=a({appView:e.accountDropdownPanel})});C.r("components/presentationTracking/trackingComponents/boxartPresTracking.js",function(e,n,r){"use strict";var t=e("./createTrackingComponent"),o=e("prop-types"),s=e("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");n.exports=t({appView:s.boxArt,usePresentedEvent:!0,propTypes:{location:o.string,rank:o.number,requestId:o.string,row:o.number,trackId:o.number,videoId:o.number,imageKey:o.string,isDoubleWide:o.bool}})});C.r("components/presentationTracking/trackingComponents/createTrackingComponent.js",function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){var e=t.appView,n=t.usePresentedEvent,i=t.propTypes,k=void 0===i?{}:i,b=t.propsTransformer,T=void 0===b?c:b,h=u({displayName:"createTrackingComponent("+e+")",contextTypes:{currentPage:o.string,rowNum:o.number,rankNum:o.number,requestId:o.string,trackId:o.number,impressionToken:o.string,videoId:o.number,imageKey:o.string},propTypes:Object.assign({children:o.node.isRequired,trackingInfo:o.object},k),getInitialState:function(){return{uuid:d()}},componentDidMount:function(){var t=s.findDOMNode(this);this.writeDataAttributesToNode(t),m.registerElement(t,this.state.uuid),m.requestScan()},componentDidUpdate:function(){this.writeDataAttributesToNode(s.findDOMNode(this))},componentWillUnmount:function(){m.unregisterElement(s.findDOMNode(this),this.state.uuid),n||m.requestScan()},getDataAttribute:function(t,e,n){return g.isUndefined(t)?g.isUndefined(this.context[e])?n:this.context[e]:t},getTrackingConfig:function(){var t=this,i={uuid:this.state.uuid,appView:e,usePresentedEvent:n},a=T(this.props);if(a.trackingInfo)return Object.assign({},a.trackingInfo,i);var o=g.omit(h.propTypes,["className","children"]),s={location:function(e){return{location:t.getDataAttribute(e,"currentPage",f.STRING)}},rank:function(e){return{rank:t.getDataAttribute(e,"rankNum",f.NUMBER)}},requestId:function(e){return{request_id:t.getDataAttribute(e,"requestId",f.STRING)}},row:function(e){return{row:t.getDataAttribute(e,"rowNum",f.NUMBER)}},trackId:function(e){return{track_id:t.getDataAttribute(e,"trackId",1)}},videoId:function(e){return{video_id:t.getDataAttribute(e,"videoId",1)}},imageKey:function(e){return{image_key:t.getDataAttribute(e,"imageKey",f.STRING)}}},u=g.reduce(o,function(e,n,i){var a=t.props[i];return s[i]?Object.assign(e,s[i](a)):void 0!==a?Object.assign(e,r({},i,a)):e},i);this.context.impressionToken&&(u.impression_token=this.context.impressionToken);var c=this.context.parentContext;return c&&(u.parent_context={row:c.rowNum,rank:c.rankNum,request_id:c.requestId,track_id:c.trackId}),u},writeDataAttributesToNode:function(t){t instanceof HTMLElement&&(t.setAttribute("data-ui-tracking-context",encodeURI(JSON.stringify(this.getTrackingConfig()))),t.setAttribute("data-tracking-uuid",this.state.uuid))},render:function(){return a.createElement("div",{className:p(this.props.className,"ptrack-content")},this.props.children)}});return h}var a=t("react"),o=t("prop-types"),s=t("react-dom"),u=t("create-react-class"),c=t("ramda/src/identity"),d=t("tiny-uuid"),p=t("classnames"),g=t("lodash"),m=t("../../../common/presentationTracking/presentationTracking"),f=t("../../../common/presentationTracking/presentationTrackingConsts").DEFAULT_TRACKING_VALUES;e.exports=i});C.r("components/presentationTracking/trackingComponents/jawboneEpisodesPresTracking.js",function(n,e,o){"use strict";var s=n("./createTrackingComponent"),t=n("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");e.exports=s({appView:t.jawboneEpisodes})});C.r("components/presentationTracking/trackingComponents/jawboneOverviewPresTracking.js",function(e,n,t){"use strict";var i=e("./createTrackingComponent"),o=e("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");n.exports=i({appView:o.jawboneOverview})});C.r("components/presentationTracking/trackingComponents/jawboneShowDetailsPresTracking.js",function(n,t,e){"use strict";var o=n("./createTrackingComponent"),a=n("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");t.exports=o({appView:a.jawboneShowDetails})});C.r("components/presentationTracking/trackingComponents/jawboneSimilarsPresTracking.js",function(n,i,a){"use strict";var t=n("./createTrackingComponent"),e=n("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");i.exports=t({appView:e.jawboneSimilars})});C.r("components/presentationTracking/trackingComponents/jawboneTrailersPresTracking.js",function(n,e,a){"use strict";var t=n("./createTrackingComponent"),i=n("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");e.exports=t({appView:i.jawboneTrailers})});C.r("components/presentationTracking/trackingComponents/kidsCharacterPresTracking.js",function(r,e,t){"use strict";var a=r("./createTrackingComponent"),n=r("prop-types"),s=r("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");e.exports=a({appView:s.kidsCharacter,propTypes:{characterId:n.number},propsTransformer:function(r){return Object.assign({},r,{videoId:r.characterId,characterId:void 0})}})});C.r("components/presentationTracking/trackingComponents/logPresentationManually.js",function(n,t,e){"use strict";function o(n){var t=s({displayName:"presentationHOC",contextTypes:{logger:a.object.isRequired,models:a.object.isRequired,getModelData:a.func.isRequired},_presentationId:void 0,_focusId:void 0,isLoggingEnabled:function(){return this.context.getModelData("truths").isCl2LoggingEnabledForDiscoveryPlayback},onPresentationStart:function(n){var t=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isLoggingEnabled())return g.noop;var o=this.context.logger.startSession("Presentation",{view:n,trackingInfo:e});return function(){t.context.logger.endSession(o)}},onPresented:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isLoggingEnabled()&&this.context.logger.logEvent(c.Presented,{view:n,trackingInfo:t})},onFocus:function(n){var t=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isLoggingEnabled())return g.noop;var o=this.context.logger.startSession("Focus",{view:n,trackingInfo:e});return function(){t.context.logger.endSession(o)}},onCommand:function(n){var t=this;if(!this.isLoggingEnabled)return g.noop;var e=this.context.logger.startSession(n);return function(){t.context.logger.endSession(e)}},render:function(){return r.createElement(n,i({},this.props,{onPresentationStart:this.onPresentationStart,onPresented:this.onPresented,onFocus:this.onFocus,onCommand:this.onCommand}))}});return d(t,n),t}var i=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},r=n("react"),s=n("create-react-class"),a=n("prop-types"),g=n("lodash"),c=n("shakti-platform/dist/ui/consolidatedLogging/constants/eventTypes"),d=n("hoist-non-react-statics");t.exports=o});C.r("components/presentationTracking/trackingComponents/notificationItemPresTracking.js",function(t,n,i){"use strict";var o=t("./createTrackingComponent"),e=t("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");n.exports=o({appView:e.notificationItem})});C.r("components/presentationTracking/trackingComponents/notificationPanelPresTracking.js",function(n,t,i){"use strict";var o=n("./createTrackingComponent"),a=n("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");t.exports=o({appView:a.notificationPanel})});C.r("components/string.jsx",function(t,s,e){"use strict";var r=t("prop-types"),n=t("react"),p=t("create-react-class"),o=p({displayName:"String",contextTypes:{getICUString:r.func.isRequired},getDefaultProps:function(){return{componentName:"span",formats:{},dangerouslySetInnerHTML:!1}},render:function(){var t=this.context.getICUString(this.props.bundle,this.props.stringKey,this.props.stringParams,this.props.formats),s={className:this.props.className};return this.props.id&&(s.id=this.props.id),this.props.dangerouslySetInnerHTML&&(s.dangerouslySetInnerHTML={__html:t},t=null),n.createElement(this.props.componentName,s,t)}});s.exports=o});C.r("falkorClient/falkorLoader.js",function(t,e,r){"use strict";var a=t("lodash"),o=t("shakti-platform/dist/ui/ShaktiProperties"),s=t("./getFalkorLoaderQuery"),i=t("../utils/rx/shakti-rx").RxObservable,u=t("../utils/Routes"),l=t("../utils/XHR"),n=t("../common/appContext"),h=s(n.getModels());e.exports={get:function(t){var e=l.request({query:h,method:"post",data:{paths:t},resource:"/pathEvaluator",service:"api",authorize:!0});return o.get("netflix.ui.akira.redirect.to.login.on.invalid.user")?e.catch(function(t){return 401===t.xhrStatus&&"no user"===a.get(t,"xhrResponse.reason")?(window.location=u.login.makePath(),i.empty()):i.throw(t)}):e},call:function(t,e,r,a){return l.request({method:"post",data:{callPath:t,params:e,paths:a,pathSuffixes:r},query:Object.assign({method:"call"},h),resource:"/pathEvaluator",service:"api",authorize:!0,protocol:"https"})}}});C.r("falkorClient/getFalkorLoaderQuery.js",function(e,r,t){"use strict";var a=e("lodash"),i=function(e){return{withSize:!0,materialize:!0,searchAPIV2:a.get(e,"truths.data.useSearchAPIV2",!1)}};r.exports=i});C.r("mdx2/errors/mdxError.js",function(r,o,s){"use strict";var e=function(r,o,s){this.errorcode=r,this.errorsubcode=o,this.errordetails=s};o.exports=e});C.r("mdx2/utils/mdxConstants.js",function(_,E,D){"use strict";var N={TRANSITION_DURATION:300,DEBUG_PARAM:"mdxDebug",ERROR_CODES:{FAILED_TO_LOAD_CAST_SDK:4e3,FAILED_TO_LOAD_MDX_ASSET:4001,MDX_INIT_TIMEOUT:4002,FAILED_TO_LOAD_VIDEO_SESSION:4003,UNHANDLED_EXCEPTION:4004,FAILED_TO_INIT_MDX_INSTANCE:4005,SDK_CONNECTION_TIMEOUT:4006,MDX_CONNECTION_TIMEOUT:4007,CONNECTION_CANCELED:4008,DISCONNECT_TIMEOUT:4009,MDX_CONNECT_FAILED:4010,MDX_RECONNECT_FAILED:4011,MDX_DISCONNECT_FAILED:4012}};E.exports=N});C.r("mdx2/utils/mdxException.js",function(n,e,r){"use strict";function t(n){if(n){var e=n.stack,r=n.number,t=n.message;t||(t=""+n);var i=void 0;return e?(i=""+e,0!==i.indexOf(t)&&(i=t+"\n"+i)):i=t,r&&(i+="\nnumber:"+r),i}return""}e.exports={exceptionToString:t}});C.r("mdx2/utils/mdxLogblob.js",function(o,e,s){"use strict";function t(o,e,s){s.ctrlcat="Web",s.platformVersion=u.getModelData("browserInfo").version,s.platformname=u.getModelData("browserInfo").name,b&&(s.mdxver=b),i.queueLogblob(o,e,s).subscribe()}function n(){i.flushLogblobs().subscribe()}function r(o){b=o}var i=o("../../utils/player/videoSession"),u=o("../../common/appContext"),b=void 0;e.exports={queue:t,flush:n,setMdxVersion:r}});C.r("node_modules/nf-algebraic-data-types/Record.js",function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e){return Object.defineProperty(t,e,{get:function(){return this.getOrElse(e)}})}function o(t,e){return e.forEach(s.bind(null,t)),t}function i(t,e){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r}function a(t,e){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof r))return new r(e);var s=r.prototype,i=Object.keys(t);n||(o(s,i),s._keys=i,s._defaultProps=t,n=!0),this._map=e}if((0,c.default)(t)&&(0,p.default)("RecordError","Expected default props."),!(this instanceof a))return new a(t,e);var n=!1;return r._name=e,r.getRecordName=function(){return r._name},r.prototype=Object.assign(Object.create(a.prototype),{clear:function(){var t=this.constructor;return t._empty||(t._empty=i(this,{}))},getOrElse:function(t,e){if(!this.has(t))return e;var r=this._defaultProps[t];return this._map&&this._map.hasOwnProperty(t)?this._map[t]:r},has:function(t){return this._defaultProps.hasOwnProperty(t)},set:function(t,e){if(this._map&&!this._map.hasOwnProperty(t)){if(e===this._defaultProps[t])return this}if(this._map&&e===this._map[t])return this;var r=Object.assign({},this._map);return r[t]=e,i(this,r)}}),r.prototype.constructor=r,r}Object.defineProperty(r,"__esModule",{value:!0});var u=t("./isNullOrUndef"),c=n(u),f=t("./throwError"),p=n(f);r.default=a,e.exports=r.default});C.r("node_modules/nf-algebraic-data-types/isNullOrUndef.js",function(n,e,r){"use strict";var t=function(n){return null===n||void 0===n};e.exports=t});C.r("node_modules/nf-algebraic-data-types/throwError.js",function(r,o,t){"use strict";var e=function(r,o){var t=new Error(o);throw t.name=r,t};o.exports=e});C.r("player/entities/playContext.js",function(i,t,e){"use strict";var o=i("nf-algebraic-data-types/Record"),d={image_key:void 0,list_id:void 0,location:"",rank:-97,request_id:"",row:-97,track_id:-1,video_id:-1},r=o({imageKey:void 0,listId:void 0,location:"",rank:-97,requestId:"",row:-97,trackId:-1,videoId:-1}),a=r(),n=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return{image_key:i.imageKey,list_id:i.listId,location:i.location,rank:i.rank,request_id:i.requestId,row:i.row,track_id:i.trackId,video_id:i.videoId}},c=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return r({imageKey:i.image_key,listId:i.list_id,location:i.location,rank:i.rank,requestId:i.request_id,row:i.row,trackId:i.track_id,videoId:i.video_id})};t.exports={playContextRecord:r,toPlayContextData:n,toPlayContextRecord:c}});C.r("player/nfplayer/common/playerEngines.js",function(e,n,r){"use strict";n.exports={HTML5_VIDEO_EL:"html5video",CADMIUM:"cadmium"}});C.r("player/nfplayer/common/playerErrors.js",function(e,r,t){"use strict";function s(e){this.code=3010,this.name=l[this.code],this.message=e||"Error loading player assets.",this.stack=(new Error).stack,this.display={code:"UI"+this.code},this.messageIdList=["default"]}function a(e){this.code=3011,this.name=l[this.code],this.message=e||"No UI Label provided for playback.",this.stack=(new Error).stack,this.display={code:"UI"+this.code},this.messageIdList=["default"]}function i(e){this.code=3012,this.name=l[this.code],this.message=e||"Invalid or no viewable data.",this.stack=(new Error).stack,this.display={code:"UI"+this.code},this.messageIdList=["default"]}function o(e){this.name="PlayerUICreationError",this.message=e||"Error creating the player UI.",this.stack=(new Error).stack,this.code=3013,this.display={code:"UI"+this.code},this.messageIdList=["default"]}function n(e,r){this.code=3003,this.name=l[this.code],this.message=e||"Title is unavailable for region.",this.stack=(new Error).stack,this.display={code:"UI"+this.code},this.messageIdList=["UI"+this.code,d[r]?"title-unavailable-"+r:"title-unavailable"]}var d={us:"us",ca:"ca",mx:"mx",br:"br",uk:"uk",ie:"ie",dk:"dk",fi:"fi",no:"no",se:"se",nl:"nl",fr:"fr",de:"de",ch:"ch",at:"at",be:"be",lu:"lu"},l={3003:"TitleUnavailableError",3010:"AssetError",3011:"UILabelError",3012:"InvalidDataError",3013:"PlayerUICreationError"};s.prototype=new Error,a.prototype=new Error,i.prototype=new Error,o.prototype=new Error,n.prototype=new Error,r.exports={AssetError:s,UILabelError:a,InvalidDataError:i,PlayerUICreationError:o,TitleUnavailableError:n,ERROR_TYPES:l}});C.r("player/nfplayer/common/playerInterfaceManager.js",function(n,e,r){"use strict";function t(n){return p.filter(function(e){return e!==n})}function u(n){s||p.indexOf(n)>-1||p.push(n)}function o(n){p=t(n)}function a(n,e){var r=e?t(e):p;if(!r.length)return n(),l.noop;var u=c.forkJoin(r.map(function(n){return c.create(function(r){return n.close(function(){r.next(),r.complete()},{dataToLog:{playContext:e?e._getConfig():void 0,reason:"playerInterfaceManager::closeAllPlayers",uiLabel:n?n.getUILabel():void 0}}),l.noop})})).do(n).subscribe(l.noop,function(n){},l.noop);return function(){u.unsubscribe()}}function i(n){p.filter(function(e){return e!==n}).forEach(d)}var l=n("lodash"),c=n("../../../utils/rx/shakti-rx").RxObservable,f=n("../uiLabel"),s=n("shakti-platform/dist/ui/utils/inNode"),p=[],y=function(n){return n.setMuted(!0)},d=function(n){return n.pause()},b=function(n){return n.play()},A=function(n){return n.setMuted(!1)},h=function(){return p.forEach(y)},v=function(){return p.forEach(d)},P=function(){return p.forEach(b)},g=function(){return p.forEach(A)},m=function(n){return!l.find(n,function(n){return n.getUILabel()===f.STANDARD&&!n.isClosing()})},x=function(n){var e=n?p.filter(function(e){return e!==n}):p;return[m].reduce(function(n,r){return n&&r(e)},!0)};e.exports={addPlayerInterfaceInstance:u,removePlayerInterfaceInstance:o,muteAllPlayers:h,pauseAllPlayers:v,playAllPlayers:P,unmuteAllPlayers:g,closeAllPlayers:a,isPlayerCreationAvailable:x,pauseAllPlayersExceptActive:i}});C.r("player/nfplayer/uiLabel.js",function(l,a,L){"use strict";a.exports={STANDARD:"standard",DEBUG:"debug",INTERACTIVE_KIDS:"iko",PREPLAY:"preplay",PREPLAY_PREROLL:"prePlay-originalsPreRoll",POSTPLAY:"postplay",POSTPLAY_TEASER:"postplay-teaser",POSTPLAY_TRAILER:"postplay-trailer",POSTPLAY_SEAMLESS:"postplay-seamless",POSTPLAY_SEAMLESS_FALLBACK:"postplay-seamless-fallback",TRAILER:"trailer",BILLBOARD_STANDARD:"billboard-standard",BILLBOARD_STANDARD_3LOOP:"billboard-standard-3loop",BILLBOARD_TAKEOVER:"billboard-takeOver",BILLBOARD_CACHED:"billboard-cached",BILLBOARD_BIG_ROW:"billboard-bigRow",BILLBOARD_TRAILER_FULL:"billboard-trailer",BILLBOARD_TRAILER_30:"billboard-trailer-30",EMBEDDED:"embedded"}});C.r("player/nfplayer/utils/getCadmiumCreationParameters.js",function(e,a,r){"use strict";function t(e){return-1===[u.BILLBOARD_CACHED,u.BILLBOARD_STANDARD,u.BILLBOARD_TAKEOVER,u.BILLBOARD_BIG_ROW,u.TRAILER].indexOf(e)}function o(e,a,r,o){var l=i({al:e.preferredAudioLocale,sl:e.preferredTextLocale}),s={},n={},u=void 0;if(a.bookmarkByMovieId||(a.bookmarkByMovieId={}),l.preferredTextLocale&&(s.preferredTextLocale=l.preferredTextLocale),l.preferredAudioLocale&&(s.preferredAudioLocale=l.preferredAudioLocale),e.deferBookmark&&delete a.bookmarkByMovieId[e.videoId],!1===e.respectBookmark&&(a.bookmarkByMovieId[e.videoId]=0),e.manifest&&(a.enableTrickPlay=!1),"number"==typeof e.bookmarkOverride&&e.bookmarkOverride>=0&&(a.bookmarkByMovieId[e.videoId]=e.bookmarkOverride),e.playContext&&(e.playContext=e.playContext.set("trackId",e.trackId),s.uiplaycontext=d(e.playContext)),a.assistiveAudioPreferred&&(n.assistiveAudioPreferred=!0),o){var c=o.getAPI().playerApp.getPlayStartTime(r.getId(),e.videoId);if(c){u=c;o.getActionCreators().unsetStartTime({videoId:e.videoId,sessionId:r.getId()})}}return s.isUIAutoPlay=!!e.isImplicitAutoPlay,n.pinCapableClient=!(!a.pinConfig||!a.pinConfig.isEnabled),s.supportsWatermark=!0,s.supportsPreReleasePin=!0,{autoPlay:!!e.autoPlay,initParams:a,videoId:e.videoId,shouldCloseAllPlayers:"boolean"==typeof e.shouldCloseAllPlayers?e.shouldCloseAllPlayers:t(e.uiLabel),creationParams:{trackingId:e.trackId,uiLabel:e.uiLabel,manifest:e.manifest,sessionParams:s,authParams:n,uiPlayStartTime:u,disableTrackStickiness:!!e.disableTrackStickiness},playerState:e.playerState||{},isImplicitAutoPlay:e.isImplicitAutoPlay}}function i(e){var a={};return e.sl&&(a.preferredTextLocale=e.sl),e.al&&(a.preferredAudioLocale=e.al),a}function l(e){return Object.assign({},c.omit(e,["manifest"]))}function s(e){return Object.assign({},c.omit(e,["creationParams.manifest"]))}var n=e("../../entities/playContext"),d=n.toPlayContextData,u=e("../uiLabel"),c=e("lodash");a.exports={getCadmiumCreationParameters:o,getSubDubPreferences:i,cleanCreationParametersConfig:l,cleanCreationConfig:s}});C.r("player/nfplayer/utils/playerConfig.js",function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m.merge({},m.clone(m.get(t,"ui.initParams",{}),!0),m.clone(m.get(t,"core.initParams",{}),!0))}function i(){if(h)throw new Error("Can't access cached init params in node environment.")}function a(t){return h&&t&&!m.isEmpty(t)?m.get(P("shakti-platform/dist/lib/modelRegistry").getModel(t,"playerModel"),"data",{})||{}:h?{}:v=v||y.getModelData("playerModel")||{}}function o(t){return a(t).config||{}}function u(t){return a(t).playbackSupport||{}}function l(t){return r(o(t))}function s(){return i(),C=C||l()}function c(t,e){return m.get(s(),t,e)}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(t&&t.config)}function f(t){return!!a(t).kidsPlayer}function g(t){return!!a(t).nfplayer}function p(t){return!!a(t).interactive}var m=t("lodash"),y=t("../../../common/appContext"),h=t("shakti-platform/dist/ui/utils/inNode"),P=t,v=void 0,C=void 0;e.exports={getConfig:o,getPlaybackSupport:u,getFreshInitParams:l,getCachedInitParams:s,getInitParam:c,getInitParamsFromPlayerModel:d,shouldUseKidsPlayer:f,shouldUseNFPlayer:g,shouldUseInteractivePlayer:p}});C.r("utils/consolidatedLogging/loggingEventRegistry.js",function(e,E,a){"use strict";var r=function(e){var E=new Error(e);throw E.name="LoggingEventRegistryError",E},_={FEATURE_DETECTION:"playback:featureDetection",MANAGE_PROFILES:"profilesGate:manageProfiles",MILESTONES:"playback:milestones",PERFORMANCE_END:"playback:performanceEnd",PERFORMANCE_START:"playback:performanceStart",PERFORMANCE_METRICS_UPDATED:"playback:performanceMetricsUpdated",PLAYBACK_ENHANCED_FEATURES_DETECT_END:"playback:EnhancedFeaturesDetectEnd",PLAYBACK_ENHANCED_FEATURES_DETECT_START:"playback:EnhancedFeaturesDetectStart",PLAYBACK_INIT_ERROR:"playback:initError",PLAYBACK_SEAMLESS:"playback:seamless",PLAYBACK_SEAMLESS_VIDEO_ADDED_START:"playback:seamlessVideoAddedStart",PLAYBACK_SEAMLESS_VIDEO_ADDED_END:"playback:seamlessVideoAddedEnd",PLAYBACK_PLAY_NEXT_SEAMLESS_VIDEO_START:"playback:playNextSeamlessVideoStart",PLAYBACK_PLAY_NEXT_SEAMLESS_VIDEO_END:"playback:playNextSeamlessVideoEnd",PLAYBACK_SHOW_SEAMLESS_EXPERIENCE:"playback:showSeamlessExperience",PLAYBACK_START:"playback:start",PLAYER_UI_AUTOPLAY:"playerui:autoplay",PLAYER_UI_CLICK:"playerui:click",PLAYER_UI_HOTKEY:"playerui:hotkey",PLAYER_UI_KEY:"playerui:key",PLAYER_UI_SHOW:"playerui:show",PLAYER_CLOSE:"player:close",PLAYER_CREATE:"player:create",PLAYER_INTERACTION:"player:interaction",PLAYER_NO_VIDEO_ELEMENT:"player:noVideoElement",PROFILE_DEFOCUSED:"profilesGate:profileDefocused",PROFILE_FOCUSED:"profilesGate:profileFocused",PROFILES_CONTINUE_WATCHING:"profilesGate:continueWatchingDataFetched",PROFILES_LOADED:"profilesGate:loaded",PROFILES_PLAY_TITLE:"profilesGate:playTitle",PROFILES_SWITCH:"profilesGate:switch",PROFILES_VIDEO_PREPARE:"profilesGate:videoPrepare",REQUEST_PLAY:"playback:requestPlay",REPORT_A_PROBLEM_ERROR:"playback:reportAProblemError"};E.exports=function(){var e=Object.keys(_).reduce(function(e,E){return e[E]&&r("Duplicate event for key '"+E+"'. Existing value '"+e[E]+"'"),e[E]=_[E],e},{});return Object.freeze(e)}()});C.r("utils/player/playerAssets.js",function(e,t,r){"use strict";var n=e("../../utils/rx/shakti-rx").RxObservable,s=e("../../utils/rx/shakti-rx").RxSchedulerAsap,o=e("../../common/appContext"),a=e("shakti-platform/dist/ui/ShaktiProperties"),i=e("../../common/nfNamespace"),c=e("lodash"),l=e("../../player/nfplayer/utils/playerConfig"),u=e("../../player/nfplayer/common/playerErrors"),p=a.get("wwwplayer.asset.timeout")||3e4,f=void 0,d=void 0,g=void 0,m=void 0,y=!1,h=function(e){var t=a.get("wwwplayer.asset.crossorigin.enabled"),r=document.getElementsByTagName("script")[0],n=document.createElement("script");return n.src=e,t&&(n.crossOrigin="anonymous"),r&&r.parentNode&&r.parentNode.insertBefore(n,r),n},w=function(e,t){return n.merge(n.fromEvent(e,"load"),n.fromEvent(e,"error").flatMap(function(){return n.throw(new Error(t))})).take(1).timeoutWith(p,n.throw(new u.AssetError)).publishReplay().refCount().observeOn(s)},v={getCorePlayerJS:function(){if(f)return f;var e=document.getElementById("player-core-js");return f=e&&e instanceof HTMLScriptElement?window.netflix.player?n.of(!0):w(e,"Loading async Core JS Resource failed. asset: "+e.src):n.throw(new Error("No script element for the player core found."))},getPlayerAssets:function(){if(m)return m;var e=this.getAssetUrls(),t=l.getConfig();return t.ui=t.ui||{},e.core||t.ui.isFallback?m=n.zip(this.getCorePlayerJS(),c.noop).publishReplay().refCount():n.throw(new Error("No assets defined!"))},loadCastSDK:function(){return g||(g=n.create(function(e){return window.__onGCastApiAvailable=function(t,r){y||(t?(y=!0,e.next(t),e.complete()):e.error(r))},c.noop}).publishReplay().refCount(),h("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"),g)},loadMdx2Js:function(){if(d)return d;var e=this.getAssetUrls().mdx2;if(!e)return d=n.throw(new Error("No MDX JS asset URL provided."));var t=h(e);return d=w(t,"Loading async MDX JS Resource failed. asset: "+e)},getAssetUrls:function(e){var t={},r=l.getConfig(e);r.ui=r.ui||{},r.core=r.core||{};var n=l.getFreshInitParams(e);return c.forEach(r.ui.assets||{},function(e,r){e&&(t[r]=e)}),!1===n.preferCadmium?t.core=null:c.forEach(r.core.assets||{},function(e,r){e&&(t[r]=e)}),t},initializeLegacyNamespace:function(){i.constants=i.constants||{},i.constants.global=i.constants.global||o.getModelData("serverDefs"),i.constants.page=i.constants.page||{},i.constants.page.UITRACKING_SEND_RATE_MS=8e3,i.constants.page.UITRACKING_SEND_RATE_MAX_DECAY_MULTIPLIER=5,i.constants.page.xsrf=o.getModelData("userInfo").authURL}};t.exports=v});C.r("utils/player/videoSession.js",function(e,n,a){"use strict";function t(e){return!e.isEnabled&&e.isAdultVerified}function o(e){A&&A.applyConfig(e)}function r(e){return l().do(function(){A.ppmUpdate&&A.ppmUpdate(e)})}function i(e){return l().do(function(){b.has(A,"prepare")&&A.prepare(e)})}function l(e){return A?(e&&A.applyConfig(e),m.of(A)):M?M.do(function(){e&&A.applyConfig(e)}):M=P.getCorePlayerJS().take(1).flatMap(function(n){return Boolean(window.netflix&&window.netflix.player)?(e=e||g.getCachedInitParams(),c(new window.netflix.player.VideoSession(e)).do(function(e){A=e})):m.throw(new C.AssetError)}).publishReplay().refCount().observeOn(v)}function s(e,n,a){return l(e.initParams).flatMap(function(o){return m.create(function(r){function i(){try{var i=function e(n){r.error(n),s.removeEventListener("loaded",l),s.removeEventListener("error",e)},l=function e(n){s.loaded=!0,s.loading=!1,s.removeEventListener("loaded",e),s.removeEventListener("error",i),r.complete()};E&&E.createPlayerInstance&&E.createPlayerInstance.start(),void 0===e.creationParams.uiPlayStartTime&&(e.creationParams.uiPlayStartTime=Date.now());var s=o.createPlayer(e.videoId,e.creationParams);e.initParams.isTestAccount&&(window.netflix.cadmium||(window.netflix.cadmium={}),window.netflix.cadmium.diagnostics=s.diagnostics);var c=a?a.getActionCreators():null;c&&c.receiveVideoPlayer&&c.receiveVideoPlayer({autoPlay:e.autoPlay,sessionId:n.getId(),instance:s,type:w.CADMIUM,xid:s.getXid()}),e.autoPlay||s.pause(),e.playerState&&("number"==typeof e.playerState.volume&&s.setVolume(e.playerState.volume),"boolean"==typeof e.playerState.muted&&s.setMuted(e.playerState.muted)),y.emit(x.PLAYER_CREATE,{config:S.cleanCreationConfig(e),xid:s.getXid(),reason:"VideoSession::createPlayerSafely"});var d=s.close,u=s.load,p=s.engage;s.hasLoggedClose=!1,s.loaded=!1,s.loading=!1,s.addEventListener("error",i),s.addEventListener("loaded",l),s.observables={loaded:m.fromEvent(s,"loaded").publishReplay(1),loadedTracks:m.fromEvent(s,"loadedtracks").publishReplay(1),loadedMetadata:m.fromEvent(s,"loadedmetadata").publishReplay(1)};var g=s.observables.loaded.connect(),v=s.observables.loadedTracks.connect(),P=s.observables.loadedMetadata.connect();s.close=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.dataToLog,t=void 0===a?{}:a;s.hasLoggedClose||(t.xid=s.getXid(),y.emit(x.PLAYER_CLOSE,t),s.hasLoggedClose=!0),g&&g.unsubscribe(),v&&v.unsubscribe(),P&&P.unsubscribe(),d.apply(s,[e])},s.getLoaded=function(){return s.loaded},s.isLoading=function(){return s.loading},s.load=function(){s.loading=!0,u.apply(s,arguments)},s.engage=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"User_Interaction",a=arguments[1];f.get(I)&&e.isImplicitAutoPlay&&!s._hasBeenEngaged&&p.apply(s,[n,function(e){e.success&&(s._hasBeenEngaged=!0),a&&a(e)}])},t(e.initParams.pinConfig)&&s.load(),E&&E.createPlayerInstance&&(E.createPlayerInstance.end(),E.createPlayerInstance.measure()),r.next(s)}catch(e){r.error(e)}return b.noop}return e.shouldCloseAllPlayers?L.closeAllPlayers(i,n.getPlayerInterface()):i()})})}function c(e){if(!e)return m.throw("VideoSession instance does not exist.");var n=!(!h||h.stub),a=m.of(e),t=m.create(function(a){function t(e){a.next(e),a.complete()}function o(e){var n=e||new Error("VideoSession initialization failed.");a.error(n)}try{e.init(function(a){if(!a.success)return void o(a.error);t(n?a:e)})}catch(e){o(e)}return b.noop});return n?t.flatMap(function(n){return n&&n.nccp?h(n.nccp).map(function(){return e}):a}).catch(function(e){return a}):t}function d(e){e&&e.length&&i(e).subscribe(b.noop,function(e){},b.noop)}function u(e,n,a){return l().do(function(){A.nccp&&A.nccp.queueLogblob&&A.nccp.queueLogblob(e,n,a)})}function p(){return l().do(function(){A.nccp&&A.nccp.flushLogblobs&&A.nccp.flushLogblobs()})}var f=e("shakti-platform/dist/ui/ShaktiProperties"),y=e("../../reactMixins/eventBus"),g=e("../../player/nfplayer/utils/playerConfig"),m=e("../../utils/rx/shakti-rx").RxObservable,v=e("../../utils/rx/shakti-rx").RxSchedulerAsap,b=e("lodash"),P=e("./playerAssets"),h=e("./ping"),E=e("../../player/nfplayer/common/playerUIMilestones"),L=e("../../player/nfplayer/common/playerInterfaceManager"),w=e("../../player/nfplayer/common/playerEngines"),C=e("../../player/nfplayer/common/playerErrors"),S=e("../../player/nfplayer/utils/getCadmiumCreationParameters"),x=e("../../utils/consolidatedLogging/loggingEventRegistry"),I="wwwplayer.config.ui.autoplay.engage.enabled",A=void 0,M=void 0,R=function(){return!(!A||"function"!=typeof A.isSeamlessEnabled)&&A.isSeamlessEnabled()};n.exports={createPlayerSafely:s,get:l,precacheForProfile:d,prepare:i,updatePredictionModel:r,update:o,isSeamlessEnabled:R,queueLogblob:u,flushLogblobs:p}});C.r("mdx2/utils/mdxBootstrap.js",function(t,o,e){"use strict";function n(o){if(E)return E;var e=Date.now();return E=c.loadCastSDK().catch(function(t){throw new x(f.ERROR_CODES.FAILED_TO_LOAD_CAST_SDK,void 0,l.exceptionToString(t))}).flatMap(function(){return c.loadMdx2Js().catch(function(t){throw new x(f.ERROR_CODES.FAILED_TO_LOAD_MDX_ASSET,void 0,l.exceptionToString(t))})}).flatMap(function(){return a.get(o).catch(function(t){throw new x(f.ERROR_CODES.FAILED_TO_LOAD_VIDEO_SESSION,void 0,l.exceptionToString(t))})}).flatMap(function(e){var n=t,c=n("../mdx2Manager.js");return i.create(function(t){return!c||c.stub?(t.error("MdxManager not present"),function(){}):(e.init(function(e){if(e.success){var n=r.get(u.getModelData("userInfo"),"guid"),i=new c(e,n,o,function(o){o.success?(t.next(i),t.complete()):t.error(o.error)});"function"==typeof s&&s(i)}else t.error(e.error)}),function(){})}).catch(function(t){throw new x(f.ERROR_CODES.FAILED_TO_INIT_MDX_INSTANCE,void 0,l.exceptionToString(t))})}).timeoutWith(o.mdxInitTimeout,i.throw({errorcode:f.ERROR_CODES.MDX_INIT_TIMEOUT,timeout:o.mdxInitTimeout})).do(r.noop,function(t){t.errorcode||(t={errorcode:f.ERROR_CODES.UNHANDLED_EXCEPTION,errordetails:l.exceptionToString(t)}),t.delay=Date.now()-e,d.queue("mdxinit","error",t),d.flush()},function(){d.queue("mdxinit","info",{delay:Date.now()-e})}).publishReplay(),E.connect(),E}var r=t("lodash"),i=t("../../utils/rx/shakti-rx").RxObservable,u=t("../../common/appContext"),c=t("../../utils/player/playerAssets"),a=t("../../utils/player/videoSession"),s=t("../utils/automationHook"),d=t("../utils/mdxLogblob"),f=t("./mdxConstants"),l=t("./mdxException"),x=t("../errors/mdxError"),E=void 0;o.exports={initMdx:n}});C.r("mdx2/hoc/mdxLoader.jsx",function(t,e,n){"use strict";function a(t){x.push(t)}function o(t){x=x.filter(function(e){return e!==t})}function i(){return N}function r(t){N=Boolean(t),h=t,N||c(),x.forEach(function(e){e.props.onTargetChanged(t),e.setMdxState()})}function s(){M=!0,b=!1,y=h?h.getCatalogId():void 0,P=h?h.getContentId():void 0,x.forEach(function(t){t.props.onCast(),t.setMdxState()})}function c(){M=!1,b=!0,y=void 0,P=void 0,x.forEach(function(t){t.props.onCastStop()})}function d(){c(),x.forEach(function(t){t.setMdxState()})}function g(){return A}function l(t){A=t}function p(t){D=t,x.forEach(function(e){e.props.onDevicesAvailable(t),e.setMdxState()})}function u(){}function T(t){var e=f({displayName:"MdxWrapper",getDefaultProps:function(){return{connected:!1,onCast:u,onCastStop:u,onTargetChanged:u,onDevicesAvailable:u}},getInitialState:function(){return{isTargetCasting:N,isTargetPlaying:M,isTargetStopped:b,mdxDevicesAvailable:D,mdxManager:A,mdxTarget:h,targetCatalogId:y,targetContentId:P}},componentDidMount:function(){function t(t){l(t),I||(I=!0,t.on(t.EVENTS.TARGET_PLAYING,s),t.on(t.EVENTS.TARGET_STOPPED,d),t.on(t.EVENTS.TARGET_CONNECTION_CHANGED,r),t.on(t.EVENTS.MDX_DEVICES_AVAILABLE,p)),e.setMdxState()}var e=this,n=this.props.onDevicesAvailable,o=this.state.mdxDevicesAvailable;a(this),S.initMdx(m.getCachedInitParams()).do(t).subscribe(u,function(t){},u),o&&n&&n(!0)},setMdxState:function(){this.setState({isTargetCasting:N,isTargetPlaying:M,isTargetStopped:b,mdxDevicesAvailable:D,mdxManager:A,mdxTarget:h,targetCatalogId:y,targetContentId:P})},componentWillUnmount:function(){o(this),A&&!x.length&&I&&(A.removeListener(A.EVENTS.TARGET_PLAYING,s),A.removeListener(A.EVENTS.TARGET_STOPPED,d),A.removeListener(A.EVENTS.TARGET_CONNECTION_CHANGED,r),A.removeListener(A.EVENTS.MDX_DEVICES_AVAILABLE,p),I=!1)},render:function(){var e=this.props,n=e.connected,a=e.onCast,o=e.onCastStop,i=e.onDevicesAvailable,r=e.onTargetChanged,s=this.state,c=s.isTargetCasting,d=s.isTargetPlaying,g=s.isTargetStopped,l=s.mdxDevicesAvailable,p=s.mdxManager,u=s.mdxTarget,T=s.targetCatalogId,f=s.targetContentId;return E.createElement(t,v({},this.props,{connected:n,isTargetCasting:c,isTargetPlaying:d,isTargetStopped:g,mdxDevicesAvailable:l,mdxManager:p,mdxTarget:u,onCast:a,onCastStop:o,onDevicesAvailable:i,onTargetChanged:r,targetCatalogId:T,targetContentId:f}))}});return C(e,t),e}var v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},E=t("react"),f=t("create-react-class"),C=(t("prop-types"),t("hoist-non-react-statics")),S=t("../utils/mdxBootstrap"),m=t("../../player/nfplayer/utils/playerConfig"),x=[],A=null,h=null,I=!1,D=void 0,N=void 0,M=void 0,b=void 0,P=void 0,y=void 0;e.exports={createComponent:T,isCasting:i,getManagerInstance:g,propTypes:{}}});C.r("node_modules/daggy/daggy.js",function(t,n,e){!function(t,n){"use strict";"function"==typeof define&&define.amd?define(["exports"],n):void 0!==e?n(e):(t.daggy={},n(t.daggy))}(this,function(t){function n(t){function n(){}return n.prototype=t,new n}function e(t,e){return t instanceof e?t:n(e.prototype)}function r(){function t(){var r,o=e(this,t);if(arguments.length!=n.length)throw new TypeError("Expected "+n.length+" arguments, got "+arguments.length);for(r=0;r<n.length;r++)o[n[r]]=arguments[r];return o}var n=[].slice.apply(arguments);return t._length=n.length,t}function o(t){function e(){throw new TypeError("Tagged sum was called instead of one of its properties.")}function o(n){return function(e){var r,o=t[n],i=[];if(!e[n])throw new TypeError("Constructors given to cata didn't include: "+n);for(r=0;r<o.length;r++)i.push(this[o[r]]);return e[n].apply(this,i)}}function i(t){var r=n(e.prototype);return r.cata=o(t),r}var u;for(u in t)t[u].length?(e[u]=r.apply(null,t[u]),e[u].prototype=i(u)):e[u]=i(u);return e}t.create=n,t.getInstance=e,t.tagged=r,t.taggedSum=o})});C.r("node_modules/nf-algebraic-data-types/Option.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var u=e("./identity"),o=r(u),i=e("./isNullOrUndef"),f=r(i),c=e("./throwError"),a=r(c),s=e("daggy"),l=(0,s.taggedSum)({Some:["a"],None:[]});l.empty=function(){return l.None},l.of=l.Some,l.fromEither=function(e){return(0,f.default)(e)||e.isLeft()?l.None:l.Some(e.get())},l.fromNullable=function(e){return(0,f.default)(e)?l.None:l.Some(e)},l.prototype=Object.assign(l.prototype,{ap:function(e){var t=this;return e.chain(function(e){return t.map(e)})},chain:function(e){return this.reduce(e,l.empty)},get:function(){return this.reduce(o.default,function(){return(0,a.default)("OptionError","You can't get the value of None")})},getOrElse:function(e){return this.reduce(o.default,function(){return e})},isNone:function(){return this===l.None},isSome:function(){return this!==l.None},map:function(e){return this.chain(function(t){return l.fromNullable(e(t))})},orElse:function(e){return this.reduce(l.Some,e)},reduce:function(e,t){return this.cata({Some:e,None:t})}}),n.default=l,t.exports=n.default});C.r("node_modules/nf-algebraic-data-types/identity.js",function(t,e,n){"use strict";var r=function(t){return t};e.exports=r});C.r("node_modules/promise-polyfill/promise.js",function(e,n,t){!function(e){function t(){}function o(e,n){return function(){e.apply(n,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],a(e,this)}function r(e,n){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(n);e._handled=!0,i._immediateFn(function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null===t)return void(1===e._state?f:u)(n.promise,e._value);var o;try{o=t(e._value)}catch(e){return void u(n.promise,e)}f(n.promise,o)})}function f(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var t=n.then;if(n instanceof i)return e._state=3,e._value=n,void c(e);if("function"==typeof t)return void a(o(t,n),e)}e._state=1,e._value=n,c(e)}catch(n){u(e,n)}}function u(e,n){e._state=2,e._value=n,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var n=0,t=e._deferreds.length;n<t;n++)r(e,e._deferreds[n]);e._deferreds=null}function s(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}function a(e,n){var t=!1;try{e(function(e){t||(t=!0,f(n,e))},function(e){t||(t=!0,u(n,e))})}catch(e){if(t)return;t=!0,u(n,e)}}var l=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,n){var o=new this.constructor(t);return r(this,new s(e,n,o)),o},i.all=function(e){var n=Array.prototype.slice.call(e);return new i(function(e,t){function o(r,f){try{if(f&&("object"==typeof f||"function"==typeof f)){var u=f.then;if("function"==typeof u)return void u.call(f,function(e){o(r,e)},t)}n[r]=f,0==--i&&e(n)}catch(e){t(e)}}if(0===n.length)return e([]);for(var i=n.length,r=0;r<n.length;r++)o(r,n[r])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(n){n(e)})},i.reject=function(e){return new i(function(n,t){t(e)})},i.race=function(e){return new i(function(n,t){for(var o=0,i=e.length;o<i;o++)e[o].then(n,t)})},i._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){l(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==n&&n.exports?n.exports=i:e.Promise||(e.Promise=i)}(this)});C.r("node_modules/ramda/src/bind.js",function(n,r,t){var e=n("./internal/_arity"),a=n("./internal/_curry2");r.exports=a(function(n,r){return e(n.length,function(){return n.apply(r,arguments)})})});C.r("node_modules/ramda/src/compose.js",function(e,r,o){var n=e("./pipe"),s=e("./reverse");r.exports=function(){if(0===arguments.length)throw new Error("compose requires at least one argument");return n.apply(this,s(arguments))}});C.r("node_modules/ramda/src/identity.js",function(n,r,t){var e=n("./internal/_curry1"),i=n("./internal/_identity");r.exports=e(i)});C.r("node_modules/ramda/src/internal/_arity.js",function(t,n,r){n.exports=function(t,n){switch(t){case 0:return function(){return n.apply(this,arguments)};case 1:return function(t){return n.apply(this,arguments)};case 2:return function(t,r){return n.apply(this,arguments)};case 3:return function(t,r,e){return n.apply(this,arguments)};case 4:return function(t,r,e,u){return n.apply(this,arguments)};case 5:return function(t,r,e,u,a){return n.apply(this,arguments)};case 6:return function(t,r,e,u,a,i){return n.apply(this,arguments)};case 7:return function(t,r,e,u,a,i,s){return n.apply(this,arguments)};case 8:return function(t,r,e,u,a,i,s,c){return n.apply(this,arguments)};case 9:return function(t,r,e,u,a,i,s,c,p){return n.apply(this,arguments)};case 10:return function(t,r,e,u,a,i,s,c,p,o){return n.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}});C.r("node_modules/ramda/src/internal/_checkForMethod.js",function(r,n,t){var e=r("./_isArray");n.exports=function(r,n){return function(){var t=arguments.length;if(0===t)return n();var o=arguments[t-1];return e(o)||"function"!=typeof o[r]?n.apply(this,arguments):o[r].apply(o,Array.prototype.slice.call(arguments,0,t-1))}}});C.r("node_modules/ramda/src/internal/_curry1.js",function(r,n,e){var t=r("./_isPlaceholder");n.exports=function(r){return function n(e){return 0===arguments.length||t(e)?n:r.apply(this,arguments)}}});C.r("node_modules/ramda/src/internal/_curry2.js",function(r,n,t){var e=r("./_curry1"),u=r("./_isPlaceholder");n.exports=function(r){return function n(t,c){switch(arguments.length){case 0:return n;case 1:return u(t)?n:e(function(n){return r(t,n)});default:return u(t)&&u(c)?n:u(t)?e(function(n){return r(n,c)}):u(c)?e(function(n){return r(t,n)}):r(t,c)}}}});C.r("node_modules/ramda/src/internal/_curry3.js",function(n,r,t){var u=n("./_curry1"),e=n("./_curry2"),c=n("./_isPlaceholder");r.exports=function(n){return function r(t,o,i){switch(arguments.length){case 0:return r;case 1:return c(t)?r:e(function(r,u){return n(t,r,u)});case 2:return c(t)&&c(o)?r:c(t)?e(function(r,t){return n(r,o,t)}):c(o)?e(function(r,u){return n(t,r,u)}):u(function(r){return n(t,o,r)});default:return c(t)&&c(o)&&c(i)?r:c(t)&&c(o)?e(function(r,t){return n(r,t,i)}):c(t)&&c(i)?e(function(r,t){return n(r,o,t)}):c(o)&&c(i)?e(function(r,u){return n(t,r,u)}):c(t)?u(function(r){return n(r,o,i)}):c(o)?u(function(r){return n(t,r,i)}):c(i)?u(function(r){return n(t,o,r)}):n(t,o,i)}}}});C.r("node_modules/ramda/src/internal/_identity.js",function(n,r,t){r.exports=function(n){return n}});C.r("node_modules/ramda/src/internal/_isArray.js",function(r,t,n){t.exports=Array.isArray||function(r){return null!=r&&r.length>=0&&"[object Array]"===Object.prototype.toString.call(r)}});C.r("node_modules/ramda/src/internal/_isArrayLike.js",function(r,e,n){var t=r("./_curry1"),o=r("./_isArray"),s=r("./_isString");e.exports=t(function(r){return!!o(r)||!!r&&("object"==typeof r&&(!s(r)&&(1===r.nodeType?!!r.length:0===r.length||r.length>0&&(r.hasOwnProperty(0)&&r.hasOwnProperty(r.length-1)))))})});C.r("node_modules/ramda/src/internal/_isPlaceholder.js",function(e,n,o){n.exports=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}});C.r("node_modules/ramda/src/internal/_isString.js",function(t,n,r){n.exports=function(t){return"[object String]"===Object.prototype.toString.call(t)}});C.r("node_modules/ramda/src/internal/_pipe.js",function(n,r,t){r.exports=function(n,r){return function(){return r.call(this,n.apply(this,arguments))}}});C.r("node_modules/ramda/src/internal/_reduce.js",function(r,e,n){var t=r("./_isArrayLike"),u=r("./_xwrap"),a=r("../bind");e.exports=function(){function r(r,e,n){for(var t=0,u=n.length;t<u;){if((e=r["@@transducer/step"](e,n[t]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}t+=1}return r["@@transducer/result"](e)}function e(r,e,n){for(var t=n.next();!t.done;){if((e=r["@@transducer/step"](e,t.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}t=n.next()}return r["@@transducer/result"](e)}function n(r,e,n,t){return r["@@transducer/result"](n[t](a(r["@@transducer/step"],r),e))}var c="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";return function(a,d,o){if("function"==typeof a&&(a=u(a)),t(o))return r(a,d,o);if("function"==typeof o["fantasy-land/reduce"])return n(a,d,o,"fantasy-land/reduce");if(null!=o[c])return e(a,d,o[c]());if("function"==typeof o.next)return e(a,d,o);if("function"==typeof o.reduce)return n(a,d,o,"reduce");throw new TypeError("reduce: list must be array or iterable")}}()});C.r("node_modules/ramda/src/internal/_xwrap.js",function(n,t,r){t.exports=function(){function n(n){this.f=n}return n.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},n.prototype["@@transducer/result"]=function(n){return n},n.prototype["@@transducer/step"]=function(n,t){return this.f(n,t)},function(t){return new n(t)}}()});C.r("node_modules/ramda/src/pipe.js",function(e,r,n){var t=e("./internal/_arity"),i=e("./internal/_pipe"),a=e("./reduce"),o=e("./tail");r.exports=function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return t(arguments[0].length,a(i,arguments[0],o(arguments)))}});C.r("node_modules/ramda/src/reduce.js",function(r,e,n){var a=r("./internal/_curry3"),c=r("./internal/_reduce");e.exports=a(c)});C.r("node_modules/ramda/src/reverse.js",function(r,e,n){var s=r("./internal/_curry1"),t=r("./internal/_isString");e.exports=s(function(r){return t(r)?r.split("").reverse().join(""):Array.prototype.slice.call(r,0).reverse()})});C.r("node_modules/ramda/src/slice.js",function(r,e,c){var n=r("./internal/_checkForMethod"),o=r("./internal/_curry3");e.exports=o(n("slice",function(r,e,c){return Array.prototype.slice.call(c,r,e)}))});C.r("node_modules/ramda/src/tail.js",function(r,e,a){var n=r("./internal/_checkForMethod"),t=r("./internal/_curry1"),c=r("./slice");e.exports=t(n("tail",c(1,1/0)))});C.r("node_modules/shakti-platform/dist/ui/consolidatedLogging/cl-inert-logger.js",function(t,n,e){"use strict";var o=function(){},r=function(){return-1},s=function(t){return t},i={addContext:r,removeContext:s,logEvent:r,startSession:r,endSession:s,flush:o,sever:o,inert:!0};n.exports=i});C.r("node_modules/shakti-platform/dist/ui/consolidatedLogging/cl-networking.js",function(t,e,n){"use strict";function r(t,e,n,r,i){var a=s.getAllMatchingKeys(l),f=null;if(a&&a.length<u){var d=Math.floor(46656*Math.random()).toString(36);f=c+"-"+(new Date).getTime()+"-"+d,s.setItem(f,e)}o(t,e,n,r,function(t,e){t||f&&s.removeItem(f),i(t,e)})}function o(t,e,n,o,i){a(t,e,function(a,s){a?n>0?window.setTimeout(function(){r(t,e,--n,2*o,i)},o):(console.warn("Retrying sending the cl data failed. Dropping payload:",e),i(a)):i(null,s)})}function i(){var t=!1;if(window.XMLHttpRequest)t=new XMLHttpRequest;else if(window.ActiveXObject)try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}}return t.withCredentials=!0,t}function a(t,e,n){if(!e||"string"!=typeof e)return n(new Error("Data must be a string"));var r=i();if(!r)return n(new Error("No HttpObject found."));try{r.onreadystatechange=function(){4===r.readyState&&(200===r.status||202===r.status||304===r.status?n(null,r.responseText):n(r,null))},r.open("POST",t),r.setRequestHeader("Content-Type","application/json"),r.send(e)}catch(t){return n(new Error("Send failed."))}}var s=t("../localStorage"),c="nf-cl-ls",l=new RegExp(c),u=10;e.exports={retryingPost:r,lsNetworkPrefix:c,maxStoredRequests:u}});C.r("node_modules/shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes.js",function(e,t,o){"use strict";var i={accountDropdownPanel:"accountDropdownPanel",addCachedVideoButton:"addCachedVideoButton",addProfile:"addProfile",ageVerificationDialog:"ageVerificationDialog",airplayDeviceSelector:"airplayDeviceSelector",appLoading:"appLoading",audioSubtitlesSelector:"audioSubtitlesSelector",autoPlayInterrupter:"autoPlayInterrupter",billboard:"billboard",billboardTitlePromo:"billboardTitlePromo",birthDayInput:"birthDayInput",birthMonthInput:"birthMonthInput",birthYearInput:"birthYearInput",bob:"bob",boxArt:"boxArt",browseTitles:"browseTitles",cachedEpisodes:"cachedEpisodes",cachedVideos:"cachedVideos",cardExpirationDateInput:"cardExpirationDateInput",cardNumberInput:"cardNumberInput",cardSecurityCodeInput:"cardSecurityCodeInput",castDeviceSelector:"castDeviceSelector",categoryBox:"categoryBox",categoryEvidence:"categoryEvidence",characterDetails:"characterDetails",cityInput:"cityInput",customerService:"customerService",deleteProfileConfirmation:"deleteProfileConfirmation",directDebitAccountDigitInput:"directDebitAccountDigitInput",directDebitAccountNumberInput:"directDebitAccountNumberInput",directDebitBranchNumberInput:"directDebitBranchNumberInput",directDebitChoiceInput:"directDebitChoiceInput",directDebitCpfInput:"directDebitCpfInput",directDebitOperationInput:"directDebitOperationInput",downloadProgress:"downloadProgress",editProfile:"editProfile",editProfileAvatar:"editProfileAvatar",editProfileLanguage:"editProfileLanguage",editProfileName:"editProfileName",editProfiles:"editProfiles",emailInput:"emailInput",eogPlanSelector:"eogPlanSelector",eogPrompt:"eogPrompt",episodesSelector:"episodesSelector",errorDialog:"errorDialog",jawboneOverview:"jawboneOverview",jawboneEpisodes:"jawboneEpisodes",jawboneTrailers:"jawboneTrailers",jawboneSimilars:"jawboneSimilars",jawboneShowDetails:"jawboneShowDetails",firstNameInput:"firstNameInput",giftCardNumberInput:"giftCardNumberInput",ikoBattleGearSelector:"ikoBattleGearSelector",ikoBattlePrompt:"ikoBattlePrompt",ikoBattleResult:"ikoBattleResult",ikoChoiceLocked:"ikoChoiceLocked",ikoChoicePoint:"ikoChoicePoint",ikoChoicePointEndLocked:"ikoChoicePointEndLocked",ikoChoicePointEndUnlocked:"ikoChoicePointEndUnlocked",ikoChoicePointLocked:"ikoChoicePointLocked",ikoChoicePointNavigator:"ikoChoicePointNavigator",ikoChoicePointNavigatorPreview:"ikoChoicePointNavigatorPreview",ikoChoicePointOption:"ikoChoicePointOption",ikoChoicePointOverlay:"ikoChoicePointOverlay",ikoChoicePointStart:"ikoChoicePointStart",ikoChoicePointUnlocked:"ikoChoicePointUnlocked",ikoChoiceUnlocked:"ikoChoiceUnlocked",ikoInterstitialPostPlay:"ikoInterstitialPostPlay",ikoMoment:"ikoMoment",ikoNotification:"ikoNotification",ikoSegmentResume:"ikoSegmentResume",ikoUnlock:"ikoUnlock",invalidProfileNameDialog:"invalidProfileNameDialog",kidsCharacter:"kidsCharacter",languageOptionButton:"languageOptionButton",lastNameInput:"lastNameInput",legalTerms:"legalTerms",login:"login",logout:"logout",maturityAdvisory:"maturityAdvisory",memberIdPrompt:"memberIdPrompt",memberPasswordPrompt:"memberPasswordPrompt",menu:"menu",movieDetails:"movieDetails",movieDetailsOverlay:"movieDetailsOverlay",myListGallery:"myListGallery",notificationItem:"notificationItem",notificationPanel:"notificationPanel",nextButton:"nextButton",nmLanding:"nmLanding",noConnectivityWarning:"noConnectivityWarning",onramp:"onramp",onrampIntro:"onrampIntro",onrampOutro:"onrampOutro",onrampTitleSelector:"onrampTitleSelector",orderConfirmation:"orderConfirmation",passwordInput:"passwordInput",pauseDownloadButton:"pauseDownloadButton",paymentContext:"paymentContext",paymentCreditCard:"paymentCreditCard",paymentDebitCard:"paymentDebitCard",paymentDirectDebit:"paymentDirectDebit",paymentGiftCard:"paymentGiftCard",paymentPaypal:"paymentPaypal",pinPrompt:"pinPrompt",planOption:"planOption",planSelection:"planSelection",planSelectionContext:"planSelectionContext",planUpgradeConfirmationPrompt:"planUpgradeConfirmationPrompt",planUpgradeGate:"planUpgradeGate",playButton:"playButton",playWithLanguageOptionButton:"playWithLanguageOptionButton",playback:"playback",playbackControls:"playbackControls",postPlay:"postPlay",prePlayback:"prePlayback",prerollIntro:"prerollIntro",prerollOutro:"prerollOutro",profilesGate:"profilesGate",registration:"registration",registrationContext:"registrationContext",removeAllCachedVideosButton:"removeAllCachedVideosButton",removeCachedVideoButton:"removeCachedVideoButton",resumeDownloadButton:"resumeDownloadButton",retryDownloadButton:"retryDownloadButton",screenSaver:"screenSaver",search:"search",searchBox:"searchBox",searchResults:"searchResults",seasonsSelector:"seasonsSelector",settings:"settings",shareButton:"shareButton",signUpButton:"signUpButton",signupPrompt:"signupPrompt",storyArt:"storyArt",streetInput:"streetInput",subtitles:"subtitles",survey:"survey",surveyQuestion:"surveyQuestion",thumbRatingIntroDialog:"thumbRatingIntroDialog",thumbRatingWelcomeDialog:"thumbRatingWelcomeDialog",tinCancellation:"tinCancellation",tinDevices:"tinDevices",tinPlans:"tinPlans",tinWatchOffline:"tinWatchOffline",titleEvidence:"titleEvidence",titleSelector:"titleSelector",trickplay:"trickplay",trickplayScrubber:"trickplayScrubber",trickplayScrubberThumb:"trickplayScrubberThumb",umsAlert:"umsAlert",umsAlertButton:"umsAlertButton",upgradingPlan:"upgradingPlan",videoNotAvailableToCacheWarning:"videoNotAvailableToCacheWarning",videoNotEligibleToCacheWarning:"videoNotEligibleToCacheWarning",viewCachedVideosButton:"viewCachedVideosButton",volumeSlider:"volumeSlider",volumeSliderThumb:"volumeSliderThumb",zipCodeInput:"zipCodeInput"};t.exports=i});C.r("node_modules/shakti-platform/dist/ui/consolidatedLogging/constants/commandTypes.js",function(m,a,d){"use strict";var o={SelectCommand:"SelectCommand",CloseCommand:"CloseCommand",BackCommand:"BackCommand",ForwardCommand:"ForwardCommand",SubmitCommand:"SubmitCommand",SignInCommand:"SignInCommand",SignOutCommand:"SignOutCommand",SignUpCommand:"SignUpCommand",AddToPlaylistCommand:"AddToPlaylistCommand",RemoveFromPlaylistCommand:"RemoveFromPlaylistCommand",PlayCommand:"PlayCommand",PlayNextCommand:"PlayNextCommand",SearchCommand:"SearchCommand",ChangeValueCommand:"ChangeValueCommand",ViewDetailsCommand:"ViewDetailsCommand",ShareCommand:"ShareCommand",CloseAppCommand:"CloseAppCommand",ViewCachedVideosCommand:"ViewCachedVideosCommand",AddCachedVideoCommand:"AddCachedVideoCommand",RemoveCachedVideoCommand:"RemoveCachedVideoCommand",RemoveCachedVideoAndPlayNextCommand:"RemoveCachedVideoAndPlayNextCommand",RemoveAllCachedVideosCommand:"RemoveAllCachedVideosCommand",PauseDownloadCommand:"PauseDownloadCommand",ResumeDownloadCommand:"ResumeDownloadCommand",RetryDownloadCommand:"RetryDownloadCommand",CancelCommand:"CancelCommand",EditPlanCommand:"EditPlanCommand",EditPaymentCommand:"EditPaymentCommand",StartMembershipCommand:"StartMembershipCommand",EnterFullscreenCommand:"EnterFullscreenCommand",ExitFullscreenCommand:"ExitFullscreenCommand",ViewEpisodesSelectorCommand:"ViewEpisodesSelectorCommand",ViewAudioSubtitlesSelectorCommand:"ViewAudioSubtitlesSelectorCommand",MuteCommand:"MuteCommand",UnmuteCommand:"UnmuteCommand",EnterBattleCommand:"EnterBattleCommand",EndCommand:"EndCommand",SkipBackCommand:"SkipBackCommand",SkipAheadCommand:"SkipAheadCommand",RewindCommand:"RewindCommand",FastForwardCommand:"FastForwardCommand",PauseCommand:"PauseCommand",UnpauseCommand:"UnpauseCommand",SeekCommand:"SeekCommand",WatchCreditsCommand:"WatchCreditsCommand"};a.exports=o});C.r("node_modules/shakti-platform/dist/ui/consolidatedLogging/constants/eventTypes.js",function(e,t,d){"use strict";var o={LoggerInitialized:"LoggerInitialized",LastAppCrashed:"LastAppCrashed",Presented:"Presented",ExceptionOccurred:"ExceptionOccurred",VolumeChanged:"VolumeChanged",TestAllocationsIgnored:"TestAllocationsIgnored",PushNotificationReceived:"PushNotificationReceived",PushNotificationPresented:"PushNotificationPresented",PushNotificationResolved:"PushNotificationResolved",AppHeartbeat:"AppHeartbeat",BoxartRenderEnded:"BoxartRenderEnded",DebugEvent:"DebugEvent",ServerDiscovered:"ServerDiscovered",NrdFeaturesReported:"NrdFeaturesReported",NrdPreAppTileGroupsUpdated:"NrdPreAppTileGroupsUpdated",NrdSystemCommandReceived:"NrdSystemCommandReceived"};t.exports=o});C.r("node_modules/shakti-platform/dist/ui/consolidatedLogging/index.js",function(e,t,n){"use strict";function o(e,t,n,o){var r=f.getAllMatchingKeys(new RegExp(h.lsNetworkPrefix));if(r&&r.length>0){var i=o;r.sort().reverse();for(var s=0;s<r.length;s++)!function(o){var s=i;i=function(){var i=f.getItem(r[o]);f.removeItem(r[o]),h.retryingPost(e,i,t,n,function(e,t){s&&s(e,t)})}}(s);setTimeout(i,v)}}function r(e){return{addContext:s(e,e.addContext),removeContext:s(e,e.removeContext),logEvent:s(e,e.logEvent),startSession:s(e,e.startSession),endSession:s(e,e.endSession),flush:s(e,e.flush),sever:s(e,e.sever)}}function i(t){if(t){for(var n=["enabled","sendRetries","sendBackoffMs","batchIntervalMs","batchSize","endpointUrl"],o=[],r=0;r<n.length;r++)t.hasOwnProperty(n[r])||o.push(n[r]);if(o.length>0){if(p)throw new Error("Tried to init CL with missing fastProp value(s): "+o.join(", "));return}b=t}else{var i=e,s=i("../ShaktiProperties");s&&s.get?b={enabled:s.get("shakti.consolidated.logging.enabled"),sendRetries:s.get("shakti.consolidatedLogging.sendRetries"),sendBackoffMs:s.get("shakti.consolidatedLogging.sendBackoffMs"),batchIntervalMs:s.get("shakti.consolidatedLogging.batchIntervalMs"),batchSize:s.get("shakti.consolidatedLogging.batchSize"),endpointUrl:s.get("shakti.consolidatedLogging.endpointUrl")}:console.warn("Attempt to init Consolidated Logging failed due to lack of environment variables.")}}function s(e,t){return function(){if(p&&!g&&y.inert)throw new Error("Logging called, but cl not initialized yet.");if(p)return t.apply(e,arguments);try{return t.apply(e,arguments)}catch(e){return null}}}function a(e){for(var t=e,n=1;n<arguments.length;n++){var o=arguments[n];if("object"===(void 0===o?"undefined":d(o)))for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t}function l(e){var t=function(e,t){e&&console.error("There was an error sending the data to CL",e)};h.retryingPost(b.endpointUrl,e,b.sendRetries,b.sendBackoffMs,t)}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=e("nf-cl-logger"),f=e("../localStorage"),g=e("../utils/inNode"),u=e("./cl-inert-logger"),h=e("./cl-networking"),v=5e3,p=!1;p=!0;var b={enabled:!1},y=a({},u,r(u));t.exports={init:function(e,t){if(!g&&(i(t),o(b.endpointUrl,b.sendRetries,b.sendBackoffMs,function(){}),b.enabled)){if(!y.inert)return void console.error("Logger already initialized.");var n={source:"www",batchInterval:b.batchIntervalMs,batchSize:b.batchSize,requestSender:l,timeOffset:0},s=r(c(a({},n,e)));for(var d in s)s.hasOwnProperty(d)&&(y[d]=s[d]);delete y.inert,window.addEventListener("beforeunload",function(e){y.sever()})}},getInstance:function(){return y}},t.exports.__isInitialized=function(){return!0!==y.inert}});C.r("node_modules/shakti-platform/dist/ui/localStorage/index.js",function(t,e,r){"use strict";var n=t("../utils/inNode"),o=function(){if(n)return!1;try{var t="__nf_storage_test__";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(t){return!1}}();e.exports={setItem:function(t,e){if(o)try{window.localStorage.setItem(t,e)}catch(t){}},removeItem:function(t){if(o)try{window.localStorage.removeItem(t)}catch(t){}},getItem:function(t){if(!o)return null;try{return window.localStorage.getItem(t)}catch(t){return null}},key:function(t){if(!o)return null;try{return window.localStorage.key(t)}catch(t){return null}},exists:function(t){return o&&null!==this.getItem(t)},getAllMatchingKeys:function(t){var e=[];try{if(o){var r=window.localStorage;if(r.length&&r.length>0)for(var n=0;n<r.length;n++){var l=r.key(n);t.test(l)&&e.push(l)}}}catch(t){}return e},__test_only:{isStorageAvailable:function(){return o}}}});C.r("node_modules/tiny-uuid/index.js",function(n,o,t){o.exports=function(n,o){for(o=n="";n++<36;o+=51*n&52?(15^n?8^Math.random()*(20^n?16:4):4).toString(16):"-");return o}});C.r("player/nfplayer/common/Metadata.js",function(t,e,o){"use strict";function a(t){this._metadata=t||{},this._video=new u(this,null,this._metadata.video);var e=this,o=i.get(e._metadata,"video.seasons");if(o){e._seasons=[];var a=null;i.forEachRight(o,function(t){a=new d(e,t,a),e._seasons.unshift(a)})}}var i=t("lodash"),n=t("../requests/metadata"),s=t("../utils/playerConfig"),r=t("../utils/withRetries"),d=t("./Season"),u=t("./Video");a.getMetadata=function(t,e){return i.get(s.getCachedInitParams(),"metadataRequestFormat")===n.NOFALCOR&&(t.format=n.NOFALCOR,delete t.falcorModel),r({count:5},i.partial(n,t,i),function(t,o){t||!o?e(t,null):e(null,new a(o))})},a.prototype.getVideo=function(t){var e=void 0;return t?(this._video.getId()===t&&(e=this._video),this.getAllSeasons().forEach(function(o){o.getEpisodes().forEach(function(o){o.getId()===t&&(e=o)})}),e):this._video},a.prototype.getAllSeasons=function(){return this._seasons||[]},a.prototype.getTitle=function(){return i.get(this._metadata,"video.title","")},a.prototype.getCurrentVideo=function(){return this.getVideo(i.get(this,"_metadata.video.currentEpisode",i.get(this,"_metadata.video.id")))},a.prototype.getNextEpisodeTrackId=function(){return i.get(this,"_metadata.trackIds.nextEpisode",-1)},a.prototype.getEpisodeSelectorTrackId=function(){return i.get(this,"_metadata.trackIds.episodeSelector",-1)},e.exports=a});C.r("player/nfplayer/common/Season.js",function(t,e,o){"use strict";function s(t,e,o){this._metadata=t,this._season=e,this._nextSeason=o;var s=this;this._episodes=[];var r=n.result(o,"getFirstEpisode",null);n.forEachRight(n.get(e,"episodes",[]),function(e){r=new i(t,s,e,r),s._episodes.unshift(r)})}var n=t("lodash"),i=t("./Video");s.prototype.getId=function(){return n.get(this._season,"id")},s.prototype.getEpisodes=function(){return this._episodes},s.prototype.getYear=function(){return this._season.year},s.prototype.getFirstEpisode=function(){return this._episodes[0]},s.prototype.getAllSeasons=function(){return this._metadata.getAllSeasons()},s.prototype.getSeasonIndex=function(){return this._metadata.getAllSeasons().indexOf(this)},s.prototype.getNextSeason=function(){return this._nextSeason},s.prototype.getTitle=function(){return n.get(this._season,"title")},s.prototype.getShortName=function(){return n.get(this._season,"shortName")},s.prototype.getLongName=function(){return n.get(this._season,"longName")},s.prototype.isNSRE=function(){return n.result(this,"_metadata._video.isNSRE",!1)},e.exports=s});C.r("player/nfplayer/common/SmartSubtitles.js",function(t,e,s){"use strict";function i(t,e){this._player=t,this._locale=a,e&&e.geo&&(this._locale=e.geo.data.locale.id),this._receivedTracks=!1,this._firstTime=!0,this._subtitlesOff=!1}var r=t("lodash"),a="en";i.prototype={restoreOriginalSettings:function(){this._establishUserPreferences(),this._hasSubtitlesOn||this._turnOffSubtitles()},setSubtitles:function(t){if(this._establishUserPreferences(),!this._hasSubtitlesOn){if(!t)return void this._turnOffSubtitles();var e=this._getTrackToUse();this._player.setTimedTextTrack(e)}},_establishUserPreferences:function(){if(this._firstTime){var t=this._player.getTimedTextTrack();this._firstTime=!1,this._hasSubtitlesOn=Boolean(t&&t.bcp47)}},_turnOffSubtitles:function(){this._subtitlesOff||this._getTrackToUse(),this._player.setTimedTextTrack(this._subtitlesOff)},_getTrackToUse:function(){var t=this,e=[],s=[];try{this._player.getTimedTextTrackList().forEach(function(i){void 0===i.bcp47&&(t._subtitlesOff=i),e.push(i.bcp47),s.push(i)})}catch(t){}if(void 0!==this._trackToUse&&this._receivedTracks)return this._trackToUse;s.length&&(this._receivedTracks=!0);var i=r.find(e,function(e){return!(!e||"string"!=typeof e)&&t._locale.toLowerCase().indexOf(e.toLowerCase())>-1}),n=e.indexOf(i),h=null;return-1===n&&(n=e.indexOf(a)),this._trackToUse=h=s[n],void 0===h&&(this._trackToUse=h=this._subtitlesOff),h}},e.exports=i});C.r("player/nfplayer/common/Video.js",function(t,e,i){"use strict";function o(t,e,i,o){this._metadata=t,this._season=e,this._video=i,this._nextEpisode=o}var r=t("lodash");o.prototype.getId=function(){return r.get(this._video,"id")},o.prototype.getBookmark=function(){return r.get(this._video,"bookmark")},o.prototype.setBookmarkOffset=function(t){this._video&&this._video.bookmark&&(this._video.bookmark.offset=t)},o.prototype.getTitle=function(){return this._metadata?this._metadata.getTitle():null},o.prototype.getSynopsis=function(){return this._video?this._video.synopsis:null},o.prototype.getRuntime=function(){return this._video?this._video.runtime:null},o.prototype.getType=function(){return this._video?this._video.type:null},o.prototype.getPinRequired=function(){return!this._video||this._video.requiresPin},o.prototype.getPreReleasePinRequired=function(){return!!this._video&&this._video.requiresPreReleasePin},o.prototype.requiresAdultVerification=function(){return!this._video||this._video.requiresAdultVerification},o.prototype.isEpisodic=function(){return Boolean(this._season)},o.prototype.isNSRE=function(){return!!r.get(this,"_metadata._metadata.video.isNSRE",!1)},o.prototype.showEpisodeNumbers=function(){return!r.get(this,"_season._season.hiddenEpisodeNumbers",!1)},o.prototype.isSupplemental=function(){return"supplemental"===r.get(this,"_metadata._metadata.video.type","")},o.prototype.getYear=function(){return this.isEpisodic()?this.getSeason().getYear():r.get(this._metadata,"_metadata.video.year")},o.prototype.getNextEpisode=function(){return this._nextEpisode},o.prototype.getSeason=function(){return this._season},o.prototype.getAllSeasons=function(){return this._metadata.getAllSeasons()},o.prototype.getEpisodeIndex=function(){return this._season.getEpisodes().indexOf(this)},o.prototype.getEpisodeTitle=function(){return this.isEpisodic()&&r.get(this._video,"title")||""},o.prototype.getEpisodeTitleWithSeasonLabelData=function(){var t=this.getEpisodeTitle();if(this.showEpisodeNumbers()){var e=this.getSeason();return{showEpisodeNumbers:!0,SEASON_ABR:r.result(e,"getShortName",""),EPISODE:this.getEpisodeNumber(),TITLE:t}}return{showEpisodeNumbers:!1,SHOW_TITLE:this.getTitle(),EPISODE_TITLE:t}},o.prototype.getEpisodeNumber=function(){return this.showEpisodeNumbers()?r.get(this._video,"seq"):""},o.prototype.getLoadingImageUrl=function(t){var e=this._metadata.getVideo();return(this.isEpisodic()||t?r.get(this._video,"stills[0].url"):void 0)||r.get(this._video,"storyart[0].url")||r.get(this._video,"artwork[0].url")||r.get(e,"artwork[0].url")||r.get(e,"video.background")},o.prototype.getEpisodeThumbnail=function(){return r.get(this._video,"artwork[0]")||r.get(this._video,"stills[0]")},o.prototype.getCreditsOffset=function(){return r.get(this._video,"creditsOffset")},o.prototype.getWatchedToEndOffset=function(){return r.get(this._video,"watchedToEndOffset")},o.prototype.getLogoURL=function(){return r.get(this._metadata,"_metadata.video.logo.url")},o.prototype.getRating=function(){return r.get(this._metadata,"_metadata.video.cinematch")},o.prototype.getMaturityRating=function(){return r.get(this._metadata,"_metadata.video.rating")},o.prototype.getCreditMarkers=function(){return r.get(this._video,"creditMarkers")},o.prototype.getUserRating=function(){return r.get(this._video,"userRating")},o.prototype.toVideoData=function(){return this._metadata._metadata.video},e.exports=o});C.r("player/nfplayer/common/nfplayerInterface.js",function(t,e,r){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getUILabel,r=void 0===e?function(){return p.STANDARD}:e,i=t.playerClassInstance;this._getUILabel=r,this._isClosing=null,this.fastForward=this.fastForward.bind(this),this._playerClassInstance=i,this._lastKnownSeekPts=void 0}var s=t("lodash"),n=t("../../../reactMixins/eventBus"),o=t("../common/playerEvents.js"),a=t("../common/SmartSubtitles"),u=t("../utils/matchMedia"),p=t("../uiLabel");s.assign(i.prototype,n),i.prototype.destroy=function(){clearTimeout(this._fastForwardDelay),clearTimeout(this._fastForwardLength),this._fastForwardDelay=null,this._fastForwardLength=null,this._player=null,this._updateState=null,this._coreComponent=null,this._smartSubtitlesState=null,this._playerClassInstance=null,this.listenerMap=null},i.prototype._setSmartSubtitles=function(t,e){t&&!this._smartSubtitlesState&&(this._smartSubtitlesState=new a(this,e))},i.prototype._setPlayerClassInstance=function(t){this._playerClassInstance=t},i.prototype._setPlayerComponent=function(t){this._player=t},i.prototype._getPlayerComponent=function(){return this._player},i.prototype._setUpdateState=function(t){this._updateState=t},i.prototype._setCoreComponent=function(t){this._coreComponent=t},i.prototype._getConfig=function(){return s.get(this,"_player.props.config",{})},i.prototype.getUILabel=function(){return this._getUILabel()},i.prototype.focus=function(){s.result(this,"_coreComponent.focus")},i.prototype.play=function(){var t=s.get(this,"_player.props"),e=s.get(this._getConfig(),"enforceFullScreenPlayback",!1)&&u.isMobile(),r=t.isFullscreen,i=t.started;this._player&&(this._player&&!r&&!i&&e&&this.enterFullscreen(),this._smartSubtitlesState&&this._smartSubtitlesState.setSubtitles(this._player.getMuted()),this._player.play())},i.prototype.playWithoutGesture=function(){var t=s.get(this,"_coreComponent.context.staticConfiguration.browserInfo.isMobile",!1);this._player&&!t&&(this._smartSubtitlesState&&this._smartSubtitlesState.setSubtitles(this._player.getMuted()),this._player.play())},i.prototype.pause=function(){this._player&&(this._smartSubtitlesState&&this._smartSubtitlesState.restoreOriginalSettings(),this._player.pause())},i.prototype.close=function(t,e){if(!this._player)return this.startClosing(),this._playerClassInstance?void this._playerClassInstance.close(t):void t();this._smartSubtitlesState&&this._smartSubtitlesState.restoreOriginalSettings(),this._player.close(t,e)},i.prototype.togglePlay=function(){this._player&&this._player.togglePlay()},i.prototype.getPaused=function(){if(this._player)return this._player.getPaused()},i.prototype.getEngine=function(){return s.get(this,"_player.constructor.engine")},i.prototype.isLoaded=function(){return s.get(this,"_coreComponent.state.loaded",!1)},i.prototype.load=function(){return s.result(this,"_player.load")},i.prototype.setVolume=function(t){this._player&&this._player.setVolume(t)},i.prototype.getVolume=function(){return this._player?this._player.getVolume():null},i.prototype.setMuted=function(t){this._player&&(this._smartSubtitlesState&&this._smartSubtitlesState.setSubtitles(t),this._player.setMuted(t))},i.prototype.toggleMute=function(){this._player&&this._player.toggleMute()},i.prototype.getMuted=function(){return this._player?this._player.getMuted():null},i.prototype.getDuration=function(){return this._player?this._player.getDuration():null},i.prototype.getCurrentTime=function(){return this._player?this._player.getCurrentTime():null},i.prototype.getBufferedTime=function(){return this._player?this._player.getBufferedTime():null},i.prototype.isRebuffering=function(){return!(!this._player||!this._coreComponent)&&s.get(this,"_coreComponent.state.rebuffering",!1)},i.prototype.seek=function(t){if(this._player){var e=this.getDuration()-1,r=Math.max(0,t>e?e:t);this.isRebuffering()&&r===this._lastKnownSeekPts||(this._lastKnownSeekPts=r,this._player.seek(r))}},i.prototype.seekBack=function(t){var e=this.getCurrentTime(),r=e-Math.abs(t);this.seek(r<0?0:r)},i.prototype.fastForward=function(t){var e=this;this._updateState({type:o.FAST_FORWARD_START,state:{fastForward:!0}}),this._fastForwardDelay=setTimeout(function(){e.seek(t)},500),this._fastForwardLength=setTimeout(function(){e._updateState({type:o.FAST_FORWARD_END,state:{fastForward:!1}})},1e3)},i.prototype.setAudioTrack=function(t){this._player&&this._player.setAudioTrack(t)},i.prototype.setTimedTextTrack=function(t){this._player&&this._player.setTimedTextTrack(t)},i.prototype.scrubStart=function(t){var e=s.get(this,"_coreComponent.context.staticConfiguration.shouldPauseWhenScrubbing",!0);this._wasPausedBeforeScrubbing=this.getPaused(),this._scrubbing=!0,!this._wasPausedBeforeScrubbing&&e&&this.pause(),t||(t=this.getCurrentTime()),this._currentScrubTime=t,this._updateState({type:o.SCRUB_START,state:{currentScrubTime:t,scrubbing:!0}})},i.prototype.scrubEnd=function(t){this._scrubbing=!1,s.isNumber(t)||(t=this._currentScrubTime),this._currentScrubTime=-1,this._updateState({state:{currentScrubTime:-1,scrubbing:!1},type:o.SCRUB_END}),s.isNumber(t)&&this.seek(t),!this._wasPausedBeforeScrubbing&&this.getPaused()&&this.play(),this._coreComponent.setKeepActive(!1)},i.prototype.scrubCancel=function(){this._scrubbing=!1,this._currentScrubTime=-1,this._updateState({type:o.SCRUB_END,state:{currentScrubTime:-1,scrubbing:!1,canceled:!0}}),this._wasPausedBeforeScrubbing||this.play(),this._coreComponent.setKeepActive(!1)},i.prototype.scrub=function(t){this._currentScrubTime=t,this.getScrubbing()?this._updateState({type:o.SCRUB,state:{currentScrubTime:t}}):this.seek(t)},i.prototype.getScrubbing=function(){return this._scrubbing},i.prototype.getVersion=function(){return this._player?this._player.getVersion():null},i.prototype.getError=function(){return this._player?this._player.getError():null},i.prototype.getEnded=function(){return this._player?this._player.getEnded():null},i.prototype.toggleFullscreen=function(){this._player&&this._player.toggleFullscreen()},i.prototype.enterFullscreen=function(){this._player&&this._player.enterFullscreen()},i.prototype.exitFullscreen=function(){this._player&&this._player.exitFullscreen()},i.prototype.getVideoSize=function(){return this._player?this._player.getVideoSize():null},i.prototype.getTrickPlayURL=function(t){return this._player?this._player.getTrickPlayURL(t):null},i.prototype.getAdditionalLogInfo=function(){return this._player.getAdditionalLogInfo?this._player.getAdditionalLogInfo():null},i.prototype.getAudioTrack=function(){return this._player?this._player.getAudioTrack():null},i.prototype.getTimedTextTrack=function(){return this._player?this._player.getTimedTextTrack():null},i.prototype.getAudioTrackList=function(){return this._player?this._player.getAudioTrackList():null},i.prototype.getTimedTextTrackList=function(){return this._player?this._player.getTimedTextTrackList():null},i.prototype.setTimedTextBounds=function(t){this._player&&this._player.setTimedTextBounds&&this._player.setTimedTextBounds(t)},i.prototype.isClosing=function(){return this._isClosing},i.prototype.startClosing=function(){this._isClosing=!0},i.prototype.engage=function(){this._player&&this._player.engage()},e.exports=i});C.r("player/nfplayer/common/playerCookies.js",function(e,r,o){"use strict";r.exports={FORCE_SILVERLIGHT:"forceSilverlight",UPGRADE_TO_CADMIUM:"upgradedToCadmiumPlayback"}});C.r("player/nfplayer/common/playerCounters.js",function(_,r,e){"use strict";r.exports={BVUI_INIT_ERROR:"akira_bvui_init_error",KIDS_PLAYER_INIT_ERROR:"kids_player_init_error",AKIRA_NFPLAYER_INIT_ERROR:"akira_nfplayer_init_error",IKO_PLAYER_INIT_ERROR:"iko_player_init_error",IKO_PLAYER_DATA_RETRIEVAL_FAILURE:"iko_player_data_retrieval_failure",IKO_POST_PLAY_STARTED:"iko_post_play_started",CLIENT_REFRESHED:"dynamic_messages_client_refreshed",FORCE_SILVERLIGHT_PLAYBACK:"force_silverlight_playback",WATCH_BAD_VIDEO_ID:"watch_bad_video_id"}});C.r("player/nfplayer/common/playerEvents.js",function(e,E,r){"use strict";function t(e,E,r){return E in e?Object.defineProperty(e,E,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[E]=r,e}var A;E.exports={LOADED:"loaded",PROGRESS:"progress",PLAYING:"playing",PAUSED:"paused",ENDED:"ended",ERROR:"error",STALLED:"stalled",REBUFFERING:"rebuffering",TIME_UPDATE:"timeupdate",DURATION_CHANGED:"durationchanged",ACTIVE:"active",INACTIVE:"inactive",METADATA_LOADED:"metadataloaded",FULLSCREEN_ENTER:"fullscreenenter",FULLSCREEN_EXIT:"fullscreenexit",SCRUB:"scrub",SCRUB_START:"scrubstart",SCRUB_END:"scrubend",SCRUB_UNBATCHED:"scrub_UNBATCHED",SCRUB_START_UNBATCHED:"scrubstart_UNBATCHED",SCRUB_END_UNBATCHED:"scrubend_UNBATCHED",VOLUME_CHANGED:"volumechanged",VOLUME_CHANGED_UNBATCHED:"volumechanged_UNBATCHED",TIMED_TRACKS_LOADED:"timedtracksloaded",TIMED_TRACKS_CHANGED:"timedtrackschanged",SHOW_SUBTITLE:"showsubtitle",REMOVE_SUBTITLE:"removesubtitle",FAST_FORWARD_START:"fastforwardstart",FAST_FORWARD_END:"fastforwardend",ENGAGE:"engage",UNBATCHED_EVENTS:(A={},t(A,"scrub","scrub_UNBATCHED"),t(A,"scrubstart","scrubstart_UNBATCHED"),t(A,"scrubend","scrubend_UNBATCHED"),t(A,"volumechanged","volumechanged_UNBATCHED"),A)}});C.r("player/nfplayer/domain/common/createAction.js",function(n,t,r){"use strict";var e=function(n){return function(t){return{data:t,type:n}}};t.exports=e});C.r("player/nfplayer/requests/metadata.js",function(n,l,e){"use strict";function i(n){return["videos",n,"metadata"]}function t(n,l){return r.call(i(n.id),[m,n.imageFormat,!!n.isSilverlight&&s,!!n.isEncode&&d],[],[]).subscribe(function(n){l(null,n)},function(n){l(n,null)})}function a(n,l,e){var t=n.id,a=n.falcorModel;a?e(null,a.getValueSync(i(t))):e(null,u.get(l,["value"].concat(i(t)).join("."),null))}function o(n,l){var e=u.assign({},v,{imageFormat:f.getExtensionForOpaqueImage()},n),o=e.falcorModel,r=function(n,e){if(n)return void l(n,null);l(null,e)},s=void 0;if(o)o.getValueSync(i(e.id))?(s=u.noop,a(e,null,r)):s=t(e,function(n,i){if(n)return void l(n,null);a(e,i,r)});else if(e.format===g){var d=c.getMetadataCall(e.id).subscribe(function(n){l(null,n)},function(n){l(n,null)});s=function(){d.unsubscribe()}}else s=t(e,function(n,i){if(n)return void l(n,null);a(e,i,r)});return s}var u=n("lodash"),r=n("../../../falkorClient/falkorLoader"),c=n("../../../utils/player/playerMetadata"),f=n("../../../common/imageExtension"),s="SILVERLIGHT",d="SILVERLIGHT_ENCODE",g="NOFALCOR",m="JSON",v={falcorModel:null,isSilverlight:!1,isEncode:!1,imageFormat:"jpg",id:-1};o.NOFALCOR=g,l.exports=o});C.r("player/nfplayer/utils/matchMedia.js",function(i,a,t){"use strict";var n=void 0,d=void 0;a.exports={isMobile:function(){return void 0===n&&(n=window.matchMedia("(min-width: 330px) and (max-width: 640px) and (orientation: portrait)").matches||window.matchMedia("(min-height: 330px) and (max-height: 640px) and (orientation: landscape)").matches),n},isTablet:function(){return void 0===d&&(d=window.matchMedia("(min-width: 640px) and (max-width:1100px) and (orientation: portrait)").matches||window.matchMedia("(min-height: 640px) and (max-height:1100px) and (orientation: landscape)").matches),d}}});C.r("player/nfplayer/utils/playerSession.js",function(e,t,i){"use strict";function a(){return{volume:1,muted:!1}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.activeView,i=e.id,a=e.autoPlay,r=void 0===a||a,s=e.bindBeforeUnloadEvent,n=void 0!==s&&s,o=e.bindWatermarkEvent,l=void 0!==o&&o,d=e.clearPostplayChain,h=void 0===d||d,u=e.fetchMetadata,c=void 0===u||u,_=e.getExternalVideoId,y=e.getExternalUILabel,v=e.getExternalTrackId,p=e.handleExitPlayer,g=(e.isExitingPlayer,e.isImplicitAutoPlay),f=void 0!==g&&g,m=e.onVideoMetadata,P=e.pollDynamicMessages,b=void 0!==P&&P,A=e.render,I=e.playerApp,E=e.discoveryApp,V=e.uiLabel,C=void 0===V?S.STANDARD:V,w=e.views,k=void 0===w?{}:w;this._activeView=t,this._autoPlay=r,this._setBindBeforeUnloadEvent(n),this._setBindWatermarkEvent(l),this._clearPostplayChain=h,this._fetchMetadata=c,this._getExternalVideoId=_,this._getExternalUILabel=y,this._getExternalTrackId=v,this._handleExitPlayer=p,this._id=i||j(),this._isExitingPlayer=!1,this._isImplicitAutoPlay=f,this._onAfterVideoMetadata=m,this._pollDynamicMessages=b,this._render=A,this._uiLabel=C,this._views=k,this._loggedInteractiveStatus=!1,this._playerApp=I,this._discoveryApp=E,this._videoPlayerClosingObservable=null,this._videoPlayerCreateObservable=new L,this._player=null,this.setFatalError=this.setFatalError.bind(this),this._setActiveViewAsPlayback=this._setActiveViewAsPlayback.bind(this),this._setActiveViewAsLoading=this._setActiveViewAsLoading.bind(this),this._setActiveViewAsUpsell=this._setActiveViewAsUpsell.bind(this),this._setActiveViewAsError=this._setActiveViewAsError.bind(this),this._setActiveViewAsUnloading=this._setActiveViewAsUnloading.bind(this),this._beforeUnloadHandler=this._beforeUnloadHandler.bind(this),this._removePlayerEventListeners=this._removePlayerEventListeners.bind(this),this._onVideoMetadata=this._onVideoMetadata.bind(this),this._onPlayerClosed=this._onPlayerClosed.bind(this),this._setWatermarkState=this._setWatermarkState.bind(this)}function s(e,t){return t.reduce(function(t,i){return t||(null===i?null===e:(void 0===e?"undefined":I(e))===i)},!1)}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E.get(e,"preplay.raw.trailerVideoId",E.get(e,"preRoll.items[0].actions[0].videoId"))}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=E.get(e,"preroll.items[0].actions[0].trackId");if(t)return t;var i=E.get(e,"preplay.trackId");if(i)return i;var a=e?e.trackingId:void 0;return a||0}function l(e,t){if(A())return!1;var i=E.get(e,"playableId",!1),a=E.get(t,"_video.id",i);return!!a&&(!!(e&&e.preReleasePinRequiredById&&e.preReleasePinRequiredById[a])||!(!t||!t.getPreReleasePinRequired()))}function d(e){return!E.get(e,"pinConfig.isAdultVerified",!0)}function h(e){if(l(e,null))return!0;var t=E.get(e,"pinConfig.isEnabled",!1),i=V.isExpired(V.SESSION_TYPES.PIN);return t&&i}function u(e,t){var i=E.result(t,"getPinRequired",!1),a=E.get(e,"pinConfig.isEnabled",!1),r=V.isExpired(V.SESSION_TYPES.PIN);return i&&a&&r}function c(e,t){var i=E.get(e,"pinConfig.isAdultVerified",!0),a=E.result(t,"requiresAdultVerification",!1);return!i&&a}function _(e,t){var i=E.get(e,"pinConfig.pinResetOnNonPinContent",!1);!E.result(t,"getPinRequired",!1)&&i&&V.resetPINState()}function y(e,t){return(!d(e)||!t.requiresAdultVerification())&&!(l(e,t)||h(e)&&t.getPinRequired())}function v(e,t){return E.assign(E.omit(e,["tctx"]),t)}function p(e,t){return t?y(e,t):!(d(e)||h(e))}function g(e,t){return!(!t||c(e,t))||(!(!t||u(e,t))||!d(e)&&(!h(e)&&!l(e,t)))}function f(e,t,i){var a=e.maxConsecutiveAutoplays||X,r=e.autoplayInterrupterTimestamp||G;return null!==t&&void 0!==t&&!isNaN(t)&&(i>=a&&t>=r)}function m(e){var t=e.params,i=e.query;return t.id||i.episodeId}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.muted,i=e.volume,r={};if("boolean"==typeof t&&(r.muted=t),"number"!=typeof i||isNaN(i)||(r.volume=i),k)return E.assign(a(),r);var s=V.getSessionData(V.SESSION_TYPES.VOLUME);return s?E.assign({volume:s.percentage&&"number"==typeof s.percentage&&!isNaN(s.percentage)?s.percentage:1,muted:"boolean"==typeof s.muted&&s.muted},r):E.assign(a(),r)}function b(e){k||(Q=e)}function A(){return!k&&void 0!==Q&&Q}var I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E=e("lodash"),V=e("../../session/sessionManager"),C=e("../../../utils/player/videoSession"),w=e("./getCadmiumCreationParameters"),k=e("shakti-platform/dist/ui/utils/inNode"),L=e("../../../utils/rx/shakti-rx").RxSubject,x=e("../../../utils/rx/shakti-rx").RxObservable,M=e("../../../utils/rx/shakti-rx").RxSchedulerAsap,S=e("../uiLabel"),R=e("../common/nfplayerInterface"),O=e("../utils/playerConfig"),U=e("../common/playerInterfaceManager"),T=e("../common/Metadata"),q=e("../../../utils/clientCounter"),N=e("../common/playerCounters"),D=e("../../../utils/dynamicMessages/dynamicMessages"),B=e("../../../reactMixins/eventBus"),W=e("../utils/withRetries"),F=e("../common/playerErrors"),Y=e("../utils/getCadmiumCreationParameters"),H=e("../../../utils/consolidatedLogging/loggingEventRegistry"),j=e("tiny-uuid"),K=e("shakti-platform/dist/ui/routing/History"),X=3,G=120,Q=!1;r.LOADING="loading",r.PLAYBACK="playback",r.POSTPLAY="postplay",r.ERROR="error",r.UNLOADING="unloading",r.UPSELL="upsell",r.prototype={updateOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.activeView,i=e.autoPlay,a=e.bindBeforeUnloadEvent,r=e.bindWatermarkEvent,n=e.clearPostplayChain,o=e.fetchMetadata,l=e.getExternalVideoId,d=e.getExternalUILabel,h=e.getExternalTrackId,u=e.handleExitPlayer,c=e.isExitingPlayer,_=e.isImplicitAutoPlay,y=e.onVideoMetadata,v=e.pollDynamicMessages,p=e.playerApp,g=e.discoveryApp,f=e.render,m=e.uiLabel,P=e.views,b=void 0===P?{}:P;return this._activeView=t||this._activeView,this._autoPlay=s(i,["boolean"])?i:this._autoPlay,s(a,["boolean"])&&this._setBindBeforeUnloadEvent(a),s(r,["boolean"])&&this._setBindWatermarkEvent(r),this._clearPostplayChain=s(n,["boolean"])?n:this._clearPostplayChain,this._fetchMetadata=s(o,["boolean"])?o:this._fetchMetadata,this._handleExitPlayer=s(u,["function",null])?u:this._handleExitPlayer,this._getExternalUILabel=s(d,["function",null])?d:this._getExternalUILabel,this._getExternalTrackId=s(h,["function",null])?h:this._getExternalTrackId,this._getExternalVideoId=s(l,["function",null])?l:this._getExternalVideoId,this._isExitingPlayer=s(c,["boolean"])?c:this._isExitingPlayer,this._isImplicitAutoPlay=s(_,["boolean"])?_:this._isImplicitAutoPlay,this._onAfterVideoMetadata=s(y,["function",null])?y:this._onAfterVideoMetadata,this._pollDynamicMessages=s(v,["boolean"])?v:this._pollDynamicMessages,this._render=s(f,["function",null])?f:this._render,this._playerApp=s(p,["object",null])?p:this._playerApp,this._discoveryApp=s(g,["object",null])?g:this._discoveryApp,this._uiLabel=m||this._uiLabel,this._views=E.assign(this._views,b),this},_setBindBeforeUnloadEvent:function(e){k||"boolean"!=typeof e||(this._bindBeforeUnloadEvent&&!e?window.removeEventListener("beforeunload",this._beforeUnloadHandler):!this._bindBeforeUnloadEvent&&e&&window.addEventListener("beforeunload",this._beforeUnloadHandler),this._bindBeforeUnloadEvent=e)},_setBindWatermarkEvent:function(e){"boolean"==typeof e&&(this._bindWatermarkEvent=e)},render:function(){return this._render&&this._render(),this},getVideoMetadata:function(){return{activeVideo:this._activeVideoMetadata,metadata:this._videoMetadata}},getView:function(){return{Component:this._views[this._activeView],type:this._activeView,error:this._error,playbackTimedOut:this._playbackTimedOut,player:this._player}},play:function(){return this._player&&this._player.play(),this},engage:function(){return this._player&&this._player.engage(),this},getObservables:function(){if(this._videoPlayerCreateObservable)return this._videoPlayerCreateObservable.map(function(e){return e.observables});var e=x.empty();return x.of({loaded:e,loadedTracks:e,loadedMetadata:e})},getPlayerInterface:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isClosing:!1};return this._interface?this._interface:(this._interface=new R({getUILabel:this._getExternalUILabel||this.getUILabel}),e.isClosing||this._interface.isClosing()||U.addPlayerInterfaceInstance(this._interface),this._interface)},getUILabel:function(){return this._uiLabel},setFatalError:function(e){if(!this._error){this._setActiveViewAsError(e),q.increment(N.AKIRA_NFPLAYER_INIT_ERROR,e&&e.code?{code:e.code}:null),this.setInteractiveStatus({interactiveReason:"failed"});var t={config:O.getConfig(),code:e&&e.code,message:e&&e.message,stack:e&&e.stack};D.makeRequest&&(this._dynamicMessageRequestDisposable=D.makeRequest(D.context.applicationError,D.sources.playback)),this._discoveryApp&&this._discoveryApp.getActionCreators().expireApp(),B.emit(H.PLAYBACK_INIT_ERROR,t)}},updateMetadataActiveVideo:function(e){this._fetchMetadata&&this._videoMetadata&&this._videoMetadata.getVideo(e)&&(this._activeVideoMetadata=this._videoMetadata.getVideo(e))},createCadmiumPlayer:function(e,t,i){var a=this;return this._fetchMetadata&&(this._videoMetadata&&this._videoMetadata.getVideo(e.videoId)?this._activeVideoMetadata=this._videoMetadata.getVideo(e.videoId):(this._videoMetadata=null,this._activeVideoMetadata=null,this._metadataRequestDisposable=T.getMetadata({id:e.videoId},function(i,r){a._onVideoMetadata(i,r,t,e)}))),!p(t,this._activeVideoMetadata)&&e.restartPlayer?(this._restartPlaybackAttempted=!0,this._setActiveViewAsLoading(),x.empty()):!p(t,this._activeVideoMetadata)||p(t,this._activeVideoMetadata)&&this._creationConfig&&e.videoId===this._creationConfig.videoId&&!e.restartPlayer&&!this._restartPlaybackAttempted&&!this._playbackTimedOut?x.empty():(this._playbackTimedOut=!1,this._restartPlaybackAttempted=!1,this._creatingPlayer=!0,this._creationConfig=e,this._initParams=t,this._setActiveViewAsLoading(),this._pollDynamicMessages&&D.poll&&D.poll(D.pollingTypes.PLAYBACK).subscribe(),this._creationObservable?this._creationObservable:(this._creationObservable=this.closeCadmiumPlayer({dataToLog:{reason:"PlayerSession::createCadmiumPlayer"}}).flatMap(function(){return a._player?x.of(a._player):(e.playerState=P(),C.createPlayerSafely(w.getCadmiumCreationParameters(Object.assign(e,{autoPlay:a.shouldAutoPlay()}),t,a,i),a,i))}).do(function(e){a._creationObservable=null,a._creatingPlayer=!1,a.setCadmiumPlayerInstance(e),a._player.getLoaded()||a._player.load(),a._addPlayerEventListeners(),a._videoPlayerCreateObservable.next(e)}).publishReplay().refCount().observeOn(M),this._creationObservable))},_addPlayerEventListeners:function(){return this._player?(this._removePlayerEventListeners(),this._player.addEventListener("loaded",this._setActiveViewAsPlayback),this._player.addEventListener("error",this._setActiveViewAsError),this._player.addEventListener("closed",this._onPlayerClosed),this._bindWatermarkEvent&&this._player.addEventListener("watermark",this._setWatermarkState),this):this},_removePlayerEventListeners:function(){return this._player?(this._player.removeEventListener("loaded",this._setActiveViewAsPlayback),this._player.removeEventListener("error",this._setActiveViewAsError),this._player.removeEventListener("closed",this._onPlayerClosed),this._bindWatermarkEvent&&this._player.removeEventListener("watermark",this._setWatermarkState),this):this},_onPlayerClosed:function(){this._watermarkState=void 0,this._removePlayerEventListeners()},_setWatermarkState:function(e){return this._watermarkState=E.omit(e,["target"]),this._render&&this._render(),this},getWatermarkState:function(){return this._watermarkState},_onVideoMetadata:function(e,t,i,a){var r=e&&e instanceof W.RetryError&&!this.hasVideoPlayerForId(a.videoId)&&!p(i);if(!e&&t)this._videoMetadata=t,this._activeVideoMetadata=t.getCurrentVideo();else if(r)return void this.setFatalError(new F.PlayerUICreationError);if(this._onAfterVideoMetadata&&this._onAfterVideoMetadata(e,t),!e&&t&&l(this._initParams,this._activeVideoMetadata))return void this._setActiveViewAsLoading();this._render&&this._render()},_beforeUnloadHandler:function(){this._setActiveViewAsUnloading()},_setActiveViewAsUnloading:function(){return this._activeView="unloading",this._render&&this._render(),this},_setActiveViewAsLoading:function(){return this._activeView="loading",this._render&&this._render(),this},_setActiveViewAsUpsell:function(){return this._activeView="upsell",this._render&&this._render(),this},_setActiveViewAsPlayback:function(){return this.shouldAutoPlay()?this._player&&!this._player.getLoaded()?(this._setActiveViewAsLoading(),this):(this._activeView="playback",this._render&&this._render(),this):this},_setActiveViewAsError:function(e){if(e&&e.messageIdList&&e.messageIdList.indexOf("pause_timeout")>=0)return this._playbackTimedOut=!0,this;this._error=e,this._removePlayerEventListeners();var t=E.get(O.getFreshInitParams(),"playerUpsellEnabled",!0),i=E.get(e,"display.code","");return t&&i.indexOf("-5006")>=0?(this._setActiveViewAsUpsell(),this):(this._activeView="error",this._render&&this._render(),this)},hasPlayerInterface:function(){return!!this._interface},hasVideoPlayerForId:function(e){return this._player&&this._creationConfig.videoId===e},shouldClearPostplayChain:function(){return this._clearPostplayChain},destroyPlayerInterface:function(){this._interface&&this._interface.destroy(),U.removePlayerInterfaceInstance(this._interface),this._interface=null},_prepareToClose:function(){this._error=null,this._dynamicMessageRequestDisposable&&(this._dynamicMessageRequestDisposable.unsubscribe(),this._dynamicMessageRequestDisposable=null),this.resetInteractiveStatus(),this._creatingPlayer||(this._creationObservable=null,this._activeView=null,this._videoMetadata=null,this._activeVideoMetadata=null,this._creationConfig=null,this._initParams=null,this._pollDynamicMessages&&D.stop&&D.stop(),this._metadataRequestDisposable&&this._metadataRequestDisposable())},_afterCloseCompleted:function(){this._player=null,this.destroyPlayerInterface()},closeCadmiumPlayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dataToLog;if(this._videoPlayerClosingObservable)return this._videoPlayerClosingObservable;var i=this;return this._prepareToClose(),this._videoPlayerClosingObservable=x.create(function(e){function a(){i._afterCloseCompleted(),e.next(),e.complete(),i._videoPlayerClosingObservable=null}return i._player&&i._player.close?i._player.close(a,{dataToLog:t}):a(),E.noop}).publishReplay().refCount().observeOn(M),b(!1),this._videoPlayerClosingObservable},setInteractiveStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._loggedInteractiveStatus)return this;if(this._playerApp){this._playerApp.getActionCreators().logPlayRequestComplete({reason:e.interactiveReason,xid:this.getXid(),videoId:this.getVideoId(),supplementalVideoId:this.getPrePlayVideoId(),trackId:this.getTrackId(),sessionId:this.getId()})}return this._loggedInteractiveStatus=!0,this},resetInteractiveStatus:function(){return this._loggedInteractiveStatus=!1,this},endPlaybackSession:function(){return B.emit("playback:end"),this},exitPlayer:function(){this.isExitingPlayer()||(this._isExitingPlayer=!0,this._handleExitPlayer&&this._handleExitPlayer()||(K.index>0?K.back():window.location="/browse"))},isExitingPlayer:function(){return this._isExitingPlayer},isImplicitAutoPlay:function(){return this._isImplicitAutoPlay},shouldAutoPlay:function(){return this._autoPlay},getId:function(){return this._id},getState:function(){return{id:this.getId(),view:this._activeView,trackId:this.getTrackId(),uiLabel:this._getExternalUILabel?this._getExternalUILabel():this.getUILabel(),hasPlayer:!!this._player,isPlayerLoading:!(!this._player||!this._player.isLoading()),isPlayerLoaded:!(!this._player||!this._player.getLoaded()),isExitingPlayer:!!this.isExitingPlayer(),isAutoPlay:!!this.shouldAutoPlay(),playbackTimedOut:!!this._playbackTimedOut,creationConfig:Y.cleanCreationParametersConfig(this._creationConfig),hasError:!!this._error,errorCode:E.get(this._error,"display.code","none"),shouldPollDynamicMessages:!!this._pollDynamicMessages}},getXid:function(){return this._player?this._player.getXid():void 0},getVideoId:function(){return this._creationConfig&&this._creationConfig.videoId||this._getExternalVideoId&&this._getExternalVideoId()||this._initParams&&this._initParams.playableId},getTrackId:function(e){var t=this._getExternalTrackId&&this._getExternalTrackId(),i=this._creationConfig&&this._creationConfig.trackId;return t||i||o(e||this._initParams)},getPrePlayVideoId:function(){return n(this._initParams)},setCadmiumPlayerInstance:function(e){this._player=e,this.getPlayerInterface()._setPlayerClassInstance(this._player)}},r.canCreatePlayer=p,r.userRequiresAdultVerification=d,r.userRequiresPinVerification=h,r.allowPlaybackForActiveVideo=y,r.shouldShowPinEntry=u,r.shouldShowAgeVerificationPrompt=c,r.considerPinReset=_,r.generatePlayNextQuery=v,r.shouldAutoPlay=g,r.shouldShowAutoPlayInterrupter=f,r.videoRequiresPreReleasePin=l,r.getVideoIdFromRoute=m,r.getVolumeSessionState=P,r.setPreReleasePinEnteredCorrectly=b,r.getPreReleasePinEnteredCorrectly=A,r.getPrePlayVideoId=n,r.getTrackId=o,r.Identifiers={Watch:"watch-"+j(),Embedded:"embedded-"+j()},t.exports=r});C.r("player/nfplayer/utils/withRetries.js",function(e,t,n){"use strict";function r(e){this.message=e||"Maximum number of retries reached."}function o(e,t,n){var o=i.assign({},u,e),s=o.count,a=void 0,c=void 0,f=function(e,i){if(e)return s--,s?void(a=setTimeout(function(){c=t(f)},o.delay)):void n(0===s?new r:e,null);n(null,i)};return c=t(f),function(){c&&"function"==typeof c&&c(),a&&clearTimeout(a)}}var i=e("lodash"),u={count:3,delay:3e3};r.prototype=new Error,o.RetryError=r,t.exports=o});C.r("player/session/sessionManager.js",function(t,n,e){"use strict";function a(){return window.netflix.clientNotifications}function i(){return window.netflix.session}function o(){i().keepAlive()}function s(t){}function r(t){var n=d(t);return i().newSession()||!n}function u(){y&&y.next()}function c(t,n){a().notify(t,n)}function l(t){h||i()&&a()&&(h=!0,E=t,y=new w,P=new w,b.interval(m).takeUntil(P).takeUntil(y).filter(function(){return E&&!E.getPaused()}).do(o).subscribe(I.noop,s,I.noop))}function f(){var t=localStorage.getItem(O);if(t)try{t=JSON.parse(t)}catch(n){t=null}return t}function d(t){return v(t).currentSessionData}function S(t,n){var e=v(t),a=e.id,i=e.localStorageData,o=e.sessionData;x(i),o.timestamp=Date.now(),o.data=o.data||{},o.data[t]=n,i[a]=o,localStorage.setItem(O,JSON.stringify(i))}function v(t){var n=g(),e=f()||{},a=e[n]||{};return{id:n,localStorageData:e,sessionData:a,currentSessionData:a.data&&a.data[t]}}function x(t){var n=g();return I.forOwn(t,function(e){e!==n&&delete t[e]}),t}function g(){var t=a().getCurrentSession("userSession");return t&&t.sessionId}function p(t){h&&(!t&&I.result(N,"isCasting",!1)||(u(),P&&P.next(),E=null,y=null,P=null,h=!1))}function D(){try{S(k.PIN,!1)}catch(t){}}var b=t("../../utils/rx/shakti-rx").RxObservable,w=t("../../utils/rx/shakti-rx").RxSubject,I=t("lodash"),N=t("../../mdx2/hoc/mdxLoader.jsx"),h=void 0,m=6e5,O="NFPlaybackSession",k={PIN:"pin",AUDIO:"audio",SUBTITLE:"subtitle",VOLUME:"volume"},y=void 0,P=void 0,E=void 0;n.exports={startHeartbeat:l,stopHeartbeat:p,heartBeat:o,isExpired:r,setSessionData:S,getSessionData:d,endSession:u,log:c,SESSION_TYPES:k,resetPINState:D}});C.r("reactMixins/browserScroll.js",function(o,t,l){"use strict";var n=o("lodash"),e=o("../common/position"),i=o("./cssAnimation.jsx"),r=null,c=0,s={wheelHandler:function(o){Math.abs(o.deltaX)>=Math.abs(o.deltaY)&&o.preventDefault()},componentDidMount:function(){var o=document&&document.body;(this.onScroll||this.onScrollEnd||this.onScrollStart)&&!this.state.scrollHandlersDisabled&&(this.throttledScroll||(this.throttledScroll=n.throttle(this._onScroll,100)),o&&window&&(window.addEventListener("scroll",this.throttledScroll,!1),o.addEventListener("wheel",this.wheelHandler,!1)))},removeScrollHandlers:function(){var o=document&&document.body;o&&window&&(window.removeEventListener("scroll",this.throttledScroll,!1),o.removeEventListener("wheel",this.wheelHandler,!1))},componentWillUnmount:function(){this.removeScrollHandlers()}},a={mixins:[s],componentWillUnmount:function(){"function"==typeof this.onScrollEnd&&this.onScrollEnd(null),clearInterval(this.scrollTimeout)},_onScroll:function(o){var t=this;this.scrollTimeout?clearTimeout(this.scrollTimeout):(r=e.getScrollTop(),"function"==typeof this.onScrollStart&&this.onScrollStart(o)),c=e.getScrollTop()-r,"function"==typeof this.onScroll&&this.onScroll(o),this.scrollTimeout=setTimeout(function(){"function"==typeof t.onScrollEnd&&t.onScrollEnd(o),clearTimeout(t.scrollTimeout),t.scrollTimeout=null},150)},getScrollDistance:function(){return c},scrollTo:function(o,t){window&&window.scrollTo(o,t)},scrollDelta:function(o){window&&window.scrollTo(0,e.getScrollTop()+o)},scrollDeltaWithAnimation:function(o,t,l,n){if(window){var r=e.getWindowRect(),c=e.getTotalDocumentSize(),s=e.getScrollTop()+t,a=c.height-r.height;s>a&&(t-=s-a,s=a);var u=i.getAnimationStyle({translate3d:"0, "+-1*t+"px,0",duration:l,easing:"cubic-bezier(0.5, 0, 0.1, 1)",delay:n});for(var d in u)u.hasOwnProperty(d)&&(o.style[d]=u[d]);setTimeout(function(){window.requestAnimationFrame(function(){window.scrollTo(0,s),o.removeAttribute("style")})},n+l+250)}}};t.exports=a});C.r("reactMixins/falkorPureRenderMixin.js",function(e,t,o){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=e("fbjs/lib/shallowEqual"),i={setCustomModelChangeDetector:function(e){this.customModelChangeDetector=e},hasFalkorPropChanged:function(e){if(this.customModelChangeDetector)return this.customModelChangeDetector.didChange();var t=e.getBoundValue(),o=t.__generation,r=t.__key;return this.state.prevGeneration!==o||this.state.prevKey!==r},updateUniqueModelKey:function(e,t){if(this.customModelChangeDetector)return void this.customModelChangeDetector.updateUniqueKey();t.prevGeneration=e.getBoundValue().__generation,t.prevKey=e.getBoundValue().__key},isFalkorProp:function(e){var t=e&&e.getBoundValue&&e.getBoundValue();return!!t&&!!t.__generation},haveChildrenChanged:function(e,t){return e&&t?e.length!==t.length:e&&!t||!e&&t},componentDidMount:function(){var e=void 0;for(e in this.props)if(this.props.hasOwnProperty(e)&&this.isFalkorProp(this.props[e]))return void this.updateUniqueModelKey(this.props[e],this.state)},shouldComponentUpdate:function(e,t){var o={},i={},s=void 0,h=!1,a=void 0,u=void 0,p=void 0;for(s in e)if(e.hasOwnProperty(s))if(this.isFalkorProp(e[s])){if(this.hasFalkorPropChanged(this.props[s]))return this.updateUniqueModelKey(this.props[s],t),!0}else if("children"===s){if(this.haveChildrenChanged(this.props.children,e.children))return!0}else if("object"===r(e[s])&&"object"===r(this.props[s])){u=e[s],p=this.props[s];for(a in u)if(u.hasOwnProperty(a)&&(!p.hasOwnProperty(a)||u[a]!==p[a]))return!0;for(a in p)if(p.hasOwnProperty(a)&&!u.hasOwnProperty(a))return!0}else o[s]=this.props[s],i[s]=e[s];return(Object.keys(o).length>0||Object.keys(this.state).length>0)&&(h=!n(o,i)||!n(this.state,t)),h}};t.exports=i});C.r("reactMixins/jawBoneLink.js",function(t,e,o){"use strict";var n=t("prop-types"),r=t("lodash"),s=t("../common/position"),a=t("../reactMixins/browserScroll"),i={contextTypes:{history:n.object.isRequired,models:n.object,routeHandler:n.object.isRequired},openJawBoneAtRankNum:function(t,e,o,n){var s=!1,i=this.context.routeHandler.query,c=r.get(this.context.models,"umaModel.data",null),l=c&&c.alertBox?"bd":"mainView";this.context.isOverlayPage&&(l="nf-overlay-child",n=!0);var h=document.getElementsByClassName(l)[0],u=this.getScrollToDelta(h);(i.jbv||this.shouldReplaceHistory())&&(s=!0),o&&"keydown"===o&&(i.focus=!0),i.jbv=e,i.jbp=t,void 0!==this.context.rowNum&&(i.jbr=this.context.rowNum),u&&!n&&(r.get(this.context.models,"browserInfo.data.isIE")?a.scrollDelta(u):a.scrollDeltaWithAnimation(h,u,540,50));var m=this.context.routeHandler.route,d=this.context.routeHandler.params;d.term&&(d=r.assign({},d,{term:encodeURIComponent(d.term)})),s?this.context.history.replaceState(m.makePath(d,i)):this.context.history.pushState(m.makePath(d,i))},closeJawBone:function(t,e){var o=e||this.context.routeHandler.query;delete o.jbv,delete o.jbr,delete o.jbp,delete o.focus;var n=this.context.routeHandler.route,s=this.context.routeHandler.params;s.term&&(s=r.assign({},s,{term:encodeURIComponent(s.term)})),this.shouldReplaceHistory()?this.context.history.replaceState(n.makePath(s,o)):this.context.history.pushState(n.makePath(s,o)),t&&"function"==typeof t&&setTimeout(t,500)},shouldReplaceHistory:function(){return-1!==this.context.routeHandler.path.indexOf("search")},getScrollToDelta:function(t){var e=document.getElementById("row-"+this.context.rowNum),o=s.getWindowRect().height,n=s.getRect(t).height,r=document.getElementsByClassName("jawBoneContent open")[0],a=r&&r.getElementsByClassName("jawBoneContainer")[0]?s.getRect(r.getElementsByClassName("jawBoneContainer")[0]).height:0,i=this.context.routeHandler.query,c=void 0;return e&&parseInt(i.jbr,10)!==this.context.rowNum&&(c=s.getRect(e).top,c-=110,c-=i.jbr&&i.jbr<this.context.rowNum?a:0,i.jbr||(n+=a||500),n-s.getScrollTop()-c<o&&(c=Math.floor(c/2))),c}};e.exports=i});C.r("reactMixins/transition.js",function(t,i,n){"use strict";function e(t){var i=t.cloneNode(!0);i.removeAttribute("data-reactid");for(var n=i.querySelectorAll("[data-reactid]"),e=0,a=n.length;e<a;e++)n[e].removeAttribute("data-reactid"),"VIDEO"===n[e].tagName&&n[e].pause&&n[e].pause();return i.classList.add("js-transition-node"),t.parentNode.appendChild(i),t.style.display="none",i}var a=t("./cssAnimation.jsx"),o=t("react-dom"),s=t("./eventBus"),r={fadeIn:{before:{opacity:0},opacity:1},fadeOut:{opacity:0},fadeInHover:{before:{opacity:.35},opacity:1},crossFadeIn:{before:{zIndex:2,opacity:0},opacity:1},crossFadeOut:{before:{zIndex:1},opacity:0,duration:1}};i.exports={mixins:[a],componentDidMount:function(){if(this.transitions){if(this.transitions.skipFirst){var t=o.findDOMNode(this),i=t?t.parentNode:null;if(i&&"true"!==i.getAttribute("data-transitioned-child"))return void i.setAttribute("data-transitioned-child","true")}this.runTransition("show")}},componentWillUnmount:function(){this.runTransition("hide")},runTransition:function(t,i){if(this.transitions){var n=o.findDOMNode(this);if(n&&n.addEventListener){var a=this.transitions[t];if("function"==typeof i&&(a.callback=i),s.emit("reactTransition:"+t),"function"==typeof a){var d=void 0;return"hide"===t?(n=e(n),d=function(){n.parentNode&&n.parentNode.removeChild(n)}):d=null,a.call(this,n,d)}if(a||("show"===t?this.transitions.crossFade?(a=r.crossFadeIn,a.duration=this.transitions.crossFade):this.transitions.fadeIn?(a=r.fadeIn,a.duration=this.transitions.fadeIn):this.transitions.fadeInHover&&(a=r.fadeInHover,a.duration=this.transitions.fadeInHover):"hide"===t&&(this.transitions.crossFade?(a=r.crossFadeOut,a.delay=this.transitions.crossFade):this.transitions.fadeOut&&(a=r.fadeOut,a.duration=this.transitions.fadeOut))),a){if("hide"===t){var c=e(n),u=!1;a.target=c,a.callback=function(){u||(u=!0,c.parentNode&&c.parentNode.removeChild(c),"function"==typeof i&&i())},a.duration>0&&setTimeout(a.callback,a.duration+20)}this.animate(a)}}}}}});C.r("utils/RouteHelpers.js",function(e,t,r){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=e("shakti-platform/dist/ui/utils/URLGenerator"),o=e("./URLSafety"),i=e("./Routes"),u={getInfoUrl:function(e,t,r){return n.create(i.info.makePath({id:e,locale:r},t))},getTitleUrl:function(e,t,r){return n.create(i.title.makePath({id:e,locale:r},t))},getCharacterUrl:function(e,t,r){return n.create(i.infoPage.makePath({id:e,page:t,locale:r}))},getAgeVerificationUrl:function(e){var t=i.verifyAge.makePath();return e&&(t=n.create({path:t,query:{videoid:e}})),t},getSearchSuggestionUrl:function(e,t,r){return(r?i.kidsSearch:i.search).makePath(null,{q:e,suggestionId:t})},getSafeNextUrl:function(e){return e=e.replace(/[<\[\^>\]\*>]/g,""),!o.isRelativeURL(e)&&o.isAbsoluteNetflixUrl(e)?e:n.create({path:i.browse.makePath()})},makePlayerURL:function(e,t,r){var o={};return isNaN(parseInt(e,10))&&(e=0),"object"!==(void 0===r?"undefined":a(r))&&(r={}),o.path=t.makePath({id:e}),o.query=r,n.createRelative(o)},makeAccountDropdownButtonURL:function(e){return e?i.profiles.makePath():i.yourAccount.makePath()},makeAkiraPlayerURL:function(e,t){return u.makePlayerURL(e,i.watchNow,t)},makeInteractivePlayerURL:function(e,t){return u.makePlayerURL(e,i.interact,t)},makeAkiraPlayerURLWithUIPlayContext:function(e,t,r){return t.tctx=this.buildUIPlayContext(r),u.makeAkiraPlayerURL(e,t)},makeInteractivePlayerURLWithUIPlayContext:function(e,t,r){return t.tctx=this.buildUIPlayContext(r),u.makeInteractivePlayerURL(e,t)},getDVDUpsellURL:function(e,t){var r={preselect:"1u",dsrc:t||"STRWEB_NAV",videoid:e||void 0};return i.dvdUpsell.makePath({},r)},buildUIPlayContext:function(e){return[e.rowNum,e.rankNum,e.requestId].join(",")}};t.exports=u});C.r("utils/URLSafety.js",function(t,r,e){"use strict";function i(r){if(f){var e=t,i=e("url");return a.endsWith(i.parse(r).host,c)}throw new Error(d)}function n(t){if(i(t))return!0;try{if(i(decodeURIComponent(t)))return l.get("DEVELOPMENT"),!0}catch(t){return!1}return!1}function s(t){var r=!1;try{r=n(t)}catch(t){return!1}return r}function o(t){return a.startsWith(t,"/")}function u(t){return n(t)||o(t)}var a=t("lodash"),l=t("shakti-platform/dist/ui/ShaktiProperties"),f=t("shakti-platform/dist/ui/utils/inNode"),c=".netflix.com",d="URLSafety.isAbsoluteNetflixUrl is a node-only method and does not support browser usage.";r.exports={isAbsoluteNetflixUrlWithUntrustedInput:s,isAbsoluteNetflixUrl:n,isRelativeURL:o,isNetflixURL:u}});C.r("utils/ab/ab.js",function(t,e,r){"use strict";var n=t("nf-ardbeg"),a=t("lodash");e.exports={_resolveContext:function(t){var e=a.get(t,"ab.data",a.get(t,"models.ab.data"));return e?n.evaluate(e):null},attr:function(t,e,r){var n=this._resolveContext(t);return n&&n.attr(e,r)},in:function(t,e,r){return this._resolveContext(t).in(e,r)},resolveABValue:function(t,e,r,n){var a=this.attr(t,e,r);return null!==a?a:n}}});C.r("utils/ab/continueWatchingProfilesGate.js",function(e,t,r){"use strict";function i(e,t){return function(r,i){var a=[n.attr(r,l,e),i,t];return o.find(a,function(e){return void 0!==e&&null!==e})}}var n=e("./ab"),o=e("lodash"),a=e("shakti-platform/dist/ui/ShaktiProperties"),l=7784,u={NONE:"none",CURRENT:"current",ALL:"all"},s={LARGER:"larger",SMALLER:"smaller",BELOW:"below"},f={BOXARTS:"boxarts",TITLECARD:"titleCard"},c={LONG:"long",NONE:"none"};t.exports={FETCH:u,POSITION:s,ARTWORK:f,HEADING:c,inTest:function(e){var t=a.get("web.ui.continue.watching.profiles.gate",!1),r=i("continueWatchingProfilesGate",!1)(e);return t&&r},fetchOnServer:i("fetchOnServer",u.ALL),showCurrentOnLoad:i("showCurrentOnLoad",!0),position:i("position",s.CENTERED),artwork:i("artwork",f.BOXARTS),heading:i("heading",c.NONE),profileIdleTimeout:i("profileIdleTimeout"),disableProfileTimeout:i("disableProfileTimeout",!1)}});C.r("utils/ab/doubleWideHelpers.js",function(e,n,t){"use strict";var r=function(e,n,t){return e.length===n&&t<n},i=function(e,n,t){return e<n&&t>n},d=function(e,n){return 0!==e&&n<0},o=function(e,n,t){return Math.abs(n-e)===t},u=function(e,n,t,r){for(var i=0,d=!1,u=o(e,n,r),l=e;l<n;l++){var a=l,s=t[a];s&&s.props&&s.props.isDoubleWide&&(u&&(n--,l===n&&(d=!0)),i++)}return{numDoubleWides:i,newEndIndex:n,lastItemIsDoubleWide:d}},l=function(e,n,t,r){for(var i=0,d=t.length,o=Math.abs(n-e)===r,u=null,l=e-1;l>=n;l--){var a=l;a<0&&(a=d+l);var s=t[a];s&&s.props&&s.props.isDoubleWide&&(o&&(l===n&&(u=s.props.videoId),n++),i++)}return{numDoubleWides:i,newEndIndex:n,videoHalfInViewportOnLeftEdge:u}},a=function(e,n,t,r){var i=void 0;return r?(i=e+n,t&&i--):i=-n,i},s=function(e,n,t,r){return u(e,n,t,r).numDoubleWides},f=function(e,n,t){return t&&e-n!=-1&&n--,n},v=function(e,n,t,d,o){var v=u(e,n,t,d),p=v.numDoubleWides,c=v.newEndIndex,I=v.lastItemIsDoubleWide,b=c+d;if(r(t,o,c)){b=u(c,b,t,d).newEndIndex,b===o&&(b=0)}var m=null;if(i(c,o,b)){n=o-d;var g=l(o,n,t,d);c=g.newEndIndex,m=g.videoHalfInViewportOnLeftEdge,p=s(e,c,t,d),n=a(c,p,m,!0)}else c>=o&&(c=0),n=f(e,n,I);return{numSingleWideSlotsToMove:e-n,itemToLandOn:c,videoHalfInViewportOnLeftEdge:m}},p=function(e,n,t,r,i,o){var u=l(e,n,t,r),f=u.numDoubleWides,v=u.newEndIndex,p=u.videoHalfInViewportOnLeftEdge;d(e,n)&&(v=0,f=s(v,e,t,r),p=null,n=a(v,f));var c=r-f;return o&&n++,0===e&&(v=i-c),{numSingleWideSlotsToMove:e-n,itemToLandOn:v,videoHalfInViewportOnLeftEdge:p}},c=function(e,n){var t=0,r=void 0,i=e.length;for(r=0;r<i;r++){var d=e[r],o=d&&d.className&&d.className.split(" ")||[];if(-1!==o.indexOf("double-wide")?-1!==o.indexOf("half-in-viewport")?t-=n:t-=2*n:t-=n,-1!==o.indexOf("slider-item-0"))break}return t};n.exports={advanceNext:v,advancePrev:p,getBaseSliderOffset:c,getAdjustedIndex:u,getAdjustedIndexPrev:l}});C.r("utils/ab/ikoKong.js",function(t,e,r){"use strict";var i=t("lodash"),a=t("./ab"),n={hasPostPlayTimer:function(t){return!a.resolveABValue(t,6735,"skipBattleTimer",!1)},isDirectToGear:function(t){return a.resolveABValue(t,6735,"directToGear",!1)},defaultToNextEpisode:function(t){return a.resolveABValue(t,6735,"defaultToNextEpisode",!1)},isIkoTitle:function(t,e){if(!e)return!1;var r=t.getValueSync(["videos",e,"summary"]);return this.hasInteractivity(r)},hasInteractivity:function(t){return!!i.get(t,"interactivity",{}).postPlay}};e.exports=n});C.r("utils/ab/kidsParityTest.js",function(t,i,r){"use strict";var s=t("lodash"),a={kidsProfileWithParity:function(t){return s.get(t,"truths.data.kidsProfileWithParity")},kidsProfileWithoutParity:function(t){return s.get(t,"truths.data.kidsProfileWithoutParity")}};i.exports=a});C.r("utils/ab/richOriginalsRowTest.js",function(i,s,t){"use strict";var n=i("shakti-platform/dist/ui/ShaktiProperties"),r={isEnabled:function(i){return n.get("oui.richOriginalsRow.enabled",!0)||i&&n.get("oui.richOriginalsRow.kids.enabled",!0)},isPanelsOriginalsRow:function(i,s,t){return!!s&&this.supportsPanelTitleCard(t)},isRichOriginalsRow:function(i,s,t){return!!s&&this.isEnabled(t)},supportsPanelTitleCard:function(i){return this.isEnabled(i)}};s.exports=r});C.r("utils/clientCounter.js",function(t,e,n){"use strict";function u(t,e){var n=o.getModelData("userInfo").authURL;return n?(e=e||{},r.request({method:"post",url:a.clientCounter.makePath({name:t}),data:{authURL:n,tags:e},authorize:!0}).subscribe()):null}var r=t("./XHR"),a=t("./Routes"),o=t("../common/appContext");e.exports={increment:u}});C.r("utils/cookieUtils.js",function(t,e,i){"use strict";var n={NEVER:"NEVER"},o={NEVER:new Date((new Date).getFullYear()+10,1,1),CLEAR:new Date(1970,1,1)};e.exports={EXPIRES:n,EXPIRY_TIMES:o,ROOT_PATH:"/",TOP_DOMAIN:".netflix.com",millisFromNow:function(t){return new Date(Date.now()+t)},set:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.NEVER,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.TOP_DOMAIN,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.ROOT_PATH,l=t+"="+encodeURIComponent(e);i===n.NEVER?i=o.NEVER:i instanceof Date||(i=null),l+="; expires="+(i?i.toUTCString():null),l+="; path="+(void 0!==r?r:"/"),void 0!==s&&(l+="; domain="+s),document.cookie=l},setObj:function(t,e,i,n,o){this.set(t,JSON.stringify(e),i,n,o)},get:function(t){var e=void 0,i=void 0,n=void 0,o=void 0,s=void 0,r=document.cookie.split(";");for(e=0;e<r.length;e++)if(i=r[e],s=i.indexOf("="),n=i.substr(0,s),o=i.substr(s+1),(n=n.replace(/^\s+|\s+$/g,""))===t)return decodeURIComponent(o);return null},getObj:function(t){return JSON.parse(this.get(t))},clear:function(t,e,i){this.set(t,"",o.CLEAR,e||this.TOP_DOMAIN,i||this.ROOT_PATH)},clearAll:function(){var t=void 0,e=void 0,i=void 0,n=void 0,o=document.cookie.split(";");for(t=0;t<o.length;t++)e=o[t],i=e.indexOf("="),n=i>-1?e.substr(0,i):e,this.clear(n)}}});C.r("utils/dvdApi.js",function(t,r,e){"use strict";var n=t("../utils/rx/shakti-rx").RxObservable,i=t("./XHR"),a=function(t){var r=t.category.term;return("DVD"===r||"Blu-ray"===r)&&t.rentable},u=function(t){var r=t.category.term;return("DVD"===r||"Blu-ray"===r)&&t.saveable},o=function(t,r){var e=void 0,n=void 0;try{if(e=t.delivery_formats.availability,e.length>1){for(n in e)if(e.hasOwnProperty(n)&&r(e[n],!1))return!0;return!1}return r(e,!1)}catch(t){return!1}},c=function(t){return o(t,a)},s=function(t){return o(t,u)},l=function(t,r){return(r?"/catalog/titles/series/":"/catalog/titles/movies/")+t+"/format_availability"},v=function(t,r,e,a){var u={};return n.create(function(n){var o=!1,c=function(t){u.dvdAvailable=e(t),u.dvdSaveable=a(t),o||(n.next(u),n.complete())},s=function(r){o||n.error({apiRequest:"fail",userAgent:navigator.userAgent,videoId:t})};return i.request({method:"get",query:{apiPath:l(t,r),output:"json",m:"internal"},resource:"",service:"dvd",authorize:!0}).subscribe(c,s),function(){o=!0}})};r.exports={getRentabilityInfo:function(t,r){return v(t,r,c,s)}}});C.r("utils/player/getCadmiumBrowserName.js",function(r,i,e){"use strict";i.exports=function(r){var i=void 0;return r.isChrome||r.isChromeOS?i="chrome":r.isSafari?i="safari":r.isFirefox?i="firefox":r.isIE?i="ie":r.isOpera&&(i="opera"),i}});C.r("utils/dynamicMessages/identifiers.js",function(e,i,t){"use strict";var s=e("lodash"),r=e("../../reactMixins/eventBus"),n=e("../../common/appContext"),a=e("../../utils/player/getCadmiumBrowserName"),o={config:{},resourceName:"identifiers",onMessage:function(e,i,t){e.updateApplication&&(t.expireApp(),r.emit("identifiers:update",e))},getRequestData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.isProfilesGate;return e.isFirstPoll&&i?null:{cadmiumIdentifier:s.result(window,"netflix.player.getVersion",null),browser:a(n.getModelData("browserInfo"))}}};i.exports=o});C.r("utils/smallAssetLogging.js",function(e,n,i){"use strict";function o(){var e=t.filter(window.performance.getEntries(),function(e){var n=t.get(e,"name",""),i=n.match(f)&&!c[n];return i&&(c[e.name]=!0),i}).map(function(e){var n=void 0,i=void 0,o={};for(n in e)"function"!=typeof(i=e[n])&&(o[n]=i);return o});return"function"==typeof window.performance.clearResourceTimings?window.performance.clearResourceTimings():"function"==typeof window.performance.webkitClearResourceTimings&&window.performance.webkitClearResourceTimings(),e}var t=e("lodash"),r=e("../reactMixins/eventBus"),a=e("../common/appContext"),s="undefined"!=typeof window&&"function"==typeof t.get(window,"performance.getEntries"),c={},f=/^.*\.(jpg|gif|png|webp|svg)$/i;n.exports={logMetrics:function(){var e=void 0,n=void 0;if(s&&t.get(a.getModelData("apm"),"enabled")){n={reason:"success",location:null,size:0,entries:null};try{n.location=window.location.href,e=o()}catch(e){n.reason="failure"}e&&e.length&&(n.size=e.length,n.entries=e,r.emit("smallAssets:loaded",n))}}}});C.r("utils/dynamicMessages/dynamicMessages.js",function(e,s,r){"use strict";var t=e("shakti-platform/dist/ui/ShaktiProperties"),n=e("../../utils/rx/shakti-rx").RxObservable,i=e("../../utils/rx/shakti-rx").RxSubject,o=e("lodash"),a=e("./identifiers"),l=e("../smallAssetLogging"),u=["dynamicMessages"],c={config:{},pollingTypes:{},_initialized:!1,_isPolling:null,_dispose:new i,_requestErrorCount:0,_applicationUpdate:!1,context:{applicationError:"APPLICATION_ERROR"},sources:{playback:"playback",profilesGate:"profilesgate"},poll:function(e){if(!c.config.enabled)return n.empty();if(c._isPolling){if(c._isPolling===e)return c._messages;c.stop(),c._isPolling=e}else c._isPolling=e;switch(e){case c.pollingTypes.PLAYBACK:case c.pollingTypes.PROFILESGATE:return c._startPolling(e);default:return n.empty()}},_startPolling:function(e){function s(){if(l&&l.logMetrics)try{l.logMetrics()}catch(e){}}var r=e.leadingEdge,t=e.interval,i=e.name;return c._messages=n.timer(r?0:t,t).takeUntil(c._dispose).flatMap(function(e){return c._createObservableXHR(!1,null,i,{isProfilesGate:i===c.sources.profilesGate,isFirstPoll:0===e})}).onErrorResumeNext(n.of(null)).filter(function(e){return e&&e.status&&"success"===e.status}).do(c._sendResourceMessages).do(s),setTimeout(s,3e3),c._messages},makeRequest:function(e,s,r){return c._createObservableXHR(!0,e,s).onErrorResumeNext(n.of(null)).filter(function(e){return e&&e.status&&"success"===e.status}).do(c._sendResourceMessages).do(r||o.noop).subscribe(o.noop,o.noop,o.noop)},_createObservableXHR:function(e,s,r,t){return e=!!o.isBoolean(e)&&e,s=o.isString(s)?s:null,n.create(function(i){var a=window.pathEvaluator;return a?(a.call.call(a,u,[JSON.stringify({source:r,resources:c._getResourcesRequestData(t)})]).subscribe(function(){c._requestErrorCount>0&&(c._requestErrorCount=0);var r=a.getValueSync(u)||{};(e||null!==c._isPolling)&&(s&&(r._context=s),i.next(r))},c._requestErrorHandler,function(){i.complete()}),o.noop):n.empty()})},_sendResourceMessages:function(e){var s=e._context;o.forEach(c._isPolling.resources,function(r){var t=e[r.resourceName];t&&t.messages&&t.messages.length&&(o.forEach(t.messages,function(e){r.onMessage(e,s,c)}),o.isFunction(r.onMessages)&&r.onMessages(t.messages))})},_requestErrorHandler:function(e){e&&404===e.xhrStatus&&(c._requestErrorCount+=1),c._requestErrorCount>=c.config.requestErrorCap&&(c.stop(),c.setApplicationRefreshState(!0))},_getResourcesRequestData:function(e){var s={};return c._isPolling?(o.forEach(c._isPolling.resources,function(r){var t=r.getRequestData(e);t&&(s[r.resourceName]=t)}),s):JSON.stringify(s)},stop:function(){c._dispose&&(c._dispose.next(),c._dispose=new i),c._isPolling=null},getPollTypeName:function(){var e=c.pollingTypes;switch(c._isPolling){case e.PLAYBACK:return e.PLAYBACK.name;case e.PROFILESGATE:return e.PROFILESGATE.name;default:return""}},init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=e.expireApp,r=e.identifiersMessagesEnabled;if(!this._initialized){c._initialized=!0,c.expireApp=s;var n=[];r&&n.push(a),c.config={enabled:t.get("web.ui.dynamic.messages.enabled"),requestErrorCap:t.get("web.ui.dynamic.messages.request.error.cap")},c.pollingTypes={PLAYBACK:{interval:parseInt(t.get("web.ui.dynamic.messages.polling.interval.playback"),10)||3e5,resources:n,name:c.sources.playback},PROFILESGATE:{leadingEdge:!0,interval:parseInt(t.get("web.ui.dynamic.messages.polling.interval.profilesgate"),10)||18e5,resources:n,name:c.sources.profilesGate}}}}};s.exports=c});C.r("utils/focalPoint.js",function(t,n,e){"use strict";function o(t,n,e){var o=n*e||0,f=t/2||0,i=f-o;return i=Math.min(i,0),n+i<t&&(i=t-n),i}function f(t,n,e){return o(t,n,e)/t}function i(t,n,e){return o(t,n,e)/(t-n)}function r(t,n,e){return(100*i(t,n,e)||0)+"%"}n.exports={getAbsoluteOffset:o,getRelativeOffset:f,getBackgroundPositionOffsetRaw:i,getBackgroundPositionOffset:r}});C.r("utils/imageLoadTracker.js",function(e,r,o){"use strict";function n(e){var r=e.map(function(e){return i([].slice.call(document.querySelectorAll(e)))});return Promise.all(r)}function i(e){return Promise.all(e.map(function(e){if("IMG"===e.tagName.toUpperCase())return e.src?e.complete?Promise.resolve():new Promise(function(r,o){e.onload=r,e.onerror=o}):Promise.reject(new Error("Invalid src for image "+e));if(!e.style.backgroundImage)return Promise.resolve();var r=t.exec(e.style.backgroundImage);if(!r)return Promise.resolve();var o=r[1];return o?new Promise(function(e,r){var n=new Image;n.onload=e,n.onerror=r,n.src=o}):Promise.reject(new Error("Invalid background style for element "+e+": "+e.style.backgroundImage))}))}"undefined"==typeof window||window.Promise||(window.Promise=e("promise-polyfill"));var t=/url\(['"]?([^\)"']+)["']?\)/;r.exports={trackBySelectors:n,trackByNodes:i}});C.r("utils/images.js",function(o,n,r){"use strict";n.exports={preload:function(o,n){var r=void 0,e=0,t=o.length;for(r=0;r<t;r++)!function(i,u){var d=new Image;d.onload=function(){e++,"function"==typeof n.onLoaded&&n.onLoaded(d),0===u&&"function"==typeof n.onFirstLoaded&&n.onFirstLoaded(d),e===t&&"function"==typeof n.onAllLoaded&&n.onAllLoaded(t)},d.onerror=function(){"function"==typeof n.onError&&n.onError(o[r])},d.src=i}(o[r],r)},srcsetBuilder:function(o,n,r){o=o||{},n=n||0,r=r||/^(\d*)/;var e=[],t=Number.POSITIVE_INFINITY,i="",u=void 0,d="",a=0,c=void 0,f=void 0;for(c in o)if(o.hasOwnProperty(c)&&(f=o[c],i||(i=f),u=Number(r.exec(c)[1]))){u>a&&(a=u,d=f);var s=u-n;s>=0&&s<=t&&(t=s,i=f),e.push(f+" "+u+"w")}return{srcset:e.join(", "),src:t===Number.POSITIVE_INFINITY?d:i}},backgroundStyle:function(o){var n={};return o&&(n={backgroundImage:"url("+o+")"}),n}}});C.r("utils/mouseUtils.js",function(t,i,e){"use strict";var n=t("lodash"),o={modifiedClick:function(t){return t&&(t.ctrlKey||t.shiftKey||t.metaKey||t.which&&2===t.which||t.button&&1===t.button)},checkActivityBasedOnMouseMove:function(t,i,e){if("function"==typeof i){var c={x:n.get(e,"clientX"),y:n.get(e,"clientY")};n.isEqual(this._lastMousePosition,c)||(this._lastMousePosition=c,"function"==typeof t&&t(),o.triggerInactiveTimer(i))}},checkActivityBasedOnScroll:function(t,i){"function"==typeof t&&t(),"function"==typeof i&&o.triggerInactiveTimer(i)},triggerInactiveTimer:function(t){clearTimeout(this._inactivityTimerHandle),this._inactivityTimerHandle=setTimeout(t,3650)}};i.exports=o});C.r("utils/mylist_utils.js",function(t,e,o){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=t("./playlist"),i=t("lodash"),a=t("shakti-platform/dist/ui/ShaktiProperties"),u=t("shakti-platform/dist/ui/utils/inNode"),l=t("../akira/redux/createActionGroup"),s=t("../akira/redux/discovery/discoveryActions"),c=s.TYPES,d=t("../utils/rx/shakti-rx").RxObservable,m=t("nf-algebraic-data-types/Option"),f=u?{}:window,v={addToList:function(t,e,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l(t,{start:c.addToPlaylist,success:c.addToPlaylistSuccess,failure:c.addToPlaylistFailed}).dispatchStartAction().wrapObservable(v.modifyPlaylist("addToList",e,o,r))},removeFromList:function(t,e,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return l(t,{start:c.removeFromPlaylist,success:c.removeFromPlaylistSuccess,failure:c.removeFromPlaylistFailed}).dispatchStartAction().wrapObservable(v.modifyPlaylist("removeFromList",e,o,r))},moveInList:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return v.modifyPlaylist("moveInList",t,e,o)},getLolomo:function(t){var e=f.pathEvaluator,o=["lolomo","lolomonobillboard"];if(t){var r=e.hardBind(["lolomos",t]);if(r.getBoundValue())return m.of(r)}var n=i.find(o,function(t){return e.hardBind([t]).getBoundValue()});return m.fromNullable(n).map(function(t){return e.hardBind([t])})},invalidateAllMyListRows:function(){var t=f.pathEvaluator,e=t.bind(["lolomos"]).getBoundValue(),o=[];Object.keys(e).filter(function(t){return"_"!==t[0]&&"$"!==t[0]&&t.indexOf("ROOT")>-1}).map(function(t){var e=v.getMyListRow(t);e.isSome()&&e.get().index>=0&&o.push(["lolomos",t,e.get().index])}),f.pathEvaluator.invalidate.apply(f.pathEvaluator,o).subscribe()},getMyListRow:function(t){for(var e=v.getLolomo(t),o=e.map(function(t){return t.getValueSync(["summary"]).length}).getOrElse(0),n=0;n<o;n++){var i=function(t){var o=e.map(function(e){return e.bind([t])}),r=o.map(function(t){return t.getValueSync(["context"])});return r.isNone()?"continue":"queue"===r.get()?{v:m.of({model:o.get(),index:t})}:void 0}(n);switch(i){case"continue":continue;default:if("object"===(void 0===i?"undefined":r(i)))return i.v}}return m.None},isLolomoInCache:function(t){return v.getLolomo(t).isSome()},updateTitleState:function(t,e){var o=f.pathEvaluator,r=["videos",t,"queue"];o.getValueSync(r).inQueue="addToList"===e},modifyPlaylist:function(t,e,o,r){var a=r.lolomoId;return v.isLolomoInCache(a)&&v.getMyListRow(a)?v.mutateMyList(t,e,o,r):d.create(function(a){return n[t](e,o,r).subscribe(function(t){return a.next(t)},function(t){return a.error(t)},function(){return a.complete()}),i.noop}).catch(function(){throw new Error({status:"error",message:"Unknown server error"})}).do(function(o){if(!o||!o.status||"success"!==o.status)throw o;v.updateTitleState(e,t)}).timeout(2e3)},mutateMyList:function(t,e,o,r){var n=this,u=r.lolomoId,l=v.getLolomo(u).get(),s=["videos",e],c=["listToken",0,s,o,r.reqMsgToken,r.msgToken],m=v.getMyListRow(u),y=void 0,p=a.get("netflix.ui.akira.prefetch.page"),g=p&&p.numVideos;if(r.placeAfterVideo&&s.push(r.placeAfterVideo),!m.isSome())return d.throw();c[0]=m.get().model.getBoundValue().__key,c[1]=m.get().index,y=m.get().model.getValueSync(["length"]),"addToList"===t?y++:"removeFromList"===t&&y--,y<0&&(y=0);var h=["length","trackIds","context","displayName"];return v.invalidateAllMyListRows(),d.create(function(e){return l.call([t],c,[[h],[{to:Math.max(y,g)}]],[]).subscribe(function(t){return e.next(t)},function(t){return e.error(t)},function(){return e.complete()}),i.noop}).do(function(){"removeFromList"!==t&&"addToList"!==t||n.updateTitleState(e,t),f.reactApp.refresh()},function(){m.get().model.setValueSync(["mutationFailure"],{operation:t,video:e,trackId:o})})}};e.exports=v});C.r("utils/player/playerFeatureDetection.js",function(e,t,r){"use strict";function i(e){return function(t){var r=y.getModelData("browserInfo")||{},i=r.esnPrefix;if(e.supportsHTML5withDRM!==x||i!==F.SLMAC&&i!==F.SLWIN){var n=y.getModelData("serverDefs").host,o=m.get(L.FORCE_SILVERLIGHT);t||o||e.supportsSL===x?t&&o&&(m.clear(L.FORCE_SILVERLIGHT,n||m.TOP_DOMAIN,m.ROOT_PATH),m.set(L.UPGRADE_TO_CADMIUM,_,m.EXPIRES.NEVER,n||m.TOP_DOMAIN,m.ROOT_PATH)):(T.increment(R.FORCE_SILVERLIGHT_PLAYBACK),m.set(L.FORCE_SILVERLIGHT,_,m.EXPIRES.NEVER,n||m.TOP_DOMAIN,m.ROOT_PATH))}}}function n(){return!!m.get(L.UPGRADE_TO_CADMIUM)}function o(){return M.create(function(e){if("function"==typeof window.navigator.requestMediaKeySystemAccess){var t=v.get("wwwplayer.firefox.win.widevine.enabled")?D:O;window.navigator.requestMediaKeySystemAccess(t,E).then(function(){e.next(!0),e.complete()}).catch(function(t){e.error(t)})}else e.error(new Error("requestMediaKeySystemAccess not supported"));return S.noop}).timeout(P)}function a(e){return!(!window.WebKitMediaKeys||!window.WebKitMediaKeys.isTypeSupported(e))}function s(e){return!(!window.MediaSource||!window.MediaSource.isTypeSupported(e))}function u(){return H.determined&&H.capable}function p(){if(K)return K;var e=g.getPlaybackSupport(),t=y.getModelData("browserInfo")||{},r=M.of(!0),n=y.getAB();return e.supportsHTML5withDRM===x?r=M.of(!1):t.isFirefox?e.supportsHTML5withDRM===C?r=M.of(!0):s(I)?r=o().do(S.noop,function(e){b.emit("playbackFirefoxSLFallback",{reason:"Rejected requestMediaKeySystemAccess with an exception.",keySystem:v.get("wwwplayer.firefox.win.widevine.enabled")?D:O,keySystemParams:E,error:e?e.toString():"unknown"})}).onErrorResumeNext(function(e){return M.of(!1)}):(b.emit("playbackFirefoxSLFallback",{reason:"Unsupported MediaSource: "+I}),r=M.of(!1)):t.isSafari?r=M.of(a(A)):t.isWindowsPhone?r=M.of(v.get("wwwplayer.windows.phone.allow")||n.in(6869,2)):t.isAndroid&&(r=M.of(v.get("wwwplayer.android.chrome.allow")||n.in(6891,2))),K=r.take(1).do(i(e)).do(function(e){return H.determined=!0,H.capable=e,e}).publishReplay(),K.connect(),K}function c(){return H.determined}function l(){var e=g.getPlaybackSupport(),t=S.get(y.getModelData("truths"),"maybeSupportsSilverlight",!1),r=t&&h.isInstalled();return e.supportsSL!==x&&r}function d(){var e=S.has(window,'navigator.mimeTypes["'+k+'"]');if(S.has(window,"ActiveXObject"))try{e=!!new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){}return e}function f(){if("undefined"==typeof window)return{};var e=y.getModelData("browserInfo");return{determinedCapabilities:H.determined,canPlayHTML5:S.get(e,"features.maybeSupportsHTML5",!1),canPlayHTML5WithDRM:H.determined&&H.capable,canPlayFlash:d(),canPlaySilverlight:l()}}function w(e){return e?p():(p().subscribe(S.noop,function(e){}),null)}var y=e("../../common/appContext"),m=e("../../utils/cookieUtils"),S=e("lodash"),M=e("../../utils/rx/shakti-rx").RxObservable,h=e("../../player/silverlight/client/SilverlightVersion"),b=e("../../reactMixins/eventBus"),v=e("shakti-platform/dist/ui/ShaktiProperties"),T=e("../clientCounter"),g=e("../../player/nfplayer/utils/playerConfig"),R=e("../../player/nfplayer/common/playerCounters"),L=e("../../player/nfplayer/common/playerCookies"),P=1e3,A="com.apple.fps.2_0",I='audio/mp4; codecs="mp4a.40.5"',D="com.widevine.alpha",O="com.adobe.primetime",E=[{initDataType:"cenc",stateful:"optional",uniqueIdentifier:"optional",audioType:"audio/mp4",videoType:"video/mp4"}],k="application/x-shockwave-flash",C="yes",x="no",_="true",F={SLMAC:"SLMAC-",SLWIN:"SLW32-"},H={determined:!1,capable:!1},K=void 0;t.exports={shouldUpgradePlayerType:n,canPlayHTML5withDRM:u,getVideoSupportMatrix:f,hasRequiredComponentsForPlayback:p,hasDeterminedFeatures:c,init:w}});C.r("utils/player/playerMetadata.js",function(e,t,r){"use strict";var a=e("../../utils/rx/shakti-rx").RxObservable,o=e("../../common/imageExtension.js"),n=e("../XHR");t.exports={getMetadataCall:function(e){var t=o.canUseWebPFromContext()?"webp":"jpg";return a.create(function(r){return n.request({method:"get",service:"api",protocol:"https",data:{movieid:e,imageFormat:t},resource:"/metadata",authorize:!1}).subscribe(function(e){r.next(e)},function(e){r.error(e)},function(){r.complete()})})}}});C.r("utils/playlist.js",function(t,e,r){"use strict";function o(t,e,r){return s("add",t,e,r)}function i(t,e,r){return s("remove",t,e,r)}function n(t,e,r){return s("move",t,e,r)}function s(t,e,r,o){return u.request({method:"post",data:a.assign({operation:t,videoId:e,trackId:r},o),resource:"/playlistop",service:"api",authorize:!0})}var u=t("./XHR"),a=t("lodash"),d={addToList:o,removeFromList:i,moveInList:n};e.exports=d});C.r("utils/reactUtils.js",function(t,e,n){"use strict";e.exports={intersperse:function(t,e){return 0===t.length?[]:t.slice(1).reduce(function(t,n,r){return t.concat([e,n])},[t[0]])}}});C.r("utils/textUtils.js",function(t,r,s){"use strict";var e=t("lodash");r.exports={ellipsize:function(t,r){if(!t||"string"!=typeof t)return t;var s=t.length;return s<=0||s<r?t:e.trunc(t,{length:r,separator:/\s/,omission:"…"})}}});C.r("utils/throwError.js",function(r,t,o){"use strict";function n(r,t){var o=new Error(t);throw o.name=r,o}t.exports=n});C.r("utils/titles/interactive.js",function(t,i,e){"use strict";var r=t("lodash");i.exports={isInteractive:function(t,i){if(!i)return!1;var e=t.getValueSync(["videos",i,"summary"]);return!!r.get(e,"interactivity",{}).akiraKidsPlayer}}});C.r("akira/containers/header/appHeader.jsx",function(e,t,s){"use strict";function i(e,t,s){var i=t||b,a=[];return i.headerDropDowns&&(a=a.concat(d.getPaths().map(function(e){return["genreList"].concat(e)}))),(t.headerDropDowns||t.accountDropDown)&&(a=a.concat(p.getPaths())),a.concat(w.getPaths())}var a=e("prop-types"),n=e("react"),o=e("create-react-class"),r=e("react-dom"),l=e("shakti-platform/dist/ui/ShaktiProperties"),c=e("classnames"),h=e("lodash"),d=e("./genreNavItem.jsx"),m=e("../../containers/header/dvdLink.jsx"),u=e("../../components/search/searchBox.jsx"),p=e("../../components/profile/accountDropDown.jsx"),g=e("./systemNotifications.jsx"),f=e("../../components/controls/mainViewLink.jsx"),v=e("../../../reactMixins/browserScroll"),k=e("../../akiraContextTypes"),x=e("../../../reactMixins/falkor-fetch"),S=e("../../../utils/Routes"),y=e("../../utils/linkDefs.jsx"),D=e("../../../common/position"),w=e("../../components/notifications/notifications.jsx"),E=e("../../../utils/ab/continueWatchingProfilesGate"),N=e("../../../utils/ab/kidsParityTest"),P="discovery/akira/Chrome",B={minimum:{headerDropDowns:!1,accountDropDown:!0},maximum:{headerDropDowns:!0,accountDropDown:!0}},b=B.minimum,I=B.maximum,K=o({displayName:"Header",contextTypes:Object.assign({getI18nBundle:a.func.isRequired,getI18nString:a.func.isRequired,models:a.object},k),mixins:[x,v],FADE_IN_THRESHOLD:1,multipleKidsProfiles:!1,showKids:!1,kidProfile:null,statics:{getPaths:i,defaultStrategy:b,fullHeaderStrategy:I},getInitialState:function(){return{hasBackground:!1,isSearchBoxFocused:!!this.props.term,scrolling:!0}},onScroll:function(){var e=r.findDOMNode(this.refs.hdSpace),t=e&&e.getBoundingClientRect().top||0,s=t>=0;s!==this.state.scrolling&&this.setState({scrolling:s});var i=D.getScrollTop();(i>=this.FADE_IN_THRESHOLD&&!this.state.hasBackground||i<this.FADE_IN_THRESHOLD&&this.state.hasBackground)&&this.setState({hasBackground:!this.state.hasBackground})},onMouseDown:function(e){var t=void 0,s=void 0;"INPUT"!==e.target.nodeName&&(e.preventDefault(),t=h.result(this,"refs.searchBox.isSearchInputFocused",!1),s=h.result(this,"refs.searchBox.hasSearchTerm",!1),t&&!s&&h.result(this,"refs.searchBox.closeSearchBox"))},handleSearchBoxFocus:function(e){this.setState({isSearchBoxFocused:e})},componentDidMount:function(){var e=B.maximum;this.fetchData(this.props.pathEvaluator,i(this.context.models,e),"headerMount",null,e.forceUpdate),this.onScroll()},hide:function(){var e=r.findDOMNode(this);e&&(e.style.opacity=0)},show:function(){var e=r.findDOMNode(this);e&&(e.style.opacity=1)},onKidsLinkClicked:function(e){!this.multipleKidsProfiles&&this.kidProfile?this.context.profileManager.switchProfile(this.kidProfile):this.context.profileManager.openProfileList(),e.preventDefault(),e.stopPropagation()},determineKidsStatus:function(){var e=this.props.pathEvaluator.bind(["profilesList"]),t=e.getValueSync(["summary"]),s=void 0,i=void 0,a=void 0,n=0;if(this.multipleKidsProfiles=!1,this.showKids=!1,this.kidProfile=null,t&&!N.kidsProfileWithParity(this.context.models))for(a=0;a<t.length;a++)(s=e.bind([a]))&&(i=s.getValueSync(["summary"]))&&i.isKids&&(this.showKids=!0,this.kidProfile=s,n>=1&&(this.multipleKidsProfiles=!0),n++)},getSpecialItems:function(){if(l.get("netflix.ui.browse.special.items.disable"))return null;var e=this.context.getI18nBundle(P),t=c("sub-menu-link"),s=h.get(this,"context.models.truths.data.currentProfileIsKids"),i=[n.createElement(f,{resolver:y.getHomeRoute,className:t,"data-type":"home"},e.get("navitem.home")),n.createElement(f,{to:S.myList,className:t,"data-type":"my-list"},e.get("navitem.my.list")),n.createElement(f,{resolver:y.getNetflixOriginalsRoute,className:t,"data-type":"originals"},e.get("header.originals")),n.createElement(f,{to:S.newArrivals,className:t,"data-type":"new-arrivals"},e.get("navitem.new.arrivals")),n.createElement(f,{to:S.subtitles,className:t,"data-type":"audio-subtitles"},e.get("navitem.audio.and.subtitles")),n.createElement(f,{href:S.devices.makePath(),className:t,"data-type":"ways-to-watch"},e.get("navitem.ways.to.watch"))];if(s){if(N.kidsProfileWithParity(this.context.models)){return l.get("netflix.ui.akira.kids.mylist.enabled")||i.splice(1,1),i.splice(1,0,n.createElement(f,{to:S.kidsCharacterGallery,className:"sub-menu-link","data-type":"characters"},this.context.getI18nBundle(P).get("navitem.characters"))),i}return[n.createElement(f,{to:S.kidsCharacterGallery,className:"sub-menu-link","data-type":"characters"},this.context.getI18nBundle(P).get("navitem.characters")),n.createElement(f,{to:S.kidsOriginals,className:"sub-menu-link","data-type":"originals"},this.context.getI18nBundle(P).get("header.originals"))]}return i},renderNavigation:function(){return n.createElement("ul",{role:"navigation"},n.createElement(d,{model:this.props.pathEvaluator.bind(["genreList"]),selected:!0,pqls:d.getPaths(),specialItems:this.getSpecialItems()}),this.showKids&&n.createElement("li",{className:"kids"},n.createElement(f,{href:S.kidsHome.makePath(),onClick:this.onKidsLinkClicked},this.context.getI18nString(P,"navitem.kids"))),this.props.showDVDLink&&n.createElement("li",{className:"dvd-link"},n.createElement(m,null)))},renderSecondaryNavigation:function(){return n.createElement("div",{className:"secondary-nav"},n.createElement("div",{className:"nav-element"},n.createElement(u,{term:this.props.term,model:this.props.model,ref:"searchBox",handleSearchBoxFocus:this.handleSearchBoxFocus})),l.get("web.ui.akira.notifications.enabled")&&n.createElement("div",{className:"nav-element"},n.createElement(w,{className:"nav-element",model:this.props.model})),n.createElement("div",{className:"nav-element"},n.createElement(p,{className:"nav-element",model:this.props.pathEvaluator,showDVDLink:this.props.showDVDLink,showKidsLink:this.showKids,onKidsLinkClicked:this.onKidsLinkClicked})))},render:function(){var e=this.context.getI18nBundle(P),t=c("akira-header",{solid:this.props.isSolid,"head-opaque":this.state.hasBackground,"search-focused":this.state.isSearchBoxFocused,scrollingHeader:this.state.scrolling,"profile-gated":this.props.isShowingProfilesGate,hide:this.props.hideHeader&&!this.state.isSearchBoxFocused,"has-continue-watching-profiles-gate":E.inTest(this.context.models)});return this.determineKidsStatus(),n.createElement("div",{className:"hdSpace",ref:"hdSpace",role:"header"},n.createElement("div",{id:"hdPinTarget",className:t,onMouseDown:this.onMouseDown},n.createElement(f,{resolver:y.getHomeRoute,className:c("logo","icon-logoUpdate"),"aria-label":e.get("header.logo.text")}),!this.props.isShowingProfilesGate&&this.renderNavigation(),!this.props.isShowingProfilesGate&&this.renderSecondaryNavigation(),n.createElement(g,{model:this.props.model}),this.props.hasSignOut&&n.createElement("a",{className:"sign-out",href:S.signOut.makePath()},e.get("navitem.sign.out"))))}});t.exports=K});C.r("akira/containers/header/kidsAppHeader.jsx",function(e,t,s){"use strict";function a(e,t,s){var a=[];return t||(t=E),t.headerDropDowns&&(a=l.getPaths().map(function(e){return["genreList"].concat(e)})),(t.headerDropDowns||t.accountDropDown)&&(a=a.concat(d.getPaths())),a}var i=e("prop-types"),n=e("react"),o=e("create-react-class"),r=e("shakti-platform/dist/ui/ShaktiProperties"),c=e("classnames"),l=e("./genreNavItem.jsx"),h=e("../../components/search/searchBox.jsx"),d=e("../../components/profile/accountDropDown.jsx"),m=e("../../components/controls/mainViewLink.jsx"),u=e("../../../reactMixins/browserScroll"),p=e("../../akiraContextTypes"),g=e("../../../reactMixins/falkor-fetch"),f=e("../../../common/position"),k=e("../../../utils/Routes"),x=e("../../utils/linkDefs.jsx"),S=e("../../../utils/ab/continueWatchingProfilesGate"),v="discovery/akira/Chrome",D={minimum:{headerDropDowns:!1,accountDropDown:!0},maximum:{headerDropDowns:!0,accountDropDown:!0}},E=D.minimum,B=D.maximum,w=o({displayName:"KidsHeader",mixins:[g,u],contextTypes:Object.assign({getI18nBundle:i.func.isRequired,models:i.object.isRequired},p),FADE_IN_THRESHOLD:1,statics:{getPaths:a,defaultStrategy:E,fullHeaderStrategy:B},getInitialState:function(){var e=!this.props.pinned;return{hasBackground:!1,isSearchBoxFocused:!!this.props.term,trackPinning:e,scrolling:e}},componentWillReceiveProps:function(e){var t=!e.pinned;this.state.trackPinning!==t&&this.setState({trackPinning:t,scrolling:t})},onScroll:function(){if(this.state.trackPinning){var e=this.refs.hdSpace,t=e.getBoundingClientRect().top,s=t>0;s!==this.state.scrolling&&this.setState({scrolling:s})}var a=f.getScrollTop();(a>=this.FADE_IN_THRESHOLD&&!this.state.hasBackground||a<this.FADE_IN_THRESHOLD&&this.state.hasBackground)&&this.setState({hasBackground:!this.state.hasBackground})},handleSearchBoxFocus:function(e){this.setState({isSearchBoxFocused:e})},componentDidMount:function(){var e=D.maximum;this.fetchData(this.props.pathEvaluator,a(this.context.models,e,"headerMount",e.forceUpdate)),this.onScroll()},getSpecialItems:function(){return[n.createElement(m,{to:k.kidsCharacterGallery,className:"sub-menu-link","data-type":"characters"},this.context.getI18nBundle(v).get("navitem.characters")),n.createElement(m,{to:k.kidsOriginals,className:"sub-menu-link","data-type":"originals"},this.context.getI18nBundle(v).get("header.originals"))]},render:function(){var e=this.context.getI18nBundle(v),t=this.props.pathEvaluator,s=t.bind(["genreList"]),a=c({kids:!0,active:!0}),i=c({"akira-header":!0,"head-opaque":this.state.hasBackground,"search-focused":this.state.isSearchBoxFocused,scrollingHeader:this.state.scrolling,"profile-gated":this.props.isShowingProfilesGate,hide:this.props.hideHeader&&!this.state.isSearchBoxFocused,"has-continue-watching-profiles-gate":S.inTest(this.context.models)}),o=void 0;return r.get("netflix.ui.browse.special.items.disable")||(o=this.getSpecialItems()),n.createElement("div",{className:"hdSpace",ref:"hdSpace",role:"header"},n.createElement("div",{id:"hdPinTarget",className:i},n.createElement(m,{resolver:x.getHomeRoute,className:"logo icon-logoUpdate","aria-label":e.get("header.logo.text")}),this.props.isShowingProfilesGate?null:n.createElement("ul",{role:"navigation"},n.createElement("li",{className:a},n.createElement(m,{resolver:x.getHomeRoute},e.get("navitem.kids"))),n.createElement(l,{model:s,selected:!1,isKidsPage:!0,specialItems:o,pqls:l.getPaths()})),this.props.isShowingProfilesGate?null:n.createElement("div",{className:"secondary-nav"},n.createElement("div",{className:"nav-element"},n.createElement(h,{term:this.props.term,model:this.props.model,ref:"searchBox",handleSearchBoxFocus:this.handleSearchBoxFocus})),n.createElement("div",{className:"nav-element"},n.createElement(d,{className:"nav-element",model:t,showKidsLink:this.showKids,onKidsLinkClicked:this.onKidsLinkClicked,hideProfileName:!0})))))}});t.exports=w});C.r("akira/containers/header/sortGallery.jsx",function(e,t,r){"use strict";var n=e("lodash"),s=e("prop-types"),o=e("react"),a=e("create-react-class"),i=e("classnames"),l=e("../../../reactMixins/jawBoneLink"),c=e("./../../components/controls/maturitySelectors.jsx"),h=e("../../components/controls/nfDropdown.jsx"),u=e("../../../reactMixins/eventBus"),p=e("../../../utils/keyboardEventsWrapper"),d={su:"suggestions.for.you",yr:"year.release",az:"a.z",za:"z.a"},m="discovery/akira/Chrome",g=a({displayName:"SortGallery",contextTypes:{getI18nString:s.func.isRequired,history:s.object.isRequired,routeHandler:s.object.isRequired},mixins:[l],statics:{getPaths:function(e,t,r){return"mr"===r.sortOrder?c.getPaths():[]}},handleClick:function(e){var t=this;return function(){t.handleSortOrderChange(e)}},handleSortOrderChange:function(e){var t=this.context.routeHandler.query;this.closeJawBone(function(){u.emit("jawbone:close",{reason:"implicit"})},t),t.so=e,"mr"!==e&&this.props.onFilterChange&&this.props.onFilterChange(function(){return!0});var r=this.context.routeHandler.route,s=this.context.routeHandler.params;s.term&&(s=n.assign({},s,{term:encodeURIComponent(s.term)})),this.context.history.pushState(r.makePath(s,t))},getSortOptions:function(){var e=[],t=void 0;for(t in d)d.hasOwnProperty(t)&&e.push(o.createElement("a",{className:"sub-menu-link",role:"link",tabIndex:0,onClick:this.handleClick(t),onKeyDown:p.executeOnEnterOrSpace(this.handleClick(t))},this.context.getI18nString(m,d[t])));return e},render:function(){var e=this.context.getI18nString(m,d[this.props.sortOrder]),t="mr"===this.props.sortOrder;return o.createElement("div",{className:i("sortGallery")},!this.props.hideSortLabel&&o.createElement("span",null,this.context.getI18nString(m,"sort.by")),o.createElement(h,{options:this.getSortOptions(),theme:this.props.theme,defaultValue:e,cols:1}),t?o.createElement(c,{model:this.props.model,onFilterChange:this.props.onFilterChange}):null)}});t.exports=g});C.r("akira/containers/lolomo/characterRow.jsx",function(e,t,o){"use strict";var a=e("prop-types"),r=e("react"),n=e("create-react-class"),s=e("classnames"),i=e("shakti-platform/dist/ui/ShaktiProperties"),l=e("../../../reactMixins/falkor-fetch"),c=e("../../../reactMixins/cssAnimation.jsx"),d=e("../../utils/scheduler"),u=e("../../akiraContextTypes"),h=e("../../../reactMixins/falkorPureRenderMixin"),m=e("../../../common/imageExtension"),p=e("../../utils/lolomoRowChangeDetector"),w=e("../row.jsx"),g=e("../../components/character/character.jsx"),I=i.get("netflix.ui.akira.prefetch.strategies.lolomoRow"),f=I.allTitles,x=function(e,t,o){t||(t=f);var a=o&&void 0!==o.totalVideos?Math.min(t.numVideos,o.totalVideos):t.numVideos,r=t.startIndex||0;return g.getPaths(e,t).map(function(e){return[{from:r,to:a}].concat(e)}).concat([[["length","displayName","context"]]])},k=n({displayName:"CharacterRow",mixins:[l,c,h],contextTypes:Object.assign({models:a.object.isRequired},u),statics:{getPaths:x,defaultStrategy:f,prefetchStrategies:I},getInitialState:function(){return{fullDataLoaded:!1}},childContextTypes:{trackId:a.number,jawBoneTrackId:a.number,jawBoneEpisodeTrackId:a.number,jawBoneTrailerTrackId:a.number,listContext:a.string},getChildContext:function(){var e=this.getTrackIds();return{trackId:e.trackId,jawBoneTrackId:e.trackId_jaw,jawBoneEpisodeTrackId:e.trackId_jawEpisode,jawBoneTrailerTrackId:e.trackId_jawTrailer,listContext:this.props.listContext}},componentDidMount:function(){this.setCustomModelChangeDetector(new p(this.props.model))},getId:function(){var e=this.props.model,t=e.getValueSync(["genreId"]),o=e.getValueSync(["videoId"]);return t||(o||null)},getTrackIds:function(){return this.props.model.getValueSync(["trackIds"])||{}},getCharacters:function(){for(var e=this.props.model,t=e.getValueSync(["length"]),o=[],a=void 0,n=void 0,s=void 0,i=void 0,l=void 0,c=void 0,d=void 0,u=0,h=0;h<t;h++)if(a=e.bind([h]),a.getBoundValue()){n=a.getValueSync(["summary"]),c=n&&n.id,i=m.getExtensionForTransparentImage(this.context.models),s=a&&a.getValueSync(["artwork","SQUAREHEADSHOT_1000x1000",i,"_400x400"]),l=s&&s.url,d="character"+c;try{l&&o.push(r.createElement(g,{id:c,rankNum:h,key:d,sliderIndex:h,model:a}))}catch(e){}}else if(3===++u)break;return{titleList:o}},getRowItems:function(){return{rowItems:this.getCharacters().titleList.slice(0,100)}},getTotalItemsInRow:function(){var e=this.props.model,t=e.getValueSync(["length"]);return t>100&&(t=100),t},handleSliderMove:function(){var e=this,t=void 0;this.state.fullDataLoaded||(e.state.fullDataLoaded=!0,d.queue(function(){t=i.get("netflix.ui.akira.prefetch.rowSlide"),e.fetchData(e.props.model,x(e.context.models,t))}))},showJawBone:function(){return this.props.showJawBone},render:function(){var e=this.props.model,t=s("lolomoRow","characterRow","lolomoRow_title_card",{jawBoneOpen:this.props.showJawBone}),o=this.props.jawBoneRankNum,a=this.getRowItems()||{},n=a.rowItems||[],i=this.state.fullDataLoaded?n.length:this.getTotalItemsInRow();return 0===i?null:r.createElement("div",{key:this.props.listContext+this.props.rowNum,className:t},r.createElement(w,{model:e,pqls:this.props.pqls,totalItems:i,rowNum:this.props.rowNum,showJawBone:!1,handleSliderMove:this.handleSliderMove,jawBoneModelIndex:o,columnsInRow:this.context.columnsInRow+1,enablePaginationIndicator:!1},n))}});t.exports=k});C.r("akira/containers/lolomo/lolomo.jsx",function(t,e,o){"use strict";var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},i=t("prop-types"),a=t("react"),n=t("create-react-class"),r=t("lodash"),l=t("classnames"),d=t("react-dom"),h=t("shakti-platform/dist/ui/ShaktiProperties"),c=t("shakti-platform/dist/ui/utils/inNode"),u=t("./lolomoRow.jsx"),m=t("../../components/billboard/BillboardRow"),p=t("./lolomoContinueWatchingRow.jsx"),g=t("./lolomoBigRow.jsx"),R=t("./lolomoConstants.jsx"),f=t("../../components/loader/loadingRow.jsx"),w=t("../../../utils/lolomo/lolomoUtils"),L=t("../../../utils/pathEvaluatorUtils"),x=t("../../akiraContextTypes"),I=t("../../../reactMixins/falkor-auto-fetch"),T=t("../../utils/scheduler"),b=t("../../../reactMixins/browserScroll"),k=t("../../../reactMixins/eventBus"),S=t("./characterRow.jsx"),v=t("../../views/siteError.jsx"),y=t("../../../utils/ab/kidsParityTest"),D=t("../../../common/position"),C=R.LIST_CONTEXTS,B=h.get("netflix.ui.akira.max.lolomo.rows"),W=h.get("netflix.ui.akira.prefetch.page"),M=h.get("netflix.ui.akira.prefetch.homeLoaded.6"),A=M?M.rowMin:25,F={allRows:{numRows:B,numVideos:7,bobs:!1,jawBones:!1}},V=F.allRows,O=function(t,e,o){var s=["responseExpiration","statusCode"],i=y.kidsProfileWithParity(t,!1);e||(e=V);var a={from:e.rowMin||0,to:e.numRows},n=u.getPaths(t,e).map(function(t){return[a].concat(t)}).concat([[a,["context","type"]]]).concat([["summary"]]).concat([["meta",s]]).concat([["requestId"]]).concat(p.getPaths(t,e));if(e.numBillboards>0&&(n=n.concat(m.getPaths(t,e))),i){var r=S.getPaths(t,e).map(function(t){return[{to:0}].concat(t)});return n.concat(r)}return n},E=n({displayName:"Lolomo",mixins:[I,b],statics:{getPaths:O,prefetchStrategies:F,MAX_ROWS:B},rowsFetching:{},isFetchingAdditionalLolomoData:!1,hasWarmedLolomo:!1,hasBillboard:!1,hasBigRow:!1,contextTypes:Object.assign({getModelData:i.func.isRequired,jsongDocument:i.object,models:i.object.isRequired,renderTracker:i.object},x),childContextTypes:{requestId:i.string,lolomoId:i.string},getChildContext:function(){var t=this.props.model;return{requestId:this.getRequestId(),lolomoId:t&&t.getBoundValue()&&t.getBoundValue().__key}},getInitialState:function(){return this.scope={prefetchCallbacks:[],lastImagesLoaded:R.LAZY_LOADING.IMAGES},{bouncing:!1,maxRowToRender:W.numRows,maxRowToLoadImages:R.LAZY_LOADING.IMAGES,scrollHandlersDisabled:!this.isUsingWarmer()}},allRowsPQLS:function(){return O(this.context.models,F.allRows)},getRequestId:function(){return this.props.model.getValueSync(["requestId"])},prepareForAutoFetch:function(){this.props.model.getBoundValue()||w.seedLolomoImpression(this.context.jsongDocument,this.props.suppressBillboard)},delayWarmerCall:function(){this._delayWarmerCall=!0},lolomoIsValid:function(){var t=this.props.model,e=t.getBoundValue();return!!e&&"error"!==e.$type&&this.hasFirstRow()},getNumRows:function(){var t=this.props.model,e=-1,o=void 0;if(!t.getBoundValue())return-1;if(!0===this.props.newArrivals)e=t.getValueSync(["length"]);else{if(!(o=t.getValueSync(["summary"])))return-1;e=o.length}return e},renderPlaceHolder:function(){return a.createElement(f,{pulsateTitles:!0,pulsateHeader:!1,showSpinner:!1})},renderSiteError:function(){return a.createElement(v,null)},setIsInteractive:function(){if(this.isLoading()||this.isInteractive||(this.isInteractive=!0,k.emit("app:interactive",this.props),this.lolomoIsValid()&&w.setLolomoCookieFalcor(this.context.jsongDocument,!1,this.props.suppressBillboard)),this.hasNthRow(3)){var t=this.context.renderTracker;t&&t.endSession(this.renderId)}},updateRowsFetching:function(t,e,o){t=t||0,this.rowsFetching[t]=o,this.rowsFetching[e]=o},allAdditionalFetchingComplete:function(){return!1===this.rowsFetching[A]&&r.every(this.rowsFetching,function(t){return!1===t})},lastRowdataExists:function(){var t=this.props.model,e=t&&t.getValueSync(["summary"]);if(!e)return!1;var o=e.length-1;return t.bind([o]).getBoundValue()&&t.bind([o-1]).getBoundValue()&&t.bind([o-2]).getBoundValue()},allRowsFetched:function(){var t=this.isFetchingAdditionalLolomoData,e=this.lastRowdataExists();return!t&&e||t&&this.allAdditionalFetchingComplete()},bounceLolomo:function(){w.clearLolomoCookie(this.props.suppressBillboard),w.setIsBouncingLolomo(!0),setTimeout(function(){document.location.href=document.location.href},10)},componentWillMount:function(){if(this.renderTracker=this.context.renderTracker,!c){var t=w.isBouncingLolomo();this.isAutoLoading(this.props)||this.lolomoIsValid()||t?w.setIsBouncingLolomo(!1):(this.setState({bouncing:!0}),this.bounceLolomo())}},componentDidMount:function(){this.context.renderTracker&&(this.renderId=this.context.renderTracker.startSession("lolomo")),this.setIsInteractive();var t=this.context.jsongDocument,e=this.props.model,o=e&&e.getBoundValue()&&e.getBoundValue().__key;t.setValueSync(["lolomos","currentLolomo"],o);var s=this;this.once("auto-fetch-done",function(t,e){if("timeout"===t||!this.lolomoIsValid()){if(w.getLolomoCookie(null,this.props.suppressBillboard))return s.setState({bouncing:!0}),void s.bounceLolomo();this.isMounted()&&this.forceUpdate()}}),this.triggerAdditionalFetch()},triggerAdditionalFetch:function(){this.isLoading()?this.once("dataFetch:complete",this.initialLolomoLoaded):this.loadAdditionalData()},initialLolomoLoaded:function(){this.loadAdditionalData()},renderRowsChunkSize:10,renderRowsChunkDelay:100,hasMoreRowsToRender:function(){return this.isUsingWarmer()&&this.hasWarmedLolomo&&this.state.maxRowToRender<B&&this.isMounted()},getLolomoType:function(){return r.get(this.props.model,"_path[0]")},isUsingWarmer:function(){return this.context.getModelData("truths","isLolomoWarmerEnabled")&&"lolomo"===this.getLolomoType()},isLazyLoadingImages:function(){return this.isUsingWarmer()&&this.context.getModelData("truths","lazyLoadLolomoImages")},shouldDisableScrollHandlers:function(){return this.state.maxRowToRender>=B&&!this.isLazyLoadingImages()},updateMaxRowToRender:function(){if(this.hasMoreRowsToRender())if(this.context.getModelData("truths","lazyLoadLolomoDOM")){var t=this.context.getModelData("truths","lolomoLoadChunkSize3")?3:5,e=Math.min(this.state.maxRowToRender+t,B);this.setState({maxRowToRender:e})}else{var o=Math.min(this.state.maxRowToRender+this.renderRowsChunkSize,B);this.setState({maxRowToRender:o}),this.renderWarmLolomoChunkTimer=window.requestIdleCallback(this.updateMaxRowToRender,{timeout:this.renderRowsChunkDelay})}else this.shouldDisableScrollHandlers()&&this.removeScrollHandlers()},onScroll:function(){this.hasMoreRowsToRender()&&(this.renderRowsChunkDelay=200,this.context.getModelData("truths","lazyLoadLolomoDOM")&&this.isWithinDistanceBuffer(500)?this.updateMaxRowToRender():this.renderRowsChunkSize=1),this.isLazyLoadingImages()&&this.scope.lastImagesLoaded<this.state.maxRowToRender&&this.lazyLoadImages()},lazyLoadImages:function(){for(var t=this.scope.lastImagesLoaded-1;t<=this.state.maxRowToRender;t++){var e=document.querySelectorAll(".lolomoRow")[t];if(!(e&&D.getDistanceToBottomOfElement(e)<900)){if(e||this.hasMoreRowsToRender()){this.state.maxRowToLoadImages!==t&&this.setState({maxRowToLoadImages:t});break}this.state.maxRowToLoadImages!==this.state.maxRowToRender&&this.setState({maxRowToLoadImages:this.state.maxRowToRender}),this.scope.lastImagesLoaded=this.state.maxRowToRender+1;break}this.scope.lastImagesLoaded=t}},isWithinDistanceBuffer:function(t){var e=this.lolomoContainer&&d.findDOMNode(this.lolomoContainer);return e&&D.getDistanceToBottomOfElement(e)<t},onScrollEnd:function(){this.hasMoreRowsToRender()&&!this.context.getModelData("truths","lazyLoadLolomoDOM")&&(this.renderRowsChunkDelay=100,this.renderRowsChunkSize=10,window.cancelIdleCallback(this.renderWarmLolomoChunkTimer),this.updateMaxRowToRender())},loadAdditionalData:function(){var t=this;return t.lastRowdataExists()?(t.hasWarmedLolomo=!0,t.updateMaxRowToRender(),!1):(t.isFetchingAdditionalLolomoData=!0,t._delayWarmerCall||t.loadAdditionalDataWithWarmerOrFalcor(),null)},loadAdditionalDataWithWarmerOrFalcor:function(){this.isUsingWarmer()?this.loadAdditionalDataWithWarmer():this.loadAdditionalDataWithFalcor()},loadAdditionalDataWithWarmer:function(){var t=this;w.fetchWarmLolomo(this.context.jsongDocument,W.numRows+1,B,function(e){t.context.jsongDocument.deserialize(e),t.hasWarmedLolomo=!0,t.isFetchingAdditionalLolomoData=!1,t.updateMaxRowToRender()})},loadAdditionalDataWithFalcor:function(){var t=this,e=this.props.model,o="netflix.ui.akira.prefetch.homeLoaded",s=[o,o+".2",o+".3",o+".4",o+".5",o+".6"],i=function(o){if(e&&e.getBoundValue()){var s=h.get(o),i=s.rowMin,a=s.numRows,n=O(t.context.models,s);t.updateRowsFetching(i,a,!0),t.fetchData(e,n,o,function(){t.updateRowsFetching(i,a,!1),t.allRowsFetched()&&t.isMounted()&&t.forceUpdate()},s.forceUpdate)}},a=parseInt(h.get("netflix.ui.lolomo.firstChunkLoadIntervalMS"),10)||50,n=parseInt(h.get("netflix.ui.lolomo.chunkLoadIntervalMS"),10)||750;r.map(s,function(e,o){t.scope.prefetchCallbacks.push(T.queue(function(){i(e)},a+o*n))})},componentDidUpdate:function(){this.renderTracker!==this.context.renderTracker&&(this.renderTracker=this.context.renderTracker,this.context.renderTracker&&(this.renderId=this.context.renderTracker.startSession("lolomo"))),this.setIsInteractive()},componentWillUnmount:function(){for(var t=this.scope.prefetchCallbacks.pop();t;)T.cancelQueuedItem(t),t=this.scope.prefetchCallbacks.pop()},renderRow:function(t){var e=void 0,o=this.props.model.bind([t]),i=o.getValueSync(["context"]),n=o.getValueSync(["type"]),r=this.context.columnsInRow,l=null,d=!1;this.props.jawBoneRowNum===t&&(l=this.props.jawBoneRankNum,d=!0);var c={model:o,rowNum:t,key:t,listContext:i,showJawBone:d,jawBoneRankNum:l,is4KSupported:this.props.is4KSupported,isHDRSupported:this.props.isHDRSupported};if(i===C.BILLBOARD){var R="bigRow"===this.props.model.getValueSync(["bigRow","context"]),f=R&&h.get("netflix.ui.akira.originals.billboard.forceStaticWithBigRow");e=a.createElement(m,s({},c,{delayWarmerCall:this.delayWarmerCall,makeWarmerCall:this.loadAdditionalDataWithWarmerOrFalcor,forceStatic:f})),this.hasBillboard=!0}else if(i===C.BIG_ROW)e=a.createElement(g,s({},c,{toggleBigRowState:this.props.toggleBigRowState,bigRowIsOpen:this.props.bigRowIsOpen}));else if(i===C.CHARACTER_ROW)e=a.createElement(S,s({model:o},c,{columnsInRow:r}));else{var w=i===C.CONTINUE_WATCHING?p:u,L=!this.isLazyLoadingImages()||t<=this.state.maxRowToLoadImages;e=a.createElement(w,s({},c,{listType:n,shouldLoadImages:L,columnsInRow:r}))}return e},renderLolomo:function(){for(var t=this,e=[],o=0,s=this.rowsFetching||{};o<B;){if(this.hasNthRow(o))this.shouldRenderNthRow(o)&&e.push(this.renderRow(o));else if(s[o])break;o++}var i=l({lolomo:!0,"is-fullbleed":this.hasBillboard,"has-open-jaw":this.props.jawBoneVideoId,"has-open-bigRow":this.props.bigRowIsOpen});return a.createElement("div",{className:i,ref:function(e){t.lolomoContainer=e}},e,!this.allRowsFetched()&&this.renderPlaceHolder())},hasFirstRow:function(){return this.hasNthRow(0)},hasNthRow:function(t){var e=this.props.model.bind([t]),o=e.getBoundValue();return!(this.isUsingWarmer()&&t>this.state.maxRowToRender)&&(!!o&&!L.isValueError(o))},shouldRenderNthRow:function(t){var e=this.props.model.bind([t]),o=e.getValueSync(["context"]);return!(this.props.suppressBillboard&&o===C.BILLBOARD||-1!==[C.SOCIAL_POPULAR,C.RATE_MOVIES].indexOf(o))&&0!==e.getValueSync(["length"])},render:function(){return this.isAutoLoading(this.props)&&!this.hasFirstRow()?this.renderPlaceHolder():this.state.bouncing?null:this.lolomoIsValid()?this.renderLolomo():this.renderSiteError()}});e.exports=E});C.r("akira/containers/lolomo/lolomoBigRow.jsx",function(t,e,o){"use strict";var i=t("prop-types"),s=t("react"),n=t("create-react-class"),a=t("lodash"),r=t("classnames"),l=t("../../../common/imageExtension"),d=t("shakti-platform/dist/ui/ShaktiProperties"),g=t("../../components/bigRow/bigRow.jsx"),p=t("../../../components/presentationTracking/presentationTrackingContainer.jsx"),c=t("../../../components/presentationTracking/trackingComponents/boxartPresTracking"),u=t("./rowHeader.jsx"),m=t("../../utils/browseVideoLogging.jsx"),h=t("../../../utils/shallowCompare"),w=t("../../../mdx2/hoc/mdxLoader.jsx"),b="discovery/akira/Billboard",I=r("rowContent"),S=d.get("netflix.ui.akira.originals.bigRow.motionTimeout"),x=!1,k=m(n({displayName:"LolomoBigRow",_hasLoggedError:!1,_hasLoggedImpression:!1,_hasSetYellowSquare:!1,contextTypes:{getI18nString:i.func.isRequired,getModelData:i.func.isRequired,history:i.object.isRequired,jsongDocument:i.object,models:i.object.isRequired,routeHandler:i.object.isRequired},_motionId:null,_videoId:null,statics:{getPaths:function(t,e,o){return[["bigRow","billboards",0,l.getExtensionForTransparentImage(t),["data","playbackVideo"],"horizontalBackground","playbackData","bigRow"],["bigRow","impressions"],["bigRow",0,"queue"]]}},childContextTypes:{rowNum:i.number,rankNum:i.number,trackId:i.number,listContext:i.string},getChildContext:function(){return{rowNum:this.props.rowNum,rankNum:0,trackId:this.getTrackId(),listContext:this.props.listContext}},getInitialState:function(){var t=this.context.getModelData("truths").mdx2Enabled,e=t&&w.isCasting(),o=this.props.model.getValueSync(["impressions"]),i=x||o&&o.bigRow&&!d.get("netflix.ui.akira.originals.billboard.ignoreYellowSquare");return{videoHasPlayed:i,videoCompleted:i,muted:e}},componentDidMount:function(){this.props.bigRowIsOpen&&x&&this.closeJaw()},shouldComponentUpdate:h.partialPropsAndAllState(["bigRowIsOpen"]),getTrackId:function(){var t=this.props.model.getValueSync(["trackIds"]),e=void 0;return t&&(e=t.trackId),e},logImpression:function(){if(!this._hasLoggedImpression){var t=this.props.model,e=l.getExtensionForTransparentImage(this.context.models),o=t&&t.bind(["billboards",0,e,"data"]),i=o&&o.getValueSync()||{},s=t&&t.getValueSync()||{},n=i&&i.impressionToken,a=this.context.jsongDocument;d.get("netflix.ui.akira.originals.bigRow.disableImpressionToken")?this.props.model.get(["logRowImpressionLegacy"]).subscribe(function(t){}):a.call(["lists",[s[1]],["logRowImpression"]],[n]).subscribe(),this._hasLoggedImpression=!0}},setRowYellowSquare:function(){if(!this._hasSetYellowSquare){var t=this.props.model,e=t&&t.getValueSync()||{};this.context.jsongDocument.call(["lists",[e[1]],["setRowYellowSquare"]]).subscribe(),this._hasSetYellowSquare=!0}},setCompletedState:function(t){this.setState({videoCompleted:!0},t),x=!0},setPlayState:function(){this.setState({videoHasPlayed:!0})},toggleJaw:function(t){this.props.toggleBigRowState(t)},openJaw:function(){this.toggleJaw(!0)},closeJaw:function(){this.toggleJaw(!1)},handleAudioButtonClick:function(){var t=this.state.muted?"unmute":"mute";this.setState({muted:!this.state.muted});var e=a.assign({},this.getChildContext(),{motionId:this._motionId,videoId:this._videoId});this.props.logMuteButtonClicked(this.props,t,e)},render:function(){var t=this.props.model,e=r("lolomoRow","lolomoRow_title_card","lolomoBigRow",{bigRowOpen:this.props.bigRowIsOpen}),o=this.props.title?this.props.title:t.getValueSync(["displayName"]),i=l.getExtensionForTransparentImage(this.context.models),n=t&&t.bind(["billboards",0,i,"data"]),d=n&&n.getValueSync()||{},m=d&&d.assets||{},h=m&&m.background||{},w=h&&"light"===h.tone,x=a.get(d,"videoAssets.horizontalBackground.motionId"),k=d.id;this._motionId=this._motionId||x,this._videoId=this._motionId||k;var v=a.get(d,"assets.logo.url"),R=a.get(d,"assets.background.url"),C=d.title?d.title:null,y="newsFeed"===d.billboardType,f=d.hashtag&&y?d.hashtag:null,E=y,_=y,L=r("bigRow",{newsFeed:y,"light-tone":w}),T=t.bind([0]),P=d.actions,q=P&&P[0]||{},j=q&&q.videoId,N=this.context.getI18nString(b,"billboard.actions."+q.name),B=this.context.getI18nString(b,"billboard.actions.info"),V=this.state.videoCompleted||!this._motionId,J=this.state.videoHasPlayed||!this._motionId;return s.createElement("div",{key:this.props.listContext+this.props.rowNum,className:e,"data-list-context":this.props.listContext},s.createElement(u,{id:k,title:o}),s.createElement("div",{className:L,id:"row-"+this.props.rowNum},s.createElement(p,null,s.createElement("div",{className:I},s.createElement(c,{videoId:k},s.createElement(g,{ref:"bigRow",motionId:x,muted:this.state.muted,videoModel:T,videoId:k,logoUrl:v,staticImageUrl:R,trailerId:j,primaryCtaLabel:N,moreInfoCtaLabel:B,videoTitle:C,isNewsFeedRow:y,hashtag:f,showLogoDuringVideo:E,usingHorizontalLogo:_,logImpression:this.logImpression,setRowYellowSquare:this.setRowYellowSquare,videoHasPlayed:J,videoCompleted:V,assets:m,timeout:S,setCompletedState:this.setCompletedState,setPlayState:this.setPlayState,handleAudioButtonClick:this.handleAudioButtonClick,logPlayStarted:this.props.logPlayStarted,logPlayEnded:this.props.logPlayEnded,logLoadingStarted:this.props.logLoadingStarted,logLoadingEnded:this.props.logLoadingEnded,logLoadingError:this.props.logLoadingError,loggingConstants:this.props.loggingConstants,inViewportSelector:".video-container",openJaw:this.openJaw,closeJaw:this.closeJaw}))))))}}));e.exports=k});C.r("akira/containers/lolomo/lolomoContinueWatchingRow.jsx",function(t,e,o){"use strict";function n(t,e,o){return e=s.assign({},e),e.progress=!0,e.noDoubleWides=!0,l.getPaths(t,e,o)}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},s=t("lodash"),a=t("prop-types"),i=t("react"),c=t("create-react-class"),l=t("./lolomoRow.jsx"),u=c({displayName:"LolomoContinueWatchingRow",contextTypes:{models:a.object.isRequired},statics:{getPaths:function(t,e,o){var r=["continueWatching"];return n(t,e,o).map(function(t){return r.concat(t)})}},render:function(){return i.createElement(l,r({},this.props,{sliderMovePqls:n(this.context.models,l.defaultSliderMoveStrategy)}))}});e.exports=u});C.r("akira/containers/lolomo/lolomoRow.jsx",function(e,t,o){"use strict";var s=e("prop-types"),i=e("react"),r=e("create-react-class"),n=e("shakti-platform/dist/ui/ShaktiProperties"),a=e("classnames"),l=e("../../../utils/imageLoadTracker"),d=e("../../../reactMixins/falkor-fetch"),c=e("../../utils/scheduler"),u=e("../../akiraContextTypes"),p=e("../../../reactMixins/falkorPureRenderMixin"),h=e("../../../utils/ab/richOriginalsRowTest"),m=e("../../../common/imageExtension"),g=e("../../utils/lolomoRowChangeDetector"),w=e("../row.jsx"),I=e("./rowHeader.jsx"),f=e("../../components/titleCard/titleCard.jsx"),T=e("./lolomoConstants.jsx"),S=n.get("netflix.ui.akira.prefetch.strategies.lolomoRow"),k=S.allTitles,x=n.get("netflix.ui.akira.prefetch.rowSlide"),y=function(e,t){return t&&void 0!==t.totalVideos?Math.min(e.numVideos,t.totalVideos):e.numVideos},R=function(e){return e.startIndex||0},v=function(e,t,o){o=o||{},t||(t=k);var s=[],i=y(t,o),r=R(t),n=f.getPaths(e,t,{isShow:void 0}).map(function(e){return[{from:r,to:i}].concat(e)});return s=s.concat(n).concat([[["trackIds","context","length","genreId","videoId","displayName","isTallRow","impressionToken","containsDoubleWides"]]]),t.noDoubleWides||(s=s.concat([[{from:r,to:i},"doubleWide"]])),s},C=function(e,t){var o=m.getExtensionForOpaqueImage(e),s=y(t);return[["roarPanels",{from:R(t),to:s},o]]},b=r({displayName:"LolomoRow",mixins:[d,p],contextTypes:Object.assign({models:s.object.isRequired,renderTracker:s.object},u),statics:{getPaths:v,getOriginalsRowPaths:C,defaultStrategy:k,prefetchStrategies:S,defaultSliderMoveStrategy:x},getInitialState:function(){return{fullDataLoaded:!1}},childContextTypes:{trackId:s.number,jawBoneTrackId:s.number,jawBoneEpisodeTrackId:s.number,jawBoneTrailerTrackId:s.number,listContext:s.string,listType:s.string,isTallRow:s.bool,impressionToken:s.string},getChildContext:function(){var e=this.getTrackIds();return{trackId:e.trackId,jawBoneTrackId:e.trackId_jaw,jawBoneEpisodeTrackId:e.trackId_jawEpisode,jawBoneTrailerTrackId:e.trackId_jawTrailer,listContext:this.props.listContext,listType:this.props.listType,isTallRow:!!this.props.model.getValueSync(["isTallRow"]),impressionToken:this.props.model.getValueSync(["impressionToken"])}},componentDidMount:function(){this.setCustomModelChangeDetector(new g(this.props.model));var e=this.context.renderTracker;if(e){var t=e.startSession("lolomoRow"+this.props.rowNum);l.trackBySelectors([".video-artwork"]).then(function(){e.endSession(t)}).catch(function(o){e.endSession(t,o)})}},getId:function(){var e=this.props.model,t=e.getValueSync(["genreId"]),o=e.getValueSync(["videoId"]);return t||(o||null)},getTrackIds:function(){return this.props.model.getValueSync(["trackIds"])||{}},getTitles:function(){var e=this.props.model,t=!!e.getValueSync(["isTallRow"]),o=h.isPanelsOriginalsRow(this.props.listContext,t,this.context.isKidsPage),s=this.props,r=s.rowNum,n=s.shouldLoadImages,a={},l=!!e.getValueSync(["containsDoubleWides"]),d=l&&!t&&!o;return{titleList:this.getLoadedItemModels().map(function(t,s){var l=t.getValueSync(["summary"]),c=t.getValueSync(["doubleWide"])||{},u=d&&c.isDoubleWide,p=l?l.id:"ph"+s,h=l&&l.id,m="title_"+p+"_"+r+"_"+s;a[h]=s;try{return i.createElement(f,{key:m,model:t,rowModel:e,rowNum:r,rankNum:s,videoId:h,isTallPanel:o,isDoubleWide:u,shouldLoadImage:n})}catch(e){}return null}),orderedItemList:a}},getRowItems:function(){var e=[],t=this.getTitles();return{rowItems:e.concat(t.titleList).slice(0,100),orderedItemList:t.orderedItemList||{}}},getTotalItemsInRow:function(){var e=this.props.model,t=e.getValueSync(["length"]);return t>100&&(t=100),t},sliderMovePqls:function(){if(this.props.sliderMovePqls)return this.props.sliderMovePqls;var e=this.context.models,t=b.defaultSliderMoveStrategy,o=h.isRichOriginalsRow(this.props.listContext,this.props.model.getValueSync(["isTallRow"]),this.context.isKidsPage),s=v(e,t);return o&&(s=s.concat(C(e,t))),s},handleSliderMove:function(){var e=this;this.state.fullDataLoaded||(this.state.fullDataLoaded=!0,c.queue(function(){return e.fetchData(e.props.model,e.sliderMovePqls())}))},getLoadedItemModels:function(){for(var e=this.props.model,t=e.getValueSync("length"),o=[],s=void 0,i=void 0,r=0;r<t;r++)s=e.bind([r]),(i=s.getValueSync(["summary"]))&&i.id&&o.push(s);return o},render:function(){var e=this.props.model,t=!!e.getValueSync(["isTallRow"]),o=h.isPanelsOriginalsRow(this.props.listContext,t,this.context.isKidsPage),s=!!e.getValueSync(["containsDoubleWides"])&&!t&&!o,r={lolomoRow:!0,lolomoRow_title_card:!0,jawBoneOpen:this.props.showJawBone,"originals-panels-row":o},n=this.props.jawBoneRankNum,l=this.props.listContext===T.LIST_CONTEXTS.MY_LIST,d=this.getRowItems()||{},c=d.rowItems||[],u=l&&d.orderedItemList,p=this.state.fullDataLoaded?c.length:this.getTotalItemsInRow();return 0===p||0===c.length?null:i.createElement("div",{key:this.props.listContext+this.props.rowNum,className:a(r,this.props.className),"data-list-context":this.props.listContext},this.props.hideRowHeader?null:i.createElement(I,{id:this.getId(),title:this.props.title?this.props.title:e.getValueSync(["displayName"])}),i.createElement(w,{model:e,pqls:this.props.pqls,totalItems:p,rowNum:this.props.rowNum,shouldLoadImages:this.props.shouldLoadImages,jawBoneRankNum:this.props.jawBoneRankNum,showJawBone:this.props.showJawBone,disableJawClose:this.props.disableJawClose,handleSliderMove:this.handleSliderMove,jawBoneModelIndex:n,columnsInRow:this.context.columnsInRow,enablePaginationIndicator:!0,isMyListRow:l,is4KSupported:this.props.is4KSupported,isHDRSupported:this.props.isHDRSupported,orderedItemList:l?u:null,containsDoubleWides:s},c))}});t.exports=b});C.r("akira/containers/lolomo/rowHeader.jsx",function(e,t,i){"use strict";var s=e("prop-types"),r=e("react"),n=e("create-react-class"),a=e("lodash"),o=e("classnames"),l=e("../../components/controls/mainViewLink.jsx"),c=e("../../../utils/ab/richOriginalsRowTest"),d=e("../../akiraContextTypes"),h=e("../../utils/linkDefs.jsx"),x=e("../../../utils/ab/kidsParityTest"),u=["genre","similars","netflixOriginals"],m=["genre","similars","genrenewrelease"],g=["netflixOriginals","recentlyAdded"],p={netflixOriginals:839338,recentlyAdded:1592210},f=n({displayName:"RowHeader",contextTypes:Object.assign({getI18nString:s.func.isRequired,getModelData:s.func.isRequired,listContext:s.string,listType:s.string,isRtl:s.bool,isTallRow:s.bool,models:s.object.isRequired},d),createListContextResolver:function(){var e=this.shouldOverrideRowHeader()?h.genre:h[this.context.listContext];return e?"function"==typeof e?e(this.context.models,this.context.isKidsPage):e:null},renderLinked:function(e){var t={rowChevron:!0},i=this.context.isRtl?"icon-akiraCaretLeft":"icon-akiraCaretRight";t[i]=!0;var s=this.context.getModelData("truths","hasAROV2Gallery",!1),n=s?r.createElement("div",{className:o("aro-row-header")},r.createElement("div",{className:o("see-all-link")},this.context.getI18nString("discovery/akira/Gallery","gallery.row.header")),r.createElement("div",{className:o("aro-row-chevron",i)})):r.createElement("span",{className:o(t)}),c={id:this.shouldOverrideRowHeader()?p[this.context.listContext]:this.props.id},d=this.createListContextResolver();return r.createElement("h2",{className:"rowHeader"},r.createElement(l,{to:d,className:e,params:c},a.unescape(this.props.title),n))},shouldOverrideRowHeader:function(){return this.context.getModelData("truths","hasAROV2Gallery",!1)&&-1!==g.indexOf(this.context.listContext)},shouldComponentUpdate:function(){return!1},render:function(){var e=o({rowTitle:!0,"originals-row-title":c.isRichOriginalsRow(this.context.listContext,this.context.isTallRow,this.context.isKidsPage)}),t=x.kidsProfileWithParity(this.context.models)||!this.context.isKidsPage||u.indexOf(this.context.listContext)>-1;return m.indexOf(this.context.listContext)>-1&&!this.props.id&&(t=!1),this.context.listContext&&t?this.renderLinked(e):r.createElement("h2",{className:e},a.unescape(this.props.title))}});t.exports=f});C.r("akira/containers/modal/ratingWelcome.jsx",function(e,t,a){"use strict";var n=e("lodash"),r=e("prop-types"),s=e("react"),i=e("create-react-class"),o=e("./modalContent.jsx"),c=e("../../../common/svgIcon.jsx"),l=e("../../../reactMixins/eventBus"),m=e("../../../utils/XHR"),d=i({displayName:"RatingIntroduction",contextTypes:{getI18nBundle:r.func.isRequired,modalDismiss:r.func,modalUpdate:r.func,models:r.object},componentDidMount:function(){l.emit("ratingWelcomeModal:open"),m.request({resource:"/welcomeToRating2",service:"api",method:"post",authorize:!0,data:{hasViewedRatingWelcomeModal:!0}}).subscribe()},buildModal:function(){var e=this.context.getI18nBundle("discovery/akira/Messaging");return s.createElement("div",{className:"rating-overlay"},s.createElement("div",{className:"rating-welcome-description"},s.createElement("h2",{dangerouslySetInnerHTML:{__html:e.get("ratings.headline")}}),s.createElement("div",{className:"rating-welcome-thumbs"},this.renderThumb("thumb-up"),this.renderThumb("thumb-down")),s.createElement("p",{className:"rating-welcome-header"},e.get("ratings.header")),s.createElement("p",{className:"rating-welcome-details"},e.get("ratings.body")),s.createElement("button",{className:"nf-flat-button",onClick:this.context.modalDismiss},e.get("ratings.action"))))},renderThumb:function(e){var t=n.get(this.context.models,"browserInfo.data.isSafari",!1),a={thumb:!0,ripples:!t},r="rating-welcome-thumb-container "+e+"-container";return a[e]=!0,s.createElement("div",{className:r,key:e+"-container"},s.createElement(c,{name:e+"-filled",key:e,classes:a}))},render:function(){return s.createElement(o,{body:this.buildModal()})}});t.exports=d});C.r("akira/containers/rowList/rowListItem.jsx",function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=e("prop-types"),s=e("react"),a=e("create-react-class"),i=e("../../components/controls/playbutton.jsx"),l=e("../../components/controls/mainViewLink.jsx"),c=e("../../components/title/videoMeta.jsx"),m=e("../../components/titleCard/tinyTitleCard.jsx"),u=e("../../components/title/duration.jsx"),p=e("../../components/title/maturityRating.jsx"),d=e("../../components/title/userRating.jsx"),v=e("../../../common/svgIcon.jsx"),g=e("../../../common/imageExtension"),h=e("../../../utils/pathEvaluatorUtils"),y=e("../../utils/linkDefs.jsx"),E="discovery/akira/Common",x=a({displayName:"RowListItem",contextTypes:{getI18nString:r.func.isRequired},childContextTypes:{rankNum:r.number,rowNum:r.number},getChildContext:function(){return{rankNum:this.props.rankNum,rowNum:this.props.rowNum}},statics:{extension:function(e){return g.getExtensionForOpaqueImage(e)},getPaths:function(e,t,n){return[["summary"],["title"],["queue"],["availabilityEndDateNear"],["boxarts","_233x131",g.getExtensionForOpaqueImage(e)]].concat(i.getPaths()).concat(c.getPaths(e))},getSize:function(){return"_233x131"}},placeHolder:function(){return s.createElement("div",{className:"rowListItem"},this.context.getI18nString(E,"loading"))},onMoveToTop:function(e){e.preventDefault(),this.props.onMoveToTop(this.props.videoId)},onRemove:function(e){e.preventDefault(),this.props.onRemove(this.props.videoId)},renderActions:function(){return[this.props.rowNum>0&&s.createElement("div",{className:"move-to-top"},s.createElement("a",{href:"#",onClick:this.onMoveToTop},s.createElement(v,{name:"moveToTop"})," ",this.context.getI18nString(E,"move.to.top"))),s.createElement("div",{className:"remove"},s.createElement("a",{href:"#",onClick:this.onRemove},s.createElement(v,{name:"close"})," "))]},renderGrips:function(e){return s.createElement("div",{className:e},s.createElement(v,{name:"grips"}))},render:function(){var e=this.props,t=e.videoId,n=e.model,r=n.getValueSync(["summary"]),a=n.getValueSync(["title"]),i=n.getValueSync(["runtime"]),c=n.getValueSync(["seasonCount"]),v=n.getValueSync(["releaseYear"])||"",g=n.getValueSync(["availabilityEndDateNear"]),x=n.getValueSync(["seasonList","current","showMemberType"]),f="rowListItem-"+r.id,N=void 0;return r?(g&&!h.isValueError(g)&&(N=this.context.getI18nString(E,"available.until",{DATE:g})),s.createElement("div",o({},this.props,{id:f,key:f,className:"rowListItem"}),this.renderGrips("first-move-grips"),s.createElement(m,{model:n,className:"tinyTinyCard",key:"tinyTitle"}),s.createElement("div",{className:"title"},s.createElement(l,{resolver:y.getTitleRoute,params:{id:t}},a)),s.createElement(d,{model:this.props.model,extraClass:"jawmetastars"}),s.createElement("div",{className:"year"},v),s.createElement(p,{model:this.props.model}),s.createElement(u,{runtime:i,seasonCount:c,seasonLabelKey:x}),s.createElement("div",{className:"notes"},N),this.renderActions(),this.renderGrips("last-move-grips"))):this.placeHolder()}});t.exports=x});C.r("akira/containers/sortableGallery.jsx",function(e,t,r){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s=e("prop-types"),l=e("react"),n=e("create-react-class"),i=e("./gallery.jsx"),o=e("./header/sortGallery.jsx"),c=e("../../reactMixins/falkor-auto-fetch"),h=n({displayName:"SortableGallery",mixins:[c],contextTypes:{getModelData:s.func.isRequired,models:s.object.isRequired},statics:{getPaths:function(e,t,r){var a=i.getPaths(e,t,r),s=o.getPaths(e,t,r);return[["name"]].concat(a).concat(s)}},getInitialState:function(){return{filter:function(){return!0}}},setFilter:function(e){this.setState({filter:e})},getHeader:function(e){return this.context.getModelData("truths","hasAROV2Gallery")?l.createElement("div",null):l.createElement("div",{className:"galleryHeader"},l.createElement("div",{className:"title",dangerouslySetInnerHTML:{__html:e.getValueSync(["name"])}}),this.props.hideSortFilter?null:l.createElement(o,{sortOrder:this.props.sortOrder,model:e,onFilterChange:this.setFilter}))},render:function(){var e=this.props.model;return l.createElement(i,a({},this.props,{keyPrefix:this.props.keyPrefix,model:e,header:this.getHeader(e),filter:this.state.filter,pqls:i.getPaths(this.context.models,null,{sortOrder:this.props.sortOrder})}))}});t.exports=h});C.r("akira/containers/sortableRowList.jsx",function(e,t,i){"use strict";var n=e("prop-types"),s=e("react"),o=e("create-react-class"),r=e("react-dom"),a=e("lodash"),l=e("classnames"),d=e("shakti-platform/dist/ui/ShaktiProperties"),c=e("shakti-platform/dist/ui/utils/inNode"),h=e("../../reactMixins/falkor-auto-fetch"),m=e("../../reactMixins/eventBus"),u=e("../akiraContextTypes"),v=e("../../reactMixins/browserScroll"),g=e("../../common/position"),p=e("./rowList/rowListItem.jsx"),f=e("../components/loader/loadingSpinner.jsx"),M=e("../../utils/pathEvaluatorUtils"),I=e("../../utils/mylist_utils"),S="discovery/akira/Gallery",N=function(e,t,i){var n=[{from:0,to:500}];return[[["id","length","name","trackIds","requestId"]]].concat(p.getPaths(e,t).map(function(e){return n.concat(e)}))},b=o({displayName:"SortableRowList",contextTypes:Object.assign({getI18nString:n.func.isRequired,models:n.object},u),mixins:[h],isInteractive:!1,statics:{getPaths:N},childContextTypes:{requestId:n.string,trackId:n.number},getChildContext:function(){var e=this.getTrackIds();return{requestId:this.getRequestId(),trackId:e.trackId}},getTrackIds:function(){var e=this.props.model,t=this.props.trackIds;return!t&&e.getValueSync(["trackIds"])&&(t=e.getValueSync(["trackIds"])),t||{}},getRequestId:function(){return this.props.model.getValueSync(["requestId"])},handleMoveToTop:function(e){var t=this;if(!this.isSavingMove){d.get("netflix.ui.akira.manualMyListBlocking")&&(this.isSavingMove=!0);var i=this.refs.rowList;this.itemBeingMoved=r.findDOMNode(this.refs["item-"+e]),this.itemBeingMovedNextSibling=this.itemBeingMoved.nextElementSibling,this.moveItemInDOM(this.itemBeingMoved,i.firstChild),I.moveInList(e,null).subscribe(function(){t.isSavingMove=!1},function(){t.isSavingMove=!1,t.undoMoveItemInDOM(),m.emit("myList:move:end",a.assign({},t.context,t.props,{myListNotification:{status:-1,reason:"FailedToRemove"}}))})}},handleMoveInList:function(e,t){var i=this;this.isSavingMove||(d.get("netflix.ui.akira.manualMyListBlocking")&&(this.isSavingMove=!0),I.moveInList(e,null,{placeAfterVideo:t}).subscribe(function(){i.isSavingMove=!1},function(){i.isSavingMove=!1,i.undoMoveItemInDOM(),m.emit("myList:move:end",a.assign({},i.context,i.props,{myListNotification:{status:-1,reason:"FailedToRemove"}}))}))},handleRemove:function(e){var t=this,i=r.findDOMNode(this.refs["item-"+e]);this.hideRow(i),I.removeFromList(this.context.discoveryApp.getActionCreators(),e).subscribe(function(){m.emit("myList:remove:end",a.assign({},t.context,t.props))},function(){t.showRow(i),m.emit("myList:remove:end",a.assign({},t.context,t.props,{myListNotification:{status:-1,reason:"FailedToRemove"}}))})},handleMouseDown:function(e){this.isSavingMove&&(e.preventDefault(),e.stopPropagation())},dragStart:function(e){this.itemBeingMoved=e.currentTarget,this.itemBeingMovedNextSibling=e.currentTarget.nextElementSibling,this.insertAfterNode=null,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.currentTarget)},checkMousePositionForScroll:function(e){e.clientY>0&&e.clientY<100?v.scrollDelta(-4):e.clientY>g.getWindowRect().height-100&&v.scrollDelta(4)},dragOver:function(e){var t=e.target;if(e.preventDefault(),this.requiresScrollHelp&&this.checkMousePositionForScroll(e),this.hideRow(this.itemBeingMoved),"placeholder"!==t.className&&"rowListItem"===t.className){var i=t.getBoundingClientRect();(e.clientY-i.top)/(i.bottom-i.top)>.5?(this.insertAfterNode=t,this.insertBeforeNode=t.nextElementSibling,this.insertBeforeNode&&"placeholder"===this.insertBeforeNode.className&&t.nextElementSibling.nextElementSibling&&(this.insertBeforeNode=t.nextElementSibling.nextElementSibling),this.moveItemInDOM(this.placeholder,t.nextElementSibling)):(this.insertAfterNode=t.previousElementSibling,this.insertAfterNode&&"placeholder"===this.insertAfterNode.className&&t.previousElementSibling.previousElementSibling&&(this.insertAfterNode=t.previousElementSibling.previousElementSibling),this.insertBeforeNode=t,this.moveItemInDOM(this.placeholder,t))}},dragEnd:function(e){this.showRow(this.itemBeingMoved),this.moveItemInDOM(this.itemBeingMoved,this.placeholder),this.itemBeingMoved.parentNode.removeChild(this.placeholder),this.insertBeforeNode!==this.itemBeingMovedNextSibling&&this.handleMoveInList(this.itemBeingMoved.dataset.id,this.insertAfterNode&&this.insertAfterNode.dataset.id)},moveItemInDOM:function(e,t){if(this.isMounted()){var i=this.refs.rowList;t?i.insertBefore(e,t):i.appendChild(e)}},undoMoveItemInDOM:function(){this.moveItemInDOM(this.itemBeingMoved,this.itemBeingMovedNextSibling)},hideRow:function(e){this.isMounted()&&(e.style.display="none")},showRow:function(e){this.isMounted()&&(e.style.display="flex")},renderRows:function(){var e=this.props.model,t=[],i=void 0,n=void 0,o=void 0;for(i=0;i<500;i++)n=e.bind([i]),(o=n.getValueSync("summary"))&&t.push(s.createElement(p,{key:"title_"+o.id+"_"+i+"_0",ref:"item-"+o.id,"data-id":o.id,model:n,rowNum:i,rankNum:0,videoId:o.id,draggable:"true",onRemove:this.handleRemove,onMoveToTop:this.handleMoveToTop,onMouseDown:this.handleMouseDown,onDragEnd:this.dragEnd,onDragStart:this.dragStart}));return s.createElement("div",{ref:"rowList",className:"rowList",onDragOver:this.dragOver},t)},renderNoResults:function(){return s.createElement("div",{className:"rowListMessage"},this.context.getI18nString(S,"results.none"))},renderError:function(){return s.createElement("div",{className:"rowListMessage"},this.context.getI18nString(S,"results.error"))},setIsInteractive:function(){this.isLoading()||this.isInteractive||(m.emit("app:interactive",this.props),this.isInteractive=!0)},buildDragPlaceHolder:function(){this.placeholder=document.createElement("div"),this.placeholder.className="placeholder"},componentDidMount:function(){this.buildDragPlaceHolder(),this.setIsInteractive();var e=a.get(this.context.models,"browserInfo.data");this.requiresScrollHelp=e&&e.isFirefox},componentDidUpdate:function(){this.setIsInteractive()},render:function(){var e=this.props.model,t=e.getValueSync(["name"]),i=null,n=e.bind([0]).getValueSync("summary"),o=e.bind([0]).getValueSync("releaseYear"),r=M.hasAnyError([t,n]);return n&&!r&&o?i=this.renderRows():r?(i=this.renderError(),t="&nbsp;"):i=c||this.isLoading()||!o?s.createElement("div",{className:"rowListSpinLoader"},s.createElement(f,null)):this.renderNoResults(),s.createElement("div",{className:l({rowListContainer:!0})},this.props.header&&!r?this.props.header:s.createElement("div",{className:"title",dangerouslySetInnerHTML:{__html:t}}),i)}});t.exports=b});C.r("akira/containers/subHeaders/audioAndSubtitlesHeader.jsx",function(e,t,r){"use strict";var s=e("prop-types"),n=e("react"),o=e("create-react-class"),i=e("classnames"),a=e("../header/sortGallery.jsx"),c=e("../../components/controls/nfDropdown.jsx"),l=e("../../components/controls/mainViewLink.jsx"),d=e("../../components/controls/languageDropdown.jsx"),u=e("../../../reactMixins/falkor-auto-fetch"),p=e("../../../utils/Routes"),m={categoryDropDown:i("categoryDropDown"),galleryHeader:i("galleryHeader"),subMenuLink:i("sub-menu-link"),title:i("title")},g=o({displayName:"AudioAndSubtitlesHeader",contextTypes:{getI18nString:s.func.isRequired,models:s.object},mixins:[u],statics:{getPaths:function(e,t,r){return[].concat(d.getPaths(e,t,r),a.getPaths(e,t,{sortOrder:r.sortOrder}).map(function(e){return r.pathPrefix.concat(e)}))}},renderCategorySubMenuLink:function(e,t){return n.createElement(l,{to:e,className:m.subMenuLink},t)},render:function(){var e=this.context.getI18nString("discovery/akira/Chrome","audio"),t=this.context.getI18nString("discovery/akira/Chrome","subtitles"),r=this.renderCategorySubMenuLink(p.audio,e),s=this.renderCategorySubMenuLink(p.subtitles,t);return n.createElement("div",{className:m.galleryHeader},n.createElement("div",{className:m.title},this.context.getI18nString("discovery/akira/Chrome","header.audio.and.subtitles")),n.createElement("div",{className:m.categoryDropDown},n.createElement(c,{options:[r,s],cols:1,label:this.props.isAudio?e:t})),n.createElement(d,{model:this.props.model,id:this.props.id,isAudio:this.props.isAudio}),n.createElement(a,{sortOrder:this.props.sortOrder,onFilterChange:this.props.onFilterChange}))}});t.exports=g});C.r("akira/containers/subHeaders/audioDescriptionHeader.jsx",function(e,t,r){"use strict";var n=e("prop-types"),s=e("react"),a=e("create-react-class"),i=e("lodash"),o=e("classnames"),l=e("../header/sortGallery.jsx"),c=e("../../components/controls/nfDropdown.jsx"),d=e("../../components/controls/mainViewLink.jsx"),u=e("../../utils/setDataAsProps.jsx"),m=e("../../../utils/Routes"),p={breadcrumbs:o("breadCrumbs"),genreTitle:o("genreTitle"),header:o("galleryHeader"),subgenres:o("subgenres"),submenu:o("sub-menu-link"),title:o("title")},h=u(a({displayName:"AudioDescriptionHeader",contextTypes:{getI18nString:n.func.isRequired},statics:{getPaths:function(e,t,r){return{myPaths:{name:"name",genres:["genres",{to:25},["id","name"]]},childrenPaths:[l.getPaths(e,t,r)]}}},renderTitle:function(){var e=this,t=this.props,r=t.name,n=t.genres;return this.props.id?s.createElement("div",{className:p.title},s.createElement("div",{className:p.breadcrumbs},s.createElement("ul",null,s.createElement("li",null,s.createElement(d,{to:m.audioDescription},r)))),s.createElement("span",{lassName:p.genreTitle},i.find(n,function(t){return t.id===e.props.id}).name)):s.createElement("div",{className:p.title},r)},getGenreOptions:function(){return this.props.genres.map(function(e){var t=e.id,r=e.name;return s.createElement(d,{to:m.audioDescriptionByGenre,params:{id:t},className:p.submenu},r)})},renderGenreDropDown:function(){return s.createElement("div",{className:p.subgenres},s.createElement(c,{options:this.getGenreOptions(),label:this.context.getI18nString("discovery/akira/Title","genres.label"),cols:3,widthRestricted:!1}))},render:function(){return s.createElement("div",{className:p.header},this.renderTitle(),!this.props.id&&this.renderGenreDropDown(),s.createElement(l,{sortOrder:this.props.sortOrder,onFilterChange:this.props.onFilterChange}))}}));t.exports=h});C.r("akira/containers/subHeaders/genreHeader.jsx",function(e,r,t){"use strict";var s=e("prop-types"),i=e("react"),o=e("create-react-class"),a=e("../../components/controls/breadCrumbs.jsx"),d=e("../header/sortGallery.jsx"),n=e("../../components/controls/subGenres.jsx"),p=e("../../../reactMixins/falkor-auto-fetch"),c=e("../../akiraContextTypes"),l=e("../../../utils/ab/kidsParityTest"),m=o({displayName:"GenreHeader",mixins:[p],contextTypes:Object.assign({models:s.object.isRequired},c),statics:{getPaths:function(e,r,t){if(l.kidsProfileWithParity(e,!1))return a.getPaths(e,r,{id:t.id});var s=n.getPaths(e,r,{id:t.id}).map(function(e){return["genres",t.id].concat(e)}),i=d.getPaths(e,r,{sortOrder:t.sortOrder}).map(function(e){return["genres",t.id].concat(e)});return a.getPaths(e,r,{id:t.id,breadCrumbs:t.breadCrumbs}).concat(s).concat(i)}},render:function(){var e=this.props.model.bind(["genres",this.props.id]),r=!l.kidsProfileWithoutParity(this.context.models,!1);return i.createElement("div",{className:"galleryHeader"},r?i.createElement(a,{breadCrumbs:this.props.breadCrumbs,id:this.props.id,model:this.props.model,pqls:a.getPaths(this.context.models,null,{id:this.props.id,breadCrumbs:this.props.breadCrumbs})}):i.createElement(a,{id:this.props.id,model:this.props.model,pqls:a.getPaths(this.context.models,null,{id:this.props.id})}),r&&i.createElement(n,{model:e,id:this.props.id,breadCrumbs:this.props.breadCrumbs}),r&&i.createElement(d,{sortOrder:this.props.sortOrder,model:e,onFilterChange:this.props.onFilterChange}))}});r.exports=m});C.r("akira/containers/subHeaders/myListHeader.jsx",function(e,t,r){"use strict";var a=e("react"),s=e("create-react-class"),i=e("prop-types"),n=s({displayName:"MyListHeader",contextTypes:{getI18nString:i.func.isRequired},render:function(){var e=this.context.getI18nString("discovery/akira/Gallery","myList.label");return a.createElement("div",{className:"galleryHeader"},a.createElement("div",{className:"title"},e))}});t.exports=n});C.r("akira/utils/rollingTimestamp.js",function(t,s,i){"use strict";function n(t){this._ts=t||Date.now()}n.prototype={reset:function(){this._ts=Date.now()},get:function(t){t(this._ts)},set:function(t,s){t>this._ts&&s(this._ts=t)}},s.exports=n});C.r("node_modules/shakti-platform/dist/ui/zuulSocket/basicPoller.js",function(t,e,i){"use strict";var n=function(t,e,i){return{poll:e,activate:function(){i&&i(),this.interval=setInterval(e,t)},deactivate:function(t){this.interval&&(clearInterval(this.interval),t||e())}}};e.exports=n});C.r("akira/listeners/pollers/reno.js",function(t,r,e){"use strict";var n=t("lodash"),o=t("shakti-platform/dist/ui/ShaktiProperties"),u=t("shakti-platform/dist/ui/zuulSocket/basicPoller"),a=t("../../utils/rollingTimestamp"),i=o.get("web.ui.akira.websockets.reno.fallback.polling.interval"),l=["reno","newLolomo"],s=function(t,r,e){return r?e.set(r.creationTS,function(){return t({message:r})}):void 0},c=function(t){return n.get(t.getValueSync(l),"latestMessage")},f=function(t,r){var e=t.pathEvaluator,n=t.refreshLolomo;return function(){return s(n,c(e),r)}},p=function(t,r){return function(){return r.get(function(e){return t.pathEvaluator.call.call(t.pathEvaluator,l,[e,"pushFallback"]).subscribe(f(t,r),t.onError)})}},h=function(t,r){return u(i,p(t,r),function(){return r.reset()})},k=function(t){return h(t,new a)};r.exports=k});C.r("akira/enums/reno/messageTypes.js",function(o,e,r){"use strict";var s={NewLolomo:"NewLolomo",NewRow:"NewRow",Bookmark:"Bookmark"};e.exports=s});C.r("node_modules/ramda/src/when.js",function(r,n,e){var o=r("./internal/_curry3");n.exports=o(function(r,n,e){return r(e)?n(e):e})});C.r("node_modules/shakti-platform/dist/ui/utils/safeParseJSON.js",function(t,r,s){"use strict";var e=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;try{return JSON.parse(t)}catch(t){return r}};r.exports=e});C.r("akira/listeners/reno.js",function(e,s,r){"use strict";var n=e("lodash"),o=e("ramda/src/when"),a=e("../enums/reno/messageTypes"),t=e("shakti-platform/dist/ui/utils/safeParseJSON"),i=function(e){return e.messageType===a.NewLolomo},u=function(e){return!!e.message&&i(e.message)},f=function(e){return{message:t(e.payload),guid:e.notificationGuid}},m=function(e){var s=e.refreshLolomo;return n.flow(f,o(u,s))};s.exports=m});C.r("akira/precache.js",function(r,e,c){"use strict";var n=r("lodash"),t=["profilesList","current","precacheConfig"],a=n.curry(function(r,e){return e.getValueSync(r)}),o=a(t),u=function(r,e){return r.forEach(function(r){return a(r,e)})},i=function(r,e){var c=o(e);return r.precacheForProfile(c),c};e.exports={getPathValueSync:a,getPrecacheConfig:o,loadPathsSync:u,PATH_PRECACHE_CONFIG:t,precacheVideo:i}});C.r("akira/redux/connectToRedux.js",function(r,n,t){"use strict";var e=r("react-redux"),c=e.connect,o=function(r){return function(n){return Object.assign(r(n),{forceUpdateCount:n.discovery.forceUpdateCount})}},u=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];return c.apply(void 0,[o(r)].concat(t))};n.exports=u});C.r("akira/redux/createMiddlewareFromActionHandlers.js",function(r,t,n){"use strict";function e(r){return function(t){return function(n){return function(e){var c=e.type,u=e.data;return a(c,Object.keys(r))&&r[c](u,t),n({type:c,data:u})}}}}var a=r("ramda/src/contains");t.exports=e});C.r("akira/redux/discovery/actionHandlers/refreshApp.js",function(e,o,r){"use strict";var s=e("../discoveryAPI"),t=e("../discoveryActions"),a=t.actions,i=function(e,o){s.shouldRefreshApp(o.getState())&&(window.location.reload(),o.dispatch(a.startPageLoad()))};o.exports=i});C.r("akira/redux/discovery/actionHandlers/refreshLolomo.js",function(o,e,r){"use strict";var t=o("ramda/src/contains"),n=o("ramda/src/pathOr"),i=o("../discoveryActions"),s=i.actions,l=o("../discoveryAPI"),a=o("../../../views/home.jsx"),c=o("../../../../utils/Routes"),u=o("../../../../utils/lolomo/lolomoUtils"),m=o("../../../../common/nfNamespace"),f=[c.home,c.browse,c.title,c.titleShowEpisodes,c.kidsHome,c.kidsTitle],d=function(o,e,r){return u.setLolomoCookieFalcor(o,!0)?r():e("invalidCookie")},h=function(o,e,r){var t=o&&o.bind(["lolomo"]);t?t.get.apply(t,a.getInitialPaths(n([],["reactContext","models"],m))).subscribe(function(){},function(){return e("networkError")},function(){return d(o,e,r)}):e("noClientLolomo")},p=function(o){return o.invalidate(["lolomo"],["lolomonobillboard"]).subscribe()},v=function(o,e,r){r.dispatch(s.refreshLolomoStart(e)),p(o),h(o,function(){return r.dispatch(s.refreshLolomoFailed(e))},function(){return r.dispatch(s.refreshLolomoSuccess(e))})},L=function(o){return t(o,f)},g=function(o){return function(e,r){var t=e.message,n=e.currentRoute;u.clearAllLolomoCookies(),L(n)?r.dispatch(s.deferLolomoRefresh({message:t})):v(o,t,r)}},b=function(o){return function(e,r){var t=e.newRouteHandler,n=l.getDeferredLolomoRefreshRenoMessage(r.getState());n&&!L(t.route)&&v(o,n,r)}};e.exports={refreshLolomo:g,changePage:b}});C.r("akira/redux/discovery/actionHandlers/setThumbRating.js",function(t,e,i){"use strict";var n=t("../../../../utils/XHR"),u=t("../discoveryActions"),r=u.actions,s=t("../../eventUuidUtils"),c=s.ensureUuid,a=function(t,e){return function(i){return e.dispatch(r.setThumbRatingSuccess(c(t.eventUuid,i)))}},o=function(t,e){return function(i){return e.dispatch(r.setThumbRatingFailed({err:i,eventUuid:t.eventUuid}))}},d=function(t,e){return n.request({method:"post",data:t,resource:"/setThumbRating",service:"api",authorize:!0}).subscribe(a(t,e),o(t,e))};e.exports=d});C.r("akira/redux/discovery/cl1Middleware.js",function(e,r,o){"use strict";var n=e("../createMiddlewareFromActionHandlers"),t=e("../../../utils/consolidatedLogging"),s={renoPushReceived:function(e){return t.logWebsocketRenoReceived(e)},renoPollingError:function(e){return t.logWebsocketPollingFallbackError(e)},websocketError:function(e){return t.logWebsocketError(e)},websocketClose:function(e){return t.logWebsocketClose(e)},refreshLolomoStart:function(e){return t.logRenoRefreshStart(e)},refreshLolomoSuccess:function(e){return t.logRenoRefreshEnd(Object.assign({},{success:!0},e))},refreshLolomoFailed:function(e){return t.logRenoRefreshEnd(Object.assign({},{success:!1},e))}},c=function(){return n(s)};r.exports=c});C.r("akira/redux/discovery/createDiscoveryDomain.js",function(e,o,r){"use strict";var i=e("../../../player/nfplayer/domain/common/createDomain"),a=e("./discoveryActions"),t=e("./discoveryStateReducer"),c=e("./discoveryMiddleware"),d=e("./cl1Middleware"),n=e("../logging/getLoggingMiddleware"),s=e("./logAddToPlaylist"),l=e("./logRemoveFromPlaylist"),g=e("./logSetThumbRating");o.exports=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"discovery";return i({actionCreators:a.actions,middlewares:[].concat(c(e),d(),n([s,l,g])),name:o,stateReducer:t})}});C.r("akira/redux/discovery/discoveryAPI.js",function(e,r,s){"use strict";var o=function(e){return e.deferredLolomoRefreshRenoMessage},n=function(e){return e.appNeedsRefresh},f={getDeferredLolomoRefreshRenoMessage:o,shouldRefreshApp:n};r.exports=f});C.r("akira/redux/discovery/discoveryMiddleware.js",function(e,r,n){"use strict";function a(e){var r={setThumbRating:c,refreshLolomo:s.refreshLolomo(e),changeRoute:function(r,n){u(r.currentRouteHandler,r.newRouteHandler)&&(i(r,n),s.changePage(e)(r,n))}};return t(r)}var o=e("ramda/src/equals"),t=e("../createMiddlewareFromActionHandlers"),s=e("./actionHandlers/refreshLolomo"),c=e("./actionHandlers/setThumbRating"),i=e("./actionHandlers/refreshApp"),u=function(e,r){return!o(e&&e.components,r.components)||!o(e&&e.params,r.params)};r.exports=a});C.r("akira/redux/discovery/discoveryStateReducer.js",function(e,r,t){"use strict";var s=e("redux"),n=s.combineReducers,o=e("./discoveryActions"),a=o.TYPES,u=function(e,r){switch(r.type){case a.deferLolomoRefresh:return r.data.message;case a.refreshLolomoStart:return null;default:return e||null}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case a.startPageLoad:return!0;default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case a.expireApp:return!0;default:return e}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(arguments[1].type){case a.forceUpdate:return e+1;default:return e}},f=n({deferredLolomoRefreshRenoMessage:u,isRefreshingApp:c,appNeedsRefresh:d,forceUpdateCount:i});r.exports=f});C.r("akira/redux/logging/createCommandMiddleware.js",function(n,t,e){"use strict";function r(n){return function(t){var e=a(n)(t);return function(r){return function(a){return function(i){var s=i.type,c=i.data;if(s===n.bindings.start){var u=t.startSession(n.commandName);e(r)(o.noop)({type:s,data:c}),u?t.endSession(u):d(n._console||console,["CommandFailedToStartError","Command "+n.commandName+" could not properly start"])}else e(r)(o.noop)({type:s,data:c});return a({type:s,data:c})}}}}}var a=n("./createSessionMiddleware"),o=n("lodash"),d=function(n,t){};t.exports=r});C.r("akira/redux/logging/createSessionMiddleware.js",function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e){var n=e.bindings,t=e.sessionName,i=e.extraHandlers,u=void 0===i?{}:i,c=e.startSessionMapper,l=void 0===c?d:c,f=e._console,v=void 0===f?console:f;return function(e){function i(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!r.eventUuid)return void f.printErrorNoEventUuidGiven("No eventUuid provided in data for event "+n.start,r);var i=e.startSession(t,o(l(r)));if(!i)return void f.printErrorSessionFailedToStart("Session '"+t+"' failed to start with data "+JSON.stringify(r));c[r.eventUuid]=i}var d,c={},f=a(v),p=function(n){return function(r){var i=c[r.eventUuid];if(!i)return void f.printErrorSessionNotStarted("Session '"+t+"' requested to end, but has not started yet");e.endSession(i,{type:n}),delete c[r.eventUuid]}},S=Object.assign(u,(d={},r(d,n.start,i),r(d,n.end,p(void 0)),r(d,n.failed||s.failed,p("ActionFailed")),r(d,n.cancelled||s.cancelled,p("SessionCancelled")),d));return function(e){return function(e){return function(n){var t=n.data,r=n.type;return(S[r]||function(){})(t),e({data:t,type:r})}}}}}function o(e){var n=Object.assign({},e);return delete n.type,delete n.eventUuid,n}var a=function(e){return{printErrorSessionNotStarted:function(e){},printErrorSessionFailedToStart:function(e){},printErrorNoEventUuidGiven:function(e){}}},d=function(e){return e},s={failed:"__failed_not_present__",cancelled:"__cancelled_not_present__"};n.exports=i});C.r("node_modules/shakti-platform/dist/ui/consolidatedLogging/constants/actionTypes.js",function(e,t,i){"use strict";var a={ProcessStateTransition:"ProcessStateTransition",StartAppExperience:"StartAppExperience",SignIn:"SignIn",SignOut:"SignOut",PreparePlay:"PreparePlay",StartPlay:"StartPlay",Play:"Play",Navigate:"Navigate",RenderNavigationLevel:"RenderNavigationLevel",AddToPlaylist:"AddToPlaylist",RemoveFromPlaylist:"RemoveFromPlaylist",SelectProfile:"SelectProfile",AddProfile:"AddProfile",EditProfile:"EditProfile",DeleteProfile:"DeleteProfile",ThrottleSearch:"ThrottleSearch",Search:"Search",ValidatePin:"ValidatePin",CloseApp:"CloseApp",SelectPlan:"SelectPlan",ValidateMemberId:"ValidateMemberId",SetStarRating:"SetStarRating",SetThumbRating:"SetThumbRating",Share:"Share",ConnectWithLineAccount:"ConnectWithLineAccount",AddCachedVideo:"AddCachedVideo",RemoveCachedVideo:"RemoveCachedVideo",Download:"Download",NotifyUms:"NotifyUms",AcceptTermsOfUse:"AcceptTermsOfUse",RequestSharedCredentials:"RequestSharedCredentials",PrepareOnramp:"PrepareOnramp",SubmitOnrampResults:"SubmitOnrampResults",CreateAccount:"CreateAccount",StartMembership:"StartMembership",ValidateInput:"ValidateInput",RegisterForPushNotifications:"RegisterForPushNotifications",LoadNrdService:"LoadNrdService",LoadDownloadService:"LoadDownloadService",LoadIdentityService:"LoadIdentityService",LoadConfigurationService:"LoadConfigurationService",RequestImeCandidateList:"RequestImeCandidateList",Log:"Log",AppExperience:"AppExperience",UserInteraction:"UserInteraction",Presentation:"Presentation",NavigationLevel:"NavigationLevel",Focus:"Focus",Countdown:"Countdown",DebugSession:"DebugSession",AssetPreload:"AssetPreload",VideoSegment:"VideoSegment",VoiceInputDeviceListening:"VoiceInputDeviceListening",VoiceInputUserSpeaking:"VoiceInputUserSpeaking"};t.exports=a});C.r("akira/redux/discovery/logAddToPlaylist.js",function(a,s,d){"use strict";var i=a("../logging/createCommandMiddleware"),o=a("./discoveryActions"),t=o.TYPES,l=a("shakti-platform/dist/ui/consolidatedLogging/constants/commandTypes"),n=a("shakti-platform/dist/ui/consolidatedLogging/constants/actionTypes");s.exports=i({commandName:l.AddToPlaylistCommand,sessionName:n.AddToPlaylist,bindings:{start:t.addToPlaylist,end:t.addToPlaylistSuccess,failed:t.addToPlaylistFailed}})});C.r("akira/redux/discovery/logRemoveFromPlaylist.js",function(o,e,s){"use strict";var i=o("../logging/createCommandMiddleware"),a=o("./discoveryActions"),t=a.TYPES,m=o("shakti-platform/dist/ui/consolidatedLogging/constants/commandTypes"),r=o("shakti-platform/dist/ui/consolidatedLogging/constants/actionTypes");e.exports=i({bindings:{start:t.removeFromPlaylist,end:t.removeFromPlaylistSuccess,failed:t.removeFromPlaylistFailed},sessionName:r.RemoveFromPlaylist,commandName:m.RemoveFromPlaylistCommand})});C.r("akira/redux/discovery/logSetThumbRating.js",function(t,i,s){"use strict";var e=t("../logging/createSessionMiddleware"),n=t("./discoveryActions"),a=n.TYPES,o=t("shakti-platform/dist/ui/consolidatedLogging/constants/actionTypes");i.exports=e({bindings:{start:a.setThumbRating,end:a.setThumbRatingSuccess,failed:a.setThumbRatingFailed},sessionName:o.SetThumbRating,startSessionMapper:function(t){return{thumbRating:t.rating}}})});C.r("akira/redux/logging/getLoggingMiddleware.js",function(t,i,n){"use strict";function o(t){if(e||!a.getModelData("truths").isCl2LoggingEnabledForDiscoveryPlayback)return[];var i=r.getInstance(),n=function(t){return t(i)};return t.map(n)}var r=t("shakti-platform/dist/ui/consolidatedLogging"),a=t("../../../common/appContext"),e=t("shakti-platform/dist/ui/utils/inNode");i.exports=o});C.r("akira/redux/profile/createProfileDomain.js",function(e,o,r){"use strict";var i=e("../../../player/nfplayer/domain/common/createDomain"),t=e("./profileActions"),n=e("../logging/getLoggingMiddleware"),a=e("./logProfileDelete"),l=e("./logProfileEdit"),c=e("./logProfileSwitch");o.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"profile";return i({actionCreators:t.actions,middlewares:n([a,l,c]),name:e,stateReducer:function(e,o){return void 0===e?{}:e}})}});C.r("akira/redux/profile/profileActions.js",function(e,l,i){"use strict";var c=e("../../../player/nfplayer/domain/common/createAction"),s={deleteProfile:"deleteProfile",deleteProfileSuccess:"deleteProfileSuccess",deleteProfileFailed:"deleteProfileFailed",editProfile:"editProfile",editProfileSuccess:"editProfileSuccess",editProfileFailed:"editProfileFailed",switchProfile:"switchProfile",switchProfileSuccess:"switchProfileSuccess",switchProfileFailed:"switchProfileFailed",selectPlan:"selectPlan",selectPlanSuccess:"selectPlanSuccess",selectPlanFailed:"selectPlanFailed"},t=c(s.deleteProfile),P=c(s.deleteProfileSuccess),r=c(s.deleteProfileFailed),o=c(s.editProfile),d=c(s.editProfileSuccess),f=c(s.editProfileFailed),a=c(s.switchProfile),n=c(s.switchProfileSuccess),u=c(s.switchProfileFailed),S=c(s.selectPlan),F=c(s.selectPlanSuccess),h=c(s.selectPlanFailed);l.exports={TYPES:s,actions:{deleteProfile:t,deleteProfileSuccess:P,deleteProfileFailed:r,editProfile:o,editProfileSuccess:d,editProfileFailed:f,switchProfile:a,switchProfileSuccess:n,switchProfileFailed:u,selectPlan:S,selectPlanSuccess:F,selectPlanFailed:h}}});C.r("akira/redux/profile/logProfileDelete.js",function(e,i,l){"use strict";var r=e("../logging/createSessionMiddleware"),o=e("./profileActions"),s=o.TYPES;i.exports=r({bindings:{start:s.deleteProfile,end:s.deleteProfileSuccess,failed:s.deleteProfileFailed},sessionName:"DeleteProfile"})});C.r("akira/redux/profile/logProfileEdit.js",function(e,i,r){"use strict";var o=e("../logging/createSessionMiddleware"),s=e("./profileActions"),t=s.TYPES;i.exports=o({bindings:{start:t.editProfile,end:t.editProfileSuccess,failed:t.editProfileFailed},sessionName:"EditProfile"})});C.r("akira/redux/profile/logProfileSwitch.js",function(i,e,r){"use strict";var s=i("../logging/createSessionMiddleware"),o=i("./profileActions"),t=o.TYPES;e.exports=s({bindings:{start:t.switchProfile,end:t.switchProfileSuccess,failed:t.switchProfileFailed},sessionName:"SelectProfile",startSessionMapper:function(i){return{profileGuid:i.guid}}})});C.r("akira/routeHandlers.js",function(e,i,s){"use strict";function o(e,i){return function(s,o,t){t(null,w.get(o.getModelData("truths"),"kidsProfileWithParity")?[u,n,i]:[u,n,e])}}var t=e("../utils/Routes"),r=e("shakti-platform/dist/ui/routing/provideRoutingContext"),n=e("./akiraLayout.jsx"),u=r(e("./containers/baseRouteHandlerContainer")),w=e("lodash"),l=e("./views/home.jsx"),a=e("./views/genre.jsx"),c=e("./views/person.jsx"),m=e("./views/myList.jsx"),d=e("./views/title.jsx"),p=e("./views/titleAdd.jsx"),v=e("./views/titleLike.jsx"),V=e("./views/titleDislike.jsx"),h=e("./views/audioAndSubtitles.jsx"),x=e("./views/newRelease.jsx"),j=e("./views/recentlyAdded.jsx"),k=e("./views/contentRefresh.jsx"),g=e("./views/similars.jsx"),T=e("./views/genreNewRelease.jsx"),b=e("./views/newArrivals.jsx"),y=e("./views/searchRoute.jsx"),R=e("./views/audioDescription.jsx"),f=e("./views/netflixOriginals.jsx"),S=e("./views/watch.jsx"),C=e("./views/NotificationLanding.jsx"),D=e("./views/kidsTitle.jsx"),A=e("./views/kidsCharacter.jsx"),P=e("./views/kidsGenre.jsx"),G=e("./views/kidsSimilars.jsx"),L=e("./views/kidsOriginals.jsx"),M=e("./views/kidsCharacterGallery.jsx"),N=e("./views/kidsHome.jsx");i.exports=[{route:t.kidsHome,resolveComponents:o(N,l),uiView:"homeScreen",view:"browseTitles"},{route:t.kidsCharacter,components:[u,n,A],uiView:"characterDetails"},{route:t.kidsTitle,resolveComponents:function(e,i){return function(s,o,t){t(null,w.get(o.getModelData("truths"),"kidsProfileWithParity")&&!w.get(o.getModelData("truths"),"hasKidsParityWithMDPOverlay")?[u,n,i]:[u,n,e])}}(D,d),uiView:"movieDetails"},{route:t.kidsCategory,resolveComponents:o(P,a),uiView:"browseTitles"},{route:t.kidsSimilars,components:[u,n,G],uiView:"kidsSimilars"},{route:t.kidsSearch,components:[u,n,y],uiView:"searchResults"},{route:t.kidsSearchTerm,components:[u,n,y],uiView:"searchResults"},{route:t.kidsSearchSuggestion,components:[u,n,y],uiView:"searchResults"},{route:t.kidsCharacterGallery,components:[u,n,M],uiView:"kidsCharacters"},{route:t.kidsOriginals,resolveComponents:o(L,f),uiView:"kidsOriginals"},{route:t.home,components:[u,n,l],uiView:"homeScreen",view:"browseTitles"},{route:t.browse,components:[u,n,l],uiView:"homeScreen",view:"browseTitles"},{route:t.deepLinkedUma,components:[u,n,l],uiView:"homeScreen",view:"browseTitles"},{route:t.title,components:[u,n,d],uiView:"homeScreen",view:"browseTitles"},{route:t.titleShowEpisodes,components:[u,n,d],uiView:"homeScreen",view:"browseTitles"},{route:t.addToMyList,components:[u,n,p],uiView:"homeScreen",view:"browseTitles"},{route:t.likeTitle,components:[u,n,v],uiView:"homeScreen",view:"browseTitles"},{route:t.dislikeTitle,components:[u,n,V],uiView:"homeScreen",view:"browseTitles"},{route:t.genre,components:[u,n,a],uiView:"browseTitles",view:"browseTitlesGallery"},{route:t.similars,components:[u,n,g],uiView:"WiSimilarsByViewType"},{route:t.genreNewRelease,components:[u,n,T],uiView:"NewReleases"},{route:t.person,components:[u,n,c],uiView:"rolesDisplay"},{route:t.myList,components:[u,n,m],uiView:"MyListAsGallery"},{route:t.recentlyAdded,components:[u,n,j],uiView:"WiRecentAdditions"},{route:t.justAdded,components:[u,n,k],uiView:"justAdded"},{route:t.newRelease,components:[u,n,x],uiView:"NewReleases"},{route:t.newReleases,components:[u,n,x],uiView:"NewReleases"},{route:t.newArrivals,components:[u,n,b],uiView:"NewReleases"},{route:t.audio,components:[u,n,h],uiView:"browseAudio"},{route:t.subtitle,components:[u,n,h],uiView:"browseTitles",view:"browseTitlesGallery"},{route:t.subtitles,components:[u,n,h],uiView:"browseTitles",view:"browseTitlesGallery"},{route:t.audioDescription,components:[u,n,R],uiView:"browseTitles",view:"browseTitlesGallery"},{route:t.audioDescriptionByGenre,components:[u,n,R],uiView:"browseTitles",view:"browseTitlesGallery"},{route:t.netflixOriginals,components:[u,n,f],uiView:"browseTitles",view:"browseTitlesGallery"},{route:t.search,components:[u,n,y],uiView:"searchResults"},{route:t.searchTerm,components:[u,n,y],uiView:"searchResults"},{route:t.searchPerson,components:[u,n,y],uiView:"searchResults"},{route:t.searchSuggestion,components:[u,n,y],uiView:"searchResults"},{route:t.searchDVD,components:[u,n,y],uiView:"searchResults"},{route:t.profilesManage,components:[u,n,l],uiView:"profilesManage"},{route:t.manageProfiles,components:[u,n,l],uiView:"manageProfiles"},{route:t.editProfiles,components:[u,n,l],uiView:"manageProfiles"},{route:t.profilesAdd,components:[u,n,l],uiView:"addProfile"},{route:t.onRamp,components:[u,n,l],uiView:"onRamp"},{route:t.notificationLanding,components:[u,n,C],uiView:"notificationLanding"},{route:t.watchNow,components:[u,S],uiView:"playback"},{route:t.interact,components:[u,S],uiView:"interact"}]});C.r("akira/utils/browseVideoLogging.jsx",function(t,e,o){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},a=(t("prop-types"),t("react")),r=t("create-react-class"),i=t("../../reactMixins/eventBus"),s=t("../akiraContextTypes"),d=t("lodash");e.exports=function(t){return r({displayName:"BrowseVideoLogging("+t.displayName+")",contextTypes:s,statics:d.pick(t,["getPaths","prefetchStrategies","defaultStrategy","__meta__"]),getDataContext:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.trackId=t.trackId||this.context.trackId,t.rowNum=void 0!==t.rowNum?t.rowNum:this.context.rowNum,t.rankNum=void 0!==t.rankNum?t.rankNum:this.context.rankNum,t.requestId=t.requestId||this.context.requestId,t},componentWillMount:function(){var t=this,e={logLoadingStarted:function(e,o){i.emit("motionBillboard:loadingStarted",d.assign({},t.getDataContext(o),e))},logLoadingEnded:function(e,o){i.emit("motionBillboard:loadingEnded",d.assign({},t.getDataContext(o),e))},logLoadingError:function(e,o,n){i.emit("motionBillboard:loadingError",d.assign({errorType:o},t.getDataContext(n),e))},logPlayStarted:function(e,o,n){i.emit("motionBillboard:playStarted",d.assign({},t.getDataContext(n),e,{startOffset:o}))},logPlayEnded:function(e,o,n){var a={detailedCompletionReason:o};"Completed"!==o&&(a.reason="canceled"),i.emit("motionBillboard:playEnded",d.assign({},t.getDataContext(n),e,a))},logMuteButtonClicked:function(e,o,n){i.emit("motionBillboard:muteButtonClicked",d.assign({},t.getDataContext(n),e,{commandName:o}))},loggingConstants:{VIDEO_ERRORS:{TIMEOUT:"loadTimeout",LOAD_ERROR:"loadError",UNSUPPORTED:"Unsupported Device/Platform"},PAUSE_TYPE:{SCROLL:"userScrolled",WINDOW_BLUR:"appInBackground",MODAL_VIEW:"modalViewChanged"}}};this.componentProps=e},render:function(){return a.createElement(t,n({},this.props,this.componentProps))}})}});C.r("akira/utils/inViewport.jsx",function(t,e,r){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},o=(t("prop-types"),t("react")),n=t("create-react-class"),s=t("react-dom"),a=t("lodash"),c=t("../../reactMixins/browserScroll"),p=t("../../common/position");e.exports=function(t){return n({displayName:"inViewport("+t.displayName+")",mixins:[c],statics:a.pick(t,["getPaths","prefetchStrategies","defaultStrategy","__meta__"]),getInitialState:function(){return{inViewport:!1}},onScroll:function(){var t=this.props.inViewportSelector,e=void 0;t&&(e=this.node.querySelector(t));var r=e||this.node;r&&this.setState({inViewport:p.isElementInViewport(r)})},_setRowNode:function(t){if(!this.node){var e=t&&s.findDOMNode(t);if(!e)throw new Error("no DOM node found. the InViewport HOC requires the passed in component returns a DOM element");this.node=e,this.onScroll()}},render:function(){var e=a.omit(this.props,"inViewportSelector");return o.createElement(t,i({},e,{inViewport:this.state.inViewport,ref:this._setRowNode}))}})}});C.r("akira/utils/lolomoRowChangeDetector.js",function(e,t,n){"use strict";function i(e){this.model=e,this.updateUniqueKey()}var o=["continueWatching","queue"];i.prototype={isTransientRow:function(){var e=this.model.getValueSync("context");return-1!==o.indexOf(e)},updateUniqueKey:function(){this.prevModelLength=this.model.getValueSync("length"),this.isTransientRow()&&(this.prevUniqueKey=this.generateUniqueKey())},didChange:function(){return this.model.getValueSync("length")!==this.prevModelLength||!(!this.isTransientRow()||this.generateUniqueKey()===this.prevUniqueKey)},generateUniqueKey:function(){for(var e=this.model.getValueSync("length"),t="",n=void 0,i=0;i<e;i++)(n=this.model.getValueSync([i,"summary"]))&&n.id&&(t+=n.id.toString().substr(-4));return t}},t.exports=i});C.r("akira/utils/serviceCode.js",function(e,r,t){"use strict";var i=e("../../utils/XHR"),c={fetchServiceCode:function(){return i.request({method:"post",data:{},resource:"/servicecode",service:"api",authorize:!0})},formatAuthCode:function(e){return e=e||"",e=e.replace(/[^a-z0-9]/gi,""),[e.slice(0,3),e.slice(3)].join("-")}};r.exports=c});C.r("akira/utils/windowVisibility.jsx",function(i,t,e){"use strict";var n=Object.assign||function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},s=i("react"),a=i("create-react-class"),o=i("../../reactMixins/eventBus"),r=i("lodash");t.exports=function(i){return a({displayName:"windowVisibility("+i.displayName+")",statics:r.pick(i,["getPaths","prefetchStrategies","defaultStrategy","__meta__"]),getInitialState:function(){return{isWindowVisible:!0}},_handleWindowVisibilityChange:function(i){this.setState({isWindowVisible:i})},componentDidMount:function(){o.on("window-visibility:changed",this._handleWindowVisibilityChange)},componentWillUnmount:function(){o.removeListener("window-visibility:changed",this._handleWindowVisibilityChange)},render:function(){return s.createElement(i,n({},this.props,{isWindowVisible:this.state.isWindowVisible}))}})}});C.r("akira/views/NotificationLanding.jsx",function(e,t,n){"use strict";var o=e("prop-types"),a=e("react"),i=e("create-react-class"),s=e("../components/notifications/notifications.jsx"),r=e("../components/controls/flatButton.jsx"),l=e("../containers/lolomo/lolomoRow.jsx"),c=e("../../reactMixins/falkor-auto-fetch"),u=e("../../utils/Routes"),m=e("nf-algebraic-data-types/Option"),d=e("../../player/nfplayer/components/spinner.jsx"),p=i({displayName:"NotificationLanding",statics:{getPaths:function(e,t,n,o){var a=l.getPaths(e,t,n).map(function(e){return["notifications",n.eventGuid||o.eventGuid,"videos"].concat(e)}),i=s.getPaths(e,t,{totalVideos:100});return a.concat(i)}},mixins:[c],contextTypes:{routeHandler:o.object.isRequired,getI18nString:o.func.isRequired},propTypes:{model:o.object.isRequired,jawBoneVideoId:o.string,jawBoneRankNum:o.number,jawBoneRowNum:o.number},getFalkorModel:function(){return this.props.model.pathEvaluator},getNotification:function(){var e=this.context.routeHandler.params.eventGuid;return this.props.model.pathEvaluator.getValueSync(["notifications","fullList"]).filter(function(t){return t.message.eventGuid===e})[0].message.templateJSON.landingPage.template},getVideoPath:function(){return["notifications",this.context.routeHandler.params.eventGuid,"videos"]},render:function(){var e=this.getNotification(),t=this.props.model.pathEvaluator.bind(this.getVideoPath()),n=this.props.jawBoneVideoId||m.fromNullable(t.getValueSync(["0","summary"])).map(function(e){return e.id}).getOrElse(null),o=Number.isInteger(t.getValueSync(["length"]));return a.createElement("div",{className:"notification-landing"},a.createElement("div",{className:"notification-landing-title"},e.headlineText),a.createElement("div",{className:"notification-landing-summary"},e.bodyText),o&&a.createElement(l,{className:"notification-landing-row",columnsInRow:t.getValueSync(["length"]),disableJawClose:!0,jawBoneRankNum:this.props.jawBoneRankNum||0,jawBoneRowNum:this.props.jawBoneRowNum||0,jawBoneVideoId:n,model:t,rowNum:0,shouldLoadImages:!0,showJawBone:!0}),!o&&a.createElement(d,null),a.createElement("div",{className:"notification-landing-back-to-home-container lolomoRow"},a.createElement(r,{hrefLink:u.home.makePath(),label:this.context.getI18nString("discovery/akira/NotificationLanding","notification.landing.back.to.home")})))}});t.exports=p});C.r("akira/components/pin/pinNumber.jsx",function(e,n,t){"use strict";function s(){if(this.props.focused){var e=p.findDOMNode(this);e&&e!==document.activeElement&&e.focus()}}var i=e("prop-types"),a=e("react"),o=e("create-react-class"),p=e("react-dom"),r=e("lodash"),l=e("../../../utils/shallowCompare"),h=e("./pinUtils"),u=o({displayName:"PinNumber",contextTypes:{getI18nString:i.func.isRequired,getModelData:i.func},shouldComponentUpdate:l.props,getDefaultProps:function(){return{handleChange:r.noop,handleInvalidInput:r.noop,handleFocus:r.noop}},componentDidMount:s,componentDidUpdate:s,needsIEHiddenValueBugFix:function(){return!this.props.showValue&&this.context.getModelData("browserInfo").isIE},handleKeyDown:function(e){var n=h.isBackspace(e);if(!this.needsIEHiddenValueBugFix())return n&&this.props.handleChange(null,this.props.index,!0),!1;var t=h.getPinInput(e),s=h.isTab(e),i=h.isDelete(e);return s||this.props.showValue&&t||e.preventDefault(),i||n?this.props.handleChange(null,this.props.index,n):t?this.props.handleChange(t,this.props.index):h.isPrintableCharacter(e)&&this.props.handleInvalidInput(this.props.index),!0},handleChange:function(e){var n=this;if(!this.needsIEHiddenValueBugFix()){h.onlyIfValid(e.target.value)?this.props.handleChange(e.target.value,this.props.index):""===e.target.value?this.props.handleChange(null,this.props.index,!1):(this.props.handleInvalidInput(this.props.index),setTimeout(function(){return n.select()}))}},select:function(){var e=p.findDOMNode(this);e&&(e.select(),e.setSelectionRange&&e.setSelectionRange(0,9999))},handleFocus:function(e){this.select(),this.props.handleFocus(e,this.props.index)},getDisplayValue:function(){var e=this.props,n=e.value,t=e.showValue;return n?t?n:"•":""},render:function(){return a.createElement("input",{type:"tel",maxLength:"1",className:"pin-number-input",tabIndex:0,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,value:this.getDisplayValue(),onChange:this.handleChange,"aria-label":this.context.getI18nString("player/player","pin.input",{INDEX:this.props.index+1})})}});n.exports=u});C.r("akira/components/pin/pinPad.jsx",function(n,e,t){"use strict";var i=(n("prop-types"),n("react")),s=n("create-react-class"),o=n("lodash"),u=n("./pinNumber.jsx"),a=n("../../../utils/shallowCompare"),r=s({displayName:"PinPad",shouldComponentUpdate:a.pureRender,getDefaultProps:function(){return{showDigits:!1,onPinChange:o.noop,handlePinEntry:o.noop,pin:[null,null,null,null]}},getInitialState:function(){return{focusedIndex:0}},componentWillReceiveProps:function(n){o.every(n.pin,function(n){return null===n})&&this.setState({focusedIndex:0})},onFocus:function(n,e){this.setState({focusedIndex:e})},moveFocus:function(n){var e=this,t=this.props.pin,i=this.state.focusedIndex;if(n&&i>0||!n&&i<t.length-1){var s=n?i-1:i+1;setTimeout(function(){return e.setState({focusedIndex:s})})}},changePinDigit:function(n,e,t){var i=this.props,s=i.pin,o=i.onPinChange,u=i.handlePinEntry;(n||t)&&this.moveFocus(t);var a=s.slice();a[e]=n,o(a),a.reduce(function(n,e){return n+(e?1:0)},0)===a.length&&u(a)},render:function(){var n=this.props.pin,e=this.state.focusedIndex,t=o.map(n,function(t,s){return i.createElement(u,{key:"input"+s,handleChange:this.changePinDigit,handleInvalidInput:this.props.handleInvalidInput,handleFocus:this.onFocus,index:s,focused:e===s,value:n[s],showValue:this.props.showValue})},this);return i.createElement("div",{className:"pin-input-container"},t)}});e.exports=r});C.r("akira/components/pin/pinUtils.js",function(n,e,t){"use strict";var r=n("../../../common/keyCodes"),i=["altKey","ctrlKey","metaKey"],u=/^[0-9]$/,o=function(n){return n>=r.NUM0&&n<=r.NUM9},c=function(n){return function(e){return!!n[e]}},f=function(n){return i.some(c(n))},a=function(n){return o(n)?n-48:n},s=function(n){return f(n)?void 0:String.fromCharCode(a(n.keyCode))},y=function(n){return void 0!==n&&null!==n&&u.test(n)},d=function(n){return y(n)?n:void 0},k=function(n){return n.key&&"Unidentified"!==n.key?n.key:void 0},l=function(n){return d(k(n)||s(n))},C=function(n){return function(e){return function(t){return t.key&&"Unidentified"!==t.key?t.key===n:t.keyCode===e}}},p=C("Tab")(r.TAB),m=C("Backspace")(r.BACKSPACE),U=C("Delete")(r.DELETE),v=function(n){return n>=r[0]&&n<=r.NUMSLASH},A=function(n){return!!n&&1===n.length},B=function(n){return!f(n)&&(A(n.key)||v(n.keyCode))};e.exports={getPinInput:l,isTab:p,isBackspace:m,isDelete:U,isPrintableCharacter:B,onlyIfValid:d}});C.r("akira/redux/decorators/decorateActionCreators.js",function(r,t,n){"use strict";function e(r,t){return o.mapValues(r,function(r){return function(){return r(t.apply(null,arguments))}})}var o=r("lodash");t.exports=e});C.r("akira/redux/decorators/decorateWithUuid.js",function(r,t,e){"use strict";function n(){var r=u();return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.eventUuid=r,t}}var i=r("./decorateActionCreators"),u=r("tiny-uuid");t.exports=function(r){return i(r,n())}});C.r("components/presentationTracking/trackingComponents/planUpgradeConfirmationPromptPresTracking.js",function(n,t,o){"use strict";var a=n("./createTrackingComponent"),i=n("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");t.exports=a({appView:i.planUpgradeConfirmationPrompt})});C.r("components/presentationTracking/trackingComponents/planUpgradeGatePresTracking.js",function(n,a,t){"use strict";var e=n("./createTrackingComponent"),p=n("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");a.exports=e({appView:p.planUpgradeGate})});C.r("components/touchable.jsx",function(e,o,n){"use strict";function t(e){return s({componentWillMount:function(){this._called=!1},componentDidMount:function(){this.updateHandlers()},componentDidUpdate:function(e){this.updateHandlers()},componentWillUnmount:function(){this.removeHandlers()},render:function(){var o=a.omit(this.props,_),n=c("touchable",this.props.className);return i.createElement(e,r({className:n},o))},getPointerType:function(e){if(e.pointerType)return e.pointerType;switch(e.type){case"touchstart":case"touchmove":case"touchend":return"touch"}switch(e.mozInputSource){case void 0:break;case MouseEvent.MOZ_SOURCE_TOUCH:return"touch";case MouseEvent.MOZ_SOURCE_PEN:case MouseEvent.MOZ_SOURCE_ERASER:return"pen"}return null},setPointerType:function(e){var o=Date.now(),n=this.getPointerType(e);n&&"mouse"!==n&&(this._persistedPointerType=n,this._persistedPointerTime=o),o>this._persistedPointerTime+p&&(this._persistedPointerType=null),void 0===e.pointerType&&(e.pointerType=n||this._persistedPointerType||"mouse")},handleEvent:function(e){this.setPointerType(e);var o=E[e.type],n=this.props[o+"Capture"],t=this.props[o];if(e.eventPhase===M){if(this._called)return void(this._called=!1);this._called=!0}n&&(e.eventPhase!==y&&e.eventPhase!==M||n.call(this,e)),t&&(e.eventPhase!==O&&e.eventPhase!==M||t.call(this,e))},addHandler:function(e,o){e.addEventListener(o,this.handleEvent,H),e.addEventListener(o,this.handleEvent,k)},removeHandler:function(e,o){e.removeEventListener(o,this.handleEvent,H),e.removeEventListener(o,this.handleEvent,k)},updateHandler:function(e,o){var n=E[o];Boolean(this.props[n])||Boolean(this.props[n+"Capture"])||h.indexOf(o)>=0?this.addHandler(e,o):this.removeHandler(e,o)},updateHandlers:function(){var e=this,o=u.findDOMNode(this),n=[].concat(d,l);n=window.PointerEvent?n.concat(P):n.concat(h,m),n.forEach(function(n){e.updateHandler(o,n)})},removeHandlers:function(){var e=u.findDOMNode(this);for(var o in E)E.hasOwnProperty(o)&&this.removeHandler(e,o)}})}var r=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},i=(e("prop-types"),e("react")),s=e("create-react-class"),u=e("react-dom"),a=e("lodash"),c=e("classnames"),p=100,v=["onClick","onDoubleClick","onMouseDown","onMouseMove","onMouseUp","onMouseEnter","onMouseLeave","onMouseOver","onMouseOut","onPointerDown","onPointerMove","onPointerUp","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onTouchStart","onTouchMove","onTouchEnd","onKeyDown","onKeyPress","onKeyUp"],d=["click","doubleclick"],l=["keyup","keydown","keypress"],h=["touchstart","touchmove","touchend"],m=["mousedown","mousemove","mouseup","mouseenter","mouseleave","mouseover","mouseout"],P=["pointerdown","pointermove","pointerup","pointerenter","pointerleave","pointerover","pointerout"],E={click:"onClick",doubleclick:"onDoubleClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",touchstart:"onPointerDown",touchmove:"onPointerMove",touchend:"onPointerUp",mousedown:"onPointerDown",mousemove:"onPointerMove",mouseup:"onPointerUp",mouseenter:"onPointerEnter",mouseleave:"onPointerLeave",mouseover:"onPointerOver",mouseout:"onMouseOut",pointerdown:"onPointerDown",pointermove:"onPointerMove",pointerup:"onPointerUp",pointerenter:"onPointerEnter",pointerleave:"onPointerLeave",pointerover:"onPointerOver",pointerout:"onPointerOut"},f="undefined"!=typeof Event?Event:{},y=f.CAPTURING_PHASE,M=f.AT_TARGET,O=f.BUBBLING_PHASE,T=v,w=v.map(function(e){return e+"Capture"}),_=[].concat("className",T,w),k=!1,H=!0;o.exports=a.memoize(t)});C.r("components/ux/UIMarkup.jsx",function(t,s,e){"use strict";var r=(t("prop-types"),t("react")),a=t("create-react-class"),p=t("lodash"),n=a({displayName:"UIMarkup",getDefaultProps:function(){return{id:"",text:"",tagType:"span",tagProps:{}}},render:function(){var t=p.assign({id:this.props.id,dangerouslySetInnerHTML:{__html:this.props.text},className:this.props.className},this.props.tagProps);return r.createElement(this.props.tagType,t)}});s.exports=n});C.r("falkorClient/lolomoRefresh.js",function(o,n,t){"use strict";function e(o,n){for(var t=void 0,e=!0,i=0;e;)if(t=o.bind([i]),e=!!t.getBoundValue()){if(t.getValueSync("context")===n)return{list:t,index:i};i++}return null}function i(o){return o.getBoundValue().__key}function l(){v.reactApp.refresh()}function r(o,n,t,e,r){var u=c.getPaths(r);o.call(["refreshListByContext"],[i(n),e,t],u,[]).subscribe(l)}function u(o,n,t){var i=e(o,n);i&&r(o,i.list,n,i.index,t)}function a(o){var n=o.bind(["lolomos"]).getBoundValue();return n?Object.keys(n).filter(function(o){return"_"!==o[0]&&"$"!==o[0]&&o.indexOf("ROOT")>-1}):[]}function s(o,n){var t=[],i=o.bind(["lolomos","currentLolomo"]).getBoundValue();a(o).forEach(function(l){var r=o.bind(["lolomos",l]),u=e(r,n);u&&u.index>=0&&l!==i&&t.push(["lolomos",l,u.index])}),t.length&&v.pathEvaluator.invalidate.apply(v.pathEvaluator,t).subscribe()}function f(o,n,t){var e=o.bind(["lolomos","currentLolomo"]).getBoundValue();if(e){u(o.bind(["lolomos",e]),n,t)}else{var i=a(o),l=void 0;i.forEach(function(e){l=o.bind(["lolomos",e]),l.getBoundValue()&&u(l,n,t)})}}var c=o("../akira/containers/lolomo/lolomoRow.jsx"),d=o("shakti-platform/dist/ui/utils/inNode"),v=d?{}:window;n.exports={refreshList:f,invalidateListWithContext:s}});C.r("falkorClient/playbackPositionCacher.js",function(e,n,t){"use strict";function i(e,n,t,i){var s=n&&e.bind(["videos",n]);if(s&&s.getBoundValue()){var a=s.getValueSync(["current","summary"]);a&&a.id===t||(s.setValueSync(["current"],["videos",t]),i&&(s.setValueSync(["seasonList","current"],["seasons",i]),s.setValueSync(["seasonList","current","episodes","current"],["videos",t])),-1===u.indexOf(n)&&u.push(n))}}function s(e,n,t,i){var s=e.bind(["videos",n]);s.getBoundValue()&&(t&&s.setValueSync(["bookmarkPosition"],t),i&&s.setValueSync(["runtime"],i),-1===c.indexOf(n)&&c.push(n))}var a=e("shakti-platform/dist/ui/ShaktiProperties"),o=e("./lolomoRefresh"),r=a.get("web.ui.player.exit.data.refresh.delay"),c=[],u=[],d={cachePlaybackPosition:function(e,n){if(n&&!n.fromPrePlay){var t=n.time,a=n.duration,o=n.watchedToEndOffset,r=n.ancestorId,c=n.id,u=n.nextEpisodeId,d=n.currentSeasonId,f=n.nextEpisodeSeasonId;if(r&&r!==c){var l=t&&o&&t>o;i(e,r,l?u||c:c,l?f||d:d)}s(e,c,t,a)}},syncCache:function(e){var n=[c,u];c=[],u=[],o.invalidateListWithContext(e,"continueWatching"),e.call(["refreshVideoCurrentPositions"],n).subscribe(function(){o.refreshList(e,"continueWatching")})},delayedSyncCache:function(e){var n=this;setTimeout(function(){return n.syncCache(e)},r)}};n.exports=d});C.r("node_modules/nf-client-video-capabilities/dist/nf-client-video-capabilities.js",function(e,i,t){!function(e){if("object"==typeof t&&void 0!==i)i.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.videoCapabilities=e()}}(function(){return function i(t,n,o){function a(c,s){if(!n[c]){if(!t[c]){var u="function"==typeof e&&e;if(!s&&u)return u(c,!0);if(r)return r(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var p=n[c]={exports:{}};t[c][0].call(p.exports,function(e){var i=t[c][1][e];return a(i||e)},p,p.exports,i,t,n,o)}return n[c].exports}for(var r="function"==typeof e&&e,c=0;c<o.length;c++)a(o[c]);return a}({1:[function(e,i,t){"use strict";i.exports=function(e){var i=window.WebKitMediaKeys&&window.WebKitMediaKeys.isTypeSupported("com.apple.fps.2_0");e(!!i&&Boolean(i))}},{}],2:[function(e,i,t){"use strict";var n=[{initDataTypes:["keyids","cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a"'}],videoCapabilities:[{contentType:'video/mp4; codecs="avc1"'}]}];i.exports=function(e){var i=function(){e(!1)},t=void 0,o=void 0;if("function"==typeof window.navigator.requestMediaKeySystemAccess)o=setTimeout(i,1e3),window.navigator.requestMediaKeySystemAccess("com.microsoft.playready",n).then(function(){clearTimeout(o),e(!0)}).catch(function(){clearTimeout(o),e(!1)});else try{window&&window.MSMediaKeys&&(t=new window.MSMediaKeys("com.microsoft.playready")),e(t?!0:!1)}catch(i){e(!1)}}},{}],3:[function(e,i,t){"use strict";var n=[{distinctiveIdentifier:"not-allowed",initDataTypes:["cenc"],persistentState:"required",videoCapabilities:[{contentType:'video/mp4; codecs="avc1.640028"',robustness:"HW_SECURE_DECODE"},{contentType:'video/mp4; codecs="avc1.640028"',robustness:"SW_SECURE_DECODE"}]},{distinctiveIdentifier:"not-allowed",initDataTypes:["cenc"],persistentState:"required"}];i.exports=function(e){var i=function(){e(!1)},t=void 0;"function"==typeof window.navigator.requestMediaKeySystemAccess?(t=setTimeout(i,1e3),window.navigator.requestMediaKeySystemAccess("com.widevine.alpha",n).then(function(){clearTimeout(t),e(!0)}).catch(function(){clearTimeout(t),e(!1)})):e(!1)}},{}],4:[function(e,i,t){"use strict";i.exports=function(e){var i=e.volume,t=(i+.5)%1;try{e.volume=t}catch(e){return!0}return e.volume===i||(e.volume=i,!1)}},{}],5:[function(e,i,t){"use strict";function n(e,i){return void 0===e||null===e?L:"boolean"==typeof e?e?i||g:L:e}function o(e){return Boolean(e&&e.canPlayType)}function a(e,i){var t=e&&e.canPlayType(i);return t===O?g:t===P?P:L}function r(e,i){return i?o(e)&&a(e,i):o(e)}function c(){return window.MediaSource||window.WebKitMediaSource}function s(e,i){return!!e.isTypeSupported&&e.isTypeSupported(i)}function u(e){var i=c();return e?i&&s(i,e):Boolean(i)}function d(e,i){e.isSafari?l(i):e.isChrome||e.isOpera||e.isFirefox?v(i):e.isEdge||e.isIE?y(i):i(p(e,"maybeSupportsHTML5withDRM")?P:L)}function p(e,i){return e&&e.features&&e.features[i]||!1}function f(e,i,t){var o=e||document.createElement("video"),a=0,c={TAG:n(r(o)),TAG_UA:n(p(i,"maybeSupportsHTML5"),P),H264:n(r(o,M)),WEBM:n(r(o,S)),HLS:n(r(o,_)),MSE:n(u()),MSE_MP4_AUDIO:n(u(h)),MSE_MP4:n(u(A)),MSE_WEBM:n(u(T)),MSE_EME_TYPE_MP4:n(u(b)),SILVERLIGHT:n(m()),SILVERLIGHT_UA:n(p(i,"maybeSupportsSL"),P),FLASH:n(w.detect()),EME_UA:n(p(i,"maybeSupportsHTML5withDRM"),P),READ_ONLY_AUDIO:n(E(o))},s=function(){1===++a&&t(c)};d(i,function(e){c.EME=n(e),s()})}var l=e("./eme/fairplay"),v=e("./eme/widevine"),y=e("./eme/playready"),w=e("./plugins/flash"),m=e("./plugins/silverlight"),E=e("./features/readOnlyAudio"),M='video/mp4; codecs="avc1.42E01E, mp4a.40.2"',S='video/webm; codecs="vp8.0, vorbis"',T='video/webm; codecs="vp9"',_='application/x-mpegURL; codecs="avc1.42E01E"',b='video/mp4; codecs="avc1.640028"',h='audio/mp4; codecs="mp4a.40.5"',A='video/mp4; codecs="avc1.4d401e"',P="maybe",g="yes",L="no",O="probably";i.exports={detectVideoCapabilities:f,YES:g,NO:L,MAYBE:P,PROBABLY:O,MIME_TYPE_FLASH:w.MIME_TYPE_FLASH,TYPE_H264:M,TYPE_WEBM:S,TYPE_VP9:T,TYPE_HLS:_,MSE_TYPE_MP4_AUDIO:h,MSE_TYPE_MP4:A,MSE_EME_TYPE_MP4:b,_transformStatus:n}},{"./eme/fairplay":1,"./eme/playready":2,"./eme/widevine":3,"./features/readOnlyAudio":4,"./plugins/flash":6,"./plugins/silverlight":7}],6:[function(e,i,t){"use strict";function n(){var e=window&&window.navigator&&window.navigator.mimeTypes&&window.navigator.mimeTypes[o];if(window&&window.ActiveXObject)try{e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(i){e=!1}return Boolean(e)}var o="application/x-shockwave-flash";i.exports={detect:n,MIME_TYPE_FLASH:o}},{}],7:[function(e,i,t){"use strict";i.exports=function(){return window.SilverlightVersion&&window.SilverlightVersion.isInstalled()}},{}]},{},[5])(5)})});C.r("node_modules/ramda/src/always.js",function(r,n,t){var u=r("./internal/_curry1");n.exports=u(function(r){return function(){return r}})});C.r("node_modules/ramda/src/cond.js",function(r,n,t){var a=r("./internal/_arity"),e=r("./internal/_curry1"),i=r("./map"),u=r("./max"),o=r("./reduce");n.exports=e(function(r){var n=o(u,0,i(function(r){return r[0].length},r));return a(n,function(){for(var n=0;n<r.length;){if(r[n][0].apply(this,arguments))return r[n][1].apply(this,arguments);n+=1}})})});C.r("node_modules/ramda/src/curryN.js",function(r,n,t){var a=r("./internal/_arity"),e=r("./internal/_curry1"),u=r("./internal/_curry2"),c=r("./internal/_curryN");n.exports=u(function(r,n){return 1===r?e(n):a(r,c(r,[],n))})});C.r("node_modules/ramda/src/defaultTo.js",function(r,n,u){var e=r("./internal/_curry2");n.exports=e(function(r,n){return null==n||n!==n?r:n})});C.r("node_modules/ramda/src/internal/_curryN.js",function(r,n,t){var e=r("./_arity"),a=r("./_isPlaceholder");n.exports=function r(n,t,l){return function(){for(var o=[],i=0,u=n,c=0;c<t.length||i<arguments.length;){var h;c<t.length&&(!a(t[c])||i>=arguments.length)?h=t[c]:(h=arguments[i],i+=1),o[c]=h,a(h)||(u-=1),c+=1}return u<=0?l.apply(this,o):e(u,r(n,o,l))}}});C.r("node_modules/ramda/src/internal/_dispatchable.js",function(r,n,t){var e=r("./_isArray"),a=r("./_isTransformer");n.exports=function(r,n,t){return function(){if(0===arguments.length)return t();var i=Array.prototype.slice.call(arguments,0),l=i.pop();if(!e(l)){for(var o=0;o<r.length;){if("function"==typeof l[r[o]])return l[r[o]].apply(l,i);o+=1}if(a(l)){return n.apply(null,i)(l)}}return t.apply(this,arguments)}}});C.r("node_modules/ramda/src/internal/_has.js",function(r,n,t){n.exports=function(r,n){return Object.prototype.hasOwnProperty.call(n,r)}});C.r("node_modules/ramda/src/internal/_isArguments.js",function(t,n,r){var e=t("./_has");n.exports=function(){var t=Object.prototype.toString;return"[object Arguments]"===t.call(arguments)?function(n){return"[object Arguments]"===t.call(n)}:function(t){return e("callee",t)}}()});C.r("node_modules/ramda/src/internal/_isTransformer.js",function(n,r,e){r.exports=function(n){return"function"==typeof n["@@transducer/step"]}});C.r("node_modules/ramda/src/internal/_map.js",function(r,n,a){n.exports=function(r,n){for(var a=0,e=n.length,o=Array(e);a<e;)o[a]=r(n[a]),a+=1;return o}});C.r("node_modules/ramda/src/internal/_xfBase.js",function(n,r,t){r.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(n){return this.xf["@@transducer/result"](n)}}});C.r("node_modules/ramda/src/internal/_xmap.js",function(t,r,n){var e=t("./_curry2"),s=t("./_xfBase");r.exports=function(){function t(t,r){this.xf=r,this.f=t}return t.prototype["@@transducer/init"]=s.init,t.prototype["@@transducer/result"]=s.result,t.prototype["@@transducer/step"]=function(t,r){return this.xf["@@transducer/step"](t,this.f(r))},e(function(r,n){return new t(r,n)})}()});C.r("node_modules/ramda/src/isNil.js",function(r,n,u){var e=r("./internal/_curry1");n.exports=e(function(r){return null==r})});C.r("node_modules/ramda/src/keys.js",function(r,t,n){var e=r("./internal/_curry1"),o=r("./internal/_has"),u=r("./internal/_isArguments");t.exports=function(){var r=!{toString:null}.propertyIsEnumerable("toString"),t=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],n=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),i=function(r,t){for(var n=0;n<r.length;){if(r[n]===t)return!0;n+=1}return!1};return e("function"!=typeof Object.keys||n?function(e){if(Object(e)!==e)return[];var s,c,l=[],a=n&&u(e);for(s in e)!o(s,e)||a&&"length"===s||(l[l.length]=s);if(r)for(c=t.length-1;c>=0;)s=t[c],o(s,e)&&!i(l,s)&&(l[l.length]=s),c-=1;return l}:function(r){return Object(r)!==r?[]:Object.keys(r)})}()});C.r("node_modules/ramda/src/map.js",function(t,n,r){var e=t("./internal/_curry2"),a=t("./internal/_dispatchable"),c=t("./internal/_map"),i=t("./internal/_reduce"),l=t("./internal/_xmap"),u=t("./curryN"),o=t("./keys");n.exports=e(a(["fantasy-land/map","map"],l,function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return u(n.length,function(){return t.call(this,n.apply(this,arguments))});case"[object Object]":return i(function(r,e){return r[e]=t(n[e]),r},{},o(n));default:return c(t,n)}}))});C.r("node_modules/ramda/src/max.js",function(r,n,a){var e=r("./internal/_curry2");n.exports=e(function(r,n){return n>r?n:r})});C.r("node_modules/ramda/src/path.js",function(r,n,t){var e=r("./internal/_curry2");n.exports=e(function(r,n){for(var t=n,e=0;e<r.length;){if(null==t)return;t=t[r[e]],e+=1}return t})});C.r("node_modules/ramda/src/pathOr.js",function(r,n,t){var a=r("./internal/_curry3"),e=r("./defaultTo"),o=r("./path");n.exports=a(function(r,n,t){return e(r,o(n,t))})});C.r("node_modules/ramda/src/pick.js",function(r,n,e){var o=r("./internal/_curry2");n.exports=o(function(r,n){for(var e={},o=0;o<r.length;)r[o]in n&&(e[r[o]]=n[r[o]]),o+=1;return e})});C.r("node_modules/ramda/src/propOr.js",function(r,n,a){var e=r("./internal/_curry3"),o=r("./internal/_has");n.exports=e(function(r,n,a){return null!=a&&o(n,a)?a[n]:r})});C.r("node_modules/shakti-platform/dist/ui/consolidatedLogging/constants/contextTypes.js",function(e,o,n){"use strict";var i={Device:"Device",NrdLib:"NrdLib",NrdJs:"NrdJs",MdxLib:"MdxLib",MdxJs:"MdxJs",UserAgent:"UserAgent",Webpage:"Webpage",TimeZone:"TimeZone",OsVersion:"OsVersion",AppVersion:"AppVersion",UiVersion:"UiVersion",UiLocale:"UiLocale",DeviceLocale:"DeviceLocale",Esn:"Esn",MemberClientId:"MemberClientId",KidsMode:"KidsMode",MediaOffset:"MediaOffset",ProcessState:"ProcessState",Volume:"Volume",TestAllocations:"TestAllocations",Xid:"Xid",NonmemberSharedContext:"NonmemberSharedContext",OnrampSimilarsGroup:"OnrampSimilarsGroup",FullscreenMode:"FullscreenMode",ManipulationMode:"ManipulationMode",FtlEligible:"FtlEligible",FtlConnection:"FtlConnection",FtlFallbackMode:"FtlFallbackMode",IkoMode:"IkoMode",MomentState:"MomentState",NrdAppId:"NrdAppId",SeveredForVppa:"SeveredForVppa",SeveredForWebpageUnload:"SeveredForWebpageUnload",KeyboardInput:"KeyboardInput",PointerInput:"PointerInput",GestureInput:"GestureInput",VoiceInput:"VoiceInput",DeepLinkInput:"DeepLinkInput",WiredConnection:"WiredConnection",WifiConnection:"WifiConnection",MobileConnection:"MobileConnection",AdaptiveEcomFallbackExperience:"AdaptiveEcomFallbackExperience"};o.exports=i});C.r("player/components/adultVerificationPrompt.jsx",function(e,t,n){"use strict";var i=e("prop-types"),o=e("react"),a=e("create-react-class"),r=e("../../akira/components/controls/flatButton.jsx"),s=e("../nfplayer/components/controls/exitButton.jsx"),l=e("../nfplayer/components/focus/controlFocus.jsx"),c=e("../nfplayer/components/controls/controlRow.jsx"),p=e("../nfplayer/components/controls/button.jsx"),u=e("../../utils/RouteHelpers"),d=e("../../utils/shallowCompare"),f=e("../../reactMixins/eventBus"),m=e("../../components/presentationTracking/trackingComponents/logPresentationManually"),g="player/player",y=l(s),v=m(a({displayName:"AdultVerificationPrompt",contextTypes:{getI18nString:i.func.isRequired},shouldComponentUpdate:d.props,getDefaultProps:function(){return{adultVerificationURL:"/verifyage"}},componentDidMount:function(){f.emit("logAdultVerificationShown",{videoId:this.props.videoId}),this.props.onPresented("ageVerificationDialog",{videoId:this.props.videoId})},verifyAge:function(e){window.location.replace(this.props.adultVerificationURL)},getURL:function(){var e=this.props,t=e.videoId,n=e.adultVerificationURL;return t?u.getAgeVerificationUrl(t):n},render:function(){var e=this.context.getI18nString(g,"adult.verification.cancel"),t=this.context.getI18nString(g,"adult.verification.verify"),n=this.context.getI18nString(g,"adult.verification.message"),i=this.props,a=i.cancelLink,s=i.isRTL,l=i.exitTooltip,u=this.getURL();return o.createElement("div",{className:"adult-verification-prompt"},o.createElement("div",{className:"adult-verification-prompt-content"},o.createElement("h3",{className:"adult-verification-header"},n),o.createElement("div",{className:"adult-verification-actions"},o.createElement(r,{tabIndex:0,ariaLabel:t,isPrimaryBtn:!0,onClick:this.verifyAge,label:t,hrefLink:u,styleType:r.styleTypes.FOCUSABLE_STATIC}),a&&o.createElement(r,{tabIndex:0,ariaLabel:e,onClick:this.props.onCancel,label:e,hrefLink:this.props.cancelLink,styleType:r.styleTypes.FOCUSABLE_STATIC}))),!a&&o.createElement(c,{position:c.TOP_RIGHT},o.createElement(y,{tooltip:l,tooltipAlignment:s?p.TOOLTIP_LEFT:p.TOOLTIP_RIGHT,onClick:this.props.onCancel})))}}));t.exports=v});C.r("player/components/autoplayInterrupter.jsx",function(t,e,n){"use strict";var r=t("prop-types"),a=t("react"),i=t("create-react-class"),o=t("classnames"),s=t("../../akira/components/controls/flatButton.jsx"),l=t("../../reactMixins/eventBus"),c=t("../../components/presentationTracking/trackingComponents/logPresentationManually"),p="player/player",u=c(i({displayName:"AutoplayInterrupter",contextTypes:{getI18nString:r.func.isRequired},getDefaultProps:function(){return{shouldDisplayCTA:!1}},componentWillMount:function(){this.YO=this.context.getI18nString(p,"autoplay.interrupter"),this.BACK=this.context.getI18nString(p,"button.exit.playback.browse"),this.RESTART=this.context.getI18nString(p,"button.restart.episode"),this.PLAY=this.context.getI18nString(p,"button.continue.playing")},componentDidMount:function(){l.emit("logAutoPlayInterrupterShown",{videoId:this.props.videoId}),this.props.onPresented("autoPlayInterrupter",{videoId:this.props.videoId})},render:function(){var t=this.props,e=t.shouldDisplayCTA,n=t.restart,r=t.play,i=t.back;return a.createElement("div",{className:o("nfp-autoplay-interrupter")},a.createElement("div",null,e&&a.createElement("div",{className:o("interrupter-text")},this.YO),a.createElement("div",{className:o("interrupter-actions")},r&&a.createElement(s,{icon:"play",tabIndex:0,ariaLabel:this.PLAY,onClick:r,label:this.PLAY}),n&&a.createElement(s,{icon:"restart",tabIndex:0,ariaLabel:this.RESTART,onClick:n,label:this.RESTART}),i&&a.createElement(s,{icon:"close",tabIndex:0,ariaLabel:this.BACK,onClick:i,label:this.BACK}))))}}));e.exports=u});C.r("player/components/imageBasedTimedText.jsx",function(e,t,i){"use strict";function s(e,t){l.forIn(t,function(t,i){t.ns?e.setAttributeNS(t.ns,i,t.value):e.setAttribute(i,t)})}var o=(e("prop-types"),e("react")),n=e("create-react-class"),r=e("react-dom"),a=e("classnames"),l=e("lodash"),h=e("../../utils/shallowCompare"),u=n({displayName:"ImageBasedTimedText",getDefaultProps:function(){return{forceCCPaint:!0,useNFPlayerInterface:!1,className:{},ccQNRsla:100,ccQNREnabled:!0,timedTextBounds:{bottom:0}}},shouldComponentUpdate:h.props,componentWillMount:function(){this._removalQueue=[],this._elementsInView={}},componentDidMount:function(){this.props.useNFPlayerInterface?(this.props.videoPlayer.on("showsubtitle",this.show),this.props.videoPlayer.on("removesubtitle",this.hide)):(this.props.videoPlayer.addEventListener("showsubtitle",this.show),this.props.videoPlayer.addEventListener("removesubtitle",this.hide))},componentWillUnmount:function(){this.props.useNFPlayerInterface?(this.props.videoPlayer.removeListener("showsubtitle",this.show),this.props.videoPlayer.removeListener("removesubtitle",this.hide)):(this.props.videoPlayer.removeEventListener("showsubtitle",this.show),this.props.videoPlayer.removeEventListener("removesubtitle",this.hide)),this._removalQueue=[],this._elementsInView={},this._timeoutHandle=null,clearTimeout(this._queueTimeout),this._queueTimeout=null},redraw:function(){var e=r.findDOMNode(this.refs.svgContainer),t=r.findDOMNode(this),i=document.createElementNS("http://www.w3.org/2000/svg","rect"),o=l.map(this._elementsInView,this._createTimedTextElement),n=this.props.forceCCPaint;for(n&&(t.style.display="none");e&&e.hasChildNodes();)e.removeChild(e.lastChild);s(i,{class:"image-based-subtitles-rect",fill:"none",stroke:"none",x:"0",y:"0"}),this._viewBox&&s(i,{width:this._viewBox.rootContainerExtentX,height:this._viewBox.rootContainerExtentY}),o.unshift(i),o.forEach(function(t){e.appendChild(t)}),n&&(t.style.display="")},show:function(e){this.props.useNFPlayerInterface&&(e=e.event);var t=e.id,i=this._removalQueue.indexOf(t);if(i>-1)return void(this._removalQueue[i]=null);this._elementsInView[t]=e,this._viewBox?this.redraw():(this._viewBox={rootContainerExtentX:e.rootContainerExtentX,rootContainerExtentY:e.rootContainerExtentY},this.forceUpdate(this.redraw))},hide:function(e){this.props.useNFPlayerInterface&&(e=e.event);var t=e.id,i=void 0;this.props.ccQNREnabled?(i=this,-1===this._removalQueue.indexOf(t)&&(this._removalQueue.push(t),this._queueTimeout=setTimeout(function(){var e=i._removalQueue.shift();e&&(delete i._elementsInView[e],i.redraw())},this.props.ccQNRsla))):(delete this._elementsInView[t],this.redraw())},_createTimedTextElement:function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","image"),i=URL.createObjectURL(new Blob([e.imageData],{type:"image/png"}));return s(t,{href:{ns:"http://www.w3.org/1999/xlink",value:i},width:e.sizeX,height:e.sizeY,x:e.originX,y:e.originY,"data-id":e.id}),requestAnimationFrame(function(){URL.revokeObjectURL(i)}),t},_getBottomOffset:function(){return this.props.timedTextBounds.bottom||0},render:function(){var e={display:"block",position:"absolute",top:0,right:0,bottom:this._getBottomOffset()+"px",left:0,transform:"translateZ(0)",WebkitTransform:"translateZ(0)"},t={position:"absolute",top:0,bottom:0,left:0,right:0},i=null;return this._viewBox&&(i="0 0 "+this._viewBox.rootContainerExtentX+" "+this._viewBox.rootContainerExtentY),o.createElement("div",{className:a("image-based-timed-text",this.props.className),style:e},o.createElement("svg",{ref:"svgContainer",width:"100%",height:"100%",style:t,viewBox:i}))}});t.exports=u});C.r("player/components/networkDisconnected.jsx",function(e,t,n){"use strict";var a=e("react"),o=e("create-react-class"),i=e("classnames"),r=e("../../akira/containers/header/networkNotification.jsx"),s=o({displayName:"NetworkDisconnected",getInitialState:function(){return{activeNetwork:!0}},handleNetworkStatusChange:function(){var e=this;setTimeout(function(){e.setState({activeNetwork:navigator.onLine})},navigator.onLine?1:1e3)},componentDidMount:function(){navigator&&navigator.onLine&&(window.addEventListener("online",this.handleNetworkStatusChange),window.addEventListener("offline",this.handleNetworkStatusChange))},componentWillUnmount:function(){window.removeEventListener("online",this.handleNetworkStatusChange),window.removeEventListener("offline",this.handleNetworkStatusChange)},render:function(){return this.state.activeNetwork?null:a.createElement("div",{className:i("network-disconnected")},a.createElement(r,null))}});t.exports=s});C.r("player/components/pinEntry.jsx",function(n,t,e){"use strict";function i(n){return 401===n.status?c.of(n.response||n.responseText||{success:!1}):c.throw(n)}function r(n){if("string"==typeof n)try{n=JSON.parse(n)}catch(n){}return{valid:n.success}}function o(n){return c.of({error:n.status})}var s=n("prop-types"),a=n("react"),p=n("create-react-class"),l=n("lodash"),c=n("../../utils/rx/shakti-rx").RxObservable,u=n("../../utils/rx/rxUtils"),d=n("../../akira/components/pin/pinPad.jsx"),h=n("../nfplayer/components/controls/button.jsx"),m=n("../../akira/components/controls/flatButton.jsx"),P=n("../nfplayer/components/spinner.jsx"),y=n("../nfplayer/components/controls/exitButton.jsx"),f=n("../nfplayer/components/controls/controlRow.jsx"),R=n("../nfplayer/components/focus/controlFocus.jsx"),E=n("../../akira/containers/timeoutTransition/timeoutTransitionGroup.jsx"),v=n("../../utils/XHR"),g=n("../../common/appContext"),I=n("../util/popup"),T=n("../../reactMixins/eventBus"),b=n("classnames"),x=n("../../components/presentationTracking/trackingComponents/logPresentationManually"),L=R(y),S={menubar:!1,resizable:!1,location:!0,width:440,height:330,scrollBars:!1,chrome:!0,centered:!0},D={DEFAULT:"DEFAULT",ERROR:"PIN_ERROR",VALID:"PIN_VALID",INVALID:"PIN_INVALID"},N=[null,null,null,null],k=x(p({displayName:"PinEntry",statics:{BUNDLE:"player/player"},contextTypes:{getI18nString:s.func.isRequired},getDefaultProps:function(){return{videoId:-1,showPreReleasePin:!1}},getInitialState:function(){return{pinRequest:D.DEFAULT,pin:N,validPinEntry:!1,validatingPin:!1,performReload:!1}},componentDidMount:function(){T.emit("logPinEntryShown",{videoId:this.props.videoId}),this.props.onPresented("pinPrompt",{videoId:this.props.videoId})},handlePinEntry:function(n){l.result(document,"activeElement.blur"),this.setState({validPinEntry:!0}),this.onSubmitPin(n)},onForgotPinClick:function(){var n=this;this._forgotPinWindow=I.open({url:this.props.resetURL+"?authurl="+encodeURIComponent(l.get(g.getModelData("userInfo"),"authURL")),name:"nf-pin-reset-popup",features:S}).do(function(t){var e=t.data||{};"pinReset"===e.state&&"success"===e.status&&l.isFunction(n.props.onValidPinEntry)&&n.props.onValidPinEntry(),"resetDisabled"===e.state&&n.setState({performReload:!0}),"beforeunload"===t.type&&n.state.performReload&&setTimeout(function(){window.location.reload(!0)},0)}).subscribe(l.noop,function(n){},l.noop)},onPinChange:function(n){this.setState({pin:n})},clearPin:function(){this.setState({pin:N})},onSubmitPin:function(n){var t=this;if(!this._pinRequest){this.setState({validatingPin:!0});var e=n.join(""),s=this.props.videoId,a=c.create(function(n){return v.request({protocol:"https",resource:"/pin/service",service:"api",data:{pin:e,showPreReleasePin:t.props.showPreReleasePin,videoId:s},method:"post",authorize:!0}).subscribe(function(t){n.next(t),n.complete()},function(t,e){n.error(e)},function(){n.complete()})}).publishReplay().refCount();this._pinRequest=u.retryWithBackoff(a.timeout(1e4).catch(i),4,1e3).map(r).catch(o).do(this.onPinValidationAttempt).subscribe(l.noop,function(n){},l.noop),this._spinnerTimer=c.timer(1e3).takeUntil(a).do(function(){t.state.validatingPin&&t.setState({showRequestSpinner:!0})}).subscribe(l.noop,function(n){},l.noop)}},onPinValidationAttempt:function(n){n.error?(this.clearPin(),this.setState({pinRequest:D.ERROR,validPinEntry:!1,validatingPin:!1,showRequestSpinner:!1}),l.isFunction(this.props.onPinRequestError)&&this.props.onPinRequestError()):n.valid?(this.setState({pinRequest:D.VALID}),l.isFunction(this.props.onValidPinEntry)&&this.props.onValidPinEntry()):n.valid||(this.clearPin(),this.setState({pinRequest:D.INVALID,validPinEntry:!1,validatingPin:!1,showRequestSpinner:!1}),l.isFunction(this.props.onInvalidPinEntry)&&this.props.onInvalidPinEntry()),this._pinRequest=null,this._spinnerTimer=null},componentWillUnmount:function(){this._pinRequest&&this._pinRequest.unsubscribe(),this._spinnerTimer&&this._spinnerTimer.unsubscribe(),this._forgotPinWindow&&this._forgotPinWindow.unsubscribe(),I.close()},render:function(){var n=this.props,t=n.isRTL,e=n.exitTooltip,i=n.onCancel,r=this.state.showRequestSpinner,o=r?a.createElement(P,null):this.renderPinEntry(),s=r?"spinner":"pin-entry";return a.createElement("div",{className:"player-pin-entry-container"},a.createElement(E,{key:"loadingTransition",transitionName:"pinLoadingTransition",component:"div",enterTimeout:150,leaveTimeout:150,enterDelayMs:r?150:0,leaveDelayMs:r?50:0,transitionAppear:!0},a.createElement("div",{key:s,className:"loading-children-container"},o)),a.createElement(f,{position:f.TOP_RIGHT},a.createElement(L,{tooltip:e,tooltipAlignment:t?h.TOOLTIP_LEFT:h.TOOLTIP_RIGHT,onClick:i})))},renderPinEntry:function(){var n=this.state,t=n.pinRequest,e=n.validatingPin;return a.createElement("div",{className:b("player-pin-entry",{"player-pin-entry-validating":e})},this.renderPinEntryTitle(),a.createElement("div",{className:b("player-pin-entry-pad-wrapper",{"player-pin-entry-invalid":(t===D.ERROR||t===D.INVALID)&&!e})},this.renderPinPad()),this.renderForgotPinLink())},renderPinEntryTitle:function(){var n=this.state.pinRequest,t="";switch(n){case n.ERROR:t=this.context.getI18nString(k.BUNDLE,"pin.network.error");break;case D.INVALID:t=this.context.getI18nString(k.BUNDLE,"pin.invalid");break;default:t=this.context.getI18nString(k.BUNDLE,"pin.enter")}return a.createElement("h2",{className:"player-pin-entry-title"},t)},renderPinPad:function(){return a.createElement(d,{handlePinEntry:this.handlePinEntry,onPinChange:this.onPinChange,pin:this.state.pin})},renderForgotPinLink:function(){return this.props.showPreReleasePin?null:a.createElement("div",{className:"player-pin-reset-link-container"},a.createElement(m,{styleType:m.styleTypes.BORDERLESS,onClick:this.onForgotPinClick,label:this.context.getI18nString(k.BUNDLE,"pin.forgot")}))}}));t.exports=k});C.r("player/nfplayer/NFPlayer.jsx",function(e,a,t){"use strict";function o(e,a){return e&&a?w:!e&&a?F:e||a?A:V}function n(e,a,t){var o=e&&e.truths&&e.truths.data&&e.truths.data[a];return"boolean"==typeof o?o:t}var i=e("lodash"),r=e("classnames"),s=e("prop-types"),l=e("react"),d=e("create-react-class"),c=e("./engines/nfplayerCore.jsx"),p=e("./mixins/playbackData"),y=e("./common/playerEvents"),u=e("./common/playerEngines"),g=e("./utils/playerSession"),m=e("./utils/featureDetection"),P=e("./uiContext"),h=e("./uiLabel"),f=e("./common/Metadata"),C=e("../nfplayer/requests/metadata"),v=e("./utils/playerConfig"),E=e("./components/hoc/withEffects.jsx"),b=e("../../common/keyCodes"),S=e("./common/playerControls"),k=e("../../akira/components/hoc/withUpdateDimensions.jsx"),L=e("./common/playerInterfaceManager"),M=e("./common/Video"),T=e("./types/staticConfiguration"),x=e("./utils/getPlayerEngineType"),N=e("./utils/getDefaultStaticConfig"),I=(e("./common/PlayerUIState"),e("../../akira/utils/inViewport.jsx")),A=E(c),V=k(A),w=I(A),F=I(V),R={};R[b.LEFT]=R[b.RIGHT]={commandLoggingName:E.SCRUBBER},R[b.UP]=R[b.DOWN]={commandLoggingName:E.VOLUME},R[b.SPACE]=R[b.ENTER]={commandLoggingName:E.PLAY_PAUSE},R[b.f]={commandLoggingName:E.FULLSCREEN},R[b.m]={commandLoggingName:E.VOLUME};var D=d({displayName:"NFPlayer",childContextTypes:{actionCreators:s.object,staticConfiguration:T,playerApp:s.object,playerSession:s.object},getChildContext:function(){var e=this.state,a=e.staticConfiguration,t=e.playerSession,o=this.props.playerApp,n=this.context.playerApp,i=o||n;return{actionCreators:i&&i.getActionCreators()?i.getActionCreators():void 0,playerApp:i,staticConfiguration:a,playerSession:t}},getDefaultProps:function(){return{onPlayerSurfaceClick:i.noop,playNextTitle:i.noop,timedTextBoundsOverride:void 0}},statics:i.assign({},y,u,L,{CONTROLS:S}),contextTypes:{jsongDocument:s.object,models:s.object,node:s.object,playerApp:s.object,postPlayApp:s.object},mixins:[p],getInitialState:function(){var e=this.context,a=e.models,t=e.node,o=this.props,n=o.config,r=o.metadata,s=o.activeVideo,l=o.playerSession,d=o.staticConfiguration,c=this,p=i.get(a,"playerModel.data.playbackSupport",{}),y=l||new g({getExternalVideoId:function(){return c.props.videoId},getExternalUILabel:function(){return c.props.uiLabel},getExternalTrackId:function(){return c.props.trackId},id:this.props.playerSessionId});return{config:i.assign(v.getFreshInitParams(i.get(t,"req",{})),n),postplayFetched:!1,forcedPlaybackEngine:null,metadata:r||new f,activeVideo:s||new M,clearChain:!0,playerSession:y,staticConfiguration:i.assign(N({geo:i.get(a,"geo.data"),browserInfo:i.get(a,"browserInfo.data"),playbackSupport:p}),d)}},_isMounted:!1,componentDidMount:function(){var e=this;this._isMounted=!0;var a=this.props.videoId,t=this.context.models,o=this.state.staticConfiguration,n=o.hasMetadata,r=o.uiContext;m.detect(null,function(){if(!e._isMounted)return null;var a=i.get(t,"playerModel.data.playbackSupport",{}),o=m.getCapabilities(a),n=e.state.config,s=e.props.engine;return e.state.staticConfiguration.playbackSupport=o,e.forceUpdate(),Object.assign(o,{engineType:x(n,a,r,s)})}),n&&f.getMetadata({id:a,format:r===P.NONMEMBER_CONTENT_SAMPLING?C.NOFALCOR:null},this.onMetadata)},componentWillUnmount:function(){var e=this.props.beforePlayerClosing,a=this.state,t=a.activeVideo,o=a.metadata;"function"==typeof e&&e(t,o),this._isMounted=!1},onMetadata:function(e,a){!e&&a&&this.isMounted()&&this.setState({metadata:a,activeVideo:a.getCurrentVideo()}),"function"==typeof this.props.onMetadata&&this.props.onMetadata(e,a)},updateMetadata:function(e){var a=this.state.metadata.getVideo(e);a?this.setState({activeVideo:a}):(this.clearMetadata(),f.getMetadata({id:e},this.onMetadata))},clearMetadata:function(){this.setState({metadata:new f,activeVideo:new M})},onPlayerPlaying:function(){var e=n(this.context.models,"hasSocialFollowLinksInPostPlay",!1);this.state.staticConfiguration.hasPostplay&&!this.state.postplayFetched&&this.props.uiLabel!==h.PREPLAY&&(this.context.postPlayApp&&this.context.postPlayApp.getActionCreators().createRequestExperience({id:this.props.videoId,clearChain:this.props.clearPostplayChain,hasSocialFollowLinksInPostPlay:e}),this._isMounted&&this.setState({postplayFetched:!0})),"function"==typeof this.props.onPlayerPlaying&&this.props.onPlayerPlaying()},componentWillReceiveProps:function(e){var a=this.props,t=a.beforePlayerClosing,o=a.config,n=a.videoId,r=n!==e.videoId,s=e.metadata&&e.metadata!==this.state.metadata?e.metadata:this.state.metadata,l=e.activeVideo&&e.activeVideo!==this.state.activeVideo?e.activeVideo:this.state.activeVideo;o!==e.config&&i.assign(this.state.config,e.config);var d={};d.activeVideo=l,d.metadata=s,d.config=this.state.config,r&&(d.postplayFetched=!1),this.setState(d),r&&("function"==typeof t&&t(l,s),this.state.staticConfiguration.hasMetadata?this.updateMetadata(e.videoId):this.clearMetadata())},forcePlaybackEngine:function(e){this.setState({forcedPlaybackEngine:e})},render:function(){var e=this.state,a=e.activeVideo,t=e.config,n=e.forcedPlaybackEngine,i=e.metadata,s=e.staticConfiguration,d=s.uiContext,c=s.shouldTrackViewportPosition,p=this.props,y=p.autoPlay,u=p.beforePlayerClosing,g=p.bookmarkOverride,m=p.cadmiumPlayerInstance,h=p.className,f=p.controls,C=p.controlsMainHitzoneElement,v=p.dimensions,E=p.disableKeyHandler,b=p.disabled,S=p.engine,k=p.exitPlayer,L=p.fullScreenNode,M=p.getFullScreenNode,T=p.hasLargeDimensions,x=p.hasPreplay,N=p.hidePlayerCloseButton,I=p.inViewport,A=p.interactiveElement,V=p.isImplicitAutoPlay,w=p.mainVideoId,F=p.muted,D=p.onCastToTarget,j=p.onFullScreenChange,B=p.onMetadata,O=p.onNotSupported,U=p.onPlayerActive,_=p.onPlayerClosed,H=p.onPlayerClosing,q=p.onPlayerEnd,W=p.onPlayerEndWithoutPostplay,K=p.onPlayerError,z=p.onPlayerInactive,G=p.onPlayerLoad,Y=p.onPlayerLoadedMetadata,J=p.onPlayerNotAvailable,Q=p.onPlayerPaused,X=p.onPlayerPausedChanged,Z=p.onPlayerProgressBuffer,$=p.onPlayerReady,ee=p.onPlayerRebuffering,ae=p.onPlayerStalled,te=p.onPlayerSurfaceClick,oe=p.onPlayerTimeUpdate,ne=p.onPlayerTimedTracksChanged,ie=p.onPlayerTimedTracksLoaded,re=p.onPlayerTimeout,se=p.onPlayerVolumeChanged,le=p.onPostplay,de=p.onSeekBack,ce=p.onShowPlayerControls,pe=p.onUserActivityChanged,ye=p.playbackData,ue=p.playContext,ge=p.playMainTitle,me=p.playNextTitle,Pe=p.playStartRequested,he=p.playbackEnded,fe=p.postPlayActive,Ce=p.preferredAudioLocale,ve=p.preferredTextLocale,Ee=p.restartPlayer,be=p.shareLink,Se=p.shareEmbedCode,ke=p.shouldEngagePlayer,Le=p.shouldFadePlayerControlsBar,Me=p.spinnerClass,Te=p.spinnerClassProps,xe=p.staticElement,Ne=p.timedTextBoundsOverride,Ie=p.timelineElementClass,Ae=p.timelineElementProps,Ve=p.trackId,we=p.uiLabel,Fe=p.uiState,Re=p.updateDimensions,De=p.videoId,je=p.watermarkElement,Be=o(!!Re,c);return l.createElement(Be,{activeVideo:a,autoPlay:y,beforePlayerClosing:u,bookmarkOverride:g,cadmiumPlayerInstance:m,className:r("NFPlayer",h),commandLogClick:!1,commandLogDoubleClick:!1,commandLogKeyDown:!0,commandLoggingHotkeys:R,commandLoggingKeys:[],commandLoggingName:"NFPlayer",config:t,controls:f,controlsMainHitzoneElement:C,dimensions:v,disableCommandAutoLogging:!0,disableKeyHandler:E,disabled:b,engine:n||S,exitPlayer:k,forcePlaybackEngine:this.forcePlaybackEngine,fullScreenNode:L,getFullScreenNode:M,hasLargeDimensions:T,hasPreplay:x,hidePlayerCloseButton:N,inViewport:I,interactiveElement:A,isImplicitAutoPlay:V,mainVideoId:w,metadata:i,muted:F,onCastToTarget:D,onFullScreenChange:j,onMetadata:B,onNotSupported:O,onPlayerActive:U,onPlayerClosed:_,onPlayerClosing:H,onPlayerEnd:q,onPlayerEndWithoutPostplay:W,onPlayerError:K,onPlayerInactive:z,onPlayerLoad:G,onPlayerLoadedMetadata:Y,onPlayerNotAvailable:J,onPlayerPaused:Q,onPlayerPausedChanged:X,onPlayerPlaying:this.onPlayerPlaying,onPlayerProgressBuffer:Z,onPlayerReady:$,onPlayerRebuffering:ee,onPlayerStalled:ae,onPlayerSurfaceClick:te,onPlayerTimeUpdate:oe,onPlayerTimedTracksChanged:ne,onPlayerTimedTracksLoaded:ie,onPlayerTimeout:re,onPlayerVolumeChanged:se,onPostplay:le,onSeekBack:de,onShowPlayerControls:ce,onUserActivityChanged:pe,playbackData:ye||(d===P.MEMBER?null:this.getPlaybackData()),playContext:ue,playMainTitle:ge,playNextTitle:me,playStartRequested:Pe,playbackEnded:he,postPlayActive:fe,preferredAudioLocale:Ce,preferredTextLocale:ve,restartPlayer:Ee,shareLink:be,shareEmbedCode:Se,shouldEngagePlayer:ke,shouldFadePlayerControlsBar:Le,spinnerClass:Me,spinnerClassProps:Te,staticElement:xe,timedTextBoundsOverride:Ne,timelineElementClass:Ie,timelineElementProps:Ae,trackId:Ve,uiLabel:we,uiState:Fe,updateDimensions:Re,videoId:De,watermarkElement:je})}});a.exports=D});C.r("player/nfplayer/actions/callHandlers.js",function(e,a,r){"use strict";function s(e){return{event:e.event,state:e.state}}function t(e,a){switch(a.type){case o.PLAYING:this.onPlayerPlaying&&this.onPlayerPlaying(a.event);break;case o.PAUSED:this.props.onPlayerPausedChanged&&this.props.onPlayerPausedChanged(a.event),!this.state.playerPaused&&e.playerPaused&&this.props.onPlayerPaused&&this.props.onPlayerPaused(a.event);break;case o.LOADED:!this.state.loaded&&e.loaded&&this.props.onPlayerLoad&&this.props.onPlayerLoad(a.event);break;case o.ERROR:this.onPlayerError&&this.onPlayerError(a.event);break;case o.STALLED:this.props.onPlayerStalled&&this.props.onPlayerStalled(a.event);break;case o.TIME_UPDATE:this.props.onPlayerTimeUpdate&&this.props.onPlayerTimeUpdate(a.event);break;case o.DURATION_CHANGED:this.props.onPlayerDurationChanged&&this.props.onPlayerDurationChanged(a.event);break;case o.VOLUME_CHANGED:this.props.onPlayerVolumeChanged&&this.props.onPlayerVolumeChanged(a.event);break;case o.ENDED:!this.state.ended&&e.ended&&this.props.onPlayerEnd&&this.props.onPlayerEnd(a.event);break;case o.METADATA_LOADED:this.props.onPlayerLoadedMetadata&&this.props.onPlayerLoadedMetadata(a.event);break;case o.TIMED_TRACKS_LOADED:this.props.onPlayerTimedTracksLoaded&&this.props.onPlayerTimedTracksLoaded(s(a));break;case o.TIMED_TRACKS_CHANGED:this.props.onPlayerTimedTracksChanged&&this.props.onPlayerTimedTracksChanged(s(a));break;case o.PROGRESS:this.props.onPlayerProgressBuffer&&this.props.onPlayerProgressBuffer(s(a))}return e}var o=e("../common/playerEvents");a.exports=t});C.r("player/nfplayer/actions/dispatchCoreActionsToPlayerApp.js",function(e,r,t){"use strict";function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){var t;if(!r)return function(e){return e};var a=e.getId(),o=r.getActionCreators(),u=(t={},n(t,i.PAUSED,o.videoPlayerPaused),n(t,i.PLAYING,o.videoPlayerPlaying),n(t,i.VOLUME_CHANGED,o.videoPlayerVolumeChanged),n(t,i.TIME_UPDATE,o.videoPlayerTimeUpdate),n(t,i.SCRUB_START,o.videoPlayerScrubStart),n(t,i.SCRUB_END,o.videoPlayerScrubEnd),n(t,i.ERROR,o.videoPlayerError),t);return function(e,r){var t=u[r.type];return t&&t(Object.assign(r.state,{sessionId:a})),e}}var i=e("../common/playerEvents");r.exports=a});C.r("player/nfplayer/actions/emitEvent.js",function(t,e,s){"use strict";function a(t,e){return this.state.player.emit(e.type,e),n.assign(t,e.state)}var n=t("lodash");e.exports=a});C.r("player/nfplayer/actions/exitMobileFullScreen.js",function(e,t,i){"use strict";function n(e,t){var i=this.getVideoNode(),n=r.get(this.context.staticConfiguration,"browserInfo.isMobile",!1);return t.type===o.ENDED&&n&&i&&s.isFullscreen(i)&&s.exitFullscreen(i),e}var r=e("lodash"),s=e("../utils/fullscreen"),o=e("../common/playerEvents");t.exports=n});C.r("player/nfplayer/actions/persistVolume.js",function(e,s,t){"use strict";function n(e,s){return s.type===a.VOLUME_CHANGED&&r.setSessionData(r.SESSION_TYPES.VOLUME,{percentage:s.state.volume,muted:s.state.muted}),e}var a=e("../common/playerEvents"),r=e("../../session/sessionManager");s.exports=n});C.r("player/nfplayer/actions/triggerPostplay.js",function(t,e,s){"use strict";function r(t,e){if(this.props.uiLabel===p.PREPLAY)return t;if(e.type===o.TIME_UPDATE){var s=e.event,r=i.result(s,"target.getCurrentTime",0),a=i.result(this.props,"activeVideo.getCreditsOffset",null);a>0&&(a*=1e3,r>a&&!this.state.postPlayTriggered&&this.onPostplay?(this.onPostplay(this.props.videoId),t.postPlayTriggered=!0):this.state.postPlayTriggered&&r<a&&(t.postPlayTriggered=!1))}else e.type===o.ENDED&&this.onPostplay(this.props.videoId);return t}var i=t("lodash"),o=t("../common/playerEvents"),p=t("../uiLabel");e.exports=r});C.r("player/nfplayer/actions/updateBookmark.js",function(e,t,r){"use strict";function i(e,t){var r=this.props;return r.activeVideo&&r.activeVideo.isEpisodic()&&t.state.currentPlayerTime&&r.activeVideo.setBookmarkOffset(t.state.currentPlayerTime),e}t.exports=i});C.r("player/nfplayer/common/PlayerControlsInteractionType.js",function(r,e,o){"use strict";e.exports={CLICK:"click",HOVER:"hover"}});C.r("player/nfplayer/common/PlayerControlsType.js",function(e,n,r){"use strict";n.exports={LEGACY:"legacy",REFRESH:"refresh",NONMEMBER:"nonmember",MUTE_ONLY:"mute_only",NONE:"none"}});C.r("player/nfplayer/common/PlayerUIState.js",function(e,t,a){"use strict";t.exports={LOADING:"loading",POWER_SAVE:"ps",ACTIVATING:"activating",ACTIVE:"active",INACTIVE:"inactive",IDLE:"idle",OVERLAYED:"overlayed",TIMED_OUT:"timed_out",DISABLED:"disabled"}});C.r("player/nfplayer/common/controlsAnimationType.js",function(n,o,a){"use strict";o.exports={STANDARD:"PlayerControls--animation-standard",FADE:"PlayerControls--animation-fade"}});C.r("player/nfplayer/common/episodePreviewType.js",function(e,s,c){"use strict";s.exports={CLASSIC:"classic",NEW:"new",list:["classic","new"]}});C.r("player/nfplayer/common/playerControls.js",function(e,E,o){"use strict";E.exports={AUDIO_SUBTITLE:"audio-subtitle",BACK_TEN:"back-ten",EPISODE_SELECTOR:"episode-selector",EPISODES:"episodes",EVIDENCE_OVERLAY:"evidence-overlay",EXIT:"exit",FULL_HITZONE:"full-hitzone",FULLSCREEN:"fullscreen",MDX:"mdx",NEXT_EPISODE:"next-episode",PLAY:"play",PROGRESS:"progress",PROGRESS_BAR:"progress-bar",STOP:"stop",TIME_REMAINING:"time-remaining",TITLE_EVIDENCE:"title-evidence",VIDEO_TITLE:"video-title",VOLUME:"volume",SHARE:"share",REPORT_A_PROBLEM:"report-a-problem"}});C.r("player/nfplayer/components/advisories/advisory.jsx",function(e,a,t){"use strict";var s=(e("prop-types"),e("react")),r=e("create-react-class"),n=e("lodash"),i=e("classnames"),o=e("../../../../common/svgIcon.jsx"),d=e("../../../../reactMixins/eventBus"),c=e("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes"),l=e("../../../../components/presentationTracking/trackingComponents/logPresentationManually"),v={KR:{1009:"harmful-themes",1010:"harmful-themes",1011:"harmful-themes",1012:"harmful-themes",1013:"lewdness",1014:"lewdness",1015:"lewdness",1016:"lewdness",1017:"violence",1018:"violence",1019:"violence",1020:"violence",1021:"profanity",1022:"profanity",1023:"profanity",1024:"profanity",1025:"fear",1026:"fear",1027:"fear",1028:"fear",1029:"drugs",1030:"drugs",1031:"drugs",1032:"drugs",1033:"immatatable-behaviors",1034:"immatatable-behaviors",1035:"immatatable-behaviors",1036:"immatatable-behaviors"}},y=i("advisory-level-icon"),m=i("advisory-icon"),p=l(r({displayName:"Advisory",statics:{EXPIRY_NOTICE_TYPE:"expiry_notice",PRODUCT_PLACEMENT_TYPE:"product_placement_advisory",CONTENT_ADVISORY_TYPE:"content_advisory"},getDefaultProps:function(){return{videoId:-1}},componentDidMount:function(){d.emit("logAdvisoryShown",{videoId:this.props.videoId,advisoryType:n.get(this,"props.advisory.type","")}),this.props.onPresented(c.maturityAdvisory,{videoId:this.props.videoId,advisoryType:n.get(this,"props.advisory.type","")})},getIcon:function(e){var a=n.get(e,"advisory.data.icons.country",""),t=n.get(e,"advisory.data.icons.board","");return s.createElement("span",{className:i(e.className),key:"maturity-"+e.type+"-"+e.id},s.createElement(o,{name:"maturity-"+e.type+"-"+a+"-"+t+"-"+e.id}),s.createElement("span",{className:"advisory-icon-text"},e.text?e.text:null))},getReasons:function(e){var a=n.get(e,"data.icons.reasons",[]),t=n.get(e,"data.icons.country",""),s=this;if(a.length&&t){var r=void 0;return a.map(function(a){if(!(r=v[t]&&v[t][a.id]))return null;var n={advisory:e,type:"advisory",id:r,text:a.text,className:m};return s.getIcon(n)})}return null},renderContentAdvisory:function(e){var a=this.getReasons(e),t=n.get(e,"data.icons.level",""),r=n.get(e,"data.i18nRating"),o={advisory:e,type:"rating",id:t,text:"",className:y};if(a)return s.createElement("div",{className:i("advisory","advisory-has-icons")},s.createElement("div",{className:i("advisory-content")},s.createElement("div",{className:i("advisory-body")},this.getIcon(o),a),r?s.createElement("h4",{className:i("advisory-header")},r):null));var d=n.get(e,"data.i18nAdvisories");return s.createElement("div",{className:i("advisory")},s.createElement("div",{className:i("advisory-bar")}),s.createElement("div",{className:i("advisory-content")},r?s.createElement("h4",{className:i("advisory-header")},r):null,d?s.createElement("p",{className:i("advisory-body")},d):null))},renderStandardAdvisory:function(e){var a=n.get(e,"data.text");return s.createElement("div",{className:i("advisory")},s.createElement("div",{className:i("advisory-bar")}),s.createElement("div",{className:i("advisory-content")},a?s.createElement("p",{className:i("advisory-body")},a):null))},render:function(){var e=this.props.advisory,a=void 0;switch(e.type){case"content_advisory":a=this.renderContentAdvisory(e);break;case"expiry_notice":case"product_placement_advisory":default:a=this.renderStandardAdvisory(e)}return a}}));a.exports=p});C.r("player/nfplayer/components/videoAspectContainer.jsx",function(e,t,a){"use strict";var n=(e("prop-types"),e("react")),s=e("create-react-class"),r=e("classnames"),p=r("nfp-aspect-wrapper"),i=r("nfp-aspect-container"),c=r("nfp-aspect-inner"),o=s({displayName:"VideoAspectContainer",getPaddingTop:function(){return this.props.height/this.props.width*100+"%"},render:function(){var e={paddingTop:this.getPaddingTop()};return n.createElement("div",{className:p},n.createElement("div",{className:i},this.props.children,n.createElement("div",{className:c,style:e})))}});t.exports=o});C.r("player/nfplayer/requests/advisories.js",function(n,i,r){"use strict";function e(n,i){return s.call([c,n.id,n.path],[],[],[]).subscribe(function(n){i(null,n)},function(n){i(n,null)})}function o(n,i,r){var e=n.id,o=[c,e,d];r(null,l.get(i,["value"].concat(o).join("."),null))}function t(n,i){var r=l.assign({},p,{id:n,path:d});return e(r,function(n,e){if(n)return void i(n,null);o(r,e,i)})}function u(n,i){var r=l.assign({},p,{id:n,path:f});return e(r,function(n,e){if(n)return void i(n,null);o(r,e,i)})}function a(n,i){var r=l.assign({},p,{id:n,path:v});return e(r,function(n,e){if(n)return void i(n,null);o(r,e,i)})}var l=n("lodash"),s=n("../../../falkorClient/falkorLoader"),c="videos",d="advisories",f="expiryShown",v="expiryNeverShow",p={id:-1};i.exports={getPlaybackAdvisories:t,recordExpiryNoticeShown:u,recordExpiryNoticeNeverShow:a}});C.r("player/nfplayer/components/advisories/advisories.jsx",function(i,t,s){"use strict";var e=(i("prop-types"),i("react")),n=i("create-react-class"),a=i("lodash"),r=i("classnames"),o=i("./advisory.jsx"),d=i("../../../../akira/containers/timeoutTransition/timeoutTransitionGroup.jsx"),l=i("../../components/videoAspectContainer.jsx"),p=i("../../requests/advisories"),v=n({displayName:"Advisories",shouldComponentUpdate:function(i,t){return i.visible!==this.props.visible||t.advisory!==this.state.advisory||null===this.state.advisory&&this.getAdvisory(this.state.index)},getInitialState:function(){var i=this.getAdvisory(0);return{index:0,advisory:i,duration:a.get(i,"displayDuration",null)}},componentDidMount:function(){this.props.visible&&this.state.advisory&&this.startDisplay()},componentWillReceiveProps:function(i){var t=this,s=this.getAdvisory(this.state.index);!this.state.advisory&&s?this.setState({advisory:s,duration:s.displayDuration},function(){t.props.visible&&t.startDisplay()}):this.props.visible&&!i.visible?this.endDisplay():!this.props.visible&&i.visible&&this.state.advisory&&this.startDisplay()},componentWillUnmount:function(){this.endDisplay()},getAdvisory:function(i){return this.props.advisories[i]||null},startDisplay:function(){this.endDisplay(),this._durationInterval=setInterval(this.display,1e3)},endDisplay:function(){clearInterval(this._durationInterval)},next:function(){var i=this,t=this.state.index+1,s=this.getAdvisory(t);this.endDisplay(),this.setState({index:t,advisory:s,duration:s?s.displayDuration:null},function(){s&&i.props.visible&&i.startDisplay()}),a.isFunction(this.props.onAdvisoriesCompleted)&&!s&&this.props.onAdvisoriesCompleted()},display:function(){var i=this.state.duration,t=i-1;if(null!==i)return t<0?void this.next():void this.setState({duration:t})},afterTransitionEnter:function(){var i=this.props.videoId,t=this.state.advisory;t&&t.type===o.EXPIRY_NOTICE_TYPE&&p.recordExpiryNoticeShown(i,function(i,t){})},render:function(){var i=this.props,t=i.visible,s=i.videoId,n=this.state,a=n.index,p=n.advisory,v=!t||!p,u={"advisory-hidden":v};return e.createElement(l,{width:16,height:9},e.createElement(d,{className:r("advisory-container",u),component:"div",key:"background",transitionName:"advisory-transition",transitionAppear:!0,transitionEnter:!0,transitionLeave:!0,enterTimeout:500,leaveTimeout:500},e.createElement("div",{key:"background",className:r("advisory-background")})),e.createElement(d,{className:r("advisory-container",u),component:"div",key:"advisories",transitionName:"advisory-transition",transitionAppear:!0,transitionEnter:!0,transitionLeave:!0,afterTransitionEnter:this.afterTransitionEnter,enterTimeout:500,leaveTimeout:500,enterDelayMs:p?1e3*p.displayTimeGap:1e3},p&&t?e.createElement(o,{key:p.type+a,advisory:p,videoId:s}):null))}});t.exports=v});C.r("player/nfplayer/components/advisories/fetchAdvisories.jsx",function(i,e,t){"use strict";var s=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},r=(i("prop-types"),i("react")),o=i("create-react-class"),n=i("lodash"),a=i("../../requests/advisories");e.exports=function(i){return o({statics:n.pick(i,["getPaths","prefetchStrategies","defaultStrategy","__meta__"]),displayName:"fetchAdvisories("+i.displayName+")",getDefaultProps:function(){return{fetchAdvisories:!1}},getInitialState:function(){return{advisories:null}},componentWillUnmount:function(){this.fetchingAdvisories=!1},componentWillReceiveProps:function(i){i.videoId!==this.props.videoId&&this.setState({advisories:null})},onPlayerPlaying:function(i){var e=this.props,t=e.fetchAdvisories,s=e.onPlayerPlaying,r=e.videoId;!this.state.advisories&&t&&!this.fetchingAdvisories&&n.isNumber(r)&&(a.getPlaybackAdvisories(r,this.onAdvisoriesData),this.fetchingAdvisories=!0),s&&s(i)},onAdvisoriesData:function(i,e){var t=this.props.onAdvisoriesData;if(this.fetchingAdvisories=!1,i&&t)return void t(i,null);this.isMounted()&&this.setState({advisories:e}),t&&t(null,e)},render:function(){return r.createElement(i,s({},n.omit(this.props,["onPlayerPlaying"]),{advisories:this.state.advisories,onPlayerPlaying:this.onPlayerPlaying}))}})}});C.r("player/nfplayer/components/akiraPlayerSpinner.jsx",function(e,t,n){"use strict";var a=e("react"),r=e("create-react-class"),i=(e("prop-types"),e("./spinner.jsx")),s=e("../../../components/string.jsx"),f=e("classnames"),o=e("../../../utils/shallowCompare"),c=r({displayName:"AkiraPlayerSpinner",_isMounted:void 0,_fadeOutTimer:void 0,_fadeInTimer:void 0,getDefaultProps:function(){return{hasTransparentBackground:!1}},getInitialState:function(){return{opaque:!1,buffering:this.props.isBuffering}},shouldComponentUpdate:o.pureRender,componentDidMount:function(){this._isMounted=!0,this.props.isBuffering&&this.fadeIn()},componentWillReceiveProps:function(e){var t=this.props.isBuffering;t&&!e.isBuffering?this.fadeOut():!t&&e.isBuffering&&this.fadeIn()},componentWillUnmount:function(){this._isMounted=!1,this.clearTimers()},fadeIn:function(){var e=this;this.state.buffering?this.setState({opaque:!0}):(this.setState({buffering:!0}),this.clearTimers(),this._fadeInTimer=setTimeout(function(){e._isMounted&&e.setState({opaque:!0})},16))},clearTimers:function(){clearTimeout(this._fadeInTimer),clearTimeout(this._fadeOutTimer)},fadeOut:function(){var e=this;this.setState({opaque:!1}),this.clearTimers(),this._fadeOutTimer=setTimeout(function(){e._isMounted&&e.setState({buffering:!1})},300)},render:function(){var e=this.props,t=e.congestedNetworkName,n=e.hasTransparentBackground,r=e.isNetworkCongested,o=e.percentage,c=this.state,u=c.buffering,l=c.opaque;return u?a.createElement("div",{className:f("AkiraPlayerSpinner--container","nfa-w-100 nfa-pos-abs nfa-d-flex nfa-h-100\n     nfa-top-0 nfa-bot-0 nfa-left-0 nfa-right-0\n     nfa-jc-center nfa-ac-center nfa-ai-center\n     nfa-flx-dir-col nfa-opacity-0",{"nfa-bgc-40-black":!n,"nfa-opacity-1":l})},a.createElement("div",{className:"nfa-pos-rel nfa-w-100 nfa-overflow-hidden nfa-h-12-em nfa-d-flex nfa-jc-center nfa-ai-center nfa-min-h-5-rem"},a.createElement(i,{percentage:o})),r&&a.createElement("h2",{className:"CongestedNetwork--title nfa-text-shadow-light nfa-fs-2-4-em nfa-ta-center"},a.createElement(s,{bundle:"player/player",stringKey:"congested.network.title",stringParams:{NETWORK:t}})),r&&a.createElement("h3",{className:"CongestedNetwork--message nfa-text-shadow-light nfa-fs-2-em nfa-m-0 nfa-p-0 nfa-ta-center"},a.createElement(s,{bundle:"player/player",stringKey:"congested.network.message"}))):null}});t.exports=c});C.r("player/nfplayer/components/controls/button.jsx",function(t,o,e){"use strict";function n(t,o){if(l)return s.createElement(p,{name:t,filter:o,preventFocus:!0});var e=t+(o||"");return m[e]||(m[e]=s.createElement(p,{name:t,filter:o,preventFocus:!0})),m[e]}var r=t("classnames"),i=t("../../../../utils/shallowCompare"),l=t("shakti-platform/dist/ui/utils/inNode"),s=(t("prop-types"),t("react")),a=t("create-react-class"),p=t("../../../../common/svgIcon.jsx"),c=t("../../../../components/touchable.jsx"),u=c("button"),h={default:r("PlayerControls--control-element","nfp-button-control","default-control-button"),circle:r("PlayerControls--control-element","nfp-button-control","circle-control-button")},m={},d=a({displayName:"Button",statics:{TOOLTIP_TOP:"top",TOOLTIP_BOTTOM:"bottom",TOOLTIP_CENTER:"center",TOOLTIP_LEFT:"left",TOOLTIP_RIGHT:"right"},getDefaultProps:function(){return{ignoreFocusForTooltipRendering:!1,type:"default",manageFocus:!0,tooltipBeforeElementActive:!1,tooltipAlignment:"center",tooltipPosition:"bottom",tabIndex:0}},shouldComponentUpdate:i.partialProps(["hovered","focusName","focused","manageFocus","ariaLabel","iconName","tabIndex","isHidden","type","filter","tooltip","tooltipPosition","tooltipAlignment"]),handlePointerEnter:function(t){var o=this.props,e=o.startHover,n=o.manageFocus,r=o.focusName,i=o.onPointerEnter;"mouse"===t.pointerType&&(e&&n&&e(r),i&&i(t))},handlePointerLeave:function(t){var o=this.props,e=o.stopHover,n=o.manageFocus,r=o.focusName,i=o.onPointerLeave;"mouse"===t.pointerType&&(e&&n&&e(r),i&&i(t))},handleClick:function(t){this.props.onClick&&this.props.onClick(t),this.props.manageFocus&&(this.props.releaseFocus&&this.props.releaseFocus(this.props.focused),this.props.stopHover&&this.props.stopHover(this.props.hovered)),this.props.onUserActivityChanged&&this.props.onUserActivityChanged(!0)},handleBlur:function(){this.props.onBlur&&this.props.onBlur()},getTooltipClasses:function(){var t=this.props,o=t.ignoreFocusForTooltipRendering,e=t.tooltipBeforeElementActive,n=t.tooltipPosition,r=t.tooltipAlignment,i=t.focused,l=t.tooltip;return!o&&i||!l?{}:{"tooltip-button":!0,"tooltip-button-before-element-active":e,"tooltip-button-pos-top":"top"===n,"tooltip-button-pos-bottom":"bottom"===n,"tooltip-button-pos-center":"center"===n,"tooltip-button-align-center":"center"===r,"tooltip-button-align-left":"left"===r,"tooltip-button-align-right":"right"===r}},render:function(){var t=this.props,o=t.children,e=t.tooltip,i=t.onClickCapture,l=t.onKeyDownCapture,a=t.onDoubleClickCapture,p=t.ariaLabel,c=t.tabIndex,m=t.type,d=t.iconName,f=t.hovered,b=t.focused,C=t.focusName,v=t.isHidden,g=t.filter,P=(f||b)&&C!==b&&C!==f;return s.createElement(u,{"data-tooltip":e,className:r(h[m],"button-"+d,{"PlayerControls--control-element-hidden":v,"PlayerControls--control-element-blurred":P},this.getTooltipClasses()),tabIndex:c,role:"button","aria-label":p,onClick:this.handleClick,onPointerEnter:this.handlePointerEnter,onPointerLeave:this.handlePointerLeave,onBlur:this.handleBlur,onClickCapture:i,onKeyDownCapture:l,onDoubleClickCapture:a},o||n(d,g))}});o.exports=d});C.r("player/nfplayer/components/controls/controlRow.jsx",function(o,t,r){"use strict";var s=(o("prop-types"),o("react")),e=o("create-react-class"),n=(o("lodash"),o("classnames")),c={TOP_LEFT:"top-left-controls",TOP_RIGHT:"top-right-controls",BOTTOM_RIGHT:"bottom-right-controls",BOTTOM:"bottom-controls"},l=e({displayName:"ControlRow",statics:c,render:function(){var o=this.props,t=o.position,r=o.children,e=n("nfp-control-row",t);return s.createElement("div",{className:e},r)}});t.exports=l});C.r("player/nfplayer/components/controls/exitButton.jsx",function(e,o,t){"use strict";var n=e("./button.jsx"),i=e("../../../../utils/shallowCompare"),r=e("../../mixins/controlFocus.js"),s=e("../../common/playerControls"),a=e("prop-types"),l=e("react"),c=e("create-react-class"),p=e("../hoc/withEffects.jsx"),d=e("../../../../utils/isRtl"),u=e("lodash"),m=p(n),g=c({displayName:"ExitButton",statics:{CONTROL_NAME:s.EXIT},contextTypes:{getI18nString:a.func.isRequired,models:a.object},getDefaultProps:function(){return{tooltip:void 0,iconName:"nfplayerExit",isHidden:!1,tabIndex:0}},shouldComponentUpdate:i.props,render:function(){var e=this.props,o=e.ariaLabel,t=e.commandLoggingName,i=e.focused,s=e.grabFocus,a=e.hovered,c=e.iconName,g=e.iconFilter,f=e.ignoreFocusForTooltipRendering,x=e.isHidden,v=e.onClick,E=e.onPointerEnter,T=e.onPointerLeave,b=e.releaseFocus,y=e.startHover,F=e.stopHover,I=e.tabIndex,h=e.tooltip,L=e.tooltipBeforeElementActive,N=e.tooltipAlignment,P=e.tooltipPosition,H=this.context.getI18nString("player/player","button.exit.playback.browse"),C=d(u.get(this.context.models,"geo.data"))?n.TOOLTIP_LEFT:n.TOOLTIP_RIGHT,O=N||C;return l.createElement(m,{ariaLabel:o||H,commandLoggingName:t||p.EXIT,focused:i,focusName:r.EXIT,grabFocus:s,hovered:a,ignoreFocusForTooltipRendering:f,filter:g,iconName:c,isHidden:x,onClick:v,onPointerEnter:E,onPointerLeave:T,releaseFocus:b,startHover:y,stopHover:F,tabIndex:I,tooltip:void 0!==h?h:H,tooltipBeforeElementActive:L,tooltipAlignment:O,tooltipPosition:P,type:"circle"})}});o.exports=g});C.r("player/nfplayer/components/controls/audioSubtitlePopup.jsx",function(e,t,n){"use strict";function s(e,t,n){return function(){e.apply(n,[t._track||t])}}function a(e){return function(t){t.keyCode!==l.SPACE&&t.keyCode!==l.ENTER||(t.preventDefault(),e())}}function i(e){return e.selected}var r=e("lodash"),c=e("classnames"),l=e("../../../../common/keyCodes"),o=e("prop-types"),u=e("react"),d=e("create-react-class"),m=e("../../../../common/svgIcon.jsx"),p=e("../hoc/withEffects.jsx"),k=p("ul"),f="discovery/akira/BVUICommon",h=d({displayName:"AudioSubtitlePopup",contextTypes:{getI18nString:o.func.isRequired},getDefaultProps:function(){return{setAudioTrack:r.noop,setSubtitleTrack:r.noop}},makeListEls:function(e,t){var n=this;return t.map(function(t,i){return u.createElement("li",{className:c("track",{selected:t.selected}),key:t.label+i,onClick:s(e,t,n),onKeyUp:a(s(e,t,n)),tabIndex:0},t.selected&&u.createElement("span",{className:"video-controls-check"},u.createElement(m,{name:"nfplayerCheck",preventFocus:!0})),"ASSISTIVE"===t.trackType?n.context.getI18nString(f,"ce-text-track-assistive",{LANGUAGE:t.label}):t.label)})},shouldComponentUpdate:function(e,t){var n=e.audioList,s=e.subtitleList,a=this.props.audioList,c=this.props.subtitleList;return n.length!==a.length||s.length!==c.length||r.findIndex(n,i)!==r.findIndex(a,i)||r.findIndex(s,i)!==r.findIndex(c,i)},render:function(){var e=this.props,t=e.audioList,n=e.setAudioTrack,s=e.setSubtitleTrack,a=e.subtitleList;return u.createElement("div",{className:c("popup-content","audio-subtitle-controller")},u.createElement(k,{className:c("track-list","structural","track-list-audio"),commandLoggingName:p.AUDIO},u.createElement("li",{className:"list-header",key:"header"},this.context.getI18nString(f,"ce-audio-tracks-title")),this.makeListEls(n,t)),u.createElement(k,{className:c("track-list","structural","track-list-subtitles"),commandLoggingName:p.TIMED_TEXT},u.createElement("li",{className:"list-header",key:"header"},this.context.getI18nString(f,"ce-text-tracks-title")),this.makeListEls(s,a)))}});t.exports=h});C.r("player/nfplayer/components/controls/audioSubtitles.jsx",function(e,t,o){"use strict";var a=e("./audioSubtitlePopup.jsx"),i=e("../../../../utils/shallowCompare"),s=e("../../mixins/controlFocus.js"),r=e("../../common/playerControls"),n=e("./popup.jsx"),c=e("prop-types"),d=e("react"),l=e("create-react-class"),u=l({displayName:"AudioSubtitles",contextTypes:{getI18nString:c.func.isRequired},statics:{CONTROL_NAME:r.AUDIO_SUBTITLE},getDefaultProps:function(){return{isHidden:!1,focused:"",tabIndex:0}},shouldComponentUpdate:i.partialProps(["audioTracks","focused","hovered","isHidden","selectedAudioTrack","selectedTextTrack","timedTracksLoaded","textTracks"]),render:function(){var e=this.props,t=e.audioTracks,o=e.buttonType,i=e.delay,r=e.focused,c=e.grabAndHoldFocus,l=e.grabFocus,u=e.holdingFocus,p=e.hovered,T=e.isHidden,k=e.keepRight,y=e.noPadding,b=e.onClick,m=e.onClickCapture,g=e.onDoubleClickCapture,C=e.onKeyDownCapture,v=e.onKeyUp,A=e.onUserActivityChanged,x=e.popupHasStaticPosition,f=e.releaseFocus,H=e.releaseFocusHold,h=e.selectedAudioTrack,S=e.selectedTextTrack,F=e.setAudioTrack,I=e.setKeepActive,U=e.setTimedTextTrack,L=e.startHover,P=e.stopHover,D=e.tabIndex,N=e.textTracks,E=e.timedTracksLoaded,K=e.tooltipAlignment,_=e.tooltipPosition,O=this.context.getI18nString("player/player","button.audio.subtitles"),j=void 0,R=void 0,w=void 0,B=void 0;return E&&(j=h,R=S,w=t.map(function(e){return{trackType:e.trackType,label:e.displayName,selected:e===j,_track:e}}),B=N.map(function(e){return{trackType:e.trackType,label:e.displayName,selected:e===R,_track:e}})),d.createElement(n,{ariaLabel:O,buttonType:o,delay:i,focused:r,focusName:s.AUDIO_SUBTITLE,grabAndHoldFocus:c,grabFocus:l,holdingFocus:u,hovered:p,iconName:"nfplayerSubtitles",isHidden:T,keepRight:k,noPadding:y,onClick:b,onClickCapture:m,onDoubleClickCapture:g,onKeyDownCapture:C,onKeyUp:v,onUserActivityChanged:A,popupHasStaticPosition:x,releaseFocus:f,releaseFocusHold:H,setKeepActive:I,startHover:L,stopHover:P,tabIndex:D,tooltip:O,tooltipAlignment:K,tooltipPosition:_},r===s.AUDIO_SUBTITLE&&d.createElement(a,{audioList:w,setAudioTrack:F,setSubtitleTrack:U,subtitleList:B}))}});t.exports=u});C.r("player/nfplayer/components/controls/controlLayoutShouldComponentUpdate.js",function(t,a,e){"use strict";var o=t("lodash"),l=t("../../../../utils/shallowCompare"),r=t("../../common/PlayerUIState"),i=[r.INACTIVE,r.POWER_SAVE];a.exports=l.multiple(l.partialPropsAndAllState(["activeVideo","audioTracks","textTracks","hidePlayerCloseButton","isFullScreen","playbackData","player","videoId","uiState","timedTracksLoaded","playbackTimedOut"]),function(t,a){return!(o.contains(i,t.uiState)&&o.contains(i,this.props.uiState)&&this.props.loaded)})});C.r("player/nfplayer/components/controls/episodePreview.jsx",function(e,t,s){"use strict";var i=(e("prop-types"),e("react")),o=e("create-react-class"),a=e("lodash"),n=(e("../../common/Video"),e("./roundPlayPauseButton.jsx")),p=e("../../../../utils/shallowCompare"),r=e("../../types/staticConfiguration"),l=e("../../common/episodePreviewType"),c=e("./episodePreviewModern.jsx"),d=e("./episodePreviewClassic.jsx"),h=i.createElement(n,{type:n.PLAY,animate:!1}),u=o({displayName:"EpisodePreview",contextTypes:{staticConfiguration:r},getInitialState:function(){return{wasVisible:this.props.visible}},getDefaultProps:function(){return{playIconElement:h,expanded:!0,visible:!0,canPlay:!0,playNextTitle:a.noop,showProgress:!0,trackId:-1}},componentWillReceiveProps:function(e){e.visible&&!this.state.wasVisible&&this.setState({wasVisible:!0})},shouldComponentUpdate:p.partialPropsAndAllState(["visible","episode"]),handleClick:function(e){this.props.visible&&(e.stopPropagation(),this.props.playNextTitle(this.props.episode.getId(),this.props.trackId))},render:function(){var e=this.context.staticConfiguration.episodePreviewType,t=this.props,s=t.canPlay,o=t.episode,a=t.playIconElement,n=t.expanded,p=t.showProgress,r=t.titleText,h=this.state.wasVisible,u=e===l.CLASSIC?d:c;return i.createElement(u,{canPlay:s,episode:o,handleClick:this.handleClick,playIconElement:a,expanded:n,showProgress:p,titleText:r,wasVisible:h})}});t.exports=u});C.r("player/nfplayer/components/controls/progress.jsx",function(s,r,e){"use strict";var a=(s("prop-types"),s("react")),o=s("create-react-class"),t=s("classnames"),l=s("../../../../utils/shallowCompare"),n=o({displayName:"Progress",getDefaultProps:function(){return{max:1,isModern:!0,alwaysShow:!1}},shouldComponentUpdate:l.partialProps(["value"]),render:function(){var s=this.props,r=s.alwaysShow,e=s.isModern,o=s.value,l=s.max;return r||o&&o>0?a.createElement("progress",{className:t("Progress",{"Progress--modern":e,"Progress--classic":!e}),max:l,value:o}):null}});r.exports=n});C.r("player/nfplayer/components/controls/episodePreviewClassic.jsx",function(e,a,s){"use strict";var t=(e("prop-types"),e("react")),l=e("create-react-class"),n=(e("../../common/Video"),e("./progress.jsx")),r=e("classnames"),i=e("../../../../utils/shallowCompare"),c=e("lodash"),m=e("../../../../common/svgIcon.jsx"),o=l({displayName:"EpisodePreviewClassic",shouldComponentUpdate:i.props,render:function(){var e=this.props,a=e.canPlay,s=e.handleClick,l=e.episode,i=e.playIconElement,o=e.expanded,d=e.showProgress,p=e.titleText,E=e.wasVisible,v=l.getEpisodeThumbnail(),u=c.result(l,"getBookmark",{}).offset||0,N=r("nfp-episode-preview","nfa-w-100","nfa-dir-ltr",{"nfa-flx-dir-col":o,collapsed:!o,expanded:o,"can-play":a}),f={};return v&&(f.paddingTop=100*v.h/v.w+"%",E&&(f.backgroundImage="url("+v.url+")")),o?t.createElement("div",{className:N,onClick:s},t.createElement("div",{className:"nfa-w-100 nfa-d-flex nfa-pb-05-em title-container nfa-dir-ltr"},!p&&t.createElement("span",{className:"number"},l.getEpisodeNumber()),!p&&t.createElement("div",{className:"title-and-synopsis"},t.createElement("h3",{className:"title"},l.getEpisodeTitle())),p&&t.createElement("div",{className:"title-and-synopsis"},t.createElement("h3",{className:"title"},p)),d&&t.createElement(n,{isModern:!1,alwaysShow:!0,value:u/l.getRuntime()}),t.createElement("div",{className:"expand-preview-arrow"},t.createElement(m,{name:"nfplayerBack",preventFocus:!0}))),t.createElement("div",{className:"nfa-w-100 nfa-d-flex"},t.createElement("div",{className:"thumbnail"},t.createElement("div",{className:"thumbnail-inner"},t.createElement("div",{className:"thumbnail-image",style:f}),t.createElement("div",{className:"gradient"}),a?i:null)),t.createElement("div",{className:"synopsis"},l.getSynopsis()))):t.createElement("div",{className:N},!p&&t.createElement("span",{className:"number"},l.getEpisodeNumber()),t.createElement("div",{className:"title-and-synopsis"},t.createElement("h3",{className:"title"},l.getEpisodeTitle())),d&&t.createElement(n,{isModern:!1,alwaysShow:!0,value:u/l.getRuntime()}),t.createElement("div",{className:"expand-preview-arrow"},t.createElement(m,{name:"nfplayerBack",preventFocus:!0})))}});a.exports=o});C.r("player/nfplayer/components/controls/episodePreviewModern.jsx",function(e,a,s){"use strict";var t=(e("prop-types"),e("react")),l=e("create-react-class"),n=(e("../../common/Video"),e("./progress.jsx")),i=e("classnames"),r=e("../../../../utils/shallowCompare"),m=e("lodash"),o=l({displayName:"EpisodePreviewModern",shouldComponentUpdate:r.props,getEpisodeNumber:function(){var e=this.props.episode;return e.showEpisodeNumbers()?t.createElement("span",{className:"number"},e.getEpisodeNumber()):null},render:function(){var e=this.props,a=e.canPlay,s=e.handleClick,l=e.episode,r=e.playIconElement,o=e.expanded,c=e.showProgress,p=e.wasVisible,d=l.getEpisodeThumbnail(),u=m.result(l,"getBookmark",{}).offset||0,E=i("nfp-episode-preview",{collapsed:!o,expanded:o,"can-play":a}),h={};return d&&(h.paddingTop=100*d.h/d.w+"%",p&&(h.backgroundImage="url("+d.url+")")),o?t.createElement("div",{className:E,onClick:s},t.createElement("div",{className:"title-and-synopsis"},t.createElement("h3",{className:"title"},l.getEpisodeTitle()),t.createElement("div",{className:"synopsis"},l.getSynopsis())),t.createElement("div",{className:"thumbnail"},t.createElement("div",{className:"thumbnail-inner"},t.createElement("div",{className:"thumbnail-image",style:h}),t.createElement("div",{className:"gradient"}),c&&t.createElement(n,{alwaysShow:!0,value:u/l.getRuntime()}),a?r:null))):t.createElement("div",{className:E},this.getEpisodeNumber(),t.createElement("div",{className:"title-and-synopsis"},t.createElement("h3",{className:"title"},l.getEpisodeTitle())),t.createElement("div",{className:"thumbnail"},t.createElement("div",{className:"thumbnail-inner"},c&&t.createElement(n,{alwaysShow:!0,value:u/l.getRuntime()}))))}});a.exports=o});C.r("player/nfplayer/components/controls/episodeSelector/episodeConstants.js",function(e,o,s){"use strict";o.exports={FOCUS_DELAY_TIME:100}});C.r("player/nfplayer/components/controls/episodeSelector/episodeExpander.jsx",function(e,t,i){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=e("classnames"),o=e("../../../../../utils/shallowCompare"),p=e("../episodePreview.jsx"),r=e("../../../../../common/keyCodes"),a=(e("prop-types"),e("react")),d=e("create-react-class"),l=e("react-dom"),c=e("../roundPlayPauseButton.jsx"),h=(e("../../../common/Video"),a.createElement(c,{type:c.PLAY,animate:!1})),u=function(){},m=d({displayName:"EpisodeExpander",getDefaultProps:function(){return{expand:u,expanded:!1,isFocused:!0,playIconElement:h,playNextTitle:u,showActiveVideoProgress:!0,showVideoProgress:!1,trackId:-1}},getInitialState:function(){return{dimensions:{},transitioning:!1,willTransition:!1}},shouldComponentUpdate:o.partialPropsAndAllState(["expanded","expander","isFocused"]),getComputedDimensions:function(){var e=this.props.expanded?this.refs.expanded:this.refs.collapsed,t=l.findDOMNode(e);return{height:null!==t&&"object"===(void 0===t?"undefined":s(t))?t.offsetHeight:void 0}},componentWillReceiveProps:function(e){this.props.expanded!==e.expanded&&this.setState({dimensions:this.getComputedDimensions(),willTransition:!0})},componentDidUpdate:function(e,t){this.props.expanded!==e.expanded&&this.beginTransition()},expandEpisode:function(){this.props.expanded||this.props.expand(this.props.episode)},handleClick:function(){this.expandEpisode()},handleOnKeyUp:function(e){e.keyCode!==r.SPACE&&e.keyCode!==r.ENTER||(e.preventDefault(),this.props.expanded?this.props.playNextTitle(this.props.episode.getId(),this.props.trackId):this.expandEpisode())},beginTransition:function(){this.setState({willTransition:!1,transitioning:!0,dimensions:this.getComputedDimensions()})},handleTransitionEnd:function(){this.state.transitioning&&this.setState({willTransition:!1,transitioning:!1,dimensions:{}})},renderRow:function(e,t){var i=e&&this.props.expanded||!e&&!this.props.expanded;if(this.state.willTransition&&(i=!i),!i&&!this.state.willTransition&&!this.state.transitioning)return null;var s=n("episode-row",{collapsed:!e,expanded:e,"out-of-flow":!i||this.state.transitioning,visible:i});return a.createElement("div",{className:s,onTransitionEnd:this.handleTransitionEnd},a.createElement("div",{className:"focus-rect"}),a.createElement(p,{canPlay:this.props.episode!==this.props.activeVideo,episode:this.props.episode,expanded:this.props.expanded,showProgress:this.props.episode===this.props.activeVideo?this.props.showActiveVideoProgress:this.props.showVideoProgress,playIconElement:this.props.playIconElement,playNextTitle:this.props.playNextTitle,ref:t,trackId:this.props.trackId,visible:i}))},render:function(){var e=n("nfp-episode-expander",{transitioning:this.state.transitioning});return a.createElement("div",{className:e,onClick:this.handleClick,onKeyUp:this.handleOnKeyUp,style:this.state.dimensions,tabIndex:this.props.isFocused?0:-1},this.renderRow(!1,"collapsed"),this.renderRow(!0,"expanded"))}});t.exports=m});C.r("player/nfplayer/components/controls/episodeSelector/episodeList.jsx",function(e,t,o){"use strict";function s(e,t){var o=h.findDOMNode(e);if(!(null===o||o instanceof Text)){var s=o.getElementsByClassName(t)[0];s&&setTimeout(function(){return s.focus()},v)}}var i=e("lodash"),n=e("classnames"),a=e("../../../../../utils/shallowCompare"),d=e("./episodeConstants"),r=e("./episodeExpander.jsx"),p=e("../../../../../common/keyCodes"),c=(e("prop-types"),e("react")),l=e("create-react-class"),h=e("react-dom"),m=e("../roundPlayPauseButton.jsx"),u=(e("../../../common/Video"),e("../../../../../common/svgIcon.jsx")),f=c.createElement(m,{type:m.PLAY,animate:!1}),v=d.FOCUS_DELAY_TIME,E=l({displayName:"EpisodeList",_scrollExpandTimerId:void 0,getDefaultProps:function(){return{playIconElement:f,back:i.noop,playNextTitle:i.noop,showActiveVideoProgress:!0,showVideoProgress:!1}},getInitialState:function(){return{expandedVideo:null}},componentDidMount:function(){this.scrollExpandedVideoIntoView(),this.props.isFocused&&s(this,"header")},componentWillUnmount:function(){void 0!==this._scrollExpandTimerId&&(clearTimeout(this._scrollExpandTimerId),this._scrollExpandTimerId=void 0)},componentDidUpdate:function(e,t){var o=this;!this.props.isFocused||e.season===this.props.season&&e.activeVideo===this.props.activeVideo&&this.state.expandedVideo===t.expandedVideo||(this._scrollExpandTimerId=setTimeout(function(){o._scrollExpandTimerId=void 0,o.scrollExpandedVideoIntoView()},210)),this.props.isFocused&&!e.isFocused&&s(this,"header")},shouldComponentUpdate:a.partialPropsAndAllState(["activeVideo","isFocused","season"]),expand:function(e){this.setState({expandedVideo:e})},getExpandedVideo:function(){return i.result(this.state.expandedVideo,"getSeason","")===this.props.season?this.state.expandedVideo:i.result(this.props.activeVideo,"getSeason","")===this.props.season?this.props.activeVideo:this.props.season.getFirstEpisode()},handleKeyUp:function(e){e.keyCode!==p.SPACE&&e.keyCode!==p.ENTER||(e.preventDefault(),e.stopPropagation(),this.handleBack(e))},scrollExpandedVideoIntoView:function(){var e=this.getExpandedVideo();if(e){var t=this.refs[e.getId()],o=h.findDOMNode(t),s=h.findDOMNode(this.refs.body);if(o instanceof Element&&s instanceof Element){var i=s.getBoundingClientRect(),n=o.getBoundingClientRect(),a=0|n.top,d=0|n.bottom,r=0|i.top,p=0|i.bottom,c=r-a;if(c>0)return void(s.scrollTop-=c);var l=d-p;if(l>0)return void(s.scrollTop+=l)}}},canGoBack:function(){return!!this.props.activeVideo&&this.props.activeVideo.getAllSeasons().length>1},handleBack:function(e){this.canGoBack()&&(e.stopPropagation(),this.props.back())},render:function(){var e=this,t=this.canGoBack(),o=this.props.isFocused&&t,s=this.getExpandedVideo(),i=n("header",{"disable-back":!this.canGoBack()}),a={maxHeight:this.props.maxHeight>-1?this.props.maxHeight:void 0};return c.createElement("div",{className:"episode-list",style:a},c.createElement("div",{className:i,onClick:this.handleBack,onKeyUp:this.handleKeyUp,role:"button",tabIndex:o?0:-1},o&&c.createElement("div",{className:"focus-rect"}),c.createElement("div",{className:"back"},c.createElement(u,{name:"nfplayerBack",preventFocus:!0})),c.createElement("div",{className:"header-title-container"},c.createElement("h2",{className:"header-title"},this.props.season.getTitle()))),c.createElement("div",{className:"body",ref:"body"},this.props.season.getEpisodes().map(function(t){return c.createElement(r,{activeVideo:e.props.activeVideo,episode:t,expand:e.expand,expanded:t===s,key:t.getId(),playIconElement:e.props.playIconElement,playNextTitle:e.props.playNextTitle,showActiveVideoProgress:e.props.showActiveVideoProgress,showVideoProgress:e.props.showVideoProgress,ref:t.getId(),trackId:e.props.trackId})})))}});t.exports=E});C.r("player/nfplayer/components/controls/episodeSelector/index.jsx",function(e,t,s){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=e("lodash"),n=e("classnames"),a=e("../../../../../utils/shallowCompare"),p=e("./episodeList.jsx"),r=e("../../hoc/withEffects.jsx"),l=e("../popup.jsx"),d=e("prop-types"),c=e("react"),h=e("create-react-class"),u=e("react-dom"),y=e("../roundPlayPauseButton.jsx"),m=e("./seasonList.jsx"),g=e("../../../common/playerControls"),f=e("../../../types/staticConfiguration"),T=r(l),S={seasons:"seasons",episodes:"episodes"},v=c.createElement(y,{type:y.PLAY,animate:!1}),E=h({displayName:"EpisodeSelector",statics:{CONTROL_NAME:g.EPISODE_SELECTOR},contextTypes:{getI18nString:d.func.isRequired,staticConfiguration:f},getDefaultProps:function(){return{buttonComponentType:l.BUTTON_ICON,buttonText:"",isHidden:!1,playIconElement:v,playNextTitle:o.noop,topAligned:!1,showActiveVideoProgress:!0,showVideoProgress:!1}},shouldComponentUpdate:a.pureRender,getInitialState:function(){return{selectedSeason:o.result(this.props.activeVideo,"getSeason",null),displayType:S.episodes,transitioning:!1,dimensions:{},willTransition:!1}},componentWillReceiveProps:function(e){this.props.activeVideo!==e.activeVideo&&this.setState({selectedSeason:o.result(e.activeVideo,"getSeason",null)})},getComputedDimensions:function(){var e=this.state.displayType===S.episodes?this.refs["episodes-pane"]:this.refs["seasons-pane"],t=u.findDOMNode(e);return null!==t&&"object"===(void 0===t?"undefined":i(t))?{width:t.offsetWidth,height:t.offsetHeight}:{height:0,width:0}},selectSeason:function(e){this.setState({selectedSeason:e,displayType:S.episodes,dimensions:this.getComputedDimensions(),willTransition:!0})},clearSeason:function(){this.setState({displayType:S.seasons,dimensions:this.getComputedDimensions(),willTransition:!0})},beginTransition:function(){var e=this;this.setState({transitioning:!0,dimensions:this.getComputedDimensions(),willTransition:!1},function(){return setTimeout(e.handleTransitionEnd,350)})},componentDidUpdate:function(e,t){this.state.displayType!==t.displayType&&this.beginTransition()},handleTransitionEnd:function(){this.state.transitioning&&this.setState({transitioning:!1,dimensions:{}})},render:function(){var e=this.context.staticConfiguration.isRTL;if(!this.props.activeVideo.isEpisodic())return null;var t=n("pane","seasons-pane",{active:this.state.displayType===S.seasons,"out-of-flow":this.state.displayType!==S.seasons||this.state.transitioning}),s=n("pane","episodes-pane",{active:this.state.displayType===S.episodes,"out-of-flow":this.state.displayType!==S.episodes||this.state.transitioning}),i=this.props.playerDimensions?Math.min(this.props.playerDimensions.height-150,413):-1,o=this.props.activeVideo.showEpisodeNumbers();return c.createElement(T,{ariaLabel:this.context.getI18nString("player/player","aria.label.player.episodes"),buttonComponentType:this.props.buttonComponentType,buttonText:this.props.buttonText,buttonType:this.props.buttonType,children:this.props.children,commandLoggingName:r.EPISODE_SELECTOR,delay:this.props.delay,focused:this.props.focused,focusName:g.EPISODE_SELECTOR,grabFocus:this.props.grabFocus,holdingFocus:this.props.holdingFocus,hovered:this.props.hovered,iconName:"nfplayerEpisodes",isHidden:this.props.isHidden,keepRight:this.props.keepRight,noPadding:this.props.noPadding,onUserActivityChanged:this.props.onUserActivityChanged,popupHasStaticPosition:this.props.popupHasStaticPosition,releaseFocus:this.props.releaseFocus,setKeepActive:this.props.setKeepActive,startHover:this.props.startHover,stopHover:this.props.stopHover,tabIndex:this.props.tabIndex,tooltip:this.context.getI18nString("player/player","aria.label.player.episodes"),tooltipAlignment:this.props.tooltipAlignment,tooltipPosition:this.props.tooltipPosition},this.props.focused===g.EPISODE_SELECTOR&&c.createElement("div",{className:n("popup-content","nfp-episode-selector",{"top-aligned":this.props.topAligned,transitioning:this.state.transitioning,rtl:e,hiddenEpisodeNumbers:!o}),style:this.state.dimensions},c.createElement("div",{className:"of-hidden"},c.createElement("div",{className:t,ref:"seasons-pane"},c.createElement(m,{activeVideo:this.props.activeVideo,displayShowTitle:this.props.displayShowTitle,displayActiveSeasonCheckmark:this.props.displayActiveSeasonCheckmark,isFocused:this.state.displayType===S.seasons&&!this.state.transitioning&&!this.state.willTransition,maxHeight:i,ref:"seasonList",selectSeason:this.selectSeason,selectedSeason:this.state.selectedSeason})),c.createElement("div",{className:s,ref:"episodes-pane"},c.createElement(p,{activeVideo:this.props.activeVideo,back:this.clearSeason,isFocused:this.state.displayType===S.episodes&&!this.state.transitioning&&!this.state.willTransition,key:this.state.selectedSeason.getFirstEpisode().getId(),maxHeight:i,playIconElement:this.props.playIconElement,playNextTitle:this.props.playNextTitle,ref:"episodeList",season:this.state.selectedSeason,showActiveVideoProgress:this.props.showActiveVideoProgress,showVideoProgress:this.props.showVideoProgress,trackId:this.props.trackId})))))}});t.exports=E});C.r("player/nfplayer/components/controls/episodeSelector/seasonList.jsx",function(e,s,t){"use strict";function o(e){var s=r.findDOMNode(e);s instanceof HTMLElement&&setTimeout(function(){return s.focus()},l)}var i=e("./episodeConstants"),n=e("fbjs/lib/shallowEqual"),a=(e("prop-types"),e("react")),p=e("create-react-class"),r=e("react-dom"),c=e("./seasonPreview.jsx"),l=i.FOCUS_DELAY_TIME,d=p({displayName:"SeasonList",shouldComponentUpdate:function(e,s){return!n(this.props,e)||!n(this.state,s)},componentDidMount:function(){this.props.isFocused&&o(this)},componentDidUpdate:function(e,s){this.props.isFocused&&!e.isFocused&&o(this)},render:function(){var e=this,s={maxHeight:this.props.maxHeight>-1?this.props.maxHeight:void 0};return a.createElement("div",{className:"season-list",style:s},a.createElement("div",{className:"body"},this.props.displayShowTitle&&a.createElement("h3",{className:"nfp-episode-selector show-title"},this.props.activeVideo.getTitle()),this.props.activeVideo.getAllSeasons().map(function(s){return a.createElement(c,{activeVideo:e.props.activeVideo,displayActiveCheckmark:e.props.displayActiveSeasonCheckmark,isFocused:e.props.isFocused,isSelected:s===e.props.selectedSeason,key:s.getFirstEpisode().getId(),season:s,selectSeason:e.props.selectSeason})})))}});s.exports=d});C.r("player/nfplayer/components/controls/episodeSelector/seasonPreview.jsx",function(e,s,t){"use strict";function n(e){var s=l.findDOMNode(e);s instanceof HTMLElement&&setTimeout(function(){return s.focus()},h)}var o=e("classnames"),a=e("./episodeConstants"),i=e("../../../../../common/keyCodes"),c=e("fbjs/lib/shallowEqual"),r=(e("prop-types"),e("react")),p=e("create-react-class"),l=e("react-dom"),d=e("../../../../../common/svgIcon.jsx"),h=a.FOCUS_DELAY_TIME,m=p({displayName:"SeasonPreview",shouldComponentUpdate:function(e,s){return!c(this.props,e)||!c(this.state,s)},getDefaultProps:function(){return{displayActiveCheckmark:!0}},componentDidMount:function(){this.props.isFocused&&this.props.isSelected&&n(this)},componentDidUpdate:function(e){this.props.isFocused&&!e.isFocused&&this.props.isSelected&&n(this)},handleKeyUp:function(e){e.keyCode!==i.SPACE&&e.keyCode!==i.ENTER||(e.preventDefault(),e.stopPropagation(),this.handleSelectSeason())},handleSelectSeason:function(){this.props.selectSeason(this.props.season)},render:function(){var e=this.props.activeVideo.getSeason()===this.props.season;return r.createElement("div",{className:o("nfp-season-preview",{"nfp-season-preview-is-active":e}),onClick:this.handleSelectSeason,onKeyUp:this.handleKeyUp,tabIndex:this.props.isFocused?0:-1},r.createElement("div",{className:"focus-rect"}),this.props.displayActiveCheckmark&&r.createElement("div",{className:"check"},e&&r.createElement(d,{name:"nfplayerCheck",preventFocus:!0})),r.createElement("div",{className:"title"},this.props.season.getTitle()),r.createElement("div",{className:"arrow"},r.createElement(d,{name:"nfplayerBack",preventFocus:!0})))}});s.exports=m});C.r("player/nfplayer/components/controls/evidenceOverlay.jsx",function(e,n,t){"use strict";var a=e("prop-types"),s=e("react"),r=e("create-react-class"),i=e("../../common/playerControls"),m=(e("../../common/Video"),e("../../../../akira/containers/timeoutTransition/timeoutTransitionGroup.jsx")),o=e("../../utils/time").getFormattedTime,f=e("../../../../utils/shallowCompare"),l="player/player",c=r({displayName:"EvidenceOverlay",statics:{CONTROL_NAME:i.EVIDENCE_OVERLAY},contextTypes:{getI18nString:a.func.isRequired},shouldComponentUpdate:f.partialProps(["showContents","activeVideo"]),render:function(){var e=this.props.showContents;return s.createElement(m,{component:"div",transitionAppear:!0,transitionName:"eo-transition",enterTimeout:100,leaveTimeout:100},e&&this.renderContents())},renderContents:function(){var e=this.props.activeVideo,n=e.isEpisodic(),t=e.showEpisodeNumbers(),a=e.getRuntime(),r=e.getTitle(),i=o(a);return s.createElement("div",{className:"evidence-overlay nfa-z-idx-1 nfa-pos-abs nfa-d-flex nfa-w-100 nfa-h-100 nfa-flx-dir-col nfa-bs-bb nfa-jc-center"},r&&s.createElement("h4",{className:"nfa-fs-1-6-em nfa-fw-normal nfa-c-gray-80 nfa-m-0 nfa-pb-02-em"},this.context.getI18nString(l,"paused.watching")),s.createElement("h2",{className:"nfa-fs-4-8-em nfa-m-0"},e.getTitle()),n&&t&&s.createElement("h4",{className:"nfa-fs-2-em nfa-m-0 nfa-pt-02-em nfa-pb-1em"},this.context.getI18nString(l,"paused.season.episode.title",{SEASON_TITLE:e.getSeason().getTitle(),EPISODE_NUMBER:e.getEpisodeNumber()})),n&&s.createElement("h3",{className:"nfa-fs-2-em nfa-m-0 nfa-pt-1-em nfa-pb-05-em"},e.getEpisodeTitle()),!n&&s.createElement("h3",{className:"nfa-fs-2-em nfa-m-0 nfa-pt-02-em nfa-pb-1em nfa-pb-05-em nfa-fw-normal nfa-d-flex"},s.createElement("span",null,e.getYear()),s.createElement("span",{className:"nfa-pl-1-em nfa-pr-1-em"},e.getMaturityRating()),a&&s.createElement("span",null,this.context.getI18nString(l,"time.hours.minutes",{H:i.h,M:i.m}))),s.createElement("p",{className:"nfa-fs-1-6-em nfa-c-gray-80 nfa-m-0 nfa-w-60"},e.getSynopsis()),s.createElement("p",{className:"nfa-as-end nfa-fs-1-6-em nfa-c-gray-80 nfa-m-0 nfa-pos-abs nfa-bot-10 nfa-right-10"},this.context.getI18nString(l,"paused.paused")))}});n.exports=c});C.r("player/nfplayer/components/controls/fullHitZone.jsx",function(e,t,n){"use strict";var o=e("../playerSurface.jsx"),l=e("../../common/PlayerUIState"),i=(e("prop-types"),e("react")),c=e("create-react-class"),a=e("./roundPlayPauseButton.jsx"),r=e("lodash"),s=e("classnames"),u=e("../hoc/withEffects.jsx"),m=e("../../common/playerControls"),C=e("../../../../utils/shallowCompare"),p=u(o),d=u("div"),h=l.DISABLED,f=l.LOADING,k=l.TIMED_OUT,y=c({displayName:"FullHitZone",statics:{CONTROL_NAME:m.FULL_HITZONE},getDefaultProps:function(){return{enableClickToPlay:!0,clickDelay:200}},shouldComponentUpdate:C.pureRender,getInitialState:function(){return{centerButtonVisible:!1}},onClick:function(e){var t=this,n=this.props,o=n.clickDelay,l=n.uiState,i=n.enableClickToPlay,c=n.focused,a=n.releaseFocus,r=n.onClickPlay;if(l!==h)return c?void a(c):void(i&&(clearTimeout(this._centerControlsClickHandle),clearTimeout(this._centerControlsHandle),this._centerControlsClickHandle=setTimeout(function(){t._centerControlsHandle=setTimeout(function(){t.setState({centerButtonVisible:!1})},750),t.setState({centerButtonVisible:!0}),r(e)},o)))},onDoubleClick:function(e){clearTimeout(this._centerControlsClickHandle),this.props.onFullScreenChange&&this.props.onFullScreenChange()},componentWillUnmount:function(){clearTimeout(this._centerControlsClickHandle),clearTimeout(this._centerControlsHandle)},render:function(){var e=this.props,t=e.onUserActivityChanged,n=e.paused,o=e.rebuffering,l=e.uiState,c=!o&&!r.contains([f,h],l),m=(this.state.centerButtonVisible||l===k)&&l!==h,C=n&&l!==k?a.PAUSE:a.PLAY;return i.createElement(d,{commandLoggingName:u.FULL_HIT_ZONE,commandLogKeyDown:!1,onClick:this.onClick,className:"controls-full-hit-zone"},i.createElement(p,{className:s("center-controls",{active:m}),onUserActivityChanged:t,onDoubleClick:this.onDoubleClick,commandLoggingName:u.FULLSCREEN_DOUBLECLICK,commandLogDoubleClick:!0,commandLogClick:!1,commandLogKeyDown:!1},c&&i.createElement(a,{ref:"centerPlayButton",type:C,animate:this.props.uiState!==k,onClick:this.onClick,usePointerCursor:!1})))}});t.exports=y});C.r("player/nfplayer/components/controls/fullscreen.jsx",function(e,n,o){"use strict";var t=e("./button.jsx"),r=e("../../../../utils/shallowCompare"),s=e("../../mixins/controlFocus.js"),l=e("../../common/playerControls"),c=e("prop-types"),a=e("react"),i=e("create-react-class"),u=e("../hoc/withEffects.jsx"),p=u(t),f=i({displayName:"FullScreenButton",contextTypes:{getI18nString:c.func.isRequired},statics:{CONTROL_NAME:l.FULLSCREEN},getDefaultProps:function(){return{isHidden:!1,fullScreenOffIconName:"nfplayerWindowed",fullScreenOnIconName:"nfplayerFullscreen"}},shouldComponentUpdate:r.partialProps(["focused","hovered","isFullScreen","isHidden"]),render:function(){var e=this.props,n=e.focused,o=e.grabFocus,r=e.fullScreenOnIconName,l=e.fullScreenOffIconName,c=e.hovered,i=e.isFullScreen,f=e.isHidden,d=e.onChange,m=e.onPointerEnter,L=e.onPointerLeave,N=e.releaseFocus,g=e.startHover,F=e.stopHover,S=e.tabIndex,h=e.withTooltip,v=this.context.getI18nString("player/player",i?"menu.exit.fullscreen":"button.fullscreen");return a.createElement(p,{ariaLabel:v,commandLoggingName:u.FULLSCREEN,focused:n,focusName:s.FULLSCREEN,grabFocus:o,hovered:c,iconName:i?l:r,isHidden:f,onClick:d,onPointerEnter:m,onPointerLeave:L,releaseFocus:N,startHover:g,stopHover:F,tabIndex:S,tooltip:h?v:"",tooltipAlignment:t.TOOLTIP_RIGHT,tooltipPosition:t.TOOLTIP_TOP})}});n.exports=f});C.r("player/nfplayer/components/controls/horizontalScrubber.jsx",function(e,t,n){"use strict";var i=e("lodash"),s=e("../../../../utils/shallowCompare"),o=e("../hoc/withEffects.jsx"),r=e("prop-types"),a=e("react"),u=e("create-react-class"),c=e("react-dom"),h=e("../../utils/time.js"),d=e("classnames"),l=e("../../utils/makePercent"),m=o("div"),p=u({displayName:"HorizontalScrubberBar",getDefaultProps:function(){return{buffered:0,currentPlayerTime:0,currentScrubTime:-1,duration:0,onKeyDown:i.noop,onScrub:i.noop,onScrubEnd:i.noop,onScrubStart:i.noop,playerDimensions:{},isScrubbing:!1,trickplayGenerator:void 0,trickplayVideoWidthRatio:.24}},contextTypes:{getI18nString:r.func.isRequired},getInitialState:function(){return{cursorActive:!1,cursorPosition:null,scrubberDimensions:null,windowDimensions:this.getWindowDimensions()}},shouldComponentUpdate:s.pureRender,updateDimensions:function(){var e=c.findDOMNode(this.refs.track).getBoundingClientRect();return i.isEqual(this.state.scrubberDimensions,e)?this.state.scrubberDimensions:(this.setState({scrubberDimensions:e}),e)},componentWillReceiveProps:function(e){this.props.playerDimensions!==e.playerDimensions&&this.updateDimensions()},componentDidMount:function(){this.updateDimensions(),window.addEventListener("resize",this.handleWindowResize)},componentWillUnmount:function(){this.removeDocumentListeners(),window.removeEventListener("resize",this.handleWindowResize)},getWindowDimensions:function(){if("undefined"==typeof window)return null;var e=window.innerWidth,t=window.innerHeight;return{top:0,left:0,bottom:t,right:e,width:e,height:t}},handleWindowResize:i.debounce(function(){this.setState({windowDimensions:this.getWindowDimensions()}),this.updateDimensions()},16,{maxWait:16,leading:!0,trailing:!0}),addDocumentListeners:function(){this._hasDocumentListeners||(document.body.classList.add("scrubbing-surface","nfp"),window.PointerEvent?document.body.addEventListener("pointermove",this.handleDocumentMouseMove):(document.body.addEventListener("mousemove",this.handleDocumentMouseMove),document.body.addEventListener("touchmove",this.handleDocumentMouseMove)),document.body.addEventListener("mouseup",this.handleDocumentMouseUp),document.body.addEventListener("touchend",this.handleDocumentMouseUp),this._hasDocumentListeners=!0)},removeDocumentListeners:function(){this._hasDocumentListeners&&(window.PointerEvent?document.body.removeEventListener("pointermove",this.handleDocumentMouseMove):(document.body.removeEventListener("mousemove",this.handleDocumentMouseMove),document.body.removeEventListener("touchmove",this.handleDocumentMouseMove)),document.body.removeEventListener("mouseup",this.handleDocumentMouseUp),document.body.removeEventListener("touchend",this.handleDocumentMouseUp),document.body.classList.remove("scrubbing-surface","nfp"),this._hasDocumentListeners=!1)},getCursorPosition:function(e,t){var n=e&&e.targetTouches&&e.targetTouches.length&&e.targetTouches[0]||e&&e.changedTouches&&e.changedTouches.length&&e.changedTouches[0];if(t||(t=this.state.scrubberDimensions),n&&(e=n),!e||!e.clientX||!t)return null;var i=(e.clientX-t.left)/t.width;return Math.min(1,Math.max(0,i))},handleMouseDown:function(e){if(!this._hasDocumentListeners){var t=this.props.onScrubStart,n=this.updateDimensions();t(this.getCursorPosition(e,n)),this.addDocumentListeners()}},handleMouseMove:function(e){this.setState({cursorActive:!0,cursorPosition:this.getCursorPosition(e)})},handleMouseEnter:function(e){this.updateDimensions()},handleMouseLeave:function(){this.setState({cursorActive:!1})},handleDocumentMouseMove:function(e){var t=this;if(!(e.touches&&e.touches.length>1)){"touchmove"!==e.type&&"pointermove"!==e.type||e.preventDefault();var n=this.getCursorPosition(e);requestAnimationFrame(function(){t.props.onScrub(n)})}},handleDocumentMouseUp:function(e){(0,this.props.onScrubEnd)(this.getCursorPosition(e)),this.removeDocumentListeners()},handleKeyDown:function(e){this.props.onKeyDown(e)},canRenderTrickplay:function(){return this.state.scrubberDimensions&&this.props.trickplayGenerator},renderTrickplay:function(){if(!this.canRenderTrickplay())return null;var e=this.props,t=e.currentPlayerTime,n=e.currentScrubTime,s=e.duration,o=e.isScrubbing,r=e.trickplayVideoWidthRatio,u=this.state.cursorActive;this._trickplayWidth||(this._trickplayWidth=Math.floor(i.get(this,"props.playerDimensions.width",0)*r)||r);var c=n>-1?n:t,h=s,m=o?c/h:this.state.cursorPosition,p=this.props.trickplayGenerator(m),v={};if(u||o||(this._trickplayWidth=null),p.image){var b=this.state.scrubberDimensions,y=this.props.playerDimensions||this.state.windowDimensions;if(v.width=this._trickplayWidth,m<=.5){var f=m*b.width-this._trickplayWidth/2;isNaN(f)||(v.left=Math.max(f,y.left-b.left+20))}else{var D=(1-m)*b.width-this._trickplayWidth/2;isNaN(D)||(v.right=Math.max(D,b.right-y.right+20))}}else v.left=l(m);return a.createElement("div",{className:d("trickplay",{"trickplay-visible":u||o,"trickplay-text-only":Boolean(!p.image),"trickplay-text-and-image":Boolean(p.image)}),style:v},p.image&&a.createElement("div",{className:"tp-image"},a.createElement("img",{src:p.image})),a.createElement("div",{className:"tp-text"},p.text))},render:function(){var e=this.props,t=e.buffered,n=e.currentPlayerTime,i=e.currentScrubTime,s=e.duration,r=e.isScrubbing,u=r&&i>-1?i:n,c=Math.floor(s),d=Math.floor(u),p=h.convert(c),v=h.convert(d),b=0,y={},f={},D={left:l(this.state.cursorPosition)},g={};return c&&t&&(y.width=l(t/c)),c&&u>=0&&(b=l(u/c)),this.state.cursorActive&&(D.display="block"),g.left=f.width=b,a.createElement(m,{className:"scrubber-container",commandLoggingName:o.SCRUBBER,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove,onTouchStart:this.handleMouseDown},a.createElement("div",{className:"scrubber-bar"},a.createElement("div",{className:"track",ref:"track"},a.createElement("div",{className:"buffered",style:y}),a.createElement("div",{className:"current-progress",style:f}),a.createElement("div",{className:"play-head",style:D})),this.renderTrickplay(),a.createElement("div",{"aria-label":this.context.getI18nString("player/player","aria.label.player.seek.time"),"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":d,"aria-valuetext":this.context.getI18nString("player/player","aria.value.text.time.scrubber",{current:v,total:p}),className:"scrubber-head",style:g,tabIndex:0})))}});t.exports=p});C.r("player/nfplayer/components/hoc/withEffects.jsx",function(e,o,t){"use strict";function n(e){return c.get(e,"displayName",e)}function i(e){var o=g({displayName:"LoggedComponent("+n(e)+")",contextTypes:{playerSession:a.instanceOf(d),dispatch:a.func,logger:a.object,models:a.object},getDefaultProps:function(){return{disableCommandAutoLogging:!1,commandLoggingHotkeys:[],commandLoggingKeys:[r.ENTER,r.SPACE],commandLogClick:!0,commandLogDoubleClick:!1,commandLogKeyDown:!0,shouldEngagePlayer:!0}},allowManualLogging:function(){return!!this.props.disableCommandAutoLogging},attemptToEngagePlayer:function(){this.props.shouldEngagePlayer&&this.context&&this.context.dispatch&&this.context.dispatch({type:m.ENGAGE})},onClickCapture:function(e){var o=this.props,t=o.commandLoggingName,n=o.onClickCapture;this.logUIEvent(y,t,null),n&&n(e),this.attemptToEngagePlayer()},onKeyDownCapture:c.debounce(function(e){var o=this.props,t=o.commandLoggingHotkeys,n=o.commandLoggingKeys,i=o.commandLoggingName,a=o.onKeyDownCapture,s=e.keyCode,g=Array.isArray(t),c=g?t:Object.keys(t),r=c.indexOf(g?s:s.toString()),l=void 0,m=void 0;c&&r>-1?(l=h,m=g?i:t[s].commandLoggingName):n&&n.indexOf(s)>-1&&(l=E,m=i),l&&m&&this.logUIEvent(l,m,s,l===h),a&&a(e),this.attemptToEngagePlayer()},f,{leading:!0,trailing:!1}),onDoubleClickCapture:function(e){this.logUIEvent(y,this.props.commandLoggingName,null),this.props.onDoubleClickCapture&&this.props.onDoubleClickCapture(e),this.attemptToEngagePlayer()},logUIEvent:function(e,o,t,n){var i=this.context,a=i.playerSession,s=i.models,g={name:this.props.commandLoggingName,playerType:"NFPlayer",playerState:a&&a.getState(),xid:a&&a.getXid(),trackId:a&&a.getTrackId(),videoId:a&&a.getVideoId()};t&&(g.inputValue=t),n&&(g.isHotKey=n),s.truths.data.isCl2LoggingEnabledForDiscoveryPlayback&&this.setUIEventInContext(e,o,t,n),l.emit(C+e,g)},setUIEventInContext:function(e,o,t,n){switch(e){case y:this.triggerContext(p.PointerInput,{confidence:1,pointer:"click"});break;case E:case h:this.triggerContext(p.KeyboardInput,{confidence:1,isHotKey:n,keyCode:t})}},triggerContext:function(e,o){var t=this,n=this.context.logger.addContext(e,o);setTimeout(function(){t.context.logger.removeContext(n)},100)},render:function(){var o=this,t=this.props.disableCommandAutoLogging,n=k.reduce(function(e,t){var n=void 0;return o.props[t]&&(n=L[t],e[n]=o[n]),e},{}),i={logClickEvent:this.onClickCapture,logDoubleClickEvent:this.onDoubleClickCapture,logKeyDownEvent:this.onKeyDownCapture,allowManualLogging:this.allowManualLogging},a=Object.assign(c.omit(this.props,t?b:Object.keys(n).concat(b)),t?i:n);return s.createElement(e,a)}});return u(o,e),o}var a=e("prop-types"),s=e("react"),g=e("create-react-class"),c=e("lodash"),r=e("../../../../common/keyCodes"),l=e("../../../../reactMixins/eventBus"),m=e("../../common/playerEvents"),u=e("hoist-non-react-statics"),d=e("../../utils/playerSession"),p=e("shakti-platform/dist/ui/consolidatedLogging/constants/contextTypes"),C="playerui:",y="click",E="key",h="hotkey",L={commandLogClick:"onClickCapture",commandLogDoubleClick:"onDoubleClickCapture",commandLogKeyDown:"onKeyDownCapture"},k=Object.keys(L),b=["commandLogClick","commandLogDoubleClick","commandLogKeyDown","commandLoggingName","disableCommandAutoLogging","commandLoggingHotkeys","commandLoggingKeys","shouldEngagePlayer"],f=100;i.AUDIO="audio",i.TIMED_TEXT="timedText",i.EPISODE_SELECTOR="episodeSelector",i.EXIT="backToBrowse",i.FULLSCREEN="fullscreen",i.FULLSCREEN_DOUBLECLICK="fullscreenDoubleClick",i.FULL_HIT_ZONE="fullHitZone",i.SCRUBBER="scrubber",i.MDX="mdx",i.NEXT_EPISODE="nextEpisode",i.PLAY_PAUSE="playPause",i.VOLUME="volume",i.SEEK_BACK="seekBack",i.RELOAD="reload",i.REPORT_A_PROBLEM="reportAProblem",i.SHARE="share",o.exports=i});C.r("player/nfplayer/mixins/controlFocus.js",function(t,o,e){"use strict";var s=t("../common/playerControls"),i={hovered:"",focused:"",holdingFocus:!1};o.exports=Object.assign({},s,{controlFocusTimeout:null,getInitialState:function(){return i},resetControlFocus:function(){this.setState(i),clearTimeout(this.controlFocusTimeout)},componentWillUnmount:function(){clearTimeout(this.controlFocusTimeout)},startHover:function(t){this.setState({hovered:t})},stopHover:function(t){this.state.hovered===t&&this.isMounted()&&this.setState({hovered:""})},grabFocus:function(t){this.state.holdingFocus||(clearTimeout(this.controlFocusTimeout),this.setState({focused:t}))},releaseFocus:function(t,o){if(o){var e=this;this.controlFocusTimeout=setTimeout(function(){e.releaseFocusNow(t)},o)}else this.releaseFocusNow(t)},releaseFocusNow:function(t){this.state.holdingFocus||this.state.focused!==t||(clearTimeout(this.controlFocusTimeout),this.isMounted()&&this.setState({focused:""}))},grabAndHoldFocus:function(t){this.state.holdingFocus||(clearTimeout(this.controlFocusTimeout),this.setState({focused:t,holdingFocus:!0}))},releaseFocusHold:function(t){this.state.focused===t&&(clearTimeout(this.controlFocusTimeout),this.setState({holdingFocus:!1}))}})});C.r("player/nfplayer/components/controls/mdx.jsx",function(e,t,o){"use strict";var n=e("./button.jsx"),r=e("../../../../utils/shallowCompare.js"),s=e("../../mixins/controlFocus.js"),i=e("../../../../mdx2/hoc/mdxLoader.jsx"),a=e("../../common/playerControls"),c=e("prop-types"),l=e("react"),d=e("create-react-class"),p=e("../hoc/withEffects.jsx"),u=p(n),m=d({displayName:"Mdx",contextTypes:{getI18nString:c.func.isRequired},statics:{CONTROL_NAME:a.MDX},getDefaultProps:function(){return{connected:!1,isHidden:!1,mdxDevicesFound:!1,shouldAutoCast:!0,withTooltip:!1}},shouldComponentUpdate:r.pureRender,componentWillReceiveProps:function(e){var t=this.props,o=t.videoId,n=t.trackId,r=t.mdxTarget;t.shouldAutoCast&&e.mdxTarget!==r&&e.mdxTarget&&e.mdxTarget.cast(o,n,!0)},requestHandler:function(){var e=i.getManagerInstance();e&&e.requestMdxDevice&&e.requestMdxDevice()},render:function(){var e=this.props,t=e.connected,o=e.filter,n=e.focused,r=e.grabFocus,i=e.holdingFocus,a=e.hovered,c=e.isHidden,d=e.mdxDevicesAvailable,m=e.onPointerEnter,x=e.onPointerLeave,g=e.releaseFocus,v=e.startHover,f=e.stopHover,h=e.tabIndex,y=e.tooltipAlignment,M=e.tooltipPosition,C=e.withTooltip,F=this.context.getI18nString("player/player","aria.label.player.mdx");return(d||t)&&l.createElement(u,{ariaLabel:F,commandLoggingName:p.MDX,filter:o,focused:n,focusName:s.MDX,grabFocus:r,holdingFocus:i,hovered:a,iconName:t?"nfplayerMdxFull":"nfplayerMdx",isHidden:c,onClick:this.requestHandler,onPointerEnter:m,onPointerLeave:x,releaseFocus:g,startHover:v,stopHover:f,tabIndex:h,tooltip:C?F:"",tooltipAlignment:y,tooltipPosition:M})}});t.exports=i.createComponent(m)});C.r("player/nfplayer/components/controls/next.jsx",function(e,t,o){"use strict";var n=e("lodash"),s=e("../../../../utils/shallowCompare"),i=e("../../mixins/controlFocus.js"),a=e("../hoc/withEffects.jsx"),r=e("./nextEpisodePopup.jsx"),p=e("../../common/playerControls"),l=e("../../common/PlayerControlsInteractionType"),c=e("./popup.jsx"),d=e("prop-types"),u=e("react"),g=e("create-react-class"),y=e("./roundPlayPauseButton.jsx"),E=e("../../types/staticConfiguration"),x=a(c),h=u.createElement(y,{type:y.PLAY,animate:!1}),C=l.CLICK,m=l.HOVER,I=g({displayName:"NextButton",statics:{CONTROL_NAME:p.NEXT_EPISODE},contextTypes:{getI18nString:d.func.isRequired,staticConfiguration:E},getDefaultProps:function(){return{isHidden:!1,playIconElement:h,showVideoProgress:!0}},shouldComponentUpdate:s.props,getNextEpisode:function(){return this.props.activeVideo.getNextEpisode()},play:function(){var e=this.props,t=e.playNextTitle,o=e.trackId,s=n.result(this.getNextEpisode(),"getId");s&&t(s,o)},render:function(){var e=this.props,t=e.delay,o=e.focused,n=e.grabAndHoldFocus,s=e.grabFocus,p=e.holdingFocus,l=e.hovered,c=e.isHidden,d=e.keepRight,g=e.noPadding,y=e.onClickCapture,E=e.onDoubleClickCapture,h=e.onKeyDownCapture,I=e.onKeyUp,N=e.onUserActivityChanged,P=e.playIconElement,f=e.playNextTitle,T=e.popupHasStaticPosition,v=e.releaseFocus,H=e.releaseFocusHold,b=e.setKeepActive,k=e.showVideoProgress,F=e.startHover,A=e.stopHover,D=e.tabIndex,S=e.titleText,O=e.tooltip,w=e.tooltipAlignment,K=e.tooltipPosition,j=e.trackId,_=this.getNextEpisode(),L=o&&o!==i.NEXT_EPISODE,R=this.context.staticConfiguration.controlsInteractionType;return R!==C||L||(R=m),u.createElement(x,{ariaLabel:this.context.getI18nString("player/player","button.next.episode"),controlsInteractionType:R,delay:t,focused:o,focusName:i.NEXT_EPISODE,grabAndHoldFocus:n,grabFocus:s,holdingFocus:p,hovered:l,iconName:"nfplayerNextEpisode",isHidden:c,keepRight:d,commandLoggingName:a.NEXT_EPISODE,noPadding:g,onClick:this.play,onClickCapture:y,onDoubleClickCapture:E,onKeyDownCapture:h,onKeyUp:I,onUserActivityChanged:N,popupHasStaticPosition:T,releaseFocus:v,releaseFocusHold:H,setKeepActive:b,startHover:F,stopHover:A,tabIndex:D,tooltip:O,tooltipAlignment:w,tooltipPosition:K},o===i.NEXT_EPISODE&&u.createElement(r,{episode:_,focused:o,onClick:this.play,playIconElement:P,playNextTitle:f,showVideoProgress:k,tabIndex:D,titleText:S,trackId:j}))}});t.exports=I});C.r("player/nfplayer/components/controls/nextEpisodePopup.jsx",function(e,t,n){"use strict";var o=e("./episodePreview.jsx"),s=e("prop-types"),r=e("react"),a=e("create-react-class"),c=e("../../../../components/touchable.jsx"),p=e("./roundPlayPauseButton.jsx"),i=c("div"),l=r.createElement(p,{type:p.PLAY,animate:!1}),d=a({displayName:"NextEpisodePopup",contextTypes:{getI18nString:s.func.isRequired},getDefaultProps:function(){return{onClick:function(){},playIconElement:l,showVideoProgress:!0}},render:function(){var e=this.props,t=e.episode,n=e.onClick,s=e.playIconElement,a=e.playNextTitle,c=e.showVideoProgress,p=e.focused,l=e.tabIndex,d=e.titleText,u=e.trackId;return r.createElement(i,{className:"popup-content next-episode",onClick:n},r.createElement("div",{className:"header"},r.createElement("h2",{className:"header-title"},this.context.getI18nString("player/player","menu.next.episode"))),r.createElement(o,{showProgress:c,focused:p,playIconElement:s,playNextTitle:a,episode:t,showVideoProgress:c,tabIndex:l,titleText:d,trackId:u}))}});t.exports=d});C.r("player/nfplayer/components/controls/play.jsx",function(e,o,t){"use strict";var r=e("./button.jsx"),n=e("../../../../utils/shallowCompare"),a=e("../../mixins/controlFocus.js"),s=e("../../common/playerControls"),i=e("prop-types"),p=e("react"),c=e("create-react-class"),l=e("../hoc/withEffects.jsx"),d=l(r),u=c({displayName:"PlayButton",statics:{CONTROL_NAME:s.PLAY},contextTypes:{getI18nString:i.func.isRequired},getDefaultProps:function(){return{focused:"",isHidden:!1,onClick:void 0,onPointerEnter:void 0,onPointerLeave:void 0,paused:!0,player:void 0,releaseFocus:void 0,startHover:void 0,stopHover:void 0,tabIndex:0}},shouldComponentUpdate:n.partialProps(["paused","isHidden","hovered","focused","player"]),render:function(){var e=this.props,o=e.focused,t=e.grabFocus,r=e.hovered,n=e.isHidden,s=e.onClick,i=e.onPointerEnter,c=e.onPointerLeave,u=e.paused,v=e.player,y=e.releaseFocus,f=e.startHover,P=e.stopHover,m=e.tabIndex;return p.createElement(d,{ariaLabel:u?this.context.getI18nString("player/player","button.play"):this.context.getI18nString("player/player","button.pause"),commandLoggingName:l.PLAY_PAUSE,focused:o,focusName:a.PLAY,grabFocus:t,hovered:r,iconName:u?"nfplayerPlay":"nfplayerPause",isHidden:n,onClick:s,onPointerEnter:i,onPointerLeave:c,player:v,releaseFocus:y,startHover:f,stopHover:P,tabIndex:m})}});o.exports=u});C.r("player/nfplayer/components/controls/playIcon.jsx",function(e,n,a){"use strict";function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}var o=(e("prop-types"),e("react")),i=e("create-react-class"),t=e("classnames"),s=i({displayName:"PlayIcon",statics:{MEDIUM:"medium",LARGE:"large"},getDefaultProps:function(){return{centered:!1,fadeOnHover:!1,growOnHover:!1,hiddenVisibility:!1,semiOpaque:!1,transparent:!1,opaque:!1,size:void 0}},render:function(){var e,n=this.props,a=n.centered,i=n.fadeOnHover,s=n.growOnHover,c=n.hiddenVisibility,l=n.transparent,p=n.opaque,u=n.semiOpaque,d=n.size;return o.createElement("div",{className:t("PlayIcon",(e={},r(e,"PlayIcon-centered",a),r(e,"PlayIcon-fade-on-hover",i),r(e,"PlayIcon-grow-on-hover",s),r(e,"PlayIcon-size-medium","medium"===d),r(e,"PlayIcon-size-large","large"===d),r(e,"PlayIcon-opaque",p),r(e,"PlayIcon-transparent",l),r(e,"PlayIcon-visibility-hidden",c),r(e,"PlayIcon-semi-opaque",u),e))})}});n.exports=s});C.r("player/nfplayer/components/controls/popup.jsx",function(e,t,o){"use strict";function n(e,t){t.clickedToOpen=!0,e.setState(t)}function i(e,t){t.clickedToOpen=!1,e.setState(t)}function s(e,t){return e!==h.HOVER||t!==u.VOLUME}var r=(e("lodash"),e("./button.jsx")),a=e("classnames"),c=e("../../../../akira/components/controls/flatButton.jsx"),p=e("../../utils/isReactComponentElement"),l=e("../../../../common/keyCodes"),u=e("../../common/playerControls"),h=e("../../common/PlayerControlsInteractionType"),d=(e("prop-types"),e("react")),f=e("create-react-class"),v=e("../../../../components/touchable.jsx"),C=v("div"),y=e("../../types/staticConfiguration"),T=e("../hoc/withEffects.jsx"),m=T(r),g=function(){},P=f({displayName:"Popup",statics:{BUTTON_FLAT:"BUTTON_FLAT",BUTTON_ICON:"BUTTON_ICON"},contextTypes:{staticConfiguration:y},getDefaultProps:function(){return{buttonComponentType:"BUTTON_ICON",buttonText:"",delay:1e3,grabFocus:g,hideButtonIfFocused:!1,isHidden:!1,keepRight:!1,onButtonClick:g,onClick:g,onClickCapture:g,onDoubleClickCapture:g,onKeyDownCapture:g,onKeyUp:g,onPointerEnter:g,onPointerLeave:g,onUserActivityChanged:g,popupHasStaticPosition:!1,positionedAtTop:!1,releaseFocus:g,setKeepActive:g,startHover:g,stopHover:g,tabIndex:0,shouldFillScreen:!1}},getInitialState:function(){return{clickedToOpen:!1}},componentWillReceiveProps:function(e){this.props.focused!==e.focused&&e.focused!==e.focusName&&i(this,this.state)},getInteractionType:function(){var e=this.props.controlsInteractionType,t=this.context&&this.context.staticConfiguration&&this.context.staticConfiguration.controlsInteractionType,o=t||h.HOVER;return e||o},grabFocusAndHover:function(){var e=this.props,t=e.focusName,o=e.forceKeepActive,i=e.grabFocus,r=e.setKeepActive,a=e.startHover;s(this.getInteractionType(),t)&&n(this,this.state),a(t),i(t),r(!0,o)},releaseFocusAndHover:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.props,o=t.focusName,n=t.releaseFocus,s=t.setKeepActive,r=t.stopHover;i(this,this.state),s(!1),n(o,e),r(o)},click:function(e){this.props.onButtonClick(e)},handleOnKeyUp:function(e){e.keyCode===l.ESC&&(i(this,this.state),this.releaseFocusAndHover())},handlePointerEnter:function(e){if("mouse"===e.pointerType){var t=this.props,o=t.focusName,n=t.grabFocus,i=t.startHover,s=this.getInteractionType();i(o),s===h.HOVER&&n(o),this.handleUserActivity(e)}},handlePointerLeave:function(e){if("mouse"===e.pointerType){var t=this.props,o=t.focusName,n=t.releaseFocus,i=t.stopHover,s=this.getInteractionType();i(o),this.state.clickedToOpen||s!==h.HOVER||n(o)}},handleClick:function(e){var t=this.props,o=t.focused,i=t.focusName,r=this.getInteractionType(),a=i===o,c=this.state.clickedToOpen,p=s(r,i);a&&c?this.releaseFocusAndHover():"touch"===e.pointerType?(p&&n(this,this.state),this.grabFocusAndHover()):a?(this.click(e),r!==h.HOVER&&this.releaseFocusAndHover()):(p&&(n(this,this.state),this.click(e)),this.grabFocusAndHover()),this.handleUserActivity(e)},handleUserActivity:function(e){this.props.onUserActivityChanged(!0)},handleChildPointerEnter:function(e){"touch"!==e.pointerType&&this.grabFocusAndHover(e)},handleButtonPointerEnter:function(e){if("touch"!==e.pointerType){(0,this.props.setKeepActive)(!0)}},handleChildPointerLeave:function(e){"touch"===e.pointerType||this.props.forceKeepActive||this.releaseFocusAndHover(this.props.delay)},handleButtonPointerLeave:function(e){if("touch"!==e.pointerType){(0,this.props.setKeepActive)(!1)}},render:function(){var e=this.props,t=e.ariaLabel,o=e.buttonComponentType,n=e.buttonChildren,i=e.buttonLoggingName,s=e.buttonText,l=e.buttonType,u=e.className,f=e.children,v=e.focused,y=e.focusName,T=e.hideButtonIfFocused,g=e.hovered,P=e.iconName,k=e.isHidden,b=e.keepRight,A=e.noPadding,N=e.onClick,E=e.onClickCapture,H=e.onDoubleClickCapture,O=e.onKeyDownCapture,F=e.popupHasStaticPosition,L=e.positionedAtTop,I=e.shouldFillScreen,B=e.tabIndex,U=e.tooltip,x=e.tooltipPosition,K=e.tooltipAlignment,R=e.useLoggedButton,w=this.getInteractionType(),D=this.state.clickedToOpen,S=g===y,_=v===y,V=w===h.CLICK,j=!(!g&&!v||_||S),M=p(f)?d.cloneElement(f,{clickedToOpen:D}):f,W=R?m:r,q=T&&v===y;return d.createElement(C,{className:a(u,"PlayerControls--control-element","nfp-popup-control",{"PlayerControls--control-element-hidden":k,"PlayerControls--control-element-blurred":j,"nfp-popup-control--static-position":F}),onClick:N,onClickCapture:E,onDoubleClickCapture:H,onKeyDownCapture:O,onKeyUp:this.handleOnKeyUp,onPointerEnter:this.handlePointerEnter,onPointerLeave:this.handlePointerLeave},"BUTTON_FLAT"===o&&!q&&d.createElement(c,{ariaLabel:t,label:s,onClick:this.handleClick,onPointerEnter:this.handleButtonPointerEnter,onPointerLeave:this.handleButtonPointerLeave,tabIndex:B}),"BUTTON_ICON"===o&&!q&&d.createElement(W,{commandLoggingName:i,tooltip:V?U:null,tooltipPosition:V?x:null,tooltipAlignment:V?K:null,ariaLabel:t,focused:v,focusName:y,hovered:g,iconName:P,isHidden:k,manageFocus:!1,onClick:this.handleClick,tabIndex:B,type:l,onPointerEnter:this.handleButtonPointerEnter,onPointerLeave:this.handleButtonPointerLeave},n),d.createElement(C,{className:a("popup-content-wrapper",{active:_,"no-padding":A,"keep-right":b,"popup-content-wrapper--fill-screen":I,"popup-content-wrapper--top-placement":L}),onKeyDown:this.grabFocusAndHover,onPointerEnter:this.handleChildPointerEnter,onPointerLeave:this.handleChildPointerLeave},M))}});t.exports=P});C.r("player/nfplayer/components/controls/progressBar.jsx",function(e,r,t){"use strict";var n=e("classnames"),a=e("../../../../utils/shallowCompare"),i=e("../../mixins/controlFocus.js"),s=e("../../../../common/keyCodes"),o=(e("../../common/nfplayerInterface"),e("../../common/playerControls")),c=e("../../common/playerEvents"),l=(e("prop-types"),e("react")),u=e("create-react-class"),p=e("react-dom"),d=e("./horizontalScrubber.jsx"),h=e("../../utils/time.js"),S=function(){},y=u({displayName:"ProgressBar",getDefaultProps:function(){return{focused:"",grabAndHoldFocus:S,grabFocus:S,isHidden:!1,onPointerEnter:S,onPointerLeave:S,onScrubEnd:S,onScrubStart:S,playerDimensions:{},releaseFocus:S,releaseFocusHold:S,setKeepActive:S,startHover:S,stopHover:S}},statics:{CONTROL_NAME:o.PROGRESS_BAR},shouldComponentUpdate:function(e,r){return(!this.props.isHidden||!e.isHidden)&&a.pureRender(e,r)},getInitialState:function(e){return{currentPlayerTime:(e||this.props.player).getCurrentTime(),currentScrubTime:-1,isScrubbing:!1}},componentDidMount:function(){this.addPlayerHandlers(this.props.player)},componentWillReceiveProps:function(e){e.player!==this.props.player&&(this.removePlayerHandlers(),this.setState(this.getInitialState(e.player)),this.addPlayerHandlers(e.player))},componentWillUnmount:function(){this.removePlayerHandlers()},addPlayerHandlers:function(e){e.on(c.PLAYING,this.handlePlayerPlaying),e.on(c.SCRUB_UNBATCHED,this.handlePlayerScrub),e.on(c.SCRUB_END_UNBATCHED,this.handlePlayerScrubEnd),e.on(c.SCRUB_START_UNBATCHED,this.handlePlayerScrubStart),e.on(c.TIME_UPDATE,this.handlePlayerTimeUpdate)},removePlayerHandlers:function(){var e=this.props.player;e.removeListener(c.PLAYING,this.handlePlayerPlaying),e.removeListener(c.SCRUB_UNBATCHED,this.handlePlayerScrub),e.removeListener(c.SCRUB_END_UNBATCHED,this.handlePlayerScrubEnd),e.removeListener(c.SCRUB_START_UNBATCHED,this.handlePlayerScrubStart),e.removeListener(c.TIME_UPDATE,this.handlePlayerTimeUpdate),this._trickplayImage=void 0,this._resetTrickplayImage=!0},handlePlayerScrub:function(e){this.setState({currentScrubTime:e.state.currentScrubTime})},handlePlayerScrubStart:function(e){this.setState({currentScrubTime:e.state.currentScrubTime,isScrubbing:!0})},handlePlayerScrubEnd:function(e){this.setState({currentPlayerTime:e.state.canceled?this.state.currentPlayerTime:this.state.currentScrubTime,currentScrubTime:-1,isScrubbing:!1})},handlePlayerPlaying:function(e){this.setState({isScrubbing:!1,currentPlayerTime:this.props.player.getCurrentTime()})},handlePlayerTimeUpdate:function(e){this.setState({currentPlayerTime:this.props.player.getCurrentTime()})},handleMouseEnter:function(e){var r=this.props,t=r.grabFocus,n=r.onPointerEnter;(0,r.startHover)(i.PROGRESS),t(i.PROGRESS),n&&n(e)},handleMouseLeave:function(e){var r=this.props,t=r.onPointerLeave,n=r.releaseFocus,a=r.stopHover;n(i.PROGRESS),a(i.PROGRESS),t&&t(e)},handleScrubberScrubStart:function(e){this.props.onScrubStart&&this.props.onScrubStart(e);var r=this.props,t=r.grabAndHoldFocus,n=r.player,a=r.setKeepActive,s=n.getDuration();t(i.PROGRESS),a(!0);var o=s*e;n.scrubStart(o)},handleScrubberScrubEnd:function(e){var r=this.props,t=r.onScrubEnd,n=r.player,a=r.releaseFocusHold,s=r.setKeepActive;t&&t(e);var o=n.getDuration();a(i.PROGRESS),s(!1);var c=o*e;n.scrubEnd(c)},handleScrubberScrub:function(e){var r=this.props.player,t=r.getDuration(),n=t*e;r.scrub(n)},handleKeyDown:function(e){var r=this.props.player,t=this.state,n=t.currentScrubTime,a=t.isScrubbing,i=e.keyCode,o=p.findDOMNode(this.refs.scrubber);!o||o!==document.activeElement&&!o.contains(document.activeElement)||i!==s.ENTER&&i!==s.SPACE||(e.preventDefault(),a?r.scrubEnd(n):r.togglePlay())},trickplayGenerator:function(e){var r=this.props.player;if(!r)return{};var t=r.getDuration(),n=r.getTrickPlayURL(t*e);return this._trickplayImage&&!n?this._resetTrickplayImage=!0:this._resetTrickplayImage&&n?(this._trickplayImage=n,this._resetTrickplayImage=!1):this._trickplayImage=n,this._trickplayImage?{image:this._trickplayImage,text:h.convert(t*e)}:{text:h.convert(t*e)}},render:function(){var e=this.props,r=e.focused,t=e.isHidden,a=e.player,s=e.playerDimensions,o=e.trickplayVideoWidthRatio,c=this.state,u=c.currentPlayerTime,p=c.currentScrubTime,h=c.isScrubbing;return l.createElement("div",{className:n("PlayerControls--control-element","progress-control",{"PlayerControls--control-element-hidden":t,"PlayerControls--control-element-blurred":r&&i.PROGRESS!==r}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},l.createElement(d,{buffered:a.getBufferedTime(),currentPlayerTime:u,currentScrubTime:p,duration:a.getDuration(),isHidden:t,isScrubbing:h,onKeyDown:this.handleKeyDown,onScrub:this.handleScrubberScrub,onScrubEnd:this.handleScrubberScrubEnd,onScrubStart:this.handleScrubberScrubStart,player:a,playerDimensions:s,ref:"scrubber",trickplayGenerator:this.trickplayGenerator,trickplayVideoWidthRatio:o}))}});r.exports=y});C.r("player/nfplayer/types/staticConfiguration.js",function(e,o,t){"use strict";var n=e("prop-types"),i=e("lodash"),a=e("../common/PlayerControlsInteractionType"),r=e("../common/PlayerControlsType"),s=e("../common/episodePreviewType"),l=e("../uiContext"),c=n.bool,p=n.func,u=n.object,y=n.oneOf,m=n.number,d=n.shape,T=n.string;o.exports=d({attemptFallback:c,allowForcingPlaybackEngine:c,browserInfo:u,controlsInactivityTimeout:m,controlsInteractionType:y(i.values(a)),controlsType:y(i.values(r)),displayDisconnectedNetworkNotice:c,enableTimedTextRendering:c,episodePreviewType:y(s.list),focusAfterInactivity:c,focusOnMount:c,hasMetadata:c,hasPostplay:c,idleTimeout:m,inactivityTimeout:m,isPlayerCreationAvailable:p,isRTL:c,performanceLogging:c,playbackSupport:u,preventSVGDefinitionsRendering:c,preLoad:T,respectBookmark:c,rewindOnEnd:c,seekBackTime:m,shouldAutoCast:c,shouldPauseWhenScrubbing:c,shouldTrackViewportPosition:c,smartSubtitles:c,uiContext:y(i.values(l)),waitForCadmiumPlayerInstance:c})});C.r("player/nfplayer/uiContext.js",function(E,e,M){"use strict";e.exports={MEMBER:"member",BIG_ROW:"bigRow",MOTION_BILLBOARD:"motionBillboard",NONMEMBER_TRAILER:"nmtrailer",NONMEMBER_HOME_PAGE:"nmhomepage",NONMEMBER_CONTENT_SAMPLING:"nmsampling",ORIGINALS_ROW:"netflixOriginals",EMBEDDED:"embedded"}});C.r("player/nfplayer/utils/isReactComponentElement.js",function(t,e,n){"use strict";function i(t){return s.isValidElement(t)&&r.isFunction(r.get(t,"type"))}var r=t("lodash"),s=t("react");e.exports=i});C.r("player/nfplayer/components/controls/reportAProblemButton.jsx",function(e,t,o){"use strict";var r=e("create-react-class"),n=e("react"),s=e("./popup.jsx"),a=e("prop-types"),c=e("../../common/playerControls"),p=e("../hoc/withEffects.jsx"),i=e("../../../../components/string.jsx"),l=e("../../types/staticConfiguration"),u=p(s),m="player/player",d=r({displayName:"ReportAProblemButton",statics:{CONTROL_NAME:c.REPORT_A_PROBLEM},contextTypes:{getI18nString:a.func.isRequired,staticConfiguration:l},render:function(){var e=this.context.staticConfiguration.controlsInteractionType,t=this.props,o=t.focused,r=t.grabAndHoldFocus,s=t.grabFocus,a=t.holdingFocus,l=t.hovered,d=t.keepRight,g=t.noPadding,b=t.onButtonClick,R=t.onUserActivityChanged,A=t.releaseFocus,P=t.releaseFocusHold,y=t.setKeepActive,E=t.startHover,h=t.stopHover;return n.createElement(u,{ariaLabel:this.context.getI18nString(m,"report.problem.button.aria.label"),controlsInteractionType:e,className:"ReportAProblemPopupContainer",focused:o,focusName:c.REPORT_A_PROBLEM,grabAndHoldFocus:r,grabFocus:s,holdingFocus:a,hovered:l,iconName:"reportAProblem",buttonChildren:n.createElement(i,{bundle:m,stringKey:"report.problem.question.mark",className:"ReportAProblem--button-icon"}),keepRight:d,commandLoggingName:p.REPORT_A_PROBLEM,noPadding:g,onClick:b,onUserActivityChanged:R,releaseFocus:A,releaseFocusHold:P,setKeepActive:y,startHover:E,stopHover:h,tabIndex:0},o===c.REPORT_A_PROBLEM&&n.createElement("div",{className:"ReportAProblem--popup popup-content"},n.createElement("span",{className:"ReportAProblem--popup-text"},n.createElement(i,{bundle:m,stringKey:"report.problem.popup.cta"}))))}});t.exports=d});C.r("player/nfplayer/components/controls/roundPlayPauseButton.jsx",function(e,a,t){"use strict";function n(e){return{"size-small":e===i,"size-medium":e===u,"size-large":e===c}}var r=e("classnames"),s=e("../../../../utils/shallowCompare"),o=(e("prop-types"),e("react")),l=e("create-react-class"),p=e("../../../../common/svgIcon.jsx"),i="small",u="medium",c="large",m=o.createElement(p,{name:"nfplayerOpticalCenterPause",preventFocus:!0}),y=o.createElement(p,{name:"nfplayerOpticalCenterPlay",preventFocus:!0}),d=l({displayName:"RoundPlayPauseButton",statics:{PAUSE:"pause",PLAY:"play",sizes:{SMALL:i,MED:u,LARGE:c}},getDefaultProps:function(){return{animate:!0,grow:!1,tabIndex:-1,usePointerCursor:!0}},shouldComponentUpdate:s.partialProps(["type","animate"]),render:function(){var e=this.props,a=e.animate,t=e.grow,s=e.onClick,l=e.type,p=e.size,i=e.tabIndex,u=e.usePointerCursor,c=r("nf-big-play-pause",{play:"play"===l,pause:"pause"===l,"cursor-pointer":u,animate:a,grow:t},n(p));return o.createElement("div",{className:c},o.createElement("button",{"aria-hidden":i<0?"true":void 0,tabIndex:i,onClick:s},"play"===l&&y,"play"!==l&&m))}});a.exports=d});C.r("player/nfplayer/components/controls/scrubber.jsx",function(a,e,r){"use strict";var s=(a("prop-types"),a("react")),t=a("create-react-class"),p=a("classnames"),i=a("../playerSurface.jsx"),l=a("../../../../utils/shallowCompare"),o=t({displayName:"Scrubber",shouldComponentUpdate:l.props,render:function(){var a={};return a[this.props.direction]=this.props.position+"%",s.createElement(i,{className:p("scrubber-target"),style:a},s.createElement(i,{className:p("scrubber-head"),tabIndex:0,ariaLabel:this.props.ariaLabel,ariaValueMin:this.props.ariaValueMin,ariaValueMax:this.props.ariaValueMax,ariaValueNow:this.props.ariaValueNow,ariaValueText:this.props.ariaValueText}))}});e.exports=o});C.r("player/nfplayer/components/controls/skipIntroCredits.jsx",function(t,e,i){"use strict";var n=t("lodash"),s=t("prop-types"),r=t("react"),o=t("create-react-class"),a=t("classnames"),p=t("shakti-platform/dist/ui/ShaktiProperties"),d=t("../../../../akira/components/controls/flatButton.jsx"),c=t("../../utils/playerConfig"),l=t("../../common/playerEvents"),h=t("../../../../utils/shallowCompare"),u=t("../../../../reactMixins/eventBus"),m=t("../../../../common/keyCodes"),E=t("../../../../akira/redux/logging/commandTriggers"),k=t("../../../../components/presentationTracking/trackingComponents/logPresentationManually"),v=k(o({displayName:"SkipCredit",contextTypes:{getI18nString:s.func.isRequired},_onPresentationEnd:void 0,getDefaultProps:function(){var t=c.getFreshInitParams();return{creditMarkers:{},controlsHidden:!0,skipCreditsDisplayDuration:n.get(t,"skipCreditsDisplayDuration",6e3),cadmium:{},fastForward:n.noop}},getInitialState:function(){return{positionType:"",initialDisplayCompleted:!1,hideSkip:this.props.controlsHidden,buttonClicked:!1,skipCreditsEnabled:p.get("wwwplayer.config.skip.credits.enabled")||!1,forceHide:!0}},getLabelString:function(){var t=void 0;switch(this.state.positionType){case"INSIDE_CREDITS":t="skip.intro.button";break;case"INSIDE_RECAP":t="skip.recap.button";break;default:t="skip.button"}return this.context.getI18nString("player/player",t)},shouldComponentUpdate:h.state,componentWillReceiveProps:function(t){t.player!==this.props.player&&(this.teardown(),this.setState({initialDisplayCompleted:!1,buttonClicked:!1,forceHide:!0}),this.setup(t.player,t.cadmium))},componentDidMount:function(){var t=this.props,e=t.player,i=t.cadmium;this.setup(e,i)},setup:function(t,e){n.isEmpty(e)?(t.on(l.TIME_UPDATE,this.onPlayerTimeUpdate),t.on(l.ACTIVE,this.onActive),t.on(l.INACTIVE,this.onInactive)):(t.addEventListener("currenttimechanged",this.onPlayerTimeUpdate),e.UiEvents.addEventListener(e.UiEvents.knownEvents.CINEMA_MODE_EXIT,this.onActive),e.UiEvents.addEventListener(e.UiEvents.knownEvents.CINEMA_MODE_ENTER,this.onInactive)),this._initialShowing=!0},teardown:function(){var t=this.props,e=t.player,i=t.cadmium;n.isEmpty(i)?(e.removeListener(l.TIME_UPDATE,this.onPlayerTimeUpdate),e.removeListener(l.ACTIVE,this.onActive),e.removeListener(l.INACTIVE,this.onInactive)):(e.removeEventListener("currenttimechanged",this.onPlayerTimeUpdate),i.UiEvents.removeEventListener(i.UiEvents.knownEvents.CINEMA_MODE_EXIT,this.onActive),i.UiEvents.removeEventListener(i.UiEvents.knownEvents.CINEMA_MODE_ENTER,this.onInactive)),clearTimeout(this._initialDisplayTimer)},componentWillUnmount:function(){this.teardown()},onPlayerTimeUpdate:function(){n.isEmpty(this.props.creditMarkers)||this.checkCreditMarkers()},onInactive:function(){this.setState({hideSkip:!0})},onActive:function(){this.setState({hideSkip:!1})},onKeyDown:function(t){m.s===t.keyCode&&this.skip(!0)},onClick:function(t){this.skip(!1)},skip:E.SkipAheadCommand(function(t){var e=0,i=0,s=t?"key":"pointer";switch(this.state.positionType){case"INSIDE_CREDITS":e=n.get(this.props,"creditMarkers.credit.end",0);break;case"INSIDE_RECAP":e=n.get(this.props,"creditMarkers.recap.end",0);break;default:e=0}this.props.fastForward&&e>0&&(i=e-this.getCurrentTimeinMS(),e=n.isEmpty(this.props.cadmium)?e/1e3:e,this.props.fastForward(e)),this.setState({buttonClicked:!0}),u.emit("playerui:click",{name:"skipCredits",inputMethod:s,timeSkipped:i,initial:this._initialShowing})}),checkCreditMarkers:function(){var t="OUTSIDE_MARKERS",e=this.getCurrentTimeinMS(),i=n.get(this.props,"creditMarkers.credit",{start:0,end:0}),s=n.get(this.props,"creditMarkers.recap",{start:0,end:0});e>i.start&&e<i.end?t="INSIDE_CREDITS":e>s.start&&e<s.end&&(t="INSIDE_RECAP"),this.state.positionType!==t&&("OUTSIDE_MARKERS"!==t?this.enteredMarkerZone():this.exitedMarkerZone(),this.setState({positionType:t,buttonClicked:!1}))},getCurrentTimeinMS:function(){var t=this.props.player.getCurrentTime();return n.isEmpty(this.props.cadmium)?1e3*t:t},enteredMarkerZone:function(){var t=this;document.addEventListener("keydown",this.onKeyDown,!0),this._initialShowing=!0,this._initialDisplayTimer=setTimeout(function(){t.setState({initialDisplayCompleted:!0})},6e3),requestAnimationFrame(function(){t.setState({forceHide:!1})})},exitedMarkerZone:function(){document.removeEventListener("keydown",this.onKeyDown,!0),clearTimeout(this._initialDisplayTimer),this.setState({initialDisplayCompleted:!1,forceHide:!0})},emitShowHideEvent:function(t){void 0===this._prevHiddenState&&t||this._prevHiddenState!==t&&(u.emit("logSkipCreditsHideShow",{hidden:t,initial:this._initialShowing}),t?this._onPresentationEnd&&(this._onPresentationEnd(),delete this._onPresentationEnd):this._onPresentationEnd=this.props.onPresentationStart("skipIntroButton",{}),t&&(this._initialShowing=!1)),this._prevHiddenState=t},render:function(){var t=this.props.creditMarkers,e=this.state,i=e.initialDisplayCompleted,s=e.positionType,o=e.hideSkip,p=e.buttonClicked,c=e.skipCreditsEnabled,l=e.forceHide;if(!c)return null;if(n.isEmpty(t))return null;if(!s||"OUTSIDE_MARKERS"===s)return this._prevHiddenState||this.emitShowHideEvent(!0),null;var h=i&&(l||p||o);return this.emitShowHideEvent(h),r.createElement("div",{className:a("skip-credits",{"skip-credits-hidden":h,"skip-credits-flash":p})},r.createElement(d,{label:this.getLabelString(),ariaLabel:this.getLabelString(),tabIndex:0,flatButton:!0,onClick:this.onClick}))}}));e.exports=v});C.r("player/nfplayer/components/controls/timeRemaining.jsx",function(e,r,t){"use strict";var n=e("classnames"),a=e("../../../../utils/shallowCompare"),i=(e("../../common/nfplayerInterface"),e("../../common/playerControls")),s=e("../../common/playerEvents"),l=(e("prop-types"),e("react")),o=e("create-react-class"),c=e("../../utils/time.js"),u=o({displayName:"TimeRemaining",statics:{CONTROL_NAME:i.TIME_REMAINING},getDefaultProps:function(){return{isBlurred:!1,isHidden:!1}},getInitialState:function(e){return{currentPlayerTime:(e||this.props.player).getCurrentTime(),currentScrubTime:-1,isScrubbing:!1}},shouldComponentUpdate:function(e,r){return(!this.props.isHidden||!e.isHidden)&&a.pureRender(e,r)},componentDidMount:function(){this.addPlayerHandlers(this.props.player)},componentWillReceiveProps:function(e){e.player!==this.props.player&&(this.removePlayerHandlers(),this.setState(this.getInitialState(e.player)),this.addPlayerHandlers(e.player))},componentWillUnmount:function(){this.removePlayerHandlers()},handlePlayerScrub:function(e){this.setState({currentScrubTime:e.state.currentScrubTime})},handlePlayerScrubEnd:function(e){this.setState({currentPlayerTime:this.state.currentScrubTime,currentScrubTime:-1,isScrubbing:!1})},handlePlayerScrubStart:function(e){this.setState({currentScrubTime:e.state.currentScrubTime,isScrubbing:!0})},handlePlayerTimeUpdate:function(e){this.setState({currentPlayerTime:this.props.player.getCurrentTime()})},addPlayerHandlers:function(e){e.on(s.PLAYING,this.handlePlayerTimeUpdate),e.on(s.SCRUB_UNBATCHED,this.handlePlayerScrub),e.on(s.SCRUB_END_UNBATCHED,this.handlePlayerScrubEnd),e.on(s.SCRUB_START_UNBATCHED,this.handlePlayerScrubStart),e.on(s.TIME_UPDATE,this.handlePlayerTimeUpdate)},removePlayerHandlers:function(){var e=this.props.player;e.removeListener(s.PLAYING,this.handlePlayerTimeUpdate),e.removeListener(s.SCRUB_UNBATCHED,this.handlePlayerScrub),e.removeListener(s.SCRUB_END_UNBATCHED,this.handlePlayerScrubEnd),e.removeListener(s.SCRUB_START_UNBATCHED,this.handlePlayerScrubStart),e.removeListener(s.TIME_UPDATE,this.handlePlayerTimeUpdate)},render:function(){var e=this.props,r=e.isBlurred,t=e.isHidden,a=e.player,i=this.state,s=i.currentPlayerTime,o=i.currentScrubTime,u=a.getDuration(),m=o>-1?o:s;return l.createElement("div",{className:n("PlayerControls--control-element","time-remaining","text-control",{"PlayerControls--control-element-hidden":t,"PlayerControls--control-element-blurred":r})},l.createElement("time",{className:"time"},u?c.convert(u-m):"0:00"))}});r.exports=u});C.r("player/nfplayer/components/controls/volume.jsx",function(e,t,o){"use strict";var l=e("./button.jsx"),n=e("../../../../utils/shallowCompare"),s=e("../../mixins/controlFocus.js"),a=e("../../common/playerControls"),r=e("./popup.jsx"),i=e("prop-types"),u=e("react"),c=e("create-react-class"),d=e("./volumeController.jsx"),p=e("../hoc/withEffects.jsx"),m=e("../../common/playerEvents"),h=p(r),v=c({displayName:"VolumeButton",contextTypes:{getI18nString:i.func.isRequired},statics:{CONTROL_NAME:a.VOLUME},shouldComponentUpdate:n.partialPropsAndAllState(["focused","hovered","isHidden","muted","player"]),getDefaultProps:function(){return{isHidden:!1,volume:1,muted:!1}},getInitialState:function(){return{localVolume:this.props.volume,localMuted:this.props.muted}},componentDidMount:function(){var e=this.props.player;this.addPlayerHandlers(e)},componentWillReceiveProps:function(e){e.player!==this.props.player&&(this.removePlayerHandlers(),this.oldVolume=void 0,this.addPlayerHandlers(e.player))},componentWillUnmount:function(){this.removePlayerHandlers()},addPlayerHandlers:function(e){e.on(m.VOLUME_CHANGED_UNBATCHED,this.updateLocalVolume)},removePlayerHandlers:function(){this.props.player.removeListener(m.VOLUME_CHANGED_UNBATCHED,this.updateLocalVolume)},updateLocalVolume:function(e){this.setState({localVolume:e.state.volume,localMuted:"boolean"==typeof e.state.muted?e.state.muted:this.state.localMuted})},handleScrubStart:function(e){var t=this.props,o=t.onScrubStart,l=t.grabAndHoldFocus,n=t.setKeepActive;l(s.VOLUME),n(!0),this.oldVolume=this.state.localVolume,this.setVolume(e),o&&o(e)},handleScrubEnd:function(e){var t=this.props,o=t.releaseFocusHold,l=t.setKeepActive,n=t.onScrubEnd;o(s.VOLUME),l(!1),e&&this.setVolume(e),this.oldVolume=void 0,n&&n(e)},handleScrub:function(e){var t=this.props.onScrub;this.setVolume(e),t&&t(e)},setVolume:function(e){var t=this.props.player;0===e?(t.setMuted(!0),t.setVolume(this.oldVolume?this.oldVolume:0)):(t.setMuted(!1),t.setVolume(e)),this.setState({localVolume:e})},toggleMute:function(){this.props.player.toggleMute()},render:function(){var e=this.props,t=e.caretPosition,o=e.delay,n=e.focused,a=e.grabFocus,r=e.holdingFocus,i=e.hovered,c=e.isHidden,m=e.onClick,v=e.onClickCapture,y=e.onDoubleClickCapture,V=e.onKeyDownCapture,f=e.onKeyUp,g=e.onUserActivityChanged,C=e.releaseFocus,b=e.setKeepActive,M=e.startHover,E=e.stopHover,S=e.tooltipAlignment,H=e.tooltipPosition,L=this.state,A=L.localVolume,U=L.localMuted,P=void 0;P=U?"volumeMuted":A>.666?"volumeMax":A>.333?"volumeMedium":"volumeLow";var x=this.context.getI18nString("player/player","button.volume"+(U?".muted":""));return u.createElement(h,{ariaLabel:x,buttonType:"default",commandLoggingName:p.VOLUME,delay:o,focused:n,focusName:s.VOLUME,grabFocus:a,holdingFocus:r,hovered:i,iconName:P,isHidden:c,noPadding:!0,onButtonClick:this.toggleMute,onClick:m,onClickCapture:v,onDoubleClickCapture:y,onKeyDownCapture:V,onKeyUp:f,onUserActivityChanged:g,releaseFocus:C,setKeepActive:b,startHover:M,stopHover:E,tabIndex:0,tooltip:x,tooltipAlignment:S,tooltipPosition:H},n===s.VOLUME&&u.createElement(d,{caretPosition:t,muted:U,onScrub:this.handleScrub,onScrubEnd:this.handleScrubEnd,onScrubStart:this.handleScrubStart,volume:A},u.createElement(l,{ariaLabel:x,iconName:P,isHidden:!1,onClick:this.toggleMute,tabIndex:0,type:"default"})))}});t.exports=v});C.r("player/nfplayer/components/controls/volumeController.jsx",function(e,t,n){"use strict";var o=e("lodash"),s=e("classnames"),i=e("../../../../utils/shallowCompare"),r=e("prop-types"),u=e("react"),a=e("create-react-class"),c=e("react-dom"),d=e("./scrubber.jsx"),m=e("../playerSurface.jsx"),h=a({displayName:"VolumeController",contextTypes:{getI18nString:r.func.isRequired},statics:{caretPosition:{TOP:"top",BOTTOM:"bottom"}},getDefaultProps:function(){return{caretPosition:"bottom",onScrubEnd:o.noop,onScrubStart:o.noop}},dimensions:null,shouldComponentUpdate:i.pureRender,handleMouseEnter:function(){this.getSliderDimensions()},getSliderDimensions:function(){return this.dimensions||(this.dimensions=c.findDOMNode(this.refs.track).getBoundingClientRect()),this.dimensions},getCursorPosition:function(e){var t=e&&e.targetTouches&&e.targetTouches.length&&e.targetTouches[0]||e&&e.changedTouches&&e.changedTouches.length&&e.changedTouches[0];if(t&&(e=t),!e||!e.clientY)return null;var n=this.getSliderDimensions(),o=(n.bottom-e.clientY)/n.height;return Math.min(1,Math.max(0,o))},addDocumentListeners:function(){this._hasDocumentListeners||(document.body.classList.add("scrubbing-surface","nfp"),window.PointerEvent?document.body.addEventListener("pointermove",this.handleDocumentMouseMove):(document.body.addEventListener("mousemove",this.handleDocumentMouseMove),document.body.addEventListener("touchmove",this.handleDocumentMouseMove)),document.body.addEventListener("mouseup",this.handleDocumentMouseUp),document.body.addEventListener("touchend",this.handleDocumentMouseUp),this._hasDocumentListeners=!0)},removeDocumentListeners:function(){this._hasDocumentListeners&&(window.PointerEvent?document.body.removeEventListener("pointermove",this.handleDocumentMouseMove):(document.body.removeEventListener("mousemove",this.handleDocumentMouseMove),document.body.removeEventListener("touchmove",this.handleDocumentMouseMove)),document.body.removeEventListener("mouseup",this.handleDocumentMouseUp),document.body.removeEventListener("touchend",this.handleDocumentMouseUp),document.body.classList.remove("scrubbing-surface","nfp"),this._hasDocumentListeners=!1)},handleMouseDown:function(e){if(!this._hasDocumentListeners){var t=this.props.onScrubStart;this.dimensions=this.getSliderDimensions(),t(this.getCursorPosition(e)),this.addDocumentListeners()}},handleDocumentMouseMove:function(e){var t=this;if(!(e.touches&&e.touches.length>1)){"touchmove"!==e.type&&"pointermove"!==e.type||e.preventDefault();var n=this.getCursorPosition(e);requestAnimationFrame(function(){t.props.onScrub(n)})}},handleDocumentMouseUp:function(e){(0,this.props.onScrubEnd)(this.getCursorPosition(e)),this.removeDocumentListeners()},componentWillUnmount:function(){this.removeDocumentListeners()},render:function(){var e=this.props,t=e.children,n=e.clickedToOpen,o=e.muted,i=e.volume,r=o?0:100*i,a=Math.floor(r),c=this.context.getI18nString("player/player","aria.value.text.percent.scrubber",{value:a});return u.createElement("div",{className:s("popup-content","volume-controller")},u.createElement(m,{className:s("slider-container","container"),onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onTouchStart:this.handleMouseDown},u.createElement("div",{className:s("slider-bar-container"),ref:"track"},u.createElement(d,{ariaLabel:this.context.getI18nString("player/player","button.volume"),ariaValueMax:100,ariaValueMin:0,ariaValueNow:a,ariaValueText:c,direction:"bottom",position:r}),u.createElement("div",{className:"slider-bar-percentage",style:{height:r+"%"}}))),n&&u.createElement("div",{className:"volume-container-children"},t))}});t.exports=h});C.r("player/nfplayer/components/playerSurface.jsx",function(o,e,n){"use strict";var a=o("lodash"),t=o("classnames"),s=(o("prop-types"),o("react")),i=o("create-react-class"),r=o("../../../utils/shallowCompare"),u=o("../types/staticConfiguration"),l={leading:!0,trailing:!1},c=i({displayName:"PlayerSurface",shouldComponentUpdate:r.pureRender,contextTypes:{staticConfiguration:u},onMouseMove:function(o){this.props.onMouseMove&&this.props.onMouseMove(o)},onMouseEnter:function(o){this.props.onMouseEnter&&this.props.onMouseEnter(o),this.onUserActivityChanged(!0)},onMouseLeave:function(o){this.props.onMouseLeave&&this.props.onMouseLeave(o),this.onUserActivityChanged(!1)},onUserActivityChanged:function(o){this.props.onUserActivityChanged&&this.props.onUserActivityChanged(o)},render:function(){var o=this.props,e=o.ariaLabel,n=o.ariaValueMax,i=o.ariaValueMin,r=o.ariaValueNow,u=o.ariaValueText,c=o.children,p=o.className,M=o.onClick,h=o.onClickCapture,v=o.onContextMenu,C=o.onDoubleClick,d=o.onDoubleClickCapture,y=o.onKeyDown,f=o.onKeyDownCapture,x=o.onKeyUp,b=o.onMouseUp,m=o.onMouseDown,D=o.onScroll,U=o.onTouchEnd,g=o.onTouchMove,w=o.onTouchStart,k=o.style,E=o.tabIndex;return s.createElement("div",{"aria-label":e,"aria-valuemin":i,"aria-valuemax":n,"aria-valuenow":r,"aria-valuetext":u,className:t(p),onClick:M?a.debounce(M,500,l):void 0,onClickCapture:h,onContextMenu:v,onDoubleClick:C,onDoubleClickCapture:d,onKeyDownCapture:f,onKeyDown:y,onKeyUp:x,onMouseDown:m?a.debounce(m,500,l):void 0,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove,onMouseUp:b,onScroll:D,onTouchEnd:U,onTouchMove:g,onTouchStart:w,style:k,tabIndex:E},c)}});e.exports=c});C.r("player/nfplayer/components/skipRecapButton.jsx",function(e,t,n){"use strict";var a=e("prop-types"),i=e("react"),r=e("create-react-class"),l=e("classnames"),s=e("../../../akira/components/controls/flatButton.jsx"),p=r({displayName:"Recap",contextTypes:{getI18nString:a.func.isRequired},playMainTitle:function(){this.props.playMainTitle(this.props.mainVideoId)},onClick:function(){this.playMainTitle()},componentWillReceiveProps:function(e){e.playbackEnded&&this.playMainTitle()},render:function(){if(!this.props.hasPreplay)return null;var e=this.context.getI18nString("player/player","recap.skip.button");return i.createElement("div",{className:l("recap-lower")},i.createElement(s,{label:e,ariaLabel:e,tabIndex:0,flatButton:!0,onClick:this.onClick}))}});t.exports=p});C.r("player/nfplayer/utils/makePercent.js",function(r,t,e){"use strict";function n(r){return r?Math.round(100*r*100)/100+"%":"0%"}t.exports=n});C.r("player/nfplayer/utils/optionalControl.js",function(r,n,t){"use strict";var e={shouldRender:function(r,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!1!==r&&(!0===r&&!t||(Array.isArray(r)?r.indexOf(n)>-1:r&&!t))}};n.exports=e});C.r("player/nfplayer/utils/time.js",function(t,r,e){"use strict";function n(t){var r=parseInt(t,10),e=0,n=0;return r>=3600&&(e=parseInt(r/3600,10),r%=3600),r>=60&&(n=parseInt(r/60,10),r%=60),{h:e,m:n,s:r}}r.exports={convert:function(t){var r="",e=n(t);return e.h>0&&(r=e.h+":",e.m<10&&(r+="0")),(r+=e.m+":")+(e.s>=10?e.s:"0"+e.s)},flooredTime:function(t,r){return r=r||10,Math.max(0,(t/r>>0)*r)},getFormattedTime:n}});C.r("utils/isRtl.js",function(t,r,l){"use strict";var s=t("lodash");r.exports=function(t){return!!t&&"rtl"===s.get(t||{},"locale.dir","ltr")}});C.r("player/nfplayer/components/controls/playerControlsLegacyStyles.jsx",function(e,t,o){"use strict";var s=e("react"),r=e("create-react-class"),i=e("prop-types"),a=e("lodash"),n=e("classnames"),l=e("./audioSubtitles.jsx"),c=e("./button.jsx"),d=e("../../mixins/controlFocus"),u=e("./controlRow.jsx"),h=e("./episodeSelector/index.jsx"),p=e("./evidenceOverlay.jsx"),v=e("./exitButton.jsx"),g=e("./fullHitZone.jsx"),m=e("./fullscreen.jsx"),E=e("./mdx.jsx"),F=e("./next.jsx"),T=e("../../utils/optionalControl"),y=e("./play.jsx"),b=e("./playIcon.jsx"),A=e("../../common/playerControls"),C=e("../playerSurface.jsx"),H=e("../../common/PlayerUIState"),P=e("./progressBar.jsx"),f=e("./skipIntroCredits.jsx"),x=e("../../components/skipRecapButton.jsx"),O=e("./timeRemaining.jsx"),N=e("../../uiLabel"),R=e("../../../../components/ux/UIMarkup.jsx"),I=(e("../../common/Video"),e("./volume.jsx")),L=e("../../types/staticConfiguration"),S=e("./controlLayoutShouldComponentUpdate"),k=e("./reportAProblemButton.jsx"),M="player/player",_=H.ACTIVATING,D=H.ACTIVE,w=H.DISABLED,j=H.IDLE,V=H.INACTIVE,B=H.LOADING,U=H.OVERLAYED,K=H.POWER_SAVE,z=H.TIMED_OUT,W=[j,w,z],G=[V,K,_,B],Y=r({displayName:"PlayerLegacyStylesControls",_bottomControlsEl:void 0,mixins:[d],contextTypes:{actionCreators:i.object,getI18nString:i.func.isRequired,getModelData:i.func.isRequired,playerSession:i.object,staticConfiguration:L},getDefaultProps:function(){return{controls:!0}},shouldComponentUpdate:S,componentWillReceiveProps:function(e){e.uiState!==V||this.state.holdingFocus||(this.releaseFocus(this.state.focused),this.stopHover(this.state.hovered)),e.player!==this.props.player&&this.resetControlFocus()},componentWillUnmount:function(){this._bottomControlsEl=void 0},setBottomControlsEl:function(e){this._bottomControlsEl=e},getTimedTextBounds:function(){var e=this.props.playerDimensions;if(!this._bottomControlsEl)return{bottom:0};var t=this._bottomControlsEl.getBoundingClientRect();return{bottom:Math.floor(!e||0===t.width&&0===t.height?Math.max(0,t.height):Math.max(0,e.height-t.top))}},onPointerEnter:function(e){"touch"!==e.pointerType&&this.props.setKeepActive(!0)},onPointerLeave:function(e){"touch"!==e.pointerType&&this.props.setKeepActive(!1)},showReportAProblemDialog:function(){var e=this.context,t=e.actionCreators,o=e.playerSession;t&&t.showReportAProblemDialog&&t.showReportAProblemDialog({wasPlayerPaused:!!this.props.player&&this.props.player.getPaused(),sessionId:o.getId()})},renderVideoTitle:function(){var e=this.props.activeVideo;if(!e)return null;if(e.isEpisodic()){if(e.showEpisodeNumbers()){var t=this.context.getI18nString(M,"status.bar.episodic",{SHOW_TITLE:e.getTitle(),SEASON_LABEL:e.getSeason().getShortName(),EPISODE_NUMBER:e.getEpisodeNumber(),EPISODE_TITLE:e.getEpisodeTitle()});return s.createElement(R,{className:"ellipsize-text",tagType:"div",text:t})}var o=this.context.getI18nString(M,"hidden.episode.numbers.status.with.show.title",{SHOW_TITLE:e.getTitle(),EPISODE_TITLE:e.getEpisodeTitle()});return s.createElement(R,{className:"ellipsize-text",tagType:"div",text:o})}return s.createElement("h4",{className:"ellipsize-text"},e.getTitle()||"")},isDim:function(){var e=this.props,t=e.uiLabel,o=e.uiState;return t!==N.PREPLAY&&W.indexOf(o)>-1},render:function(){var e=this.props,t=e.activeVideo,o=e.audioTracks,r=e.controls,i=e.controlsMainHitzoneElement,N=e.enableFocusStyle,R=e.exitPlayer,L=e.hasPreplay,S=e.hidePlayerCloseButton,_=e.skipCreditsEnabled,w=e.isFullScreen,j=e.mainVideoId,V=e.metadata,K=e.muted,z=e.onCastToTarget,W=e.onClickPlay,Y=e.onFullScreenChange,q=e.onMouseMove,Z=e.onUserActivityChanged,J=e.paused,Q=e.playbackEnded,X=e.playbackTimedOut,$=e.player,ee=e.playerDimensions,te=e.playMainTitle,oe=e.playNextTitle,se=e.rebuffering,re=e.scrubbing,ie=e.selectedAudioTrack,ae=e.selectedTextTrack,ne=e.setAudioTrack,le=e.setKeepActive,ce=e.setTimedTextTrack,de=e.shouldFadePlayerControlsBar,ue=e.textTracks,he=e.timedTracksLoaded,pe=e.timelineElementClass,ve=e.timelineElementProps,ge=e.trackId,me=e.uiState,Ee=e.videoId,Fe=e.volume,Te=this.state.focused,ye=this.context.staticConfiguration,be=ye.isRTL,Ae=ye.playbackSupport,Ce=ye.shouldAutoCast,He=this.context.getModelData("truths"),Pe=He.mdx2Enabled,fe=He.reportAProblemControlEnabled,xe=this.isDim(),Oe=pe,Ne=n("controls","legacy-controls-styles","legacy",{active:me===D,inactive:a.contains(G,me),"focus-style":N,"is-scrubbing":re,dimmed:xe,overlayed:me===U,loading:me===B,"playback-timedout":X}),Re=n("PlayerControls--container",{"PlayerControls--low-power":me===H.POWER_SAVE}),Ie=n("PlayerControls--bottom-controls","nfp-control-row","bottom-controls",{"PlayerControls--bottom-controls-faded":de,scrubbing:re}),Le=n("PlayerControls--progress-control-row",{show:this.state.progressVisible,"PlayerControls--progress-control-row-standard":!Oe,"PlayerControls--progress-control-row-hidden":Te&&d.PROGRESS!==Te}),Se=!!t&&t.getNextEpisode();return s.createElement("div",{className:Ne,onMouseMove:q},t&&_&&!X&&s.createElement(f,{controlsHidden:me!==D,creditMarkers:t.getCreditMarkers(),fastForward:$?$.fastForward:void 0,player:$,videoType:t.getType()}),s.createElement("div",{className:Re},T.shouldRender(r,p.CONTROL_NAME)&&t&&s.createElement(p,{showContents:xe&&!X&&me!==H.DISABLED,activeVideo:t}),T.shouldRender(r,g.CONTROL_NAME)&&s.createElement(g,{focused:this.state.focused,enableClickToPlay:X,onClickPlay:W,onFullScreenChange:Y,onUserActivityChanged:Z,paused:J,rebuffering:se,releaseFocus:this.releaseFocus,uiState:me}),i&&s.createElement("div",{className:"main-hitzone-element-container"},i),me!==H.DISABLED&&s.createElement(C,{className:"PlayerControls--main-controls",onUserActivityChanged:Z},s.createElement(u,{position:u.TOP_LEFT},R&&!S&&T.shouldRender(r,v.CONTROL_NAME)&&s.createElement(v,{focused:this.state.focused,ignoreFocusForTooltipRendering:!0,grabFocus:this.grabFocus,hovered:this.state.hovered,iconName:"bvuiExit",metadata:V,onClick:R,onPointerEnter:this.onPointerEnter,onPointerLeave:this.onPointerLeave,releaseFocus:this.releaseFocus,startHover:this.startHover,stopHover:this.stopHover,tooltipBeforeElementActive:!0,tooltipAlignment:be?c.TOOLTIP_LEFT:c.TOOLTIP_RIGHT,tooltipPosition:c.TOOLTIP_CENTER,iconFilter:"#dropShadow"})),me!==H.TIMED_OUT&&s.createElement("div",{className:Ie},s.createElement("div",{className:Le,ref:this.setBottomControlsEl},!Oe&&T.shouldRender(r,P.CONTROL_NAME)&&s.createElement(P,{focused:this.state.focused,grabAndHoldFocus:this.grabAndHoldFocus,grabFocus:this.grabFocus,onPointerEnter:this.onPointerEnter,onPointerLeave:this.onPointerLeave,player:$,playerDimensions:ee,releaseFocus:this.releaseFocus,releaseFocusHold:this.releaseFocusHold,setKeepActive:le,startHover:this.startHover,stopHover:this.stopHover,trickplayVideoWidthRatio:.17}),!Oe&&T.shouldRender(r,O.CONTROL_NAME)&&s.createElement(O,{isBlurred:Boolean(Te&&Te!==d.PROGRESS),player:$}),Oe&&s.createElement(Oe,ve)),s.createElement("div",{className:"PlayerControls--button-control-row"},T.shouldRender(r,y.CONTROL_NAME)&&s.createElement(y,{focused:this.state.focused,grabFocus:this.grabFocus,hovered:this.state.hovered,onClick:W,onPointerEnter:this.onPointerEnter,onPointerLeave:this.onPointerLeave,paused:J,player:$,releaseFocus:this.releaseFocus,startHover:this.startHover,stopHover:this.stopHover,tooltip:null}),"yes"!==Ae.READ_ONLY_AUDIO&&T.shouldRender(r,I.CONTROL_NAME)&&s.createElement(I,{focused:this.state.focused,grabAndHoldFocus:this.grabAndHoldFocus,grabFocus:this.grabFocus,holdingFocus:this.state.holdingFocus,hovered:this.state.hovered,muted:K,noPadding:!1,onUserActivityChanged:Z,player:$,releaseFocus:this.releaseFocus,releaseFocusHold:this.releaseFocusHold,setKeepActive:le,startHover:this.startHover,stopHover:this.stopHover,volume:Fe,tooltip:null}),T.shouldRender(r,A.VIDEO_TITLE)&&s.createElement("div",{className:n("PlayerControls--control-element","text-control","video-title",{"PlayerControls--control-element-hidden":me!==D,"show-last-border":!fe}),onMouseOver:this.onMouseOver},this.renderVideoTitle()),L&&s.createElement(x,{hasPreplay:L,mainVideoId:j,playbackEnded:Q,playMainTitle:te}),fe&&T.shouldRender(r,k.CONTROL_NAME)&&s.createElement(k,{focused:this.state.focused,keepRight:!0,hovered:this.state.hovered,holdingFocus:this.state.holdingFocus,startHover:this.startHover,stopHover:this.stopHover,grabFocus:this.grabFocus,grabAndHoldFocus:this.grabAndHoldFocus,releaseFocus:this.releaseFocus,releaseFocusHold:this.releaseFocusHold,setKeepActive:le,onUserActivityChanged:Z,onButtonClick:this.showReportAProblemDialog}),t&&Se&&T.shouldRender(r,F.CONTROL_NAME)&&s.createElement(F,{activeVideo:t,keepRight:!0,focused:this.state.focused,grabAndHoldFocus:this.grabAndHoldFocus,grabFocus:this.grabFocus,holdingFocus:this.state.holdingFocus,hovered:this.state.hovered,playIconElement:s.createElement(b,{size:b.MEDIUM,centered:!0}),playNextTitle:oe,onUserActivityChanged:Z,releaseFocus:this.releaseFocus,releaseFocusHold:this.releaseFocusHold,setKeepActive:le,showVideoProgress:!1,startHover:this.startHover,stopHover:this.stopHover,trackId:V.getNextEpisodeTrackId(),titleText:this.context.getI18nString(M,"next.episode.popup.title",{EPISODE_NUMBER:Se.getEpisodeNumber(),EPISODE_TITLE:Se.getEpisodeTitle()}),tooltip:null}),t&&t.isEpisodic()&&T.shouldRender(r,h.CONTROL_NAME)&&s.createElement(h,{activeVideo:t,displayActiveSeasonCheckmark:!1,playIconElement:s.createElement(b,{transparent:!0,centered:!0,size:b.MEDIUM}),displayShowTitle:!0,focused:this.state.focused,grabAndHoldFocus:this.grabAndHoldFocus,grabFocus:this.grabFocus,holdingFocus:this.state.holdingFocus,hovered:this.state.hovered,keepRight:!0,noPadding:!1,onUserActivityChanged:Z,playNextTitle:oe,releaseFocus:this.releaseFocus,releaseFocusHold:this.releaseFocusHold,setKeepActive:le,startHover:this.startHover,stopHover:this.stopHover,showActiveVideoProgress:!0,showVideoProgress:!0,topAligned:!1,trackId:V.getEpisodeSelectorTrackId(),tooltip:null}),(o||ue)&&T.shouldRender(r,l.CONTROL_NAME)&&s.createElement(l,{audioTracks:o,focused:this.state.focused,grabAndHoldFocus:this.grabAndHoldFocus,grabFocus:this.grabFocus,holdingFocus:this.state.holdingFocus,hovered:this.state.hovered,keepRight:!0,metadata:V,noPadding:!1,onUserActivityChanged:Z,releaseFocus:this.releaseFocus,releaseFocusHold:this.releaseFocusHold,selectedAudioTrack:ie,selectedTextTrack:ae,setAudioTrack:ne,setKeepActive:le,setTimedTextTrack:ce,startHover:this.startHover,stopHover:this.stopHover,textTracks:ue,timedTracksLoaded:he,tooltip:null}),Pe&&T.shouldRender(r,E.CONTROL_NAME)&&s.createElement(E,{focused:this.state.focused,grabAndHoldFocus:this.grabAndHoldFocus,grabFocus:this.grabFocus,holdingFocus:this.state.holdingFocus,hovered:this.state.hovered,metadata:V,onCast:z,onPointerEnter:this.onPointerEnter,onPointerLeave:this.onPointerLeave,releaseFocus:this.releaseFocus,releaseFocusHold:this.releaseFocusHold,setKeepActive:le,shouldAutoCast:Ce,startHover:this.startHover,stopHover:this.stopHover,trackId:ge,videoId:Ee,withTooltip:!1}),T.shouldRender(r,m.CONTROL_NAME)&&s.createElement(m,{focused:this.state.focused,fullScreenOnIconName:"bvuiFullScreenOn",fullScreenOffIconName:"bvuiFullScreenOff",grabFocus:this.grabFocus,holdingFocus:this.state.holdingFocus,hovered:this.state.hovered,isFullScreen:w,metadata:V,onChange:Y,onPointerEnter:this.onPointerEnter,onPointerLeave:this.onPointerLeave,releaseFocus:this.releaseFocus,releaseFocusHold:this.releaseFocusHold,setKeepActive:le,startHover:this.startHover,stopHover:this.stopHover,tooltip:null}))))))}});t.exports=Y});C.r("components/focusTrap.jsx",function(e,t,n){"use strict";function s(e){for(var t=[],n=e.length,s=0,o=n;s<o;s++){var a=e[s].nodeType;8!==a&&3!==a&&t.push(e[s])}return t}function o(e,t){return s(t?e.childNodes:e.getElementsByTagName("*"))}function a(e){if(e.hasAttribute("tabindex")){var t=e.getAttribute("tabindex");if(!isNaN(t))return!0}var n=e.nodeName;return d.test(n)?"hidden"!==e.type.toLowerCase()&&!e.disabled:"A"===n&&!!e.href}function r(e){return o(e).filter(a)}var u=(e("prop-types"),e("react")),i=e("create-react-class"),c=e("react-dom"),l=e("../common/keyCodes"),f=e("classnames"),d=/input|select|textarea|button/i,p=i({displayName:"FocusTrap",getDefaultProps:function(){return{autoFocus:!1,element:"div"}},updateFocusableElements:function(){this.focusableElements=r(c.findDOMNode(this))},componentDidUpdate:function(){this.updateFocusableElements()},componentDidMount:function(){var e=void 0;this.updateFocusableElements(),document.addEventListener("keydown",this.onKeyDown,!0),this.props.autoFocus&&(e=this.focusableElements[0])&&e.focus&&e.focus()},componentWillUnmount:function(){document.removeEventListener("keydown",this.onKeyDown,!0),this.focusableElements=null},onKeyDown:function(e){var t=c.findDOMNode(this),n=e.keyCode,s=l.TAB===n,o=e.shiftKey,a=this.focusableElements.length,r=this.focusableElements[0],u=this.focusableElements[a-1],i=this.focusableElements[a-2];s&&(o?r===e.target?(e.preventDefault(),u&&u.focus()):u===e.target&&(e.preventDefault(),i&&i.focus()):u!==e.target&&t.contains(e.target)||(e.preventDefault(),r&&r.focus()))},render:function(){var e=this.props,t=e.className,n=e.children,s=e.ariaLabel,o=e.ariaRole,a=this.props.element;return u.createElement(a,{"aria-label":s,role:o,className:f("focus-trap-wrapper",t),tabIndex:0},n)}});t.exports=p});C.r("player/nfplayer/components/spinner.jsx",function(e,n,r){"use strict";var t=e("react"),a=e("create-react-class"),s=e("prop-types"),p=a({displayName:"Spinner",contextTypes:{getI18nString:s.func.isRequired},shouldComponentUpdate:function(e){return e.percentage!==this.props.percentage},render:function(){var e=this.props.percentage;return void 0!==e?t.createElement("div",{className:"PlayerSpinner--container"},t.createElement("div",{className:"nf-loading-spinner"}),t.createElement("span",{className:"PlayerSpinner--percentage"},this.context.getI18nString("player/player","progress.percentage",{PERCENTAGE:e}))):t.createElement("div",{className:"nf-loading-spinner"})}});n.exports=p});C.r("player/nfplayer/components/controls/reportAProblem.jsx",function(e,t,r){"use strict";function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return Object.keys(e).filter(function(e){return"comments"!==e&&"leaving"!==e}).reduce(function(t,r){return t||e[r]},!1)}var n=e("create-react-class"),l=e("prop-types"),i=e("react"),s=e("../../../../components/string.jsx"),m=e("../../../../components/focusTrap.jsx"),c=e("classnames"),p=e("../spinner.jsx"),b=e("../../../../utils/Routes"),d=e("../../../../utils/shallowCompare"),u=e("../../../../common/svgIcon.jsx"),g="player/player",h=[{name:"mislabel",header:"report.problem.label.problem.header",definition:"report.problem.label.problem.definition"},{name:"video",header:"report.problem.video.problem.header",definition:"report.problem.video.problem.definition"},{name:"sound",header:"report.problem.sound.problem.header",definition:"report.problem.sound.problem.definition"},{name:"subtitle",header:"report.problem.subdub.problem.header",definition:"report.problem.subdub.problem.definition"},{name:"connection",header:"report.problem.network.problem.header",definition:"report.problem.network.problem.definition"}],f=n({displayName:"ReportAProblem",contextTypes:{actionCreators:l.object.isRequired,getI18nString:l.func.isRequired,playerSession:l.object.isRequired},_hideTimer:void 0,shouldComponentUpdate:d.pureRender,getInitialState:function(){return h.reduce(function(e,t){return e[t.name]=!1,e},{comments:""})},componentWillUnmount:function(){clearTimeout(this._hideTimer),this._hideTimer=void 0},hideDialog:function(){var e=this;this.setState({leaving:!0}),this._hideTimer=setTimeout(function(){e.context.actionCreators.hideReportAProblemDialog({sessionId:e.context.playerSession.getId()})},250)},onFormSubmit:function(e){e.preventDefault(),this.context.actionCreators.submitReportAProblemDialog({report:this.state,sessionId:this.context.playerSession.getId()})},updateCheckedStateForName:function(e){var t=this;return function(){t.setState(o({},e,!t.state[e]))}},updateComments:function(e){this.setState({comments:e.target.value})},render:function(){var e=this.props,t=e.requestPending,r=e.requestSuccess,o=this.state.leaving,a="boolean"==typeof r;return i.createElement(m,{className:"ReportAProblemDialog--focus-trap"},i.createElement("div",{className:c("ReportAProblemDialog--container",{"ReportAProblemDialog--container-leaving":o})},i.createElement("div",{className:"ReportAProblemDialog--dialog-box"},i.createElement("button",{tabIndex:0,className:"ReportAProblemDialog--close-button",type:"button","aria-label":"Close Report A Problem Dialog",onClick:this.hideDialog},i.createElement(u,{name:"nfplayerExit",preventFocus:!0})),i.createElement("div",{className:c("ReportAProblemDialog--form-container",{"ReportAProblemDialog--request-complete":a})},this.renderFormContainer(),t&&!a&&i.createElement(p,null),this.renderCompletionMessage()))))},renderFormContainer:function(){var e=this,t=a(this.state),r=this.props.requestPending,o="boolean"==typeof r,n=o?-1:0;return i.createElement("div",{className:c("ReportAProblemDialog--form-contents",{"ReportAProblemDialog--request-sent":o})},i.createElement("h3",{className:"ReportAProblemDialog--header"},i.createElement(s,{bundle:g,stringKey:"report.problem.dialog.header"})),i.createElement("h4",{className:"ReportAProblemDialog--sub-header"},i.createElement(s,{bundle:g,stringKey:"report.problem.dialog.subheader"})),i.createElement("form",{className:"ReportAProblemDialog--form",onSubmit:this.onFormSubmit},h.map(function(t){var r=t.name,o=t.header,a=t.definition;return i.createElement("div",{key:r,className:"ReportAProblemDialog--fieldset"},i.createElement("div",{className:"ReportAProblemDialog--checkbox-container"},i.createElement("input",{"aria-label":e.context.getI18nString(g,o),tabIndex:n,className:"ReportAProblemDialog--checkbox-input",id:r,type:"checkbox",name:r,checked:e.state[r],onChange:e.updateCheckedStateForName(r)}),i.createElement("span",{className:"ReportAProblemDialog--checkbox"})),i.createElement("div",{className:"ReportAProblemDialog--label-container"},i.createElement("label",{className:"ReportAProblemDialog--checkbox-label",htmlFor:r},i.createElement(s,{bundle:g,stringKey:o}),i.createElement(s,{bundle:g,className:"ReportAProblemDialog--checkbox-label-definition",stringKey:a}))))}),i.createElement("div",{className:c("ReportAProblemDialog--message-fieldset",{"ReportAProblemDialog--message-fieldset-visible":t})},i.createElement("h4",{className:"ReportAProblemDialog--details-header"},i.createElement(s,{bundle:g,stringKey:"report.problem.details.header",className:"ReportAProblemDialog--details-question"}),i.createElement(s,{bundle:g,stringKey:"report.problem.details.optional.disclaimer",className:"ReportAProblemDialog--details-question-optional"})),i.createElement("textarea",{tabIndex:t?n:-1,className:"ReportAProblemDialog--textarea",rows:5,cols:30,value:this.state.comments,onChange:this.updateComments}),i.createElement("button",{tabIndex:t?n:-1,type:"submit","aria-label":this.context.getI18nString(g,"report.problem.submit"),className:"ReportAProblemDialog--submit-button"},i.createElement(s,{bundle:g,stringKey:"report.problem.submit"})))))},renderCompletionMessage:function(){var e=this.props.requestSuccess,t=this.state.connection,r="boolean"==typeof e,o=r?0:-1;return i.createElement("div",{className:c("ReportAProblemDialog--completion-container",{"ReportAProblemDialog--request-complete":r})},e&&i.createElement(s,{bundle:g,stringKey:"report.problem.thanks.message",className:"ReportAProblemDialog--confirmation-title"}),e&&t&&i.createElement(s,{bundle:g,stringKey:"report.problem.buffering.message",className:"ReportAProblemDialog--confirmation-subtext"}),r&&!e&&i.createElement(s,{bundle:g,stringKey:"report.problem.error",className:"ReportAProblemDialog--error-message"}),i.createElement("div",{className:"ReportAProblemDialog--button-row"},i.createElement("button",{tabIndex:o,type:"button","aria-label":this.context.getI18nString(g,"report.problem.finish"),className:"ReportAProblemDialog--finish-button",onClick:this.hideDialog},i.createElement(s,{bundle:g,stringKey:"report.problem.finish"})),e&&t&&i.createElement("a",{className:"ReportAProblemDialog--help-link",href:b.help.makePath(),target:"_blank",title:this.context.getI18nString(g,"report.problem.buffering.link")},i.createElement(s,{bundle:g,stringKey:"report.problem.buffering.link"}),i.createElement("span",{className:"ReportAProblemDialog--chevron"}))))}});t.exports=f});C.r("player/nfplayer/components/controls/seamlessControls.jsx",function(t,e,o){"use strict";var n=t("create-react-class"),s=t("classnames"),i=t("prop-types"),a=t("react"),r=t("../../../../akira/components/controls/flatButton.jsx"),l=t("../../../../components/presentationTracking/trackingComponents/logPresentationManually"),c=t("../../../../akira/redux/logging/commandTriggers"),d=t("../../../../akira/redux/decorators/decorateWithUuid"),u="player/player",h=function(){},m=l(n({displayName:"SeamlessControls",_isMounted:void 0,_fadeInId:void 0,_intervalId:void 0,_fadeOutId:void 0,_watchNextPresEnd:void 0,_logCountdownActions:void 0,contextTypes:{getI18nString:i.func.isRequired,playerApp:i.object.isRequired},getDefaultProps:function(){return{initialCountDownTime:5,onClickWatchCredits:h,onClickWatchNextEpisode:h,onCountdownComplete:h,shouldAutoPlay:!0,showWatchCreditsButton:!0,showControls:!0}},getInitialState:function(){return{time:this.props.initialCountDownTime,hideButtons:!0}},componentDidMount:function(){var t=this;this._isMounted=!0,this.startTimer(),this._fadeInId=setTimeout(function(){t._isMounted&&t.setState({hideButtons:!1})},16)},clearTimers:function(){clearTimeout(this._fadeInId),clearTimeout(this._fadeOutId),"number"==typeof this._intervalId&&clearInterval(this._intervalId),this._logCountdownActions&&(this._logCountdownActions.logCancelPlayNextCountdownTimer(),delete this._logCountdownActions)},componentWillReceiveProps:function(t){!t.showControls&&this.props.showControls?this.clearTimers():t.showControls&&!this.props.showControls&&this.startTimer()},componentWillUnmount:function(){this.clearTimers(),this._isMounted=!1,this._watchNextPresEnd&&this._watchNextPresEnd()},componentDidUpdate:function(t,e){var o=this.shouldControlsDisplay(this.props,this.state);o!==this.shouldControlsDisplay(t,e)&&(o?this._watchNextPresEnd=this.props.onPresentationStart("continueWatchingButton"):this._watchNextPresEnd&&this._watchNextPresEnd())},shouldControlsDisplay:function(t,e){return t.showControls&&!e.hideButtons},startTimer:function(){var t=this;this.props.shouldAutoPlay&&(this.clearTimers(),this._logCountdownActions=d(this.context.playerApp.getActionCreators()),this._logCountdownActions.logStartPlayNextCountdownTimer({maxDuration:this.props.initialCountDownTime}),this.setState({time:this.props.initialCountDownTime}),this._intervalId=setInterval(function(){t.state.time<=1?(t._logCountdownActions&&(t._logCountdownActions.logEndPlayNextCountdownTimer(),delete t._logCountdownActions),t.clearTimers(),t.setState({hideButtons:!0},function(){t._fadeOutId=setTimeout(function(){t._isMounted&&t.props.onCountdownComplete()},300)})):t.setState({time:t.state.time-1})},1e3))},render:function(){var t=this.props,e=t.backgroundImageURL,o=t.onClickWatchCredits,n=t.onClickWatchNextEpisode,i=t.shouldAutoPlay,l=t.showWatchCreditsButton,d=this.context.getI18nString(u,"seamless.watch.credits.button"),h=i?this.context.getI18nString(u,"seamless.next.episode.button",{SECONDS:this.state.time}):this.context.getI18nString(u,"button.next.episode");return a.createElement("div",{className:s("nfa-pos-abs nfa-top-0 nfa-left-0 nfa-right-0 nfa-bot-0 nfa-d-flex\n     nfa-ai-flex-end nfa-jc-flex-end","SeamlessControls--container",{"SeamlessControls--container-visible":this.shouldControlsDisplay(this.props,this.state)})},e&&a.createElement("div",{className:s("SeamlessControls--background-artwork",{"SeamlessControls--background-artwork-visible":!l}),style:{backgroundImage:"url("+e+")"}}),a.createElement("div",{className:"nfa-pos-abs nfa-bot-6-em nfa-right-5-em"},i&&l&&a.createElement(r,{label:d,ariaLabel:d,tabIndex:0,flatButton:!0,onClick:o}),a.createElement(r,{label:h,ariaLabel:h,tabIndex:0,flatButton:!0,isPrimaryBtn:!0,icon:"play",onClick:c.PlayNextCommand(n)})))}}));e.exports=m});C.r("player/nfplayer/components/controls/titleEvidence.jsx",function(e,t,l){"use strict";var o=(e("prop-types"),e("react")),a=e("create-react-class"),r=(e("lodash"),e("classnames")),s=e("../../../../utils/shallowCompare"),n=e("../../common/PlayerControlsType"),c=e("../../common/PlayerUIState"),i=e("../../common/playerControls"),m=c.ACTIVATING,p=c.IDLE,E=c.INACTIVE,d=c.LOADING,y=c.POWER_SAVE,N=a({displayName:"TitleEvidence",statics:{CONTROL_NAME:i.TITLE_EVIDENCE},shouldComponentUpdate:s.partialProps(["isRTL","logoURL","title","topNodeTitle","uiState"]),render:function(){var e=this.props,t=e.controlsType,l=e.isRTL,a=e.logoURL,s=e.title,c=e.topNodeTitle,i=e.uiState,N=r("PlayerControls--control-element","player-title-evidence",{"PlayerControls--control-element-hidden":t===n.REFRESH&&i===E||i===y||i===m||t!==n.REFRESH&&i!==p&&i!==d&&i!==y&&i!==m}),T=void 0,C=null;return T=!l&&a?o.createElement("img",{className:"logo",src:a}):o.createElement("h3",{className:"title"},c||""),s&&(C=o.createElement("h4",{className:"playable-title"},s)),o.createElement("div",{className:N,"aria-label":s,tabIndex:-1},T,C)}});t.exports=N});C.r("player/nfplayer/components/fatalErrorView.jsx",function(r,e,t){"use strict";function n(r){return r&&r.display&&r.display.code&&r.display.code.indexOf(h)>-1}var i=r("prop-types"),o=r("react"),s=r("create-react-class"),a=r("lodash"),l=r("classnames"),p=r("../../../components/ux/UIMarkup.jsx"),c=r("../components/svgDefs.jsx"),d=r("../../../utils/shallowCompare"),u="discovery/akira/BVUICommon",h="7111-1957",g=s({displayName:"FatalErrorView",getDefaultProps:function(){return{initParams:{},error:new Error}},contextTypes:{getI18nString:i.func.isRequired,models:i.object},logError:function(){var r=window.netflix.clientNotifications,e=this.props.error;if(r){var t={category:"uiQOE",modalView:"errorDialog",data:{playable:this.props.videoId||-1,code:a.get(e,"display.code",-1),core:a.result(this,"props.player.getAdditionalLogInfo")||"na"}};r.notify("uiModalViewChanged",t),r.flushBuffer&&r.flushBuffer()}},shouldComponentUpdate:d.props,_getString:function(r,e,t){return this.context.getI18nString(r,e,this.context.getI18nString(u,e,t))},_getErrorString:function(r,e){var t=this.props.initParams||{},n=this,i={PHONE:t.supportPhoneNumber||"",SIGNOUT_URL:t.signoutUrl||"",CHROME_VERSION:t.chromeVersion||""},o="",s="";return r&&r.length>0&&r.some(function(r){return s=e+r+"-phone",o=n._getString(n.props.i18nBundle,s,i),(""===o||o.indexOf(s)>=0)&&(o=n._getString(n.props.i18nBundle,e+r,i)),""!==o&&!/---.*---/.test(o)&&!/{.*}/.test(o)}),(o=o.indexOf("MISSINGRESOURCE")>-1||s.indexOf(o)>-1?"":o)||this._getString(this.props.i18nBundle,e+"default")},_getSupportUrl:function(r){var e=a.get(this,"props.initParams.errorSupportUrls["+r+"]",!1);return e?"https://help.netflix.com/support/"+e:""},componentDidMount:function(){this.logError()},render:function(){var r=this.props.exitButtonElement;return o.createElement("div",{className:l("nfp-fatal-error-view")},r,o.createElement("div",{className:l("information")},o.createElement("div",{className:l("error-heading-wrapper")},this.renderErrorHeader()),o.createElement("div",{className:l("information-wrapper")},o.createElement("div",{className:l("fatal-error-view-secondary-info")},this.renderErrorTitle(),this.renderErrorText(),this.renderErrorAction(),this.renderSupportUrl()),this.renderErrorCode())),c(this.context.models))},renderErrorHeader:function(){var r=this.props,e=r.error,t=r.i18nBundle,i=n(e),s=i?u:t,a=i?"ce-head-sorry":"ce-header";return o.createElement("h1",{className:l("whoops")},this._getString(s,a))},renderErrorTitle:function(){return n(this.props.error)?null:o.createElement("h2",{className:l("error-title")},this._getErrorString(this.props.error.messageIdList,"ce-head-"))},renderErrorText:function(){var r=this.props.error,e="";return r.display?(e=n(r)?this._getString(u,"ce-text-session-expired"):r.display.text?r.display.text:this._getErrorString(r.messageIdList,"ce-text-"),o.createElement(p,{tagType:"p",className:l("error-text"),text:e})):null},renderErrorAction:function(){var r=this.props,e=r.error,t=r.initParams,i=n(e),s=t.signoutUrl||"/SignOut?lnkctr=mL",a=void 0;return i&&(a=o.createElement("a",{href:s,className:"fatal-error-view-signout-link"},this._getString(u,"ce-sign-out-button"))),a?o.createElement("div",{className:"fatal-error-view-action-container"},a):null},renderSupportUrl:function(){var r=this.props.error,e=a.get(this,"props.initParams.hideSupportUrl",!1),t=this._getString(this.props.i18nBundle,"ce-support-text"),n=this._getSupportUrl(r.display&&r.display.code||-1);return r.display&&!e&&t&&n?o.createElement("p",{className:l("player-help-center")},t," ",o.createElement("a",{href:n},n)):null},renderErrorCode:function(){var r=this.props.error;return r.display?o.createElement(p,{className:l("error-code"),tagType:"h3",text:this._getString(this.props.i18nBundle,"ce-head-code",{CODE:r.display&&r.display.code||-1})}):null}});e.exports=g});C.r("player/nfplayer/components/focus/controlFocus.jsx",function(e,t,s){"use strict";function r(e){return c.get(e,"displayName",e)}function o(e){return u({displayName:"ControlFocus("+r(e)+")",statics:c.pick(e,["getPaths","prefetchStrategies","defaultStrategy","__meta__"]),mixins:[n],render:function(){var t={delay:l,focused:this.state.focused,grabAndHoldFocus:this.grabAndHoldFocus,grabFocus:this.grabFocus,hovered:this.state.hovered,releaseFocus:this.releaseFocus,releaseFocusHold:this.releaseFocusHold,startHover:this.startHover,stopHover:this.stopHover};return i.createElement(e,a({},this.props,t))}})}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},c=e("lodash"),n=e("../../mixins/controlFocus"),i=e("react"),u=e("create-react-class"),l=200;t.exports=o});C.r("player/nfplayer/components/hoc/sizingWrapper.jsx",function(e,i,t){"use strict";function n(e){function i(e,i){var t=this;s.Component.call(this,e,i),this._sizingNode=void 0,this._wrapperNode=void 0,this.getWrapperNode=function(){return t._wrapperNode},this.wrapperRefCallback=function(e){t._wrapperNode=e},this.sizingRefCallback=function(e){t._sizingNode=e}}return i.prototype=p.assign(Object.create(s.Component.prototype),{displayName:"SizingWrapper",render:function(){var i=this.props.sizing,t=i||1;return s.createElement("div",{className:"sizing-wrapper",ref:this.wrapperRefCallback,style:{position:"absolute",top:0,bottom:0,right:0,left:0,zIndex:1,overflow:"hidden",fontSize:t.toString()+"em"}},s.createElement("div",{style:{width:"1em",height:"1em",visibility:"hidden",fontSize:"1em"},ref:this.sizingRefCallback}),s.createElement(e,o({},this.props,{getWrapperNode:this.getWrapperNode})))}}),i}function r(e,i,t,n){var r=t&&t._sizingNode;if(!r)return{sizing:1};var o=r.getBoundingClientRect(),s=e.dimensions,a=o.height,p=s.height,c=p/100,h=e.sizing||1,l=void 0;return 0===c?{sizing:h}:(a>c?(l=a/c,h/=l):c>a&&(l=c/a,h*=l),{sizing:h})}var o=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},s=e("react"),a=(e("prop-types"),e("../../../../akira/components/hoc/withUpdateDimensions.jsx")),p=e("lodash");i.exports=function(e){return a(n(e),r)}});C.r("player/nfplayer/components/keyboardNavigation.jsx",function(t,e,a){"use strict";var i=t("react"),s=t("create-react-class"),n=t("classnames"),r=t("lodash"),o=t("../../../common/keyCodes"),c=function(t){return s({statics:r.pick(t,["__meta__","defaultStrategy","getPaths","prefetchStrategies"]),getInitialState:function(){return{isNavigatingWithTab:!1}},onKeyUp:function(t){var e=t.keyCode,a=this.state.isNavigatingWithTab;e!==o.TAB||a?e===o.ESC&&a&&this.setState({isNavigatingWithTab:!1}):this.setState({isNavigatingWithTab:!0})},onMouseUp:function(){this.setState({isNavigatingWithTab:!1})},render:function(){var e=n({"nf-kb-nav-wrapper":!0,"kb-nav":this.state.isNavigatingWithTab});return i.createElement("div",{className:e,onKeyUp:this.onKeyUp,onMouseUp:this.onMouseUp},i.createElement(t,this.props))}})};e.exports=c});C.r("player/nfplayer/components/netflixScreen.jsx",function(e,n,r){"use strict";var s=(e("prop-types"),e("react")),t=e("create-react-class"),a=e("classnames"),c=e("../components/spinner.jsx"),l=t({displayName:"NetflixScreen",getDefaultProps:function(){return{spinner:!1}},render:function(){return s.createElement("div",{className:a("nf-screen-wrapper")},s.createElement("div",{className:a("nf-screen")},s.createElement("div",{className:a("nf-screen-logo")}),s.createElement("div",{className:a("nf-screen-light")}),s.createElement("div",{className:a("nf-screen-shadow")}),this.props.spinner?s.createElement(c,null):null))}});n.exports=l});C.r("player/nfplayer/components/prePlay/prePlayCacheHandler.js",function(a,t,e){"use strict";var r=a("../../../../utils/pathEvaluatorUtils"),i={_cachedPrePlayPaths:[],invalidateAllCachedPrePlayData:function(){var a=window.pathEvaluator;this._cachedPrePlayPaths.forEach(function(t){a.invalidate(t).subscribe()}),this._cachedPrePlayPaths=[]},_paramsToBasePath:function(a){var t=a.basePath;return t||(t=this.getBasePath(a.videoId,a.trackId)),t},_updateCacheLists:function(a,t){this._cachedPrePlayPaths.push(this.getExperiencePath({videoId:a,trackId:t})),this._cachedPrePlayPaths.push(this.getPlaybackVideosPath({videoId:a,trackId:t}))},getBasePath:function(a,t){return["videos",a,"current","preplay",t]},getExperiencePath:function(a){var t=["experience"];return this._paramsToBasePath(a).concat(t)},getPlaybackVideosPath:function(a){var t=["playbackVideos",{from:0,to:1}];return this._paramsToBasePath(a).concat(t)},getPrePlayPaths:function(a,t,e){var r=this.getBasePath(a,t);return[this.getExperiencePath({basePath:r}),this.getPlaybackVideosPath({basePath:r}).concat([e])]},requestPrePlay:function(a){var t=this,e=window.pathEvaluator,i=a.videoId,c=a.trackId,n=a.playbackVideoPaths,o=a.additionalPaths,s=void 0===o?[]:o,h=s.concat(this.getPrePlayPaths(i,c,n));return r.toObservable(e.get.apply(e,h)).do(function(){t._updateCacheLists(i,c)})},requestPrePlayFromList:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=window.pathEvaluator,n=a.filter(function(a){return!!a}).map(function(a){return{videoId:a.videoId,trackId:a.trackId}});return n.forEach(function(a){i=i.concat(t.getPrePlayPaths(a.videoId,a.trackId,e))}),r.toObservable(c.get.apply(c,i)).do(function(){n.forEach(function(a){var e=a.videoId,r=a.trackId;t._updateCacheLists(e,r)})})}};t.exports=i});C.r("player/nfplayer/components/svgDefs.jsx",function(s,t,r){"use strict";function e(s){return s&&s.truths&&s.truths.data&&s.truths.data.hasNFPSolidIcons?n:a}var a=s("./svgDefsOpaque.jsx"),n=s("./svgDefsSolid.jsx");t.exports=e});C.r("player/nfplayer/components/svgDefsSolid.jsx",function(e,L,t){"use strict";var a=e("react");e("create-react-class");L.exports=a.createElement("svg",{style:{height:0,width:0,position:"absolute"},xmlns:"http://www.w3.org/2000/svg"},a.createElement("defs",null,a.createElement("symbol",{id:"nfplayerFullscreen",viewBox:"0 0 18 18"},a.createElement("path",{d:"M7.41421356,8 L8,7.41421356 L8,6.58578644 L7.70710678,6.29289322 L3.41421356,2 L8,2 L8,0 L0,0 L0,8 L2,8 L2,3.41421356 L6.29289322,7.70710678 L6.58578644,8 L7.41421356,8 Z M11.4142136,10 L16,14.5857864 L16,10 L18,10 L18,18 L10,18 L10,16 L14.5857864,16 L10,11.4142136 L10,10.5857864 L10.5857864,10 L11.4142136,10 Z"})),a.createElement("symbol",{id:"nfplayerWindowed",viewBox:"0 0 18 18"},a.createElement("path",{d:"M17.4142136,18 L18,17.4142136 L18,16.5857864 L17.7071068,16.2928932 L13.4142136,12 L18,12 L18,10 L10,10 L10,18 L12,18 L12,13.4142136 L16.2928932,17.7071068 L16.5857864,18 L17.4142136,18 Z M1.41421356,2.49800181e-16 L6,4.58578644 L6,0 L8,0 L8,8 L0,8 L0,6 L4.58578644,6 L3.60822483e-16,1.41421356 L0,0.585786438 L0.585786438,8.32667268e-17 L1.41421356,0 Z"})),a.createElement("symbol",{id:"nfplayerReplay",viewBox:"0 0 24 24"},a.createElement("path",{d:"M3,10.5V10C3,4.5,7.5,0,13,0s10,4.5,10,10s-4.5,10-10.1,10c-1.9,0-3.9-0.6-5.5-1.7l-0.8-0.6l1.1-1.7 l0.8,0.6C9.9,17.5,11.4,18,13,18c4.4,0,8-3.6,8-8s-3.6-8-8-8s-8,3.6-8,8v0.7L6.8,9l1.4,1.4c0,0-2.8,2.7-4.1,4.1 c0,0-4.1-4.1-4.1-4.1L1.4,9L3,10.5z"})),a.createElement("symbol",{id:"nfplayerSubtitles",viewBox:"0 0 24 20"},a.createElement("path",{d:"M14,16 L0,16 L0,1 L24,1 L24,16 L20,16 L20,20 L14,16 Z M4,6 L4,8 L6,8 L6,6 L4,6 Z M15,10 L15,12 L17,12 L17,10 L15,10 Z M4,10 L4,12 L13,12 L13,10 L4,10 Z M8,6 L8,8 L12,8 L12,6 L8,6 Z M14,6 L14,8 L19,8 L19,6 L14,6 Z"})),a.createElement("symbol",{id:"nfplayerExit",viewBox:"0 0 18 18"},a.createElement("path",{d:"M7.53821454,9 L0,1.46178546 L1.46178546,0 L9,7.53821454 L16.5382145,0 L18,1.46178546 L10.4617855,9 L18,16.5382145 L16.5382145,18 L9,10.4617855 L1.46178546,18 L0,16.5382145 L7.53821454,9 Z"})),a.createElement("symbol",{id:"bvuiExit",viewBox:"0 0 36 36"},a.createElement("path",{d:"M312,392.74a0.34,0.34,0,0,0-.41-0.34h-6.79v-3.71c0-.3-0.34-0.41-0.45-0.26l-6.79,6.79a0.32,0.32,0,0,0-.11.22,0.29,0.29,0,0,0,.11.26l6.79,6.75a0.26,0.26,0,0,0,.19.11,0.23,0.23,0,0,0,.19,0,0.27,0.27,0,0,0,.19-0.3v-3.71h6.71a0.4,0.4,0,0,0,.38-0.3v-5.48Zm-6.15,17.85A15.13,15.13,0,1,1,321,395.44,15.11,15.11,0,0,1,305.89,410.59Zm0-33.15a18,18,0,1,0,18,18A18.09,18.09,0,0,0,305.89,377.44Z",transform:"translate(-287.85 -377.44)"})),a.createElement("symbol",{id:"nfplayerBack",viewBox:"0 0 13 18"},a.createElement("polygon",{points:"9.53821454 0 11 1.46178546 3.46178546 9 11 16.5382145 9.53821454 18 0.538214543 9"})),a.createElement("symbol",{id:"nfplayerNextEpisode",viewBox:"0 0 15 18"},a.createElement("path",{d:"M13,9.64285714 L0,18 L3.55271368e-15,8.8817842e-16 L13,8.35714286 L13,8.8817842e-16 L15,8.8817842e-16 L15,18 L13,18 L13,9.64285714 Z"})),a.createElement("symbol",{id:"nfplayerEpisodes",viewBox:"0 0 27 18"},a.createElement("path",{d:"M21,6 L21,18 L0,18 L0,6 L21,6 Z M9,2 L9,0 L27,0 L27,9 L25,9 L25,2 L9,2 Z M4,5 L4,3 L24,3 L24,14 L22,14 L22,5 L4,5 Z"})),a.createElement("symbol",{id:"nfplayerPauser",viewBox:"0 0 66 100"},a.createElement("path",{d:"M25,97.7083333 L25,2.29166667 C25,1.04166667 24.0625,0 22.7083333,0 L2.29166667,0 C0.9375,0 0,1.04166667 0,2.29166667 L0,97.7083333 C0,99.0625 0.9375,100 2.29166667,100 L22.7083333,100 C24.0625,100 25,99.0625 25,97.7083333 L25,97.7083333 Z M65.4166667,97.7083333 L65.4166667,2.29166667 C65.4166667,0.833333333 64.375,0 63.125,0 L42.7083333,0 C41.25,0 40.3125,0.833333333 40.3125,2.29166667 L40.3125,97.7083333 C40.3125,99.0625 41.4583333,100 42.7083333,100 L63.125,100 C64.375,100 65.4166667,99.0625 65.4166667,97.7083333 L65.4166667,97.7083333 Z"})),a.createElement("symbol",{id:"nfplayerPlay",viewBox:"0 0 31.5 36"},a.createElement("path",{d:"M320.8,394.12L293,378a2.79,2.79,0,0,0-1.2-.34c-0.86,0-1.39.68-1.43,1.88v32.25c0,1.2.56,1.88,1.43,1.88a2.79,2.79,0,0,0,1.2-.34l27.83-16.16a1.73,1.73,0,0,0,1-1.5A1.87,1.87,0,0,0,320.8,394.12Z",transform:"translate(-290.35 -377.62)"})),a.createElement("symbol",{id:"nfplayerPause",viewBox:"0 0 15 22"},a.createElement("path",{d:"M0,0 L4,0 L4,22 L0,22 L0,0 Z M10,0 L14,0 L14,22 L10,22 L10,0 Z"})),a.createElement("symbol",{id:"nfplayerStop",viewBox:"0 0 32 32"},a.createElement("path",{d:"M30.2190978,32 L1.78090217,32 C0.780785003,32 0,31.18737 0,30.2182127 L0,1.78178729 C0,0.781699423 0.780785003,0 1.78090217,0 L30.2190978,0 C31.219215,0 32,0.781699423 32,1.78178729 L32,30.2182127 C32,31.18737 31.219215,32 30.2190978,32 Z"})),a.createElement("symbol",{id:"nfplayerMdx",viewBox:"0 0 22 18"},a.createElement("path",{d:"M0,15 L0,18 L3,18 C3,16.34 1.66,15 0,15 L0,15 Z M0,11 L0,13 C2.76,13 5,15.24 5,18 L7,18 C7,14.13 3.87,11 0,11 L0,11 Z M0,7 L0,9 C4.97,9 9,13.03 9,18 L11,18 C11,11.92 6.07,7 0,7 L0,7 Z M20,0 L2,0 C0.9,0 0,0.9 0,2 L0,5 L2,5 L2,2 L20,2 L20,16 L13,16 L13,18 L20,18 C21.1,18 22,17.1 22,16 L22,2 C22,0.9 21.1,0 20,0 L20,0 Z"})),a.createElement("symbol",{id:"nfplayerMdxFull",viewBox:"0 0 22 18"},a.createElement("path",{d:"M0,15 L0,18 L3,18 C3,16.34 1.66,15 0,15 L0,15 Z M0,11 L0,13 C2.76,13 5,15.24 5,18 L7,18 C7,14.13 3.87,11 0,11 L0,11 Z M18,4 L4,4 L4,5.63 C7.96,6.91 11.09,10.04 12.37,14 L18,14 L18,4 L18,4 Z M0,7 L0,9 C4.97,9 9,13.03 9,18 L11,18 C11,11.92 6.07,7 0,7 L0,7 Z M20,0 L2,0 C0.9,0 0,0.9 0,2 L0,5 L2,5 L2,2 L20,2 L20,16 L13,16 L13,18 L20,18 C21.1,18 22,17.1 22,16 L22,2 C22,0.9 21.1,0 20,0 L20,0 Z"})),a.createElement("symbol",{id:"nfplayerCheck",viewBox:"0 0 17 15"},a.createElement("polygon",{points:"6.02747258 11.8427056 1.41421681 7.22946045 0 8.64367402 6.0274725 15 16.6399994 1.21574989 15.0519302 0"})),a.createElement("symbol",{id:"nfplayerOpticalCenterPlay",viewBox:"0 0 26 22"},a.createElement("polygon",{transform:"translate(16.000000, 11.000000) scale(-1, 1) rotate(-90.000000) translate(-16.000000, -11.000000) ",points:"16 1 27 21 5 21"})),a.createElement("symbol",{id:"nfplayerOpticalCenterPause",viewBox:"0 0 26 22"},a.createElement("path",{d:"M6,0 L10,0 L10,22 L6,22 L6,0 Z M16,0 L20,0 L20,22 L16,22 L16,0 Z"})),a.createElement("symbol",{id:"nfplayerBackTen",viewBox:"0 0 20 24"},a.createElement("path",{d:"M9.27569912,3.09626933 L10,3.09626933 C15.5199798,3.09626933 20,7.51885342 20,12.9808847 C20,18.442916 15.5199798,22.8655001 10,22.8655001 C4.48002025,22.8655001 0,18.442916 0,12.9808847 L0,11.9808847 L2,11.9808847 L2,12.9808847 C2,17.3325286 5.57885426,20.8655001 10,20.8655001 C14.4211457,20.8655001 18,17.3325286 18,12.9808847 C18,8.62924084 14.4211457,5.09626933 10,5.09626933 L9.28031752,5.09626933 L10.9703873,6.76923077 L9.56532696,8.19253867 L5.41585932,4.09626933 L9.56532696,0 L10.9703873,1.4233079 L9.27569912,3.09626933 Z M3.18666384,4.10389331 L5.6054898,1.37496146 L4.10879592,0.0483464356 L0.520864257,4.09626933 L4.10879592,8.14419223 L5.6054898,6.8175772 L3.18666384,4.10389331 Z"}),a.createElement("path",{d:"M8.295,16.7 L8.295,9.7 L7.165,9.7 C7.1249998,9.966668 7.0416673,10.1899991 6.915,10.37 C6.7883327,10.5500009 6.63333425,10.6949995 6.45,10.805 C6.26666575,10.9150006 6.06000115,10.9916665 5.83,11.035 C5.59999885,11.0783336 5.3616679,11.0966667 5.115,11.09 L5.115,12.16 L6.875,12.16 L6.875,16.7 L8.295,16.7 Z M11.065,13.17 C11.065,13.0499994 11.0666667,12.9050009 11.07,12.735 C11.0733334,12.5649992 11.0849999,12.3900009 11.105,12.21 C11.1250001,12.0299991 11.1583331,11.8516676 11.205,11.675 C11.2516669,11.4983325 11.3166663,11.3400007 11.4,11.2 C11.4833338,11.0599993 11.5899994,10.9466671 11.72,10.86 C11.8500007,10.7733329 12.0116657,10.73 12.205,10.73 C12.3983343,10.73 12.561666,10.7733329 12.695,10.86 C12.828334,10.9466671 12.9383329,11.0599993 13.025,11.2 C13.1116671,11.3400007 13.1766665,11.4983325 13.22,11.675 C13.2633336,11.8516676 13.2966666,12.0299991 13.32,12.21 C13.3433335,12.3900009 13.3566667,12.5649992 13.36,12.735 C13.3633334,12.9050009 13.365,13.0499994 13.365,13.17 C13.365,13.370001 13.3583334,13.6116653 13.345,13.895 C13.3316666,14.1783348 13.2900004,14.4516654 13.22,14.715 C13.1499997,14.9783347 13.0366675,15.2033324 12.88,15.39 C12.7233326,15.5766676 12.4983348,15.67 12.205,15.67 C11.9183319,15.67 11.6983341,15.5766676 11.545,15.39 C11.3916659,15.2033324 11.2800004,14.9783347 11.21,14.715 C11.1399997,14.4516654 11.0983334,14.1783348 11.085,13.895 C11.0716666,13.6116653 11.065,13.370001 11.065,13.17 L11.065,13.17 Z M9.645,13.17 C9.645,13.8700035 9.71333265,14.4549976 9.85,14.925 C9.98666735,15.3950023 10.1716655,15.7699986 10.405,16.05 C10.6383345,16.3300014 10.9099984,16.5299994 11.22,16.65 C11.5300015,16.7700006 11.8583316,16.83 12.205,16.83 C12.5583351,16.83 12.8899984,16.7700006 13.2,16.65 C13.5100015,16.5299994 13.7833321,16.3300014 14.02,16.05 C14.2566678,15.7699986 14.4433326,15.3950023 14.58,14.925 C14.7166673,14.4549976 14.785,13.8700035 14.785,13.17 C14.785,12.4899966 14.7166673,11.9183356 14.58,11.455 C14.4433326,10.9916643 14.2566678,10.6200014 14.02,10.34 C13.7833321,10.0599986 13.5100015,9.8600006 13.2,9.74 C12.8899984,9.6199994 12.5583351,9.56 12.205,9.56 C11.8583316,9.56 11.5300015,9.6199994 11.22,9.74 C10.9099984,9.8600006 10.6383345,10.0599986 10.405,10.34 C10.1716655,10.6200014 9.98666735,10.9916643 9.85,11.455 C9.71333265,11.9183356 9.645,12.4899966 9.645,13.17 L9.645,13.17 Z"})),a.createElement("symbol",{id:"volumeMuted",viewBox:"0 0 24 20"},a.createElement("polygon",{points:"12 20 6.01792115 15 1 15 1 5 6.01792097 5 12 0"}),a.createElement("path",{d:"M20.4142136,10 L23.7071068,13.2928932 L22.2928932,14.7071068 L19,11.4142136 L15.7071068,14.7071068 L14.2928932,13.2928932 L17.5857864,10 L14.2928932,6.70710678 L15.7071068,5.29289322 L19,8.58578644 L22.2928932,5.29289322 L23.7071068,6.70710678 L20.4142136,10 Z"})),a.createElement("symbol",{id:"volumeLow",viewBox:"0 0 24 20"},a.createElement("path",{d:"M15,20 L9.01792115,15 L4,15 L4,5 L9.01792097,5 L15,0 L15,20 Z M18.0799298,14.7489808 C20.711708,12.1266018 20.711708,7.87339824 18.0799298,5.25101922 L16.6682484,6.66776042 C18.5156018,8.50851616 18.5156018,11.4914838 16.6682484,13.3322396 L18.0799298,14.7489808 Z"})),a.createElement("symbol",{id:"volumeMedium",viewBox:"0 0 24 20"},a.createElement("path",{d:"M13,20 L7.01792115,15 L2,15 L2,5 L7.01792097,5 L13,0 L13,20 Z M16.0799298,14.7489808 C18.711708,12.1266018 18.711708,7.87339824 16.0799298,5.25101922 L14.6682484,6.66776042 C16.5156018,8.50851616 16.5156018,11.4914838 14.6682484,13.3322396 L16.0799298,14.7489808 Z M18.824322,16.7692859 C22.5758831,13.0311232 22.5758831,6.96887685 18.824322,3.23071414 L17.4126406,4.64745533 C20.3797769,7.60399476 20.3797769,12.3960052 17.4126406,15.3525447 L18.824322,16.7692859 Z"})),a.createElement("symbol",{id:"volumeMax",viewBox:"0 0 24 20"},a.createElement("path",{d:"M12,20 L6.01792115,15 L1,15 L1,5 L6.01792097,5 L12,0 L12,20 Z M15.0799298,14.7489808 C17.711708,12.1266018 17.711708,7.87339824 15.0799298,5.25101922 L13.6682484,6.66776042 C15.5156018,8.50851616 15.5156018,11.4914838 13.6682484,13.3322396 L15.0799298,14.7489808 Z M17.824322,16.7692859 C21.5758831,13.0311232 21.5758831,6.96887685 17.824322,3.23071414 L16.4126406,4.64745533 C19.3797769,7.60399476 19.3797769,12.3960052 16.4126406,15.3525447 L17.824322,16.7692859 Z M20.3686825,18.7809676 C25.2400266,13.9270212 25.2400266,6.05573205 20.3686825,1.20178565 L18.9570011,2.61852685 C23.0439204,6.69084997 23.0439204,13.2919032 18.9570011,17.3642264 L20.3686825,18.7809676 Z"})),a.createElement("symbol",{id:"bvuiFullScreenOff",viewBox:"0 0 50.85 35"},a.createElement("path",{d:"M326.05,399.3v8.4a1.68,1.68,0,0,1-1.16,1.57h-9.08a1.41,1.41,0,0,1-1.13-1.46,1.34,1.34,0,0,1,1.13-1.42h7.35V399.3a1.41,1.41,0,0,1,1.46-1.16A1.53,1.53,0,0,1,326.05,399.3Zm-30.75,10h-9.08a1.65,1.65,0,0,1-1.13-1.57v-8.4a1.47,1.47,0,0,1,1.46-1.16A1.57,1.57,0,0,1,288,399.3v7.09h7.28a1.43,1.43,0,0,1,1.13,1.42A1.5,1.5,0,0,1,295.3,409.28Zm20.51-26.48h9.08a1.62,1.62,0,0,1,1.16,1.61v8.4a1.46,1.46,0,0,1-1.42,1.09,1.36,1.36,0,0,1-1.46-1.09v-7.16h-7.35a1.32,1.32,0,0,1-1.13-1.42A1.46,1.46,0,0,1,315.81,382.8Zm-30.71,10v-8.4a1.59,1.59,0,0,1,1.13-1.61h9.08a1.46,1.46,0,0,1,1.13,1.43,1.32,1.32,0,0,1-1.13,1.42H288v7.16a1.51,1.51,0,0,1-1.46,1.09A1.41,1.41,0,0,1,285.1,392.81Zm45.75,19V379.95c0-1.24-1-1.87-2.44-1.95H282.66c-2.14,0-2.66,1.27-2.66,2.48v31.69c0,1.05,1.31,1.76,2.55,1.84h45.86C330.44,414,330.85,413,330.85,411.79Z",transform:"translate(-280 -378)"})),a.createElement("symbol",{id:"bvuiFullScreenOn",viewBox:"0 0 50.55 36"},a.createElement("path",{d:"M330.85,412.27v-9.56a1.43,1.43,0,0,0-1.43-1.12,1.45,1.45,0,0,0-1.5,1.13V411h-7.24a1.49,1.49,0,0,0-1.2,1.43,1.43,1.43,0,0,0,1.2,1.43h9A1.62,1.62,0,0,0,330.85,412.27Zm-49.43,1.58h9.08a1.36,1.36,0,0,0,1.16-1.43A1.49,1.49,0,0,0,290.5,411h-7.28v-8.29a1.51,1.51,0,0,0-2.93,0v9.56A1.58,1.58,0,0,0,281.43,413.85Zm42.23-9.3V385.72a0.65,0.65,0,0,0-.75-0.68H288.29a0.65,0.65,0,0,0-.75.68v18.83c0,0.45.26,0.6,0.75,0.6H322.9C323.39,405.15,323.65,405,323.65,404.55Zm6.08-26.7h-9a1.43,1.43,0,0,0-1.2,1.43,1.4,1.4,0,0,0,1.2,1.43h7.24V389a1.45,1.45,0,0,0,1.5,1.13,1.43,1.43,0,0,0,1.43-1.12v-9.64A1.59,1.59,0,0,0,329.73,377.85Zm-49.43,1.5V389a1.51,1.51,0,0,0,2.93,0V380.7h7.28a1.34,1.34,0,0,0,1.16-1.43,1.36,1.36,0,0,0-1.16-1.43h-9.08A1.55,1.55,0,0,0,280.3,379.35Z",transform:"translate(-280.3 -377.85)"})),a.createElement("filter",{id:"dropShadow"},a.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"3"}),a.createElement("feOffset",{dx:"0",dy:"0",result:"offsetblur"}),a.createElement("feFlood",{floodColor:"rgba(0,0,0,0.5)"}),a.createElement("feComposite",{in2:"offsetblur",operator:"in"}),a.createElement("feMerge",null,a.createElement("feMergeNode",null),a.createElement("feMergeNode",{in:"SourceGraphic"}))),a.createElement("linearGradient",{id:"legacyPlayerControlGradientDark",x1:"0",x2:"0",y1:"0",y2:"1"},a.createElement("stop",{offset:"0%",stopColor:"#cacaca"}),a.createElement("stop",{offset:"100%",stopColor:"#6a6a6a"})),a.createElement("linearGradient",{id:"legacyPlayerControlGradientLight",x1:"0",x2:"0",y1:"0",y2:"1"},a.createElement("stop",{offset:"0%",stopColor:"#ffffff"}),a.createElement("stop",{offset:"100%",stopColor:"#858585"}))))});C.r("player/nfplayer/components/timedText/timedTextContainer.jsx",function(e,t,n){"use strict";var r=(e("prop-types"),e("react")),s=e("create-react-class"),a=e("lodash"),o=e("../videoAspectContainer.jsx"),i=e("../../../components/imageBasedTimedText.jsx"),c=s({displayName:"TimedTextContainer",areBoundsEqual:function(e,t){return a.isEqual(e,t)},getDefaultProps:function(){return{bounds:{bottom:0}}},shouldComponentUpdate:function(e){return e.track!==this.props.track||e.player!==this.props.player||!this.areBoundsEqual(e.bounds,this.props.bounds)||e.config!==this.props.config},componentWillReceiveProps:function(e){var t=this.props,n=t.bounds,r=t.track,s=t.player;if(!this.areBoundsEqual(e.bounds,n)){var a=s!==e.player?e.player:s,o=r!==e.track?e.track:r;a&&o&&o.bcp47&&a.setTimedTextBounds(e.bounds)}},componentDidMount:function(){var e=this.props,t=e.track,n=e.bounds,r=e.player;t&&t.bcp47&&r.setTimedTextBounds(n)},render:function(){var e=this.props,t=e.config,n=e.player,s=e.bounds,a=e.track,c=null;return this.props.track.isImageBased&&(c=r.createElement(i,{ccQNRsla:t.ccQNRsla,ccQNREnabled:t.ccQNREnabled,key:a.displayName,useNFPlayerInterface:!0,videoPlayer:n,timedTextBounds:s})),c?r.createElement(o,{width:16,height:9},c):null}});t.exports=c});C.r("player/nfplayer/components/upsell/playerUpsellConfirmation.jsx",function(e,t,n){"use strict";function r(e){return o.of({error:e.status})}var a=e("prop-types"),i=e("react"),l=e("create-react-class"),s=e("lodash"),o=e("../../../../utils/rx/shakti-rx").RxObservable,c=e("../../../../utils/rx/rxUtils"),p=e("classnames"),u=e("../../../../reactMixins/eventBus"),m=e("./../controls/exitButton.jsx"),d=e("../svgDefs.jsx"),f=e("../../../../components/string.jsx"),g=e("../../../../akira/components/controls/flatButton.jsx"),h=e("../../../../utils/XHR"),E=e("../../../../akira/redux/createActionGroup"),v=e("../../../../akira/redux/profile/profileActions"),b=v.TYPES,x=e("../../../../components/presentationTracking/trackingComponents/planUpgradeConfirmationPromptPresTracking"),y="player/player",P=l({displayName:"PlayerUpsellConfirmation",contextTypes:{getI18nString:a.func.isRequired,models:a.object},getInitialState:function(){return{validatingUpgrade:!1}},onConfirmClick:function(){var e=this;if(u.emit("playerui:click",{name:"playerUpsell",inputMethod:"pointer",button:"confirm",newPlan:e.props.upgradePlan.productId}),!this._upgradeRequest){this.setState({validatingUpgrade:!0});var t=E(this.context.discoveryApp.getActionCreators(),{start:b.selectPlan,success:b.selectPlanSuccess,failure:b.selectPlanFailed}).dispatchStartAction({planId:this.props.upgradePlan.productId}),n=o.create(function(t){return h.request({method:"post",protocol:"https",data:{productID:e.props.upgradePlan.productId,action:"commit",ts:(new Date).getTime()},resource:"/changeplan",service:"api",authorize:!0}).subscribe(function(e){t.next(e),t.complete()},function(e,n){t.error(n)},function(){t.complete()})}).publishReplay().refCount();this._upgradeRequest=t.wrapObservable(c.retryWithBackoff(n.timeout(1e4),4,1e3)).catch(r).do(this.onUpgradeAttempt).subscribe(s.noop,function(e){},s.noop)}},onUpgradeAttempt:function(e){this._upgradeRequest=null,e.error?s.isFunction(this.props.onUpgradeError)&&this.props.onUpgradeError():window.location.reload()},renderPlanDetails:function(){var e=this.props,t=e.currentPlan,n=e.upgradePlan,r=e.playerUpsellData;return i.createElement("div",{className:"confirmation-details"},i.createElement("div",{className:"confirmation-current-plan"},i.createElement("h2",null,this.context.getI18nString(y,"upsell.confirmation.current.header")),i.createElement("div",{className:"confirmation-detail"},i.createElement("div",null,i.createElement(f,{bundle:y,stringKey:"upsell.confirmation.streams",stringParams:{numScreens:t.maxStreams}})),i.createElement("div",{className:"price"},i.createElement(f,{bundle:y,stringKey:"upsell.confirmation.current.price",stringParams:{planPrice:t.planPrice}})))),i.createElement("div",{className:"confirmation-new-plan"},i.createElement("h2",null,this.context.getI18nString(y,"upsell.confirmation.new.header")),i.createElement("div",{className:"confirmation-detail"},i.createElement("div",null,i.createElement(f,{bundle:y,stringKey:"upsell.confirmation.streams",stringParams:{numScreens:n.maxStreams}})),i.createElement("div",{className:"price"},i.createElement(f,{bundle:y,stringKey:"upsell.confirmation.new.price",stringParams:{planPrice:n.planPrice}}),i.createElement(f,{bundle:y,stringKey:"upsell.confirmation.new.date",stringParams:{date:r.membership.billingDate},className:"date"})))))},renderButtons:function(){return i.createElement("div",{className:"confirmation-buttons"},i.createElement(g,{label:this.context.getI18nString(y,"upsell.confirmation.button.upgrade"),ariaLabel:this.context.getI18nString(y,"upsell.confirmation.button.upgrade"),flatButton:!0,onClick:this.onConfirmClick,isPrimaryBtn:!0}),i.createElement(g,{label:this.context.getI18nString(y,"upsell.confirmation.button.cancel"),ariaLabel:this.context.getI18nString(y,"upsell.confirmation.button.cancel"),flatButton:!0,onClick:this.props.onCancelClick}))},renderInfo:function(){return i.createElement("div",{className:p("player-upsell-view-secondary-info")},this.renderPlanDetails(),this.renderButtons())},render:function(){return i.createElement(x,null,i.createElement("div",{className:p("nfp-player-upsell-view")},i.createElement(m,{onClick:this.props.exitHandler}),i.createElement("div",{className:p("information")},i.createElement("div",{className:p("information-wrapper")},i.createElement("div",{className:p("upsell-heading-wrapper")},i.createElement("h1",{className:p("upsell-title")},i.createElement(f,{bundle:y,stringKey:"upsell.confirmation.title"}))),this.renderInfo())),d(this.context.models)))}});t.exports=P});C.r("player/nfplayer/components/upsell/playerUpsellError.jsx",function(e,r,l){"use strict";var t=e("prop-types"),s=e("react"),a=e("create-react-class"),n=e("classnames"),p=e("./../controls/exitButton.jsx"),c=e("../svgDefs.jsx"),o=e("../../../../components/string.jsx"),i=a({displayName:"PlayerUpsellOffer",contextTypes:{models:t.object},renderInfo:function(){return s.createElement("div",{className:n("player-upsell-view-secondary-info")},s.createElement(o,{bundle:"player/player",stringKey:"upsell.error.paragraph"}))},render:function(){return s.createElement("div",{className:n("nfp-player-upsell-view")},s.createElement(p,{onClick:this.props.exitHandler}),s.createElement("div",{className:n("information")},s.createElement("div",{className:n("information-wrapper")},s.createElement("div",{className:n("upsell-heading-wrapper")},s.createElement("h1",{className:n("upsell-title")},s.createElement(o,{bundle:"player/player",stringKey:"upsell.error.title"}))),this.renderInfo())),c(this.context.models))}});r.exports=i});C.r("player/nfplayer/components/upsell/playerUpsellOffer.jsx",function(e,t,r){"use strict";var n=e("prop-types"),a=e("react"),l=e("create-react-class"),s=e("lodash"),i=e("classnames"),o=e("../../../../reactMixins/eventBus"),c=e("./../controls/exitButton.jsx"),p=e("../svgDefs.jsx"),u=e("../../../../components/string.jsx"),m=e("../../../../akira/components/controls/flatButton.jsx"),d=e("../../../../components/presentationTracking/trackingComponents/planUpgradeGatePresTracking"),f="player/player",g=l({displayName:"PlayerUpsellOffer",contextTypes:{getI18nString:n.func.isRequired,models:n.object},canUpgrade:function(){var e=s.get(this.props,"playerUpsellData.membership",{});return!(!this.props.upgradePlan||!e.canChangePlan)},retryClick:function(){o.emit("playerui:click",{name:"playerUpsell",inputMethod:"pointer",button:"retry"}),window.location.reload()},renderDeviceList:function(e){return e.length<1||!this.canUpgrade()?null:a.createElement("div",{className:"upsell-streams"},e.map(function(e,t){return a.createElement("div",{key:"stream"+t},a.createElement(u,{bundle:f,stringKey:"upsell.stream.info",stringParams:{deviceName:e.deviceName,videoName:e.videoName,profileName:e.profileName},dangerouslySetInnerHTML:!0}))}))},renderButtons:function(){var e=this.props,t=e.upgradePlan,r=e.onUpgradeClick,n=this.context.getI18nString(f,"upsell.offer.button.retry"),l=this.canUpgrade();return a.createElement("div",null,a.createElement("div",{className:"offer-buttons"},l&&t&&a.createElement(m,{label:a.createElement(u,{bundle:f,stringKey:"upsell.offer.button.upgrade",stringParams:{numStreams:t.maxStreams},key:"upgrade-btn"}),flatButton:!0,noIcon:!0,onClick:r,isPrimaryBtn:!0}),a.createElement("div",null,a.createElement(m,{label:n,ariaLabel:n,flatButton:!0,noIcon:!0,onClick:this.retryClick}))),l&&t&&a.createElement("div",{className:"upgrade-details"},a.createElement("p",{className:"upgrade-price"},a.createElement(u,{bundle:f,stringKey:"upsell.offer.price",stringParams:{additionalCost:t.upgradePlanIncrementalPrice}})),a.createElement("p",null,a.createElement(u,{bundle:f,stringKey:"upsell.offer.try"}))))},renderParagraph:function(e){var t=e.currentUser,r=e.streams,n=void 0,l="upsell.offer.stop.screen";return this.canUpgrade()?r||(l="upsell.offer.stop.no.screen"):l="upsell.offer.stop.no.upgrade",n=t?a.createElement(u,{bundle:f,stringKey:l,stringParams:{numScreens:r.length,title:t.videoName},dangerouslySetInnerHTML:!0}):a.createElement(u,{bundle:f,stringKey:"upsell.offer.stop.no.customer"}),a.createElement("div",null,a.createElement("p",{className:"upsell-text"},n),r?this.renderDeviceList(r):null,this.renderButtons())},renderInfo:function(){return a.createElement("div",{className:i("player-upsell-view-secondary-info")},this.props.playerUpsellData?this.renderParagraph(this.props.playerUpsellData):null)},render:function(){return a.createElement(d,null,a.createElement("div",{className:i("nfp-player-upsell-view")},a.createElement(c,{onClick:this.props.exitHandler}),a.createElement("div",{className:i("information")},a.createElement("div",{className:i("information-wrapper")},a.createElement("div",{className:i("upsell-heading-wrapper")},a.createElement("h1",{className:i("upsell-title")},a.createElement(u,{bundle:f,stringKey:"upsell.offer.title"}))),this.renderInfo())),p(this.context.models)))}});t.exports=g});C.r("player/nfplayer/components/upsell/playerUpsellView.jsx",function(e,t,r){"use strict";var a=(e("prop-types"),e("react")),n=e("create-react-class"),l=e("lodash"),i=e("../../../../reactMixins/eventBus"),o=e("../../utils/withRetries"),s=e("../../requests/playerupsell"),p=e("./playerUpsellOffer.jsx"),c=e("./playerUpsellConfirmation.jsx"),u=e("./playerUpsellError.jsx"),d=e("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),h=n({displayName:"PlayerUpsellView",getInitialState:function(){return{view:"offer",playerUpsellData:null,currentPlan:null,upgradePlan:null}},logError:function(){var e=window.netflix.clientNotifications,t=this.props.error;if(e){var r={category:"uiQOE",modalView:"upsellDialog",data:{playable:this.props.videoId||-1,code:l.get(t,"display.code",-1),core:l.result(this,"props.player.getAdditionalLogInfo")||"na"}};e.notify("uiModalViewChanged",r),e.flushBuffer&&e.flushBuffer()}},componentDidMount:function(){this.logError(),this.getPlayerUpsellData()},getPlayerUpsellData:function(){var e=this;return o({count:5},l.partial(s,{id:e.props.videoId},l),function(t,r){return t?e.onDataError(t,null):r?e.onDataSuccess(r):e.onDataError(new Error("No concurrent stream data."),null)})},onDataError:function(e,t){this.setState({playerUpsellData:{},upgradePlan:{}})},onDataSuccess:function(e){var t=l.get(e,"membership.products",[]),r=void 0,a=void 0;t.forEach(function(e){e.currentPlan&&(r=e),e.nextUpgradePlan&&e.availableForChange&&(a=e)}),this.setState({playerUpsellData:e,currentPlan:r,upgradePlan:a})},onCancelClick:function(){this.setState({view:"offer"}),i.emit("playerui:click",{name:"playerUpsell",inputMethod:"pointer",button:"cancel"})},onUpgradeClick:function(){i.emit("playerui:click",{name:"playerUpsell",inputMethod:"pointer",button:"upgrade"}),this.setState({view:"confirmation"})},onUpgradeError:function(){this.setState({view:"error"})},renderChildView:function(){return"confirmation"===this.state.view?a.createElement(c,{playerUpsellData:this.state.playerUpsellData,upgradePlan:this.state.upgradePlan,currentPlan:this.state.currentPlan,exitHandler:this.props.exitHandler,onCancelClick:this.onCancelClick,onUpgradeError:this.onUpgradeError}):"error"===this.state.view?a.createElement(u,{exitHandler:this.props.exitHandler}):a.createElement(p,{playerUpsellData:this.state.playerUpsellData,upgradePlan:this.state.upgradePlan,exitHandler:this.props.exitHandler,onUpgradeClick:this.onUpgradeClick})},render:function(){return a.createElement(d,null,this.renderChildView())}});t.exports=h});C.r("player/nfplayer/components/watermark.jsx",function(e,t,r){"use strict";var a=(e("prop-types"),e("react")),o=e("create-react-class"),n=e("classnames"),c=e("./videoAspectContainer.jsx"),i=o({displayName:"Watermark",statics:{ANCHOR_TOP_CENTER:"top_center",ANCHOR_BOTTOM_CENTER:"bottom_center"},getDefaultProps:function(){return{anchor:"top_center",opacity:25,useAspectContainer:!0,videoWidth:16,videoHeight:9}},render:function(){var e=this.props,t=e.id,r=e.opacity,o=e.anchor,i=e.useAspectContainer,s=e.videoWidth,p=e.videoHeight,m={opacity:(isNaN(r)?25:r)/100},d=n("content-preview-watermark",{"top-center":"top_center"===o,"bottom-center":"bottom_center"===o}),h=a.createElement("p",{className:d,style:m},t);return i?a.createElement(c,{width:s,height:p},h):h}});t.exports=i});C.r("player/nfplayer/domain/postplay/postPlayConstants.js",function(E,e,s){"use strict";var i={ADD_TO_MY_LIST:"ADD_TO_MY_LIST",CLEAR_ALL_EXPERIENCES:"CLEAR_ALL_EXPERIENCES",PREPARE_NEXT_VIDEOS:"PREPARE_NEXT_VIDEOS",RECEIVE_ERROR:"RECEIVE_ERROR",RECEIVE_EXPERIENCE:"RECEIVE_EXPERIENCE",REMOVE_EXPERIENCE:"REMOVE_EXPERIENCE",REMOVE_FROM_MY_LIST:"REMOVE_FROM_MY_LIST",REQUEST_EXPERIENCE:"REQUEST_EXPERIENCE",SEND_IMPRESSION:"SEND_IMPRESSION"},o={POSTPLAY_ERROR_1:"POSTPLAY_ERROR_1"},a={defaultExperience:"defaultExperience",episodicTeaser:"episodicTeaser",kidsOriginalsPostPlay:"kidsOriginalsPostPlay",kidsOriginalsPostPlayRecommendations:"kidsOriginalsPostPlayRecommendations",nextEpisode:"nextEpisode",nextEpisodeSeamless:"nextEpisodeSeamless",originalsPostPlay:"originalsPostPlay",originalsPostPlayPostTrailer:"originalsPostPlayPostTrailer",originalsPostPlayRecommendations:"originalsPostPlayRecommendations",recommendations:"recommendations"},R={episode:"episode",movie:"movie",show:"show",defaultItem:"defaultItem"};e.exports={actionTypes:i,errorIds:o,experienceTypes:a,itemTypes:R}});C.r("player/nfplayer/engines/cadmiumPlayerEngine.jsx",function(e,t,n){"use strict";var i=e("lodash"),a=e("../../../utils/rx/shakti-rx").RxObservable,r=e("../../../utils/rx/shakti-rx").RxSubject,s=e("../../entities/playContext"),o=s.toPlayContextData,d=e("../utils/getCadmiumCreationParameters"),l=e("create-react-class"),u=e("../../../utils/consolidatedLogging/loggingEventRegistry"),c=e("../common/playerEngines"),p=e("../common/playerEvents"),y=e("../mixins/playerHandlers"),m=e("../utils/playerSession"),h=e("../common/playerUIMilestones"),g=(e("../common/PlayerUIState"),e("prop-types")),v=e("react"),f=e("react-dom"),P=e("../types/staticConfiguration"),E=e("../mixins/trickplay"),L=e("../../../utils/player/videoSession"),T=l({displayName:"CadmiumPlayer",statics:{engine:c.CADMIUM},contextTypes:{dispatch:g.func,staticConfiguration:P,playerApp:g.object,playerSession:g.instanceOf(m)},mixins:[y,E],shouldComponentUpdate:function(e){var t=this.context.staticConfiguration.waitForCadmiumPlayerInstance&&this.props.cadmiumPlayerInstance!==e.cadmiumPlayerInstance,n=e.videoId!==this.props.videoId;return t||n},componentWillReceiveProps:function(e){var t=this,n=this.context.playerApp,i=this.context.staticConfiguration.waitForCadmiumPlayerInstance&&!this.props.cadmiumPlayerInstance&&e.cadmiumPlayerInstance,a=e.videoId!==this.props.videoId,r=n?n.getAPI().videoPlayer:null,s=!!r&&r.isPlayerTransitioningSeamlessly(this.context.playerSession.getId());if(i)this.fireDisposable(),this.close(function(){t.createPlayerInstance(e.cadmiumPlayerInstance)},{dataToLog:{reason:"newCadmiumPlayerInstance"}});else if(a)if(s){var o={target:this.player};this.onPlayerReady(this),this.onPlayerLoad(o),this.onPlayerTimedTracksLoaded(o),this.onPlayerPlaying(o);var d=this.player.getVolume(),l=this.player.getMuted();setTimeout(function(){t.player&&(t.player.setVolume(d),t.player.setMuted(l))},16)}else this.fireDisposable(),this.close(function(){t.createPlayerInstance()},{dataToLog:{reason:"videoIdChanged"}});this._wasTransitioning&&!s?this.bindVideoElementListeners():s&&!this._wasTransitioning&&this.removeVideoElementListeners(),this._wasTransitioning=s},load:function(){this.player.load()},play:function(){i.get(this,"context.staticConfiguration.browserInfo.isMobile",!1)&&!this.isLoaded()||this.player.play()},pause:function(){this.player.pause()},togglePlay:function(){this.getPaused()?this.play():this.pause()},getPaused:function(){return this.player.getPaused()},setVolume:function(e){this.player.setVolume(e)},getVolume:function(){return this.player.getVolume()},setMuted:function(e){this.player.setMuted(e)},getMuted:function(){return this.player.getMuted()},toggleMute:function(){this.player.setMuted(!this.player.getMuted())},getDuration:function(){return this.player.getDuration()/1e3},getCurrentTime:function(){return this.player.getCurrentTime()/1e3},getBufferedTime:function(){return this.player.getBufferedTime()/1e3},seek:function(e){var t=1e3*e;this.player.seek(t)},getError:function(){return this.player&&this.player.getError()},getEnded:function(){return this.player.getEnded()},getVideoSize:function(){return this.player.getVideoSize()},getAudioTrack:function(){return this.player.getAudioTrack()},getTimedTextTrack:function(){return this.player.getTimedTextTrack()},getAudioTrackList:function(){return this.player.getAudioTrackList()},getTimedTextTrackList:function(){return this.player.getTimedTextTrackList()},setAudioTrack:function(e){this.player.setAudioTrack(e)},setTimedTextTrack:function(e){this.player.setTimedTextTrack(e)},setTimedTextBounds:function(e){this.player.setTimedTextBounds(e)},getVersion:function(){return i.result(window,"netflix.player.getVersion",null)},close:function(e,t){var n=this.context.playerSession,a=n.getPlayerInterface({isClosing:!0});if(a.isClosing())return void(e&&"function"==typeof e&&this.player.close(e,t));a.startClosing();var r=this.props.onPlayerClosed||i.noop,s=void 0;i.isFunction(e)&&(s=function(){r(),e()}),this.player&&(i.isFunction(this.props.onPlayerClosing)&&this.props.onPlayerClosing(),this.removeEventListeners(),this.removeVideoElementListeners(),this.player.close(s||r,t))},removeEventListeners:function(){this.player&&(this.player.removeEventListener("error",self.onPlayerError),this.player.removeEventListener("endedchanged",self.onPlayerEnded),this.player.removeEventListener("busychanged",self.onPlayerRebuffering),this.player.removeEventListener("currenttimechanged",self.onPlayerTimeUpdate),this.player.removeEventListener("bufferedtimechanged",self.onPlayerProgressBuffer),this.player.removeEventListener("durationchanged",self.onPlayerDurationChanged),this.player.removeEventListener("pausedchanged",self.onPlayerPausedChanged),this.player.removeEventListener("volumechanged",self.onPlayerVolumeChanged),this.player.removeEventListener("mutedchanged",self.onPlayerVolumeChanged),this.player.removeEventListener("loadedmetadata",self.onPlayerLoadedMetadata),this.player.removeEventListener("loadedtracks",self.onPlayerTimedTracksLoaded),this.player.removeEventListener("audiotracklistchanged",self.onPlayerTimedTracksChanged),this.player.removeEventListener("audiotrackchanged",self.onPlayerTimedTracksChanged),this.player.removeEventListener("timedtexttracklistchanged",self.onPlayerTimedTracksChanged),this.player.removeEventListener("timedtexttrackchanged",self.onPlayerTimedTracksChanged),this.player.removeEventListener("showsubtitle",self.onShowSubtitle),this.player.removeEventListener("removesubtitle",self.onRemoveSubtitle),this.player.removeEventListener("closed",self.close))},bindVideoElementListeners:function(){var e=this.getVideoNode();e&&(e.addEventListener("playing",this.onPlayerPlaying),e.addEventListener("play",this.onPlayerPausedChanged),e.addEventListener("pause",this.onPlayerPausedChanged))},removeVideoElementListeners:function(){var e=this.getVideoNode();e&&e&&(e.removeEventListener("playing",this.onPlayerPlaying),e.removeEventListener("play",this.onPlayerPausedChanged),e.removeEventListener("pause",this.onPlayerPausedChanged))},getVideoNode:function(){var e=this.player&&this.player.getElement();if(e)return e.querySelector("video")},isLoaded:function(){return this.props.loaded},getDefaultProps:function(){return{removeCadmiumElementStyles:!1,trackId:-1,config:{},loaded:!1,volume:1,muted:!1}},onPlayerRebuffering:function(e){var t=i.result(e,"target.getBusy",{})||{};if(t.stalled||t.progressStalled)return void this.onPlayerStalled(e);this.props.updateState({type:p.REBUFFERING,state:i.assign(this.getTimeState(),{stalled:!1,rebuffering:i.isNumber(t.progress)}),event:e})},createPlayerInstance:function(e){var t=this,n=this.props,s=n.autoPlay,l=n.trackId,c=n.config,p=n.cadmiumPlayerInstance,y=n.videoId,g=n.uiLabel,v=n.playContext,P=n.manifest,E=n.muted,T=n.bookmarkOverride,C=n.preferredAudioLocale,k=n.preferredTextLocale,b=n.isImplicitAutoPlay,x=n.volume,I=this.context,S=I.playerApp,V=I.playerSession,M=this.context.staticConfiguration,A=M.respectBookmark,w=M.waitForCadmiumPlayerInstance,D=M.disableTrackStickiness;if(this.disposed=this.disposed?this.disposed:new r,!w||p||e){(p||e?a.of(p||e):L.createPlayerSafely(d.getCadmiumCreationParameters({autoPlay:s,disableTrackStickiness:D,videoId:y,trackId:l,uiLabel:g,playContext:v,manifest:P,respectBookmark:A,bookmarkOverride:T,isImplicitAutoPlay:b,preferredAudioLocale:C,preferredTextLocale:k,playerState:m.getVolumeSessionState({muted:E,volume:x})},c,V,S),V,S)).takeUntil(this.disposed).do(function(e){t.player=e,V.setCadmiumPlayerInstance(e);var n=t.player.getElement();if(!t.refs||!t.refs.cadmiumContainer)throw new Error("Cadmium Player Engine element has been unmounted from the DOM.");f.findDOMNode(t.refs.cadmiumContainer).appendChild(n),e.addEventListener("error",t.onPlayerError),e.addEventListener("audiotracklistchanged",t.onPlayerTimedTracksChanged),e.addEventListener("timedtexttracklistchanged",t.onPlayerTimedTracksChanged),e&&e.observables&&(e.observables.loadedTracks&&e.observables.loadedTracks.takeUntil(t.disposed).do(t.onPlayerTimedTracksLoaded).subscribe(),e.observables.loadedMetadata&&e.observables.loadedMetadata.takeUntil(t.disposed).do(t.onPlayerLoadedMetadata).subscribe()),e.getLoaded()||e.load(),t.props.removeCadmiumElementStyles&&n.removeAttribute("style"),h&&h.playerLoadEvent&&h.playerLoadEvent.start(),t.onPlayerReady(t)}).flatMap(function(e){return e.getLoaded()?a.of({ev:e}):a.fromEvent(e,"loaded").take(1)}).do(function(e){var n=t.player;if(n.addEventListener("endedchanged",t.onPlayerEnded),n.addEventListener("busychanged",t.onPlayerRebuffering),n.addEventListener("currenttimechanged",t.onPlayerTimeUpdate),n.addEventListener("bufferedtimechanged",t.onPlayerProgressBuffer),n.addEventListener("durationchanged",t.onPlayerDurationChanged),n.addEventListener("volumechanged",t.onPlayerVolumeChanged),n.addEventListener("mutedchanged",t.onPlayerVolumeChanged),n.addEventListener("audiotrackchanged",t.onPlayerTimedTracksChanged),n.addEventListener("timedtexttrackchanged",t.onPlayerTimedTracksChanged),n.addEventListener("showsubtitle",t.onShowSubtitle),n.addEventListener("removesubtitle",t.onRemoveSubtitle),n.addEventListener("closed",t.close),t._videoEl=n.getElement().querySelector("video"),t.bindVideoElementListeners(),!t._videoEl)throw t.context.dispatch({type:u.PLAYER_NO_VIDEO_ELEMENT,data:{initParams:t.props.config,playContext:o(t.props.playContext),trackId:t.props.trackId,uiLabel:t.props.uiLabel,videoId:t.props.videoId}}),new Error("No video element.");t._videoEl.removeAttribute("style"),setTimeout(function(){t.onPlayerLoad(e)},0)}).subscribe(i.noop,function(e){t.onPlayerError(e)},i.noop)}},componentDidMount:function(){this.createPlayerInstance()},componentWillUnmount:function(){var e=this.context.playerApp,t=e?e.getAPI().videoPlayer:null,n=!!t&&t.isPlayerTransitioningSeamlessly(this.context.playerSession.getId());this.fireDisposable(),n||this.close(void 0,{dataToLog:{initParams:this.props.config,playContext:o(this.props.playContext),reason:"CadmiumPlayer::componentWillUnmount",trackId:this.props.trackId,uiLabel:this.props.uiLabel,videoId:this.props.videoId}})},fireDisposable:function(){this.disposed&&(this.disposed.next(),this.disposed=void 0)},render:function(){return v.createElement("div",{className:"video-container",ref:"cadmiumContainer"})}});t.exports=T});C.r("player/nfplayer/engines/html5PlayerEngine.jsx",function(e,t,n){"use strict";var r=e("lodash"),i=e("prop-types"),o=e("react"),a=e("create-react-class"),s=e("react-dom"),l=e("../mixins/playerHandlers"),d=e("../common/playerEngines"),u=e("../common/playerEvents"),h=(e("../common/PlayerUIState"),e("../utils/playerSession")),p=e("../types/staticConfiguration"),y=e("../../../utils/shallowCompare"),c=a({displayName:"HTML5Player",statics:{engine:d.HTML5_VIDEO_EL},contextTypes:{models:i.object,staticConfiguration:p,playerSession:i.instanceOf(h)},mixins:[l],load:function(){this.player.load()},play:function(){this.player.play()},pause:function(){this.player.pause()},togglePlay:function(){this.getPaused()?this.play():this.pause()},getPaused:function(){return this.player.paused},setVolume:function(e){this.player.volume=e},getVolume:function(){return this.player.volume},setMuted:function(e){this.player.muted=e},getMuted:function(){return this.player.muted},toggleMute:function(){this.player.muted=!this.player.muted},getDuration:function(){return this.player.duration},getCurrentTime:function(){return this.player.currentTime},getBufferedTime:function(){try{return this.player.buffered.end(0)}catch(e){return 0}},seek:function(e){this.player.currentTime=e},getError:function(){return this.player&&this.player.error},getEnded:function(){return this.player.ended},getVideoSize:function(){var e=s.findDOMNode(this.refs.videoNode);return e?{width:e.videoWidth,height:e.videoHeight}:{width:void 0,height:void 0}},getTrickPlayURL:function(e){return null},getAudioTrack:function(){return null},getTimedTextTrack:function(){return null},getAudioTrackList:function(){return null},getTimedTextTrackList:function(){return null},getVersion:function(){return r.get(this.context.models,["serverDefs","data","BUILD_IDENTIFIER"],null)},setAudioTrack:function(){},setTimedTextTrack:function(){},close:function(e){var t=this.context.playerSession,n=t.getPlayerInterface({isClosing:!0});if(n.isClosing())return void(e&&"function"==typeof e&&e());n.startClosing();var i=s.findDOMNode(this.refs.video);i&&(i.removeEventListener("error",this.onPlayerError),i.removeEventListener("ended",this.onPlayerEnded),i.removeEventListener("stalled",this.onPlayerStalled),i.removeEventListener("timeupdate",this.onPlayerTimeUpdate),i.removeEventListener("canplaythrough",this.onPlayerLoad),i.removeEventListener("progress",this.onPlayerProgressBufferVideoTag),i.removeEventListener("durationchange",this.onPlayerDurationChanged),i.removeEventListener("pause",this.onPlayerPausedChanged),i.removeEventListener("play",this.onPlayerPausedChanged),i.removeEventListener("playing",this.onPlayerPlaying),i.removeEventListener("volumechange",this.onPlayerVolumeChanged),i.removeEventListener("loadedmetadata",this.onPlayerLoadedMetadata),i.load(),i.removeAttribute("src")),r.isFunction(this.props.onPlayerClosing)&&this.props.onPlayerClosing(),r.isFunction(this.props.onPlayerClosed)&&this.props.onPlayerClosed(),r.isFunction(e)&&e()},getVideoNode:function(){return s.findDOMNode(this.refs.video)},isLoaded:function(){var e=this.getVideoNode();return!(!e||e.readyState!==HTMLVideoElement.HAVE_ENOUGH_DATA)},onPlayerProgressBufferVideoTag:function(e){this.player.readyState===HTMLVideoElement.HAVE_METADATA&&this.player.networkState===HTMLVideoElement.NETWORK_LOADING?this.onPlayerRebuffering(e):this.onPlayerProgressBuffer(e)},onPlayerRebuffering:function(e){this.props.updateState({type:u.REBUFFERING,state:r.assign(this.getTimeState(),{stalled:!1,rebuffering:!0}),event:e})},getDefaultProps:function(){return{trackId:-1,nativeVideoControlsList:"nodownload",showNativeControls:!1,playbackData:{},volume:1,muted:!1}},componentDidMount:function(){if(!this.props.playbackData.url)return void this.onPlayerError(new Error("No video URL provided for playback!"));this.setup(this.props)},componentWillReceiveProps:function(e){var t=this,n=this.props.playbackData.url,r=e.playbackData.url,i=this.props.videoId,o=e.videoId;n===r&&i===o||this.close(function(){t.setup(e)})},componentWillUnmount:function(){this.close()},shouldComponentUpdate:y.partialProps(["showNativeControls","playbackData","videoId"]),setup:function(e){var t=e.autoPlay,n=e.nativeVideoControlsList,r=e.showNativeControls,i=this.context,o=i.actionCreators,a=i.playerSession,l=s.findDOMNode(this.refs.video);l&&(this.player=l,this.setVolume(e.volume),this.setMuted(!!e.muted),o&&o.receiveVideoPlayer&&o.receiveVideoPlayer({autoPlay:t,sessionId:a.getId(),player:a.getPlayerInterface(),type:d.HTML5_VIDEO_EL}),this.onPlayerReady(this),this.isLoaded()?this.onPlayerLoad(null):l.addEventListener("canplaythrough",this.onPlayerLoad),l.addEventListener("error",this.onPlayerError),l.addEventListener("ended",this.onPlayerEnded),l.addEventListener("stalled",this.onPlayerStalled),l.addEventListener("timeupdate",this.onPlayerTimeUpdate),l.addEventListener("progress",this.onPlayerProgressBufferVideoTag),l.addEventListener("durationchange",this.onPlayerDurationChanged),l.addEventListener("pause",this.onPlayerPausedChanged),l.addEventListener("play",this.onPlayerPausedChanged),l.addEventListener("playing",this.onPlayerPlaying),l.addEventListener("volumechange",this.onPlayerVolumeChanged),l.addEventListener("loadedmetadata",this.onPlayerLoadedMetadata),n&&l.setAttribute("controlsList",n),r||l.setAttribute("disableRemotePlayback",!0))},render:function(){var e=r.get(this,"props.playbackData.url",null);if(!e)return null;var t=this.props,n=t.muted,i=t.autoPlay,a=t.showNativeControls;return o.createElement("div",{className:"video-container"},o.createElement("video",{ref:"video",tabIndex:-1,"aria-hidden":"true",src:e,type:"video/mp4",muted:n,preload:this.context.staticConfiguration.preLoad,autoPlay:i,controls:a}))}});t.exports=c});C.r("player/nfplayer/engines/nfplayerCore.jsx",function(e,t,i){"use strict";function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function n(e){return-1===[Y.BIG_ROW,Y.EMBEDDED,Y.MOTION_BILLBOARD,Y.NONMEMBER_TRAILER,Y.NONMEMBER_HOME_PAGE,Y.NONMEMBER_CONTENT_SAMPLING,Y.ORIGINALS_ROW,Y.KITCHEN_SINK].indexOf(e)}function a(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],i=e.length,s=0;s<i;s++){var n=e[s];if(n&&n.type===t)return!0}return!1}function o(e,t){return t.type===D.ENDED&&t.state.rewoundOnEnd&&this.state.player.seek(0),e}function r(e){function t(){var t=s.shift();t&&(ne(function(){if(t){var i=u(e,t),s=e.state.postPlayTriggered,n=i.postPlayTriggered||!1;(!re[t.type]||void 0!==i.rebuffering&&i.rebuffering!==e.state.rebuffering||s!==n)&&(e._isMounted||void 0===e._isMounted)&&e.setState(i)}}),s.length>0&&e.isMounted()&&l())}var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=[],r=e.context.staticConfiguration.uiContext,l=function(){i?requestAnimationFrame(t):t()},u=G([g,T,Z,z,o,n(r)?M:d.identity,h,y(e.context.playerSession,e.context.playerApp)]);return function(t){if(!ue[t.type]||!a(s,t.type)){s.push(t);var i=e&&e.state&&e.state.player;le[t.type]&&i&&i.emit(D.UNBATCHED_EVENTS[t.type],t),s.length>=1&&l()}}}function l(e,t,i){var s=e&&e.truths&&e.truths.data&&e.truths.data[t];return"boolean"==typeof s?s:i}var u,c,d=e("lodash"),p=e("./cadmiumPlayerEngine.jsx"),h=e("../actions/callHandlers"),y=e("../actions/dispatchCoreActionsToPlayerApp"),m=e("classnames"),f=e("../../../utils/shallowCompare"),g=e("../actions/emitEvent"),v=e("../../../reactMixins/eventBus"),T=e("../actions/exitMobileFullScreen"),S=e("../utils/featureDetection"),C=e("../utils/fullscreen"),P=e("../utils/getPlayerEngineType"),E=e("../utils/getSafeReactChildren"),I=e("./html5PlayerEngine.jsx"),A=e("../utils/isLargeDimensions"),b=e("ramda/src/isNil"),x=e("../mixins/keyHandler"),N=(e("../common/Metadata"),e("../../components/networkDisconnected.jsx")),k=e("../mixins/playbackPerformance"),M=e("../actions/persistVolume"),L=e("../../entities/playContext"),_=e("../common/playerEngines"),D=e("../common/playerEvents"),w=e("../components/playerSurface.jsx"),F=e("../common/PlayerUIState"),O=e("../common/playerControls"),V=e("../../playerMetrics"),B=e("prop-types"),R=e("react"),U=e("create-react-class"),H=e("react-dom"),G=e("../utils/reduceState"),K=e("../../session/sessionManager"),j=e("../components/spinner.jsx"),W=e("../components/svgDefs.jsx"),q=e("../components/timedText/timedTextContainer.jsx"),z=e("../actions/triggerPostplay"),Y=e("../uiContext"),X=e("../uiLabel"),Z=e("../actions/updateBookmark"),J=e("../types/staticConfiguration"),Q=e("../components/controls/playerControlsLegacyStyles.jsx"),$=e("../utils/playerSession"),ee=e("../components/videoAspectContainer.jsx"),te=e("../../../utils/player/videoSession"),ie=e("../../../utils/consolidatedLogging/loggingEventRegistry"),se=e("shakti-platform/dist/ui/utils/inNode"),ne=H.unstable_batchedUpdates,ae={bottom:0},oe=R.createElement(N,null),re=(u={},s(u,D.TIME_UPDATE,!0),s(u,D.REBUFFERING,!0),s(u,D.VOLUME_CHANGED,!0),u),le=(c={},s(c,D.SCRUB_END,!0),s(c,D.SCRUB_START,!0),s(c,D.SCRUB,!0),s(c,D.VOLUME_CHANGED,!0),c),ue=s({},D.ENDED,!0),ce=function(e){var t=e.autoPlay,i=e.isFullScreen,s=e.playerInterface,n=e.muted,a=e.volume,o=e.uiState;return{ready:!1,player:s,loaded:!1,metadataloaded:!1,started:!1,scrubbing:!1,playerPaused:void 0===t||!t,playbackTimedOut:!1,destroyPlayer:!1,ended:!1,isFullScreen:void 0!==i&&i,rebuffering:!1,fastForward:!1,stalled:!1,currentScrubTime:-1,volume:a,muted:n,error:null,enableFocusStyle:!1,fallbackMode:!1,timedTracksLoaded:!1,audioTracks:null,textTracks:null,selectedAudioTrack:null,selectedTextTrack:null,uiState:o||F.LOADING,postPlayTriggered:!1,timedTextBounds:ae,rewoundOnEnd:!1,playStartCompleted:!1}},de=U({displayName:"NFPlayerCore",mixins:[x,k],childContextTypes:{dispatch:B.func},getChildContext:function(){return{dispatch:this.dispatch}},contextTypes:{actionCreators:B.object,getI18nString:B.func.isRequired,models:B.object,playerApp:B.object,playerSession:B.instanceOf($),postPlayApp:B.object,staticConfiguration:J},getDefaultProps:function(){return{controls:!0,getFullScreenNode:d.noop,onPlayerReady:d.noop,onPlayerActive:d.noop,onPlayerInactive:d.noop,onPlayerNotAvailable:d.noop,onPlayerClosed:d.noop,config:{},disabled:!1,hasLargeDimensions:!1,disableKeyHandler:{UPDOWN:!1,SPACEENTER:!1,LEFTRIGHT:!1,ESC:!1,TAB:!1,M:!1,F:!1,ALL:!1},onPlayerLoad:d.noop,spinnerClass:j,timedTextBoundsOverride:void 0,uiLabel:X.STANDARD}},getInitialState:function(){this._isMounted=void 0;var e=this.props,t=e.autoPlay,i=e.muted,s=e.volume,a=e.uiState,o=this.context,l=o.actionCreators,u=o.playerSession,c=o.staticConfiguration,d=this.context.staticConfiguration.browserInfo,p=(!d||!d.isMobile)&&c.useRequestAnimationFrameFlush;this.updateStateDispatch=r(this,p),this.resetTransientState();var h=n(c.uiContext)?$.getVolumeSessionState({muted:i,volume:s}):{volume:s,muted:i};u.hasPlayerInterface()&&u.destroyPlayerInterface();var y=u.getPlayerInterface();return l&&!se&&(l.receivePlayerSession&&l.receivePlayerSession({playerSession:u,sessionId:u.getId()}),l.receiveVideoId&&l.receiveVideoId({sessionId:u.getId(),videoId:this.props.videoId})),ce({autoPlay:t,isFullScreen:!1,muted:h.muted,playerInterface:y,uiState:a,volume:h.volume})},dispatch:function(e){switch(e.type){case D.ENGAGE:this.state.player.engage();break;case ie.PLAYER_NO_VIDEO_ELEMENT:v.emit(ie.PLAYER_NO_VIDEO_ELEMENT,e.data)}},updateState:function(e){this.updateStateDispatch(e)},shouldPreferCadmium:function(){var e=this.props.config,t=d.get(this.context.models,"playerModel.data.playbackSupport",{});return P(e,t,this.context.staticConfiguration.uiContext,this.props.engine)===_.CADMIUM},onPlayerError:function(e){var t=d.get(this.props,"playbackData.url"),i=this.props.forcePlaybackEngine,s=this.context.staticConfiguration,n=s.attemptFallback,a=s.allowForcingPlaybackEngine;if(n&&a&&this.shouldPreferCadmium()&&t&&i)return i(_.HTML5_VIDEO_EL),void this.setState({error:null,fallbackMode:!0});d.isFunction(this.props.onPlayerError)&&this.props.onPlayerError(e)},onPlayerReady:function(e){var t=this.context.staticConfiguration.browserInfo,i=d.get(t,"isIOS",!1),s=d.get(t,"isAndroid",!1),n=e.getVideoNode(),a=this;this.state.player._setSmartSubtitles(this.context.staticConfiguration.smartSubtitles,this.context.models),this.state.player._setPlayerComponent(e),this.state.player._setUpdateState(this.updateState),this.state.player._setCoreComponent(this),this.setState({ready:!0},function(){a.props.onPlayerReady(this.state.player)}),n&&(i||s)&&(n.addEventListener("webkitbeginfullscreen",this.fullscreenChanged),n.addEventListener("webkitendfullscreen",this.fullscreenChanged)),K.startHeartbeat(this.state.player)},onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},onPostplay:function(e){v.emit("exit-lp"),this.setState({uiState:F.ACTIVE,timedTextBounds:this.getTimedTextBounds()}),this.props.onPostplay&&this.props.onPostplay(e)},onActive:function(){var e=this;this.state.uiState!==F.DISABLED&&this.state.uiState!==F.TIMED_OUT&&(this.isBecomingActive||(this.isBecomingActive=!0,clearTimeout(this._powerSaveTimeout),v.emit("exit-lp"),this.setState({uiState:F.ACTIVATING},function(){setTimeout(function(){e.setState({uiState:F.ACTIVE,timedTextBounds:e.getTimedTextBounds()});var t={type:D.ACTIVE,event:null};e.props.onPlayerActive(t),e.state.player.emit(D.ACTIVE,t)},16)}),this.onShowPlayerControls()))},onInactive:function(){var e=this;if(!d.contains([F.DISABLED,F.TIMED_OUT],this.state.uiState)&&!this.props.postPlayActive){var t=this.getNFPlayerNode(),i=this.context.staticConfiguration;if(!this.shouldKeepActive()){i.focusAfterInactivity&&t&&t.contains(document.activeElement)&&(i.shouldTrackViewportPosition?this.props.inViewport&&t.focus():void 0===this.props.inViewport&&t.focus()),this.isBecomingActive=!1,this.setState({uiState:F.INACTIVE,timedTextBounds:this.getTimedTextBounds(!0)});var s=i.browserInfo,n=s&&s.isSafari,a=s&&s.isChrome,o=s&&s.isEdge,r={type:D.INACTIVE,event:null};this.props.onPlayerInactive(r),this.state.player.emit(D.INACTIVE,r),(n||a||o)&&(clearTimeout(this._powerSaveTimeout),this._powerSaveTimeout=setTimeout(function(){v.emit("enter-lp"),e.setState({uiState:F.POWER_SAVE})},1e3)),this.state.playerPaused&&(this._idleTimerHandle=setTimeout(this.onIdle,this.context.staticConfiguration.idleTimeout))}}},onShowPlayerControls:function(){"function"==typeof this.props.onShowPlayerControls&&this.props.onShowPlayerControls()},onIdle:function(){var e=this;this.state.uiState!==F.DISABLED&&this.state.uiState!==F.TIMED_OUT&&(clearTimeout(this._powerSaveTimeout),v.emit("exit-lp"),this.setState({uiState:F.ACTIVATING},function(){setTimeout(function(){e.setState({uiState:F.IDLE,timedTextBounds:e.getTimedTextBounds(!0)})},16)}))},onPlayerTimeout:function(){this.props.onPlayerTimeout&&this.props.onPlayerTimeout();var e={};e.playbackTimedOut=!0,e.playStartCompleted=!1,this.state.uiState===F.DISABLED?this.setState(e):(e.uiState=F.TIMED_OUT,this.setState(e))},onPlayerClosing:function(){this.props.onPlayerClosing&&this.props.onPlayerClosing(),K.stopHeartbeat()},onCadmiumPlayerClosed:function(){V&&V.publishPlayerMetrics&&V.publishPlayerMetrics(te.get()),this.props.onPlayerClosed&&this.props.onPlayerClosed()},onPlayerPlaying:function(e){var t=this;this._hasSeenPlayingEvent?this.onActive():(this._hasSeenPlayingEvent=!0,this.context.staticConfiguration.showControlsOnPlayStart?this.onActive():this.onInactive()),clearTimeout(this._onPlayingActiveTimeout),this._onPlayingActiveTimeout=setTimeout(function(){t.onUserActivityChanged(!1)},1e3),this.props.onPlayerPlaying&&this.props.onPlayerPlaying(e)},onMouseMove:function(e){var t={x:d.get(e,"clientX"),y:d.get(e,"clientY")},i=void 0!==this._lastMousePosition,s=!1;!i||t.x===this._lastMousePosition.x&&t.y===this._lastMousePosition.y||(s=!0),this._lastMousePosition=t,s&&this.onUserActivityChanged(!0)},onMouseLeave:function(){this.context.staticConfiguration.hideControlsImmediatelyOnLeave&&(this.setKeepActive(!1),this.onInactive())},clearTimeouts:function(){clearTimeout(this._inactivityTimerHandle),clearTimeout(this._idleTimerHandle),clearTimeout(this._onPlayingActiveTimeout),clearTimeout(this._powerSaveTimeout)},onUserActivityChanged:function(e,t){if(this.clearTimeouts(),!this.props.uiState){var i=this.state.uiState;i!==F.DISABLED&&i!==F.TIMED_OUT&&i!==F.LOADING&&(this.props.onUserActivityChanged&&this.props.onUserActivityChanged(e),e&&this.state.uiState!==F.ACTIVE&&this.onActive(),this._inactivityTimerHandle=setTimeout(this.onInactive,t||this.context.staticConfiguration.inactivityTimeout))}},onSeekBack:function(){this.state.player.seekBack(this.context.staticConfiguration.seekBackTime)},setKeepActive:function(e,t){void 0===t&&this._forceKeepActive||(this._forceKeepActive="boolean"==typeof t&&t,this._keepActive=e)},shouldKeepActive:function(){return this._forceKeepActive?this._forceKeepActive:this._keepActive},getVideoNode:function(){var e=d.result(this,"refs.player",null);return e?e.getVideoNode():null},setAudioTrack:function(e){this.state.player.setAudioTrack(e)},setTimedTextTrack:function(e){this.state.player.setTimedTextTrack(e)},isLoaded:function(){return d.result(this,"refs.player.isLoaded",!1)},getNFPlayerNode:function(){return this._isMounted?H.findDOMNode(this):void 0},getFullScreenNode:function(){return this.props.fullScreenNode||this.props.getFullScreenNode()||this.getNFPlayerNode()},onPlayerSurfaceClick:function(e){this.wakeAndToggle(),this.props.onPlayerSurfaceClick(e)},wakeAndToggle:function(){var e=this.context.staticConfiguration;this.state.uiState===F.POWER_SAVE&&(this.onActive(),e.controlsLayoutClass!==Q&&this.state.player.togglePlay())},createPlayerComponent:function(){var e=this.context.staticConfiguration,t=e.waitForCadmiumPlayerInstance,i=e.browserInfo,s=e.attemptFallback,n=this.props,a=n.config,o=n.controls,r=n.onNotSupported,l=n.playbackData,u=n.cadmiumPlayerInstance;if(this.state.destroyPlayer||t&&!u)return null;var c=a,h=d.get(this.context.models,"playerModel.data.playbackSupport",{}),y=this.shouldPreferCadmium(),m=i&&i.isIOS;if(!y&&!s)return r?r():this.onPlayerError(new Error("No fallback player engine available.")),null;var f=d.get(l,"manifest",null);return y&&!this.state.fallbackMode?R.createElement(p,{autoPlay:this.props.autoPlay,bookmarkOverride:this.props.bookmarkOverride,config:c,cadmiumPlayerInstance:u,ended:this.state.ended,getFullScreenNode:this.getFullScreenNode,getNFPlayerNode:this.getNFPlayerNode,isFullScreen:this.state.isFullScreen,isImplicitAutoPlay:this.props.isImplicitAutoPlay,loaded:this.state.loaded,manifest:f,muted:this.state.muted,onPlayerClosed:this.onCadmiumPlayerClosed,onPlayerClosing:this.onPlayerClosing,onPlayerError:this.onPlayerError,onPlayerReady:this.onPlayerReady,onPlayerRebuffering:this.props.onPlayerRebuffering,onPlayerTimeout:this.onPlayerTimeout,playContext:this.props.playContext,playerPaused:this.state.playerPaused,playStartRequested:this.props.playStartRequested,preferredAudioLocale:this.props.preferredAudioLocale,preferredTextLocale:this.props.preferredTextLocale,ref:"player",rewoundOnEnd:this.state.rewoundOnEnd,trackId:this.props.trackId,uiLabel:this.props.uiLabel,uiState:this.state.uiState,updateState:this.updateState,videoId:this.props.videoId,volume:this.state.volume}):S.canPlayHTML5(h)?R.createElement(I,{autoPlay:this.props.autoPlay,config:c,ended:this.state.ended,isFullScreen:this.state.isFullScreen,getFullScreenNode:this.getFullScreenNode,muted:this.state.muted,onPlayerClosed:this.props.onPlayerClosed,onPlayerClosing:this.onPlayerClosing,onPlayerError:this.onPlayerError,onPlayerRebuffering:this.props.onPlayerRebuffering,onPlayerReady:this.onPlayerReady,playbackData:this.props.playbackData,playerPaused:this.state.playerPaused,playStartRequested:this.props.playStartRequested,ref:"player",rewoundOnEnd:this.state.rewoundOnEnd,updateState:this.updateState,uiState:this.state.uiState,videoId:this.props.videoId,volume:this.state.volume,showNativeControls:o&&m}):(this.props.onNotSupported&&this.props.onNotSupported(),null)},fullscreenChanged:function(e){var t=this.context.staticConfiguration.browserInfo,i=d.get(t,"isIOS",!1),s=d.get(t,"isAndroid",!1),n=i||s?this.getVideoNode():this.getFullScreenNode(),a=C.isFullscreen(n);this.updateState({event:e,type:a?D.FULLSCREEN_ENTER:D.FULLSCREEN_EXIT,state:{isFullScreen:a}})},onDocumentMouseDown:function(e){this.state.enableFocusStyle&&this.setState({enableFocusStyle:!1})},focus:function(){var e=this.getNFPlayerNode();e&&e.focus()},isPlayerCreationAvailable:function(){var e=this.context.playerSession;return(0,this.context.staticConfiguration.isPlayerCreationAvailable)(e?e.getPlayerInterface():this.state.player)},componentDidMount:function(){this._isMounted=!0;var e=this.props.onPlayerNotAvailable,t=this.context.staticConfiguration.focusOnMount;if(!this.isPlayerCreationAvailable())return void e();document.addEventListener("fullscreenchange",this.fullscreenChanged),document.addEventListener("webkitfullscreenchange",this.fullscreenChanged),document.addEventListener("mozfullscreenchange",this.fullscreenChanged),document.addEventListener("MSFullscreenChange",this.fullscreenChanged),document.addEventListener("mousedown",this.onDocumentMouseDown),t&&this.focus()},componentWillMount:function(){this._inactivityTimerHandle=-1,this._idleTimerHandle=-1},componentWillReceiveProps:function(e){var t=this.props.engine,i=e.engine,s=this.props.muted,n=e.muted,a=this.props.disabled,o=e.disabled,r=this.props.videoId,l=e.videoId,u=this.props.volume,c=e.volume,d={},p=this.context,h=p.actionCreators,y=p.playerSession;if(r!==l){y.destroyPlayerInterface();var m=y.getPlayerInterface();d=ce({autoPlay:e.autoPlay,isFullScreen:this.state.isFullScreen,playerInterface:m,muted:this.state.muted,volume:this.state.volume,uiState:e.uiState||this.state.uiState}),h&&h.receiveVideoId&&h.receiveVideoId({sessionId:y.getId(),videoId:l}),this.resetTransientState(),this.clearTimeouts()}e.uiState&&(this.clearTimeouts(),d.uiState=e.uiState,d.timedTextBounds=this.getTimedTextBounds()),t!==i&&(this.state.player.close(void 0,{dataToLog:{initParams:this.props.config,playContext:L.toPlayContextData(this.props.playContext),reason:"NFPlayerCore::switchEngines",trackId:this.props.trackId,uiLabel:this.props.uiLabel,videoId:this.props.videoId}}),d.player=y.getPlayerInterface(),d.started=!1,d.ready=!1),s!==n&&(this.state.player&&this.state.player.setMuted(n),d.muted=n),u!==c&&(this.state.player&&this.state.player.setVolume(c),d.volume=c),a!==o&&(o?(this.state.player&&this.state.player.pause(),d.uiState=F.DISABLED):(d.uiState=this.state.playbackTimedOut?F.TIMED_OUT:F.ACTIVE,this.onUserActivityChanged(!0))),d.player&&"boolean"==typeof d.player.getPaused()&&this.state.playerPaused!==d.player.getPaused()&&(d.playerPaused=d.player.getPaused()),d.timedTextBounds=this.getTimedTextBounds(),this.setState(d)},componentDidUpdate:function(e,t){var i=this.state,s=i.isFullScreen,n=i.loaded,a=i.player,o=i.playStartCompleted,r=i.playerPaused,l=i.uiState;s===t.isFullScreen&&this.props.dimensions||this.props.updateDimensions(),(n&&!t.loaded||l===F.INACTIVE&&t.uiState!==F.INACTIVE||l===F.ACTIVE&&t.uiState!==F.ACTIVE)&&a.setTimedTextBounds(this.getTimedTextBounds());var u=this.context.staticConfiguration.browserInfo;this.props.playStartRequested&&!o&&!this.props.autoPlay&&r&&(n||u.isMobile)&&a&&(this.clearTimeouts(),this.resetTransientState(),this.setState({playStartCompleted:!0}),a.play())},resetTransientState:function(){this._lastMousePosition=void 0,this._hasSeenPlayingEvent=!1,this._forceKeepActive=!1,this._keepActive=!1},componentWillUnmount:function(){this._isMounted=!1,this.resetTransientState();var e=this.context,t=e.actionCreators,i=e.playerSession,s=this.context.staticConfiguration.browserInfo,n=this.props.videoId,a=d.get(s,"isIOS",!1),o=d.get(s,"isAndroid",!1),r=this.getVideoNode();document.removeEventListener("fullscreenchange",this.fullscreenChanged),document.removeEventListener("webkitfullscreenchange",this.fullscreenChanged),document.removeEventListener("mozfullscreenchange",this.fullscreenChanged),document.removeEventListener("MSFullscreenChange",this.fullscreenChanged),document.removeEventListener("mousedown",this.onDocumentMouseDown),this.clearTimeouts(),r&&(a||o)&&(r.removeEventListener("webkitbeginfullscreen",this.fullscreenChanged),r.removeEventListener("webkitendfullscreen",this.fullscreenChanged)),t&&(t.unsetStartTime&&t.unsetStartTime({videoId:n,sessionId:i.getId()}),t.playerViewClosing&&t.playerViewClosing({playerSession:i,sessionId:i.getId()})),d.isFunction(d.get(this.disposed,"onNext",null))&&this.disposed.next(),this.disposed=null,this.listenerMap=null,this._observables=null,i&&i.hasPlayerInterface()&&i.destroyPlayerInterface()},restartPlayer:function(){this.props.restartPlayer&&this.props.restartPlayer(),this.isBecomingActive=!1,this.setState({started:!1,uiState:F.LOADING,playbackTimedOut:!1})},getTimedTextBounds:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.timedTextBoundsOverride,i=this.state.uiState;if(t)return t;if(i===F.INACTIVE||i===F.POWER_SAVE||i===F.DISABLED||i===F.OVERLAYED||e)return{bottom:0};var s=this._controlsComponent;if(s)return s.getTimedTextBounds();switch(this.state.uiState){case F.ACTIVE:return{bottom:80};case F.INACTIVE:return{bottom:ae};default:return ae}},getEvidence:function(){var e=this.props.playbackData,t=this.props.activeVideo,i=void 0,s=void 0,n=void 0;if(e)i=e.title,s=this.context.staticConfiguration.isRTL?null:d.get(e,"logo.url"),n=e.supplementalVideoTitle;else if(t){var a=this.context.staticConfiguration.showTitleLogoEvidence;if(i=t.getTitle(),s=a?t.getLogoURL():null,t.isEpisodic()){var o=t.getEpisodeTitleWithSeasonLabelData();n=this.context.getI18nString("player/player",o.hiddenEpisodeNumbers?"nsre.episode.title":"season.episode.title",o)}else t.isSupplemental()&&(n=t.getTitle())}return i||s?{topNodeTitle:i,logoURL:s,title:n}:{}},onClickPlay:function(e){var t=this.state,i=t.playbackTimedOut,s=t.loaded,n=t.scrubbing,a=t.player;if(i)return void this.setState({destroyPlayer:!0},function(){var e=this;this.restartPlayer(),this.setState({destroyPlayer:!1},function(){!e.props.autoPlay&&e.state.player&&e.state.player.play()})});s&&(this.onActive(),n&&a.scrubEnd(),a.togglePlay())},onFullScreenChange:function(e){var t=this.state,i=t.isFullScreen,s=t.player,n=i;if(s&&(s.toggleFullscreen(e),!n)){var a=this.getNFPlayerNode();a&&a.focus()}this.props.onFullScreenChange&&this.props.onFullScreenChange(e)},shouldComponentUpdate:function(e,t){if(this.state.rebuffering!==t.rebuffering)return!0;if(this.props.timedTextBoundsOverride!==e.timedTextBoundsOverride)return!0;if(this.props.playStartRequested!==e.playStartRequested)return!0;if((this.state.timedTextBounds&&this.state.timedTextBounds.bottom)!==(t.timedTextBounds&&t.timedTextBounds.bottom))return!0;var i=b(this.props.controlsMainHitzoneElement)&&b(e.controlsMainHitzoneElement)&&b(this.props.staticElement)&&b(e.staticElement)&&b(this.props.interactiveElement)&&b(e.interactiveElement)&&this.props.spinnerClass===e.spinnerClass&&d.isEqual(this.props.spinnerClassProps,e.spinnerClassProps),s=F.INACTIVE,n=F.POWER_SAVE,a=this.state.uiState;return(!i||!(a===s&&t.uiState===s||a===n&&t.uiState===n))&&f.pureRender(e,t)},setControlsComponent:function(e){this._controlsComponent=e},render:function(){var e=this.props,t=e.activeVideo,i=e.className,s=e.config,n=e.controls,a=e.controlsMainHitzoneElement,o=e.dimensions,r=e.exitPlayer,u=e.hasLargeDimensions,c=e.hasPreplay,d=e.hidePlayerCloseButton,p=e.interactiveElement,h=e.mainVideoId,y=e.metadata,f=e.onCastToTarget,g=e.playbackData,v=e.playbackEnded,T=e.playMainTitle,S=e.playNextTitle,C=e.shareLink,P=e.shareEmbedCode,I=e.shouldFadePlayerControlsBar,b=e.spinnerClass,x=e.spinnerClassProps,N=e.staticElement,k=e.trackId,M=e.timelineElementClass,L=e.timelineElementProps,_=e.videoId,D=e.watermarkElement,V=this.state,B=V.audioTracks,U=V.error,H=V.fastForward,G=V.isFullScreen,K=V.muted,z=V.playbackTimedOut,Y=V.player,X=V.playerPaused,Z=V.rebuffering,J=V.scrubbing,$=V.selectedAudioTrack,te=V.selectedTextTrack,ie=V.started,se=V.textTracks,ne=V.timedTracksLoaded,ae=V.uiState,re=V.volume,le=V.timedTextBounds,ue=this.context.staticConfiguration,ce=ue.controlsLayoutClass,de=ue.displayDisconnectedNetworkNotice,pe=ue.enableTimedTextRendering,he=ue.preventSVGDefinitionsRendering,ye=ue.browserInfo;if(!this.isPlayerCreationAvailable())return null;var me=A(s,o)||u,fe=E(N),ge=E(p),ve=D?this.state.player.getVideoSize():void 0,Te=l(this.context.models,"skipCreditsEnabled",!1),Se=ce,Ce=ye&&ye.isIOS,Pe=ae===F.TIMED_OUT?[O.EXIT,O.FULL_HITZONE]:n;return R.createElement(w,{"aria-label":this.context.getI18nString("player/player","aria.label.player."+(G?"fullscreen":"windowed")),className:m("nfp","nf-player-container","notranslate",{"nf-player-legacy-container":ce===Q,"container-large":me,"container-small":!me,active:ae===F.ACTIVE||ae===F.ACTIVATING,inactive:ae===F.INACTIVE||ae===F.POWER_SAVE,"is-scrubbing":J,"show-spinner":ie&&Z,"fast-forward":H,"NFPlayer--limited-svg-support":s&&s.limitedSVGSupport},i),inViewport:this.props.inViewport,onClick:this.onPlayerSurfaceClick,onContextMenu:this.onContextMenu,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove,onTouchStart:this.onPlayerSurfaceClick,onUserActivityChanged:this.onUserActivityChanged,tabIndex:0},ae!==F.POWER_SAVE&&!he&&W(this.context.models),this.createPlayerComponent(),D&&R.createElement(ee,{width:ve&&ve.width||16,height:ve&&ve.height||9},D),pe&&te&&R.createElement(q,{config:s,bounds:le,player:Y,track:te}),fe&&R.createElement("div",{className:"player-view-childrens player-view-childrens-static"},fe),b!==j?R.createElement(b,x):ie&&Z&&R.createElement(b,x),n&&!Ce&&!U&&R.createElement(Se,{activeVideo:t,audioTracks:B,controls:Pe,controlsMainHitzoneElement:a,exitPlayer:r,hidePlayerCloseButton:d,getEvidence:this.getEvidence,getNFPlayerNode:this.getNFPlayerNode,hasPreplay:c,skipCreditsEnabled:Te,isActive:ae===F.ACTIVE,isFullScreen:G,mainVideoId:h,metadata:y,muted:K,onCastToTarget:f,onClickPlay:this.onClickPlay,onFullScreenChange:this.onFullScreenChange,onMouseMove:this.onMouseMove,onSeekBack:this.onSeekBack,onUserActivityChanged:this.onUserActivityChanged,paused:X,playbackData:g,playbackEnded:v,playbackTimedOut:z,player:Y,playerDimensions:o,playNextTitle:S,playMainTitle:T,ref:this.setControlsComponent,scrubbing:J,selectedAudioTrack:$,selectedTextTrack:te,setAudioTrack:this.setAudioTrack,setKeepActive:this.setKeepActive,setTimedTextTrack:this.setTimedTextTrack,shareLink:C,shareEmbedCode:P,shouldFadePlayerControlsBar:I,textTracks:se,timedTracksLoaded:ne,timelineElementClass:M,timelineElementProps:L,trackId:k,uiState:ae,videoId:_,volume:re}),ge&&R.createElement("div",{className:"player-view-childrens player-view-childrens-interactive"},ge),de&&oe)}});t.exports=de});C.r("player/nfplayer/mixins/keyHandler.js",function(e,t,a){"use strict";function s(e,t,a,s){return e===n.LEFT||e===n.DOWN?Math.max(0,t-a):Math.min(s,t+a)}function r(e){e.emit(i.ACTIVE,{type:i.ACTIVE,event:null})}var n=e("../../../common/keyCodes"),i=e("../common/playerEvents");t.exports={onKeyDown:function(e){var t=this.props,a=t.logKeyDownEvent,i=t.allowManualLogging,c=t.disableKeyHandler,u=!!i&&i(),o=e.keyCode,l=this.getNFPlayerNode(),h=l===document.activeElement,p=l&&l.contains(document.activeElement),f=this.state.player,g=this.state.started&&!this.state.ended,b=-1===this.state.currentScrubTime?f.getCurrentTime():this.state.currentScrubTime;if(g&&!c.ALL)switch(o){case n.SPACE:case n.ENTER:if(c.SPACEENTER)return;h&&(e.preventDefault(),e.stopPropagation(),this.state.scrubbing?(this.setKeepActive(!1),f.scrubEnd(b)):f.togglePlay(),u&&a(e));break;case n.LEFT:case n.RIGHT:if(c.LEFTRIGHT)return;-1===this.state.currentScrubTime&&f.scrubStart(b),this.setKeepActive(!0);var m=s(o,b,10,f.getDuration());f.scrub(m),u&&a(e);break;case n.UP:case n.DOWN:if(c.UPDOWN)return;e.preventDefault(),f.setVolume(s(o,f.getVolume(),.1,1)),u&&a(e);break;case n.f:if(c.F)return;e.preventDefault(),f.toggleFullscreen(),u&&a(e);break;case n.m:if(c.M)return;e.preventDefault(),f.toggleMute(),u&&a(e);break;case n.ESC:if(c.ESC)return;e.preventDefault(),e.stopPropagation(),this.state.scrubbing&&(this.setKeepActive(!1),f.scrubCancel()),u&&a(e);break;case n.TAB:if(c.TAB)return;u&&a(e),r(this.state.player);break;default:r(this.state.player)}else g&&r(this.state.player);(h||p)&&this.setState({enableFocusStyle:!0}),this.onUserActivityChanged&&this.onUserActivityChanged(!0,o===n.TAB?this.context.staticConfiguration.controlsInactivityTimeout:null)}}});C.r("player/nfplayer/mixins/playbackData.js",function(t,e,i){"use strict";var o=t("prop-types"),s=t("lodash"),a=t("../uiContext");e.exports={contextTypes:{models:o.object.isRequired},getPlaybackData:function(){var t=this.props.videoId,e=this.state.staticConfiguration.uiContext,i=void 0,o=void 0,n=void 0;if(this.context.jsongDocument)(n=this.context.jsongDocument.bind(["videos",t]))&&(o=n.getValueSync(["playbackData",e]))&&(i=s.pick(o,["url","manifest"]));else{switch(e){case a.NONMEMBER_TRAILER:i=s.get(this.context.models,"nonmemberTitle.data")}e&&i&&(i[e]=s.get(i,e,{}))}return i}}});C.r("player/nfplayer/mixins/playbackPerformance.js",function(e,t,i){"use strict";function r(){try{window.netflix.clientNotifications.flushBuffer()}catch(e){}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.assign({},f,e)}function a(e){return c.assign({},c.omit(e,["totalTimeTracker","stalled"]))}function n(e){return c.result(e||{},"getSessionSummary",{})}function o(e){var t={};if(!e)return t;var i=c.result(e,"getVideoPlaybackQuality",null)||e.videoPlaybackQuality||e.playbackQuality;return t.totalVideoFrames=i?i.totalVideoFrames:e.webkitDecodedFrameCount,t.droppedVideoFrames=i?i.droppedVideoFrames:e.webkitDroppedFrameCount,i&&(t.corruptedVideoFrames=i.corruptedVideoFrames||0,t.totalFrameDelay=Math.round(1e3*(i.totalFrameDelay||0))),t}function d(e,t){var i=Date.now(),r=e.props.autoPlay,a=e.state.ready;e._metrics=c.assign(s({started:i,attemptedPlayCount:c.keys(e._recordedMetrics).length+1,playStartRequest:r?i:void 0,autoPlay:r,hasAttemptedPlay:r,ready:a?i:void 0,playerVersion:c.result(e,"state.player.getVersion",null),performanceTiming:c.result(window,"performance.timing.toJSON",{})}),t)}function l(e,t,i,r){var s=e.length,a=e[s-1];!t||a&&!a.end?!t&&a&&a.start&&e.push({end:!0,type:i,pts:r,ts:Date.now()}):e.push({start:!0,type:i,pts:r,ts:Date.now()})}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.fallbackMode,s=void 0!==r&&r,a=i.currentTime,d=void 0===a?0:a,l=i.includeTotalTime,m=void 0===l||l,u=e.props.config,_=e.context.staticConfiguration.uiContext,f=c.result(e,"state.player._getPlayerComponent",null),g=void 0;e._metrics=e._metrics||{},t.type===h.ENDED?(e._metrics.ended=!0,e._metrics.playTime=d,e._metrics.maxPTS=d>e._metrics.maxPTS?d:e._metrics.maxPTS):t.type===h.ERROR&&(e._metrics.error=!0,e._metrics.exception=t.state,e._metrics.playTime=d,(g=c.get(e._metrics,"exception.error",null))instanceof MediaError&&(e._metrics.exception=g.code)),e._metrics.sessionSummary=n(c.get(f,"player",null)),e._metrics.quality=o(e.getVideoNode&&e.getVideoNode()),e._metrics.uiContext=_,e._metrics.preferredEngine=c.get(u,"preferredEngine",""),e._metrics.engine=e.props.engine||c.get(f,"constructor.engine",""),e._metrics.playerVersion=c.result(e,"state.player.getVersion",null),e._metrics.uiContextPreferredEngine=c.get(p(u,_),"preferredEngine",""),e._metrics.preferCadmium=c.get(u,"preferCadmium",""),e._metrics.duration=f?f.getDuration():0,e._metrics.fallbackMode=s?1:0;var y=e._metrics.totalTimeTracker,v=y.length;if(m&&v&&v%2==0)for(e._metrics.totalTime=0;v--;)y[v]&&y[v-1]&&(e._metrics.totalTime+=y[v].ts-y[v-1].ts,v--)}var c=e("lodash"),h=e("../common/playerEvents"),u=e("../../../reactMixins/eventBus"),p=e("../utils/getUiContextConfig"),_=e("../../../utils/consolidatedLogging/loggingEventRegistry"),f={started:-1,ready:-1,playStartRequest:-1,timeUpdate:-1,maxPTS:-1,hasAttemptedPlay:!1,playTime:-1,rebufferTime:0,stalled:!1,error:-1,loaded:-1,rebufferCount:0,quality:void 0,ended:!1,autoPlay:!1,duration:-1,fallbackMode:-1,totalTime:-1,totalTimeTracker:[],playerVersion:"",generatedAtFlush:!1,preferredEngine:"",sessionSummary:void 0,uiContext:"",engine:"",uiContextPreferredEngine:"",attemptedPlayCount:0,exception:void 0,preferCadmium:void 0,performanceTiming:void 0,version:7},g={_isLoggingEnabled:function(){var e=this.props.config,t=c.get(this,"context.staticConfiguration",{}),i=c.get(p(e,t.uiContext),"performanceLogging",!1);return t.performanceLogging||i},_metrics:void 0,componentDidMount:function(){this._isLoggingEnabled()&&(this._recordedMetrics={},d(this,{videoId:this.props.videoId,trackId:this.props.trackId}),this._addPerformanceEventListeners())},_addPerformanceEventListeners:function(){this._performanceEventListenersAttached||(this.state.player.on("ended",this._flush),this.state.player.on("error",this._flush),this.state.player.on("stalled",this._stalled),this.state.player.on("rebuffering",this._stalled),this.state.player.on("timeupdate",this._timeupdate),this.state.player.on("loaded",this._load),this.state.player.on("paused",this._paused),window.addEventListener("beforeunload",this._flush),this._performanceEventListenersAttached=!0)},componentWillUpdate:function(e,t){if(this._isLoggingEnabled()){var i=this.props.videoId,r=e.videoId,s=this.props.engine,a=e.engine;i!==r&&!isNaN(parseInt(r,10))||s!==a?this._metrics&&(this._flush({type:"videochanged"}),this._removePerformanceEventListeners()):this._metrics&&(t.ready&&-1===this._metrics.ready&&(this._metrics.ready=Date.now()),t.playerPaused||this._metrics.hasAttemptedPlay||(this._metrics.hasAttemptedPlay=!0,this._metrics.playStartRequest=Date.now()))}},componentDidUpdate:function(e){if(this._isLoggingEnabled()){var t=e.videoId,i=this.props.videoId,r=e.engine,s=this.props.engine;(i!==t&&!isNaN(parseInt(i,10))||s!==r)&&(this._metrics||(d(this,{videoId:i,trackId:this.props.trackId}),this._addPerformanceEventListeners()))}},componentWillUnmount:function(){this._isLoggingEnabled()&&(this._flush({type:"unmount"}),this._removePerformanceEventListeners())},_removePerformanceEventListeners:function(){this._performanceEventListenersAttached&&(this.state.player.removeListener("ended",this._flush),this.state.player.removeListener("error",this._flush),this.state.player.removeListener("stalled",this._stalled),this.state.player.removeListener("rebuffering",this._stalled),this.state.player.removeListener("timeupdate",this._timeupdate),this.state.player.removeListener("load",this._load),this.state.player.removeListener("paused",this._paused),window.removeEventListener("beforeunload",this._flush),this._performanceEventListenersAttached=!1)},_paused:function(e){this._metrics&&!0===this.state.player.getPaused()&&l(this._metrics.totalTimeTracker,!1,"pause",this.state.player.getCurrentTime())},_timeupdate:function(e){if(!(!this._metrics||isNaN(e.state.currentPlayerTime)||e.state.currentPlayerTime<.01)){var t=!1,i=void 0,s=void 0,n=c.result(this,"state.player.getCurrentTime",0);-1===this._metrics.timeUpdate&&n>0?(this._metrics.timeUpdate={ts:Date.now(),progress:n},l(this._metrics.totalTimeTracker,!0,"start",n),t=!0):!1===this.state.player.getPaused()&&l(this._metrics.totalTimeTracker,!0,"restart",n),this._metrics.ended||!1===this._metrics.stalled||(i=Date.now(),s=i-this._metrics.stalled,this._metrics.rebufferCount++,this._metrics.rebufferTime+=s,this._metrics.stalled=!1),this._metrics.playTime=n,this._metrics.maxPTS=n>this._metrics.maxPTS?n:this._metrics.maxPTS,t&&(m(this,e,{fallbackMode:c.get(this,"state.fallbackMode"),currentTime:n,includeTotalTime:!1}),u.emit(_.PERFORMANCE_START,a(this._metrics)),r())}},_load:function(e){this._metrics&&(this._metrics.loaded=Date.now())},_stalled:function(e){if(this._metrics&&!(isNaN(e.state.currentPlayerTime)||e.state.currentPlayerTime<.01)){var t=Date.now();!1!==this._metrics.stalled&&(this._metrics.rebufferTime+=t-this._metrics.stalled),l(this._metrics.totalTimeTracker,!1,"stalled",this.state.player.getCurrentTime()),this._metrics.stalled=t}},_flush:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=c.get(this,"state.fallbackMode"),i=c.result(this,"state.player.getCurrentTime",0);this._recordedMetrics=this._recordedMetrics||{},!t&&this._recordedMetrics[this.props.videoId]||(this._metrics=this._metrics||s({generatedAtFlush:!0}),l(this._metrics.totalTimeTracker,!1,"flush",i),m(this,e,{fallbackMode:t,currentTime:i}),u.emit(_.PERFORMANCE_END,a(this._metrics)),r(),this._recordedMetrics[this.props.videoId]=this._metrics,this._metrics=null,this._removePerformanceEventListeners())}};t.exports=g});C.r("player/nfplayer/mixins/playerHandlers.js",function(e,t,a){"use strict";function r(e,t){return e===t}var s=e("../common/playerEvents"),n=e("../common/PlayerUIState"),i=e("../utils/fullscreen"),o=e("lodash");t.exports={onPlayerProgressBuffer:o.throttle(function(e){this.props.updateState({type:s.PROGRESS,state:this.getTimeState(),event:e})},500,{leading:!0,trailing:!0}),onPlayerReady:function(e){this.props.onPlayerReady&&this.props.onPlayerReady(e)},onPlayerPlaying:function(e){var t={};t.currentScrubTime=-1,t.scrubbing=!1,t.started=!0,t.ended=!1,t.playerPaused=!1,t.loading=!1,this.props.playStartRequested&&(t.playStartCompleted=!0),this.props.updateState({type:s.PLAYING,state:t,event:e})},onPlayerPausedChanged:function(e){var t=this.getPaused();this.props.playerPaused!==t&&this.props.updateState({type:s.PAUSED,state:{playerPaused:t},event:e})},onPlayerLoad:function(e){this.props.updateState({type:s.LOADED,state:{loaded:!0,loading:!1},event:e})},onPlayerError:function(e){var t=this.getError()||e;if(t&&t.messageIdList&&t.messageIdList.indexOf("pause_timeout")>=0)return void(this.props.onPlayerTimeout&&this.props.onPlayerTimeout());this.props.updateState({type:s.ERROR,state:{playStartCompleted:!1,error:t},event:e})},onPlayerStalled:function(e){this.props.updateState({type:s.STALLED,state:o.assign(this.getTimeState(),{stalled:!0}),event:e})},onPlayerTimeUpdate:function(e){this.getCurrentTime()<1&&!this.props.rewoundOnEnd||(this.props.updateState({type:s.TIME_UPDATE,state:o.assign(this.getTimeState(),{currentScrubTime:-1,scrubbing:!1,stalled:!1,rebuffering:!1,rewoundOnEnd:!1}),event:e}),this.props.uiState===n.LOADING&&this.onPlayerPlaying(e),r(this.getCurrentTime(),this.getDuration())&&this.onPlayerEnded(e))},onPlayerDurationChanged:function(e){this.props.updateState({type:s.DURATION_CHANGED,state:this.getTimeState(),event:e})},onPlayerVolumeChanged:function(e){this.props.updateState({type:s.VOLUME_CHANGED,state:{volume:this.getVolume(),muted:this.getMuted()},event:e})},onPlayerEnded:function(e){if(!this.props.ended){this.pause();var t={};t.ended=!0,t.started=!1,t.playStartCompleted=!1,this.context.staticConfiguration.rewindOnEnd&&(t.rewoundOnEnd=!0),this.props.updateState({type:s.ENDED,event:e,state:t})}},onPlayerLoadedMetadata:function(e){this.props.updateState({type:s.METADATA_LOADED,state:{metadataloaded:!0},event:e})},onPlayerTimedTracksLoaded:function(e){var t={timedTracksLoaded:!0,audioTracks:this.getAudioTrackList(),textTracks:this.getTimedTextTrackList(),selectedAudioTrack:this.getAudioTrack(),selectedTextTrack:this.getTimedTextTrack()};this.props.updateState({type:s.TIMED_TRACKS_LOADED,state:t,event:e})},onPlayerTimedTracksChanged:function(e){var t={audioTracks:this.getAudioTrackList(),textTracks:this.getTimedTextTrackList(),selectedAudioTrack:this.getAudioTrack(),selectedTextTrack:this.getTimedTextTrack()};this.props.updateState({type:s.TIMED_TRACKS_CHANGED,state:t,event:e})},onShowSubtitle:function(e){this.props.updateState({type:s.SHOW_SUBTITLE,state:{},event:e})},onRemoveSubtitle:function(e){this.props.updateState({type:s.REMOVE_SUBTITLE,state:{},event:e})},getTimeState:function(){return{duration:this.getDuration(),currentPlayerTime:this.getCurrentTime(),buffered:this.getBufferedTime()}},toggleFullscreen:function(e){i.toggleFullscreen(this._getNodeForFullscreen())},enterFullscreen:function(){i.enterFullscreen(this._getNodeForFullscreen())},exitFullscreen:function(){i.exitFullscreen(this._getNodeForFullscreen())},_getNodeForFullscreen:function(){var e=this.context.staticConfiguration.browserInfo,t=o.get(e,"isIOS",!1),a=o.get(e,"isAndroid",!1);return t||a?this.getVideoNode():this.props.getFullScreenNode()},engage:function(){this.player&&this.player.engage&&this.player.engage.apply(this.player,arguments)}}});C.r("player/nfplayer/mixins/trickplay.js",function(r,e,t){"use strict";e.exports={_currentTrickPlayFrame:{},_currentTrickPlayURL:null,getTrickPlayURL:function(r){var e=this.player.getTrickPlayFrame(1e3*r)||{};if(e.time===this._currentTrickPlayFrame.time)return this._currentTrickPlayURL;this._currentTrickPlayFrame=e;var t=e&&e.image,i=null;if(t)try{i=URL.createObjectURL(new Blob([t],{type:"image/jpeg"}))}catch(r){}return this._currentTrickPlayURL&&URL.revokeObjectURL(this._currentTrickPlayURL),this._currentTrickPlayURL=i,i}}});C.r("player/nfplayer/requests/playerupsell.js",function(n,l,r){"use strict";function u(n,l){return a.call([o,n.id,s],[],[],[]).subscribe(function(n){l(null,n)},function(n){l(n,null)})}function e(n,l,r){var u=n.id,e=[o,u,s];r(null,t.get(l,["value"].concat(e).join("."),null))}function i(n,l){var r=t.assign({},c,n);return u(r,function(n,u){if(n)return l(n,null);e(r,u,l)})}var t=n("lodash"),a=n("../../../falkorClient/falkorLoader"),o="videos",s="playerUpsell",c={id:-1};l.exports=i});C.r("player/nfplayer/components/postplay/countdownTimer.jsx",function(t,e,n){"use strict";var i=t("classnames"),s=t("create-react-class"),r=(t("prop-types"),t("react")),o=t("../../../../components/ux/UIMarkup.jsx"),p=i("countdown-container"),a=s({displayName:"CountdownTimer",getDefaultProps:function(){return{stoppedString:"",singularString:"1",getPluralString:function(t){return t&&t.toString()||"0"},onExpire:function(){},onStart:function(){},onCancel:function(){},duration:15e3,interval:1e3,stopped:!1}},getInitialState:function(){return{duration:this.props.duration,text:this.props.getPluralString(this.props.duration),stopped:!1}},currentTime:0,intervalId:void 0,componentWillReceiveProps:function(t){t.stopped&&this.stop()},componentDidMount:function(){this.props.stopped?this.stop():(this.currentTime=this.state.duration,this.intervalId=setInterval(this.updateTime,this.props.interval),this.updateTime(),this.props.onStart())},updateTime:function(){var t=this.currentTime--;t>1?this.setState({text:this.props.getPluralString(t)}):1===t?this.setState({text:this.props.singularString}):(this.props.onExpire(),this.stop({wasCancelled:!1}))},stop:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.wasCancelled,n=void 0===e||e;this.intervalId&&(clearInterval(this.intervalId),delete this.intervalId,n&&this.props.onCancel()),this.isMounted()&&this.setState({stopped:!0,text:this.props.stoppedString})},componentWillUnmount:function(){this.stop()},render:function(){return r.createElement(o,{className:p,tagType:"h3",text:this.state.text})}});e.exports=a});C.r("player/nfplayer/components/postplay/postplayPPTracker.jsx",function(t,e,r){"use strict";function a(t){var e={__meta__:t.__meta__};return s({displayName:"PresentationTrackingComponent("+t.displayName+")",statics:e,getOverrides:function(){var t=this.props,e=t.row,r=t.rank,a={};return e&&(a.row=e),r&&(a.rank=r),a},render:function(){var e=this.props.postplayMetadata,r=this.getOverrides(),a=p.getPresentationTrackingData(e,r);return a?n.createElement(o,a,n.createElement(t,this.props)):n.createElement(t,this.props)}})}var n=(t("prop-types"),t("react")),s=t("create-react-class"),o=t("../../../../components/presentationTracking/trackingComponents/boxartPresTracking"),p=t("../../utils/postPlayCommon.js");e.exports=a});C.r("player/nfplayer/components/postplay/thumbsRating.jsx",function(t,e,s){"use strict";var r=t("prop-types"),a=t("react"),i=t("create-react-class"),n=t("classnames"),p=t("ramda/src/isNil"),o=t("../../../../akira/components/title/thumbs.jsx"),l=t("../../../../akira/components/title/basicStarBar.jsx"),c=function(t,e){if(p(t))return e;var s=t.getValueSync(["userRating"]);return p(s)?e:s},u=i({displayName:"ThumbsRating",contextTypes:{getI18nString:r.func.isRequired},getDefaultProps:function(){return{handleRating:function(){},shouldPrefixTitle:!0,title:""}},getInitialState:function(){return{userRating:null}},isThumbs:function(){return"thumb"===this.props.type||"thumb"===c(this.props.model,{}).type},onRatedStars:function(t){this.setState({userRating:t})},render:function(){var t=this.state.userRating||this.props.userRating,e=void 0;return e=""===this.props.title?this.context.getI18nString("player/player","postplay.recommendations.rate"):this.props.shouldPrefixTitle?this.context.getI18nString("player/player","postplay.rate",{title:this.props.title}):this.props.title,a.createElement("div",{className:n("pp-rating-container")},this.isThumbs()?a.createElement("div",{className:n("pp-thumbs-wrapper")},a.createElement("span",{className:n("pp-rating-title")},e),a.createElement("div",{className:n("pp-thumbs-container")},a.createElement(o,{matchScore:this.props.matchScore,model:this.props.model,onRating:this.props.handleRating,readOnly:!1,tooNewForMatchScore:this.props.tooNewForMatchScore,userRating:this.props.userRating,videoId:this.props.videoId}))):a.createElement("div",{className:n("pp-stars-wrapper")},a.createElement("span",{className:n("pp-rating-title")},e),a.createElement(l,{lightBackground:!0,onRating:this.onRatedStars,predictedRating:this.props.predictedRating,readOnly:!1,userRating:t,videoId:this.props.videoId})))}});e.exports=u});C.r("player/nfplayer/components/postplay/watchNextTimer.jsx",function(t,o,n){"use strict";var e=t("prop-types"),r=t("react"),i=t("create-react-class"),s=t("../postplay/countdownTimer.jsx"),a=t("../../../../akira/redux/decorators/decorateWithUuid"),p="player/player",c=i({displayName:"WatchNextTimer",contextTypes:{getI18nString:e.func.isRequired,playerApp:e.object.isRequired},_countdownActionCreators:void 0,getDefaultProps:function(){return{autoPlayEnabled:!0}},getPluralString:function(t){return this.context.getI18nString(p,"postplay.countdown.timer",{CURRENT_TIME:t})},shouldComponentUpdate:function(t,o){return this.props.autoPlayEnabled},onExpire:function(){this._countdownActionCreators&&(this._countdownActionCreators.logEndPlayNextCountdownTimer(),delete this._countdownActionCreators),this.props.onExpire()},onStart:function(){this._countdownActionCreators=a(this.context.playerApp.getActionCreators()),this._countdownActionCreators.logStartPlayNextCountdownTimer({maxDuration:this.props.duration})},onCancel:function(){this._countdownActionCreators&&(this._countdownActionCreators.logCancelPlayNextCountdownTimer(),delete this._countdownActionCreators)},render:function(){var t=this.context.getI18nString(p,"postplay.countdown.timer.stopped"),o=!this.props.autoPlayEnabled||this.props.stopped;return r.createElement(s,{duration:this.props.duration,getPluralString:this.props.getCountdownText?this.props.getCountdownText:this.getPluralString,interval:this.props.interval,onExpire:this.onExpire,onStart:this.onStart,onCancel:this.onCancel,singularString:this.props.getCountdownText?this.props.getCountdownText(1):this.context.getI18nString(p,"postplay.countdown.timer.singular"),stopped:o,stoppedString:t})}});o.exports=c});C.r("player/nfplayer/domain/common/commonUtils.js",function(t,n,r){"use strict";var e=t("ramda/src/compose"),a=t("ramda/src/isNil"),u=t("ramda/src/when"),i=u(a,function(){return[]}),h=u(a,function(){return{}}),o=u(a,function(){return""}),c=u(a,function(){return!1}),f=u(a,function(){return-1}),l=function(t){return function(n){return e(t)(n)}},s=l(i),g=l(h),m=l(o),y=l(c),P=l(f),d=function(t){return s(t)},p=function(t){return g(t)},T=function(t){return m(t)},N=function(t){return y(t)},w=function(t){return P(t)};n.exports={getPathThatDefaultsToEmptyArray:d,getPathThatDefaultsToEmptyObj:p,getPathThatDefaultsToEmptyString:T,getPathThatDefaultsToFalse:N,getPathThatDefaultsToNegativeOne:w,getPathWithArrayGuard:s,getPathWithBoolGuard:y,getPathWithGuard:l,getPathWithNumberGuard:P,getPathWithObjGuard:g,getPathWithStringGuard:m,whenNilEmptyArray:i,whenNilEmptyObj:h,whenNilEmptyString:o,whenNilFalse:c,whenNilNegativeOne:f}});C.r("player/nfplayer/domain/postplay/postPlayAction.js",function(e,o,a){"use strict";var t=e("nf-algebraic-data-types/Record"),s=t({additionalTrackIds:{autoPlay:-1,userPlay:-1},bookmarkPosition:-1,displayText:"",doNotIncrementInterrupter:!1,episode:-1,ignoreBookmark:!1,inMyList:!1,name:"defaultAction",seamlessEnd:-1,seamlessStart:-1,season:-1,seasonSequenceAbbr:"",seasonSequenceLong:"",showEpisodes:!1,trackId:-1,type:"defaultAction",videoId:-1}),n=s();o.exports={defaultPostPlayAction:n,postPlayActionRecord:s}});C.r("player/nfplayer/domain/postplay/postPlayActionAPI.js",function(n,t,e){"use strict";var r=n("./postPlayAction"),u=r.defaultPostPlayAction,o=n("ramda/src/pathOr"),i=function(n){return n.bookmarkPosition},c=function(n){return!n.doNotIncrementInterrupter},s=function(n){return n.name},a=function(n){return n.videoId},f=function(n){return n.trackId},l=o(-1,["additionalTrackIds","autoPlay"]),d=o(-1,["additionalTrackIds","userPlay"]),g=function(n){var t=l(n);return t>-1?t:f(n)},p=function(n){var t=d(n);return t>-1?t:f(n)},y=function(n){return n.type},S=function(n){return n.showEpisodes},E=function(n){return n.inMyList},I=function(n){return n.episode},k=function(n){return n.season},m=function(n){return n.seasonSequenceAbbr},P=function(n){return n.seasonSequenceLong},O=function(n){return 1e3*n.seamlessEnd},T=function(n){return 1e3*n.seamlessStart},A=function(n){return"defaultAction"===n.type},b=function(n){return n.displayText},v=function(n,t,e){return e===u&&void 0!==n?n:t(e)},h=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return{getAutoPlayTrackId:function(){return g(n)},getAutoPlayTrackIdOrElse:function(t){return v(t,g,n)},getBookmarkPosition:function(){return 1e3*i(n)},getBookmarkPositionOrElse:function(t){return v(t,i,n)},getDisplayText:function(){return b(n)},getDisplayTextOrElse:function(t){return v(t,b,n)},getEpisode:function(){return I(n)},getEpisodeOrElse:function(t){return v(t,I,n)},getName:function(){return s(n)},getSeamlessEnd:function(){return O(n)},getSeamlessEndOrElse:function(t){return v(t,O,n)},getSeamlessStart:function(){return T(n)},getSeamlessStartOrElse:function(t){return v(t,T,n)},getSeason:function(){return k(n)},getSeasonOrElse:function(t){return v(t,k,n)},getSeasonSequenceAbbr:function(){return m(n)},getSeasonSequenceAbbrOrElse:function(t){return v(t,m,n)},getSeasonSequenceLong:function(){return P(n)},getSeasonSequenceLongOrElse:function(t){return v(t,P,n)},getTrackId:function(){return f(n)},getTrackIdOrElse:function(t){return v(t,f,n)},getType:function(){return y(n)},getUserPlayTrackId:function(){return p(n)},getUserPlayTrackIdOrElse:function(t){return v(t,p,n)},getVideoId:function(){return a(n)},getVideoIdOrElse:function(t){return v(t,a,n)},isDefaultAction:function(){return A(n)},isInMyList:function(){return E(n)},shouldIncrementInterrupter:function(){return c(n)},shouldShowEpisodes:function(){return S(n)},toData:function(){return n}}};t.exports=h});C.r("player/nfplayer/domain/postplay/postPlayExperience.js",function(e,s,t){"use strict";var a=e("./postPlayConstants"),o=e("nf-algebraic-data-types/Record"),p=o({actions:[],assets:{},autoplay:!1,autoplaySeconds:-1,currentEpisodeSeamlessData:{seamlessCountdownSeconds:-1,seamlessStart:-1,seamlessEnd:-1},impressionToken:"",items:[],itemsInitialIndex:-1,playlist:"",promotedSupplementalMessage:"",promotedTitle:"",promotedVideoId:-1,requestId:"",theme:"",type:a.experienceTypes.defaultExperience}),n=p();s.exports={defaultPostPlayExperience:n,postPlayExperienceRecord:p}});C.r("player/nfplayer/domain/postplay/postPlayItem.js",function(e,s,a){"use strict";var t=(e("./postPlayConstants"),e("nf-algebraic-data-types/Record")),i=t({actions:[],actorNames:[],ancestorId:-1,ancestorSynopsis:"",ancestorTitle:"",assets:{BACKGROUND:{url:"",width:-1,height:-1,isBadged:!1,assetType:""},DISPLAY_ART:{url:"",width:-1,height:-1,isBadged:!1,assetType:""}},availabilityDateMessaging:"",badgeKeys:[],delivery:{has3D:!1,has51Audio:!1,hasDolbyVision:!1,hasHD:!1,hasHDR:!1,hasUltraHD:!1,quality:""},impressionData:{},isNSRE:!1,hiddenEpisodeNumbers:!1,maturityRating:"",rating:{average:-1,predicted:-1,userRating:-1},runtime:-1,seasons:-1,seasonSequenceAbbr:"",seasonsLabel:"",supplementalMessage:"",synopsis:"",title:"",type:"defaultItem",videoId:-1,year:-1}),o=i();s.exports={defaultPostPlayItem:o,postPlayItemRecord:i}});C.r("player/nfplayer/domain/postplay/postPlayItemAPI.js",function(n,t,e){"use strict";var r=n("./postPlayItem"),i=r.defaultPostPlayItem,o=n("ramda/src/always"),u=n("ramda/src/compose"),c=n("./postPlayActionAPI"),s=n("./postPlayConstants"),a=n("./postPlayUtils"),f=function(n){return n.actions},l=function(n){return a.findAddToPlaylistAction(n.actions)},A=u(c,l),g=function(n){return a.findFirstPlayTypeAction(n.actions)},y=u(c,g),d=function(n){return a.findPlayMovieAction(n.actions)},P=u(c,d),p=function(n){return a.findPlayEpisodeAction(n.actions)},I=u(c,p),E=function(n){return a.findMoreInfoAction(n.actions)},m=u(c,E),T=function(n){return a.findPlayTrailerAction(n.actions)},M=u(c,T),v=function(n){var t=f(n);return t.length>0?t[0]:void 0},O=u(c,v),R=function(n){return n.videoId},D=function(n){return n.ancestorId},L=function(n){return n.ancestorTitle},h=function(n){return n.title},N=function(n){return n.synopsis},b=function(n){return n.supplementalMessage},F=function(n){return n.year},S=function(n){return n.rating},U=function(n){return n.maturityRating},w=function(n){return n.delivery},B=function(n){return!!n.isNSRE},k=function(n){return!n.hiddenEpisodeNumbers},C=function(n){return n.availabilityDateMessaging},K=function(n){return n.badgeKeys},j=function(n){return n.actorNames},x=function(n){return n.impressionData},V=function(n){return n.runtime},Y=function(n,t,e){return e===i&&void 0!==n?n:t(e)},q=function(n){return n.type===s.itemTypes.episode},z=function(n){return n.type===s.itemTypes.movie},G=function(n){return n.type===s.itemTypes.show},H=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=o(n);return{getActions:function(){return f(n)},getActorNames:function(){return j(n)},getAddToMyListAction:function(){return l(n)},getAddToMyListActionOrElse:function(t){return Y(t,l,n)},getAddToMyListActionAPI:function(){return A(n)},getAddToMyListActionAPIOrElse:function(t){return Y(t,A,n)},getAncestorId:function(){return D(n)},getAncestorTitle:function(){return L(n)},getAvailabilityDateMessaging:function(){return C(n)},getBackgroundAssetURL:function(){return a.getBackgroundAssetURL(n)},getBadgeKeys:function(){return K(n)},getDelivery:function(){return w(n)},getDisplayArtAssetURL:function(){return a.getDisplayArtAssetURL(n)},getFirstPlayTypeAction:function(){return g(n)},getFirstPlayTypeActionOrElse:function(t){return Y(t,g,n)},getFirstPlayTypeActionAPI:function(){return y(n)},getFirstPlayTypeActionAPIOrElse:function(t){return Y(t,y,n)},getImpressionData:function(){return x(n)},getInitialAction:function(){return v(n)},getInitialActionOrElse:function(t){return Y(t,v,n)},getInitialActionAPI:function(){return O(n)},getInitialActionAPIOrElse:function(t){return Y(t,O,n)},getMaturityRating:function(){return U(n)},getMoreInfoAction:function(){return E(n)},getMoreInfoActionOrElse:function(t){return Y(t,E,n)},getMoreInfoActionAPI:function(){return m(n)},getMoreInfoActionAPIOrElse:function(t){return Y(t,m,n)},getPlayMovieAction:function(){return d(n)},getPlayMovieActionOrElse:function(t){return Y(t,d,n)},getPlayMovieActionAPI:function(){return P(n)},getPlayMovieActionAPIOrElse:function(t){return Y(t,P,n)},getPlayEpisodeAction:function(){return p(n)},getPlayEpisodeActionOrElse:function(t){return Y(t,p,n)},getPlayEpisodeActionAPI:function(){return I(n)},getPlayEpisodeActionAPIOrElse:function(t){return Y(t,I,n)},getPlayTrailerAction:function(){return T(n)},getPlayTrailerActionOrElse:function(t){return Y(t,T,n)},getPlayTrailerActionAPI:function(){return M(n)},getPlayTrailerActionAPIOrElse:function(t){return Y(t,M,n)},getRating:function(){return S(n)},getRuntime:function(){return V(n)},getSupplementalMessage:function(){return b(n)},getSynopsis:function(){return N(n)},getTitle:function(){return h(n)},getVideoId:function(){return R(n)},getYear:function(){return F(n)},isEpisode:function(){return q(n)},isMovie:function(){return z(n)},isNSRE:function(){return B(n)},showEpisodeNumbers:function(){return k(n)},isShow:function(){return G(n)},toData:t}};t.exports=H});C.r("player/nfplayer/domain/postplay/postPlayUtils.js",function(t,n,e){"use strict";var r=t("./postPlayAction"),o=r.postPlayActionRecord,a=t("./postPlayExperience"),i=a.postPlayExperienceRecord,s=t("./postPlayItem"),c=s.postPlayItemRecord,u=t("ramda/src/pathOr"),l=function(t){return["assets",t,"url"]},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BACKGROUND";return u("",l(t))},y=p("BACKGROUND"),d=p("DISPLAY_ART"),f=p("LOGO"),A=function(t){return"defaultAction"===t.type},m=function(t){return"play"===t.type},P=function(t){return"playlist"===t.type},R=function(t){return"mdp"===t.type},v=function(t){return m(t)&&"play"===t.name},g=function(t){return m(t)&&"playEpisode"===t.name},L=function(t){return g(t)&&void 0!==t.seamlessStart&&"number"==typeof t.seamlessStart},T=function(t){return m(t)&&"playTrailer"===t.name},S=function(t){return P(t)&&"addToMyList"===t.name},U=function(t){return R(t)&&"moreInfo"===t.name},E=function(t){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(t)[0]}},I=E(g),D=E(L),O=E(v),x=E(T),h=E(S),B=E(U),C=E(m),G=function(t){var n=Array.isArray(t.actions)?t.actions.map(o):[];return t.actions=n,c(t)},M=function(t){var n=Array.isArray(t.actions)?t.actions.map(o):[],e=Array.isArray(t.items)?t.items.map(G):[];return t.actions=n,t.items=e,t.autoplaySeconds=null===t.autoplaySeconds?void 0:t.autoplaySeconds,i(t)};n.exports={convertRawExperienceToRecord:M,convertRawItemToRecord:G,findAddToPlaylistAction:h,findFirstPlayTypeAction:C,findMoreInfoAction:B,findPlayEpisodeAction:I,findPlayEpisodeSeamlessAction:D,findPlayMovieAction:O,findPlayTrailerAction:x,isDefaultAction:A,getAssetURL:p,getBackgroundAssetURL:y,getDisplayArtAssetURL:d,getLogoAssetURL:f}});C.r("player/nfplayer/domain/video/videoAPI.js",function(t,e,a){"use strict";var n=t("../common/commonUtils"),r=t("ramda/src/compose"),i=t("ramda/src/path"),g=t("./videoConstants"),s=g.ratingType,o=n.getPathThatDefaultsToEmptyString,u=n.getPathThatDefaultsToFalse,R=n.getPathThatDefaultsToNegativeOne,c=R(i(["userRating","matchScore"])),m=R(i(["userRating","average"])),T=R(i(["userRating","predicted"])),d=u(i(["userRating","newForPVR"])),h=o(i(["userRating","type"])),p=R(i(["userRating","userRating"])),l=function(t){return t===s.STARS},P=function(t){return t===s.THUMB},f=r(l)(h),v=r(P)(h);e.exports={getAverageRating:m,getPredictedRating:T,getRatingMatchPercentage:c,getRatingNewForPVR:d,getRatingType:h,getRatingValue:p,isStarsRating:f,isThumbRating:v}});C.r("player/nfplayer/domain/video/videoConstants.js",function(e,s,i){"use strict";var o={STARS:"stars",THUMB:"thumb"},r={EPISODE:"episode",MOVIE:"movie",SERIES:"series",SHOW:"show"};s.exports={ratingType:o,videoType:r}});C.r("player/nfplayer/domain/video/videoUtils.js",function(e,i,r){"use strict";var t=e("./videoConstants"),n=t.videoType,s=function(e){return function(i){return e===i}},a=s(n.EPISODE),o=s(n.MOVIE),d=s(n.SERIES),p=s(n.SHOW),u=function(e,i,r){return{firstTimeAdded:!0,movieId:e,priority:1,params:{authParams:{pinCapableClient:!1},manifest:r,trackingId:i}}};i.exports={createPrepareObject:u,isEpisode:a,isMovie:o,isSeries:d,isShow:p}});C.r("player/nfplayer/requests/postplay.js",function(n,l,a){"use strict";function i(n,l){var a=r.canUseWebPFromContext()?p:k,i=u;return n.hasSocialFollowLinksInPostPlay&&(i=[u,f]),s.call([c,n.id,i],[a,n.clearChain],[],[]).subscribe(function(n){l(null,n)},function(n){l(n,null)})}function o(n,l,a){var i=n.id,o=[c,i,u],e=[c,i,f],s=t.get(l,["value"].concat(o).join("."),null),r=t.get(l,["value"].concat(e).join("."),null);r&&r.links&&(s.socialLinks=r.links),a(null,s)}function e(n,l){var a=t.assign({},v,n);return i(a,function(n,i){if(n)return l(n,null);o(a,i,l)})}var t=n("lodash"),s=n("../../../falkorClient/falkorLoader"),r=n("../../../common/imageExtension"),c="videos",u="postplay",f="socialLinks",p="webp",k="jpg",v={id:-1,imageFormat:k,clearChain:!0};l.exports=e});C.r("player/nfplayer/ui/postplayclassic/BackToBrowse.jsx",function(e,a,o){"use strict";var r=(e("prop-types"),e("react")),t=e("../../../../common/svgIcon.jsx"),c=function(e){var a=e.handleSelect,o=void 0===a?function(){}:a,c=e.message,s=void 0===c?"":c;return r.createElement("a",{className:"BackToBrowse",onClick:o},r.createElement(t,{filter:"#dropShadow",name:"bvuiExit",preventFocus:!0}),r.createElement("div",null,s))};c.displayName="BackToBrowse",a.exports=c});C.r("player/nfplayer/ui/postplayclassic/EpisodicTeaser.jsx",function(e,t,a){"use strict";var o=e("./BackToBrowse.jsx"),s=e("../../../../utils/shallowCompare"),r=e("create-react-class"),l=e("../../../../akira/components/controls/flatButton.jsx"),i=e("../../components/controls/playIcon.jsx"),n=e("./PlayerSpace.jsx"),c=e("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),d=e("./PromotedVideo.jsx"),p=(e("prop-types"),e("react")),m=e("../../uiLabel"),g=e("../../components/postplay/watchNextTimer.jsx"),u=function(){},P=r({displayName:"EpisodicTeaser",getDefaultProps:function(){return{exitFullscreenText:"",handleAutoPlay:u,handleExitFullscreen:u,handleGoBack:u,handlePlayNextTitle:u,isFullscreen:!1,playText:"",uiLabel:m.POSTPLAY}},shouldComponentUpdate:s.pureRender,render:function(){var e=this,t=this.props.postPlayExperienceAPI,a=t.getInitialItemAPI(),s=a.getPlayTrailerActionAPI();return p.createElement(c,null,p.createElement(o,{handleSelect:this.props.handleGoBack,message:this.props.backText}),p.createElement("div",{className:"EpisodicTeaser"},p.createElement("div",{className:"EpisodicTeaser-background",style:{backgroundImage:"url("+t.getInitialItemAPI().getBackgroundAssetURL()+")"}},p.createElement("div",{className:"EpisodicTeaser-background-gradient"})),p.createElement("div",{className:"EpisodicTeaser-footer"},p.createElement("div",{className:"EpisodicTeaser-autoplay"},p.createElement(g,{autoPlayEnabled:t.isAutoplay(),duration:t.getAutoPlaySeconds(),onExpire:function(){return e.props.handleAutoPlay(s.getVideoId(),s.getAutoPlayTrackId(),t.getPlayContext({rank:0,row:0,trackId:s.getAutoPlayTrackId()}),s.getBookmarkPosition(),m.POSTPLAY)}}),p.createElement("div",{className:"EpisodicTeaser-display-text"},s.getDisplayText()),p.createElement("div",{className:"EpisodicTeaser-still-container",onClick:function(){return e.props.handlePlayNextTitle(s.getVideoId(),s.getUserPlayTrackId(),t.getPlayContext({rank:0,row:0,trackId:s.getUserPlayTrackId()}),s.getBookmarkPosition(),m.POSTPLAY)}},p.createElement("img",{className:"EpisodicTeaser-still",src:t.getInitialItemAPI().getDisplayArtAssetURL()}),p.createElement("div",{className:"EpisodicTeaser-play-icon"},p.createElement(i,{size:i.MEDIUM}))),p.createElement("div",{className:"EpisodicTeaser-action-buttons"},!s.isDefaultAction()&&p.createElement(l,{isPrimaryBtn:!1,label:this.props.playText,onClick:function(){return e.props.handlePlayNextTitle(s.getVideoId(),s.getUserPlayTrackId(),t.getPlayContext({rank:0,row:0,trackId:s.getUserPlayTrackId()}),s.getBookmarkPosition(),m.POSTPLAY)}}))))),p.createElement(n,{additionalContent:p.createElement("div",{className:"EpisodicTeaser-promoted-video"},p.createElement(d,{logoText:t.getPromotedTitle(),logoURL:t.getLogoAssetURL(),playContext:t.getPlayContext({rank:0,row:0}),promotedMessage:t.getPromotedSupplementalMessage(),showMoreInfo:!1,showSynopsis:!1,trackId:s.getAutoPlayTrackId(),uiLabel:m.POSTPLAY,videoId:a.getVideoId()})),showRating:!1,videoId:this.props.currentVideoId}))}});t.exports=P});C.r("player/nfplayer/ui/postplayclassic/OriginalsLogo.jsx",function(e,a,o){"use strict";var r=(e("prop-types"),e("react")),s=function(e){var a=e.logoText,o=void 0===a?"":a,s=e.logoURL,t=void 0===s?"":s;return r.createElement("div",{className:"OriginalsLogo"},""!==t?r.createElement("img",{src:t,alt:o}):r.createElement("span",{className:"OriginalsLogo-text"},o))};s.displayName="OriginalsLogo",a.exports=s});C.r("player/nfplayer/ui/postplayclassic/OriginalsPostPlay.jsx",function(e,t,o){"use strict";var s=e("./BackToBrowse.jsx"),i=e("../../../../utils/shallowCompare"),a=e("create-react-class"),n=e("../../../../akira/components/controls/flatButton.jsx"),r=e("./PlayerSpace.jsx"),l=e("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),p=e("./PromotedVideo.jsx"),c=(e("prop-types"),e("react")),d=e("../../uiLabel"),g=e("../../domain/video/videoConstants"),y=function(){},I=a({displayName:"OriginalsPostPlay",getDefaultProps:function(){return{exitFullscreenText:"",handleAutoPlay:y,handleExitFullscreen:y,handleGoBack:y,handleMoreInfo:y,handlePlayNextTitle:y,isFullscreen:!1,messageHeaderText:"",messageBodyText:"",moreInfoText:"",myListText:"",playText:"",playTrailerText:"",ratingType:"",showMessage:!1,showRating:!0,uiLabel:d.POSTPLAY,userRating:0}},getInitialState:function(){return{isInMyList:this.props.postPlayExperienceAPI.getAddToMyListActionAPI().isInMyList(),userRating:this.props.userRating}},sentImpression:!1,componentDidMount:function(){if(!this.sentImpression){var e=this.props.postPlayExperienceAPI,t={impressionData:e.getInitialItemAPI().getImpressionData(),impressionToken:e.getImpressionToken(),promotedVideoId:e.getPromotedVideoId(),type:e.getType()};this.props.actionCreators.createSendImpression(t),this.sentImpression=!0}},componentWillReceiveProps:function(e){this.props.userRating!==e.userRating&&this.setState({userRating:e.userRating})},shouldComponentUpdate:i.pureRender,handleMoreInfo:function(){var e=this.props.postPlayExperienceAPI,t=e.getInitialItemAPI(),o=-1===t.getMoreInfoActionAPI().getVideoId()?e.getMoreInfoActionAPI().getVideoId():t.getMoreInfoActionAPI().getVideoId();this.props.handleMoreInfo(o)},handleThumbRating:function(e){this.setState({userRating:e})},render:function(){var e=this,t=this.props.postPlayExperienceAPI,o=t.getAddToMyListActionAPI(),i=t.getInitialItemAPI(),a=i.getPlayMovieActionAPI(),y=a.isDefaultAction()?i.getPlayEpisodeActionAPI():a,I=i.getPlayTrailerActionAPI();return c.createElement(l,null,c.createElement(s,{handleSelect:this.props.handleGoBack,message:this.props.backText}),c.createElement("div",{className:"OriginalsPostPlay"},c.createElement("div",{className:"OriginalsPostPlay-background",style:{backgroundImage:"url("+t.getInitialItemAPI().getBackgroundAssetURL()+")"}},c.createElement("div",{className:"OriginalsPostPlay-background-gradient"})),c.createElement("div",{className:"OriginalsPostPlay-promo-container"},c.createElement(p,{actions:[!y.isDefaultAction()&&c.createElement(n,{icon:"play",isPrimaryBtn:!0,key:y.getName(),label:"playEpisode"===y.getName()?this.props.getPlayEpisodeIndexText(y.getSeasonSequenceAbbr(),y.getEpisode()):this.props.playText,onClick:function(){return e.props.handlePlayNextTitle(y.getVideoId(),y.getUserPlayTrackId(),t.getPlayContext({rank:0,row:0,trackId:y.getUserPlayTrackId()}),y.getBookmarkPosition(),d.POSTPLAY)}}),!I.isDefaultAction()&&c.createElement(n,{icon:y.isDefaultAction()?"play":void 0,isPrimaryBtn:y.isDefaultAction(),key:I.getName(),label:this.props.playTrailerText,onClick:function(){return e.props.handlePlayNextTitle(I.getVideoId(),I.getUserPlayTrackId(),t.getPlayContext({rank:0,row:0,trackId:I.getUserPlayTrackId()}),I.getBookmarkPosition(),d.POSTPLAY)}}),!o.isDefaultAction()&&!this.state.isInMyList&&c.createElement(n,{icon:"mylist-add",isPrimaryBtn:!1,key:o.getName(),label:this.props.myListText,onClick:function(){e.setState({isInMyList:!0}),e.props.actionCreators.createAddToMyList({trackId:o.getTrackId(),videoId:o.getVideoId()})}}),!o.isDefaultAction()&&this.state.isInMyList&&c.createElement(n,{icon:"mylist-added",isPrimaryBtn:!1,key:o.getName(),label:this.props.myListText,onClick:function(){e.setState({isInMyList:!1}),e.props.actionCreators.createRemoveFromMyList({trackId:o.getTrackId(),videoId:o.getVideoId()})}}),this.props.isFullscreen&&c.createElement(n,{key:"exitFullscreen",label:this.props.exitFullscreenText,onClick:this.props.handleExitFullscreen})],autoplaySeconds:t.getAutoPlaySeconds(),getCountdownText:this.props.getCountdownText,handleAutoPlay:this.props.handleAutoPlay,handleMoreInfo:this.handleMoreInfo,isAutoplay:t.isAutoplay(),logoText:t.getPromotedTitle(),logoURL:t.getLogoAssetURL(),moreInfoText:this.props.moreInfoText,playContext:t.getPlayContext({rank:0,row:0}),promotedMessage:t.getPromotedSupplementalMessage(),showMoreInfo:!i.getMoreInfoActionAPI().isDefaultAction()||!t.getMoreInfoActionAPI().isDefaultAction(),synopsis:i.getSynopsis(),trackId:y.getAutoPlayTrackId(),uiLabel:this.props.uiLabel,videoId:i.getVideoId()}),this.props.showMessage&&(i.isEpisode()||i.isShow())&&c.createElement("section",{className:"OriginalsPostPlay-message"},c.createElement("h1",null,this.props.messageHeaderText),c.createElement("h2",null,this.props.messageBodyText)))),c.createElement(r,{handleRating:this.handleThumbRating,matchScore:this.props.matchScore,ratingType:this.props.ratingType,showRating:this.props.showRating,tooNewForMatchScore:this.props.tooNewForMatchScore,userRating:this.state.userRating,videoId:this.props.activeVideo.getId(),videoTitle:this.props.ratingType===g.ratingType.THUMB?this.props.activeVideo.getTitle():""}))}});t.exports=I});C.r("player/nfplayer/ui/postplayclassic/PlayerSpace.jsx",function(e,a,t){"use strict";var i=(e("prop-types"),e("react")),o=e("../../components/postplay/thumbsRating.jsx"),n=e("../../domain/video/videoConstants"),r=function(e){var a=e.additionalContent,t=e.handleRating,r=void 0===t?function(){}:t,c=e.matchScore,l=e.ratingType,d=void 0===l?"":l,s=e.showRating,p=void 0===s||s,v=e.tooNewForMatchScore,y=e.userRating,m=void 0===y?0:y,u=e.videoId,h=void 0===u?-1:u,S=e.videoTitle,g=void 0===S?"":S;return i.createElement("div",{className:"PlayerSpace"},i.createElement("div",{className:"PlayerSpace-player"},p&&i.createElement(o,{handleRating:r,matchScore:c,shouldPrefixTitle:!1,title:d===n.ratingType.THUMB?g:"",tooNewForMatchScore:v,type:d,userRating:m,videoId:h})),a&&i.createElement("div",{className:"PlayerSpace-additional-content"},a))};r.displayName="PlayerSpace",a.exports=r});C.r("player/nfplayer/ui/postplayclassic/PromotedVideo.jsx",function(e,o,t){"use strict";var a=e("../../../../components/presentationTracking/trackingComponents/boxartPresTracking"),n=e("./OriginalsLogo.jsx"),i=e("react"),d=e("../../components/postplay/watchNextTimer.jsx"),r=function(){},s=function(e){var o=e.actions,t=void 0===o?[]:o,s=e.autoplaySeconds,l=void 0===s?20:s,c=e.getCountdownText,m=e.handleAutoPlay,p=void 0===m?r:m,v=e.handleMoreInfo,u=void 0===v?r:v,g=e.isAutoplay,y=void 0!==g&&g,x=e.logoText,E=void 0===x?"":x,P=e.logoURL,f=void 0===P?"":P,I=e.moreInfoText,k=void 0===I?"":I,w=e.playContext,N=e.promotedMessage,T=void 0===N?"":N,V=e.showMoreInfo,h=void 0!==V&&V,C=e.showSynopsis,L=void 0===C||C,b=e.synopsis,j=void 0===b?"":b,M=e.trackId,q=e.uiLabel,A=e.videoId;return i.createElement("div",{className:"PromotedVideo"},i.createElement(a,{imageKey:w.imageKey,location:w.location,rank:w.rank,requestId:w.requestId,row:w.row,trackId:M,videoId:A},i.createElement(n,{logoText:E,logoURL:f})),""!==T&&i.createElement("h2",{className:"PromotedVideo-message"},T),L&&i.createElement("div",{className:"PromotedVideo-synopsis"},j,h&&i.createElement("span",{className:"PromotedVideo-moreinfo",onClick:u},k)),y&&i.createElement("div",{className:"PromotedVideo-countdown"},i.createElement(d,{autoPlayEnabled:!0,duration:l,getCountdownText:c,onExpire:function(){p(A,M,w,null,q)}})),t.length>0&&i.createElement("div",{className:"PromotedVideo-actions"},t))};s.displayName="PromotedVideo",o.exports=s});C.r("player/nfplayer/ui/postplayclassic/Recommendation.jsx",function(e,t,o){"use strict";var a=e("../../../../utils/shallowCompare"),n=e("create-react-class"),s=e("../../components/controls/playIcon.jsx"),i=(e("prop-types"),e("react")),r=function(){},c=n({displayName:"Recommendation",getDefaultProps:function(){return{actorNames:[],actorsPrefixText:"",actorsText:"",boxshotURL:"",durationText:"",handleActive:r,handlePlayVideo:r,isActive:!1}},getInitialState:function(){return{isHovered:!1}},shouldComponentUpdate:a.pureRender,handleMouseEnter:function(){this.setState({isHovered:!0}),this.props.handleActive(this.props.videoId)},handleMouseLeave:function(){this.setState({isHovered:!1})},handlePlayVideo:function(){this.props.handlePlayVideo(this.props.videoId,this.props.playContext)},render:function(){return i.createElement("div",{className:"Recommendation"},i.createElement("div",{className:this.props.isActive?"Recommendation-boxshot-active":"Recommendation-boxshot",onClick:this.handlePlayVideo,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:{backgroundImage:"url("+this.props.boxshotURL+")"}},i.createElement(s,{centered:!0,fadeOnHover:!0,hiddenVisibility:!0,size:s.LARGE})),i.createElement("div",{className:this.state.isHovered?"Recommendation-bob-visible":"Recommendation-bob"},i.createElement("div",{className:"Recommendation-bob-movie-header"},i.createElement("span",{className:"Recommendation-bob-movie-title"},this.props.videoTitle),i.createElement("div",{className:"Recommendation-bob-movie-attributes"},i.createElement("span",{className:"Recommendation-bob-movie-attributes-year"},this.props.videoYear),this.props.videoMaturityRating&&i.createElement("span",{className:"Recommendation-bob-movie-attributes-rating"},this.props.videoMaturityRating),i.createElement("span",{className:"Recommendation-bob-movie-attributes-duration"},this.props.durationText))),i.createElement("div",{className:"Recommendation-bob-movie-content"},i.createElement("span",null,this.props.videoSynopsis),this.props.actorNames&&i.createElement("div",{className:"Recommendation-bob-movie-content-info"},i.createElement("ul",null,i.createElement("li",null,i.createElement("span",null,this.props.actorsPrefixText),i.createElement("span",null,this.props.actorNames.join(", "))))))))}});t.exports=c});C.r("player/nfplayer/ui/postplayclassic/Recommendations.jsx",function(e,t,i){"use strict";function a(e,t){var i=d();return e.some(function(e){return e.getVideoId()===t&&(i=e,!0)}),i}var o=e("ramda/src/always"),n=e("../../../../utils/shallowCompare"),s=e("create-react-class"),r=e("../../../../akira/components/controls/flatButton.jsx"),c=e("./PlayerSpace.jsx"),d=e("../../domain/postplay/postPlayItemAPI"),l=e("../../components/postplay/postplayPPTracker.jsx"),p=e("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),m=(e("prop-types"),e("react")),h=e("./Recommendation.jsx"),g=e("../../uiLabel"),u=e("../../domain/video/videoConstants"),I=o(""),y=l(h),x="Recommendations",T=function(){},P=s({displayName:"Recommendations",getDefaultProps:function(){return{backText:"",exitFullscreenText:"",getDurationText:I,handleExitFullscreen:T,handleGoBack:T,handleMoreInfo:T,headerText:"",isFullscreen:!1,matchScore:-1,myListText:"",playNextTitle:T,predictedRating:-1,ratingText:"",ratingType:"",recommendedItems:[],showExperienceActions:!1,showRating:!0,subheaderText:"",tooNewForMatchScore:!0,trackId:-1,userRating:0}},getInitialState:function(){var e=this.props.postPlayExperienceAPI;return{activeItemVideoId:e.getInitialItemAPI().getVideoId(),isInMyList:e.getAddToMyListActionAPI().isInMyList(),userRating:"number"==typeof this.props.userRating?this.props.userRating:0}},handleActiveRecommendation:function(e){this.setState({activeItemVideoId:e})},handleGoBack:function(){this.props.handleGoBack()},handlePlayVideo:function(e,t){var i=this.props.postPlayExperienceAPI,o=a(i.getItems().map(d),e),n=o.getFirstPlayTypeActionAPI();this.props.playNextTitle(n.getVideoId(),n.getUserPlayTrackId(),t,n.getBookmarkPosition(),g.POSTPLAY)},handleExitFullscreen:function(){this.props.handleExitFullscreen()},handleThumbRating:function(e){this.setState({userRating:e})},componentWillReceiveProps:function(e){"number"==typeof e.userRating&&this.props.userRating!==e.userRating&&this.setState({userRating:e.userRating}),-1===this.state.activeItemVideoId&&0===this.props.postPlayExperienceAPI.getItems().length&&e.postPlayExperienceAPI.getItems().length>0&&this.setState({activeItemVideoId:e.postPlayExperienceAPI.getInitialItemAPI().getVideoId()})},shouldComponentUpdate:n.pureRender,render:function(){var e=this,t=this.props.postPlayExperienceAPI.getItems().map(d),i=a(t,this.state.activeItemVideoId).getBackgroundAssetURL(),o=this.props.postPlayExperienceAPI,n=o.getAddToMyListActionAPI(),s=o.getMoreInfoActionAPI();return m.createElement(p,null,m.createElement("div",{className:x},m.createElement("div",{className:"Recommendations-background",style:{backgroundImage:"url("+i+")"}},m.createElement("div",{className:"Recommendations-background-gradient"})),m.createElement("div",{className:"Recommendations-recommend-text"},m.createElement("h1",{className:"Recommendations-recommend-header"},this.props.headerText),m.createElement("h2",{className:"Recommendations-recommend-subheader"},this.props.subheaderText),m.createElement("div",{className:"Recommendations-action-buttons"},m.createElement(r,{label:this.props.backText,onClick:this.handleGoBack}),this.props.isFullscreen&&m.createElement(r,{label:this.props.exitFullscreenText,onClick:this.handleExitFullscreen}))),m.createElement("div",{className:"Recommendations-recommendations"},t.map(function(t,i){var a=t.getVideoId(),n=t.getFirstPlayTypeActionAPI();return m.createElement(y,{actorNames:t.getActorNames(),actorsPrefixText:e.props.actorsPrefixText,bookmarkPosition:n.getBookmarkPosition(),boxshotURL:t.getDisplayArtAssetURL(),durationText:e.props.getDurationText(t.toData()),handleActive:e.handleActiveRecommendation,handlePlayVideo:e.handlePlayVideo,isActive:a===e.state.activeItemVideoId,key:a,playContext:o.getPlayContext({rank:i,row:0,trackId:n.getTrackId(),videoId:n.getVideoId()}),postplayMetadata:o.toData(),rank:i,row:0,trackId:n.getTrackId(),videoId:a,videoMaturityRating:t.getMaturityRating(),videoSynopsis:t.getSynopsis(),videoTitle:t.getTitle(),videoYear:t.getYear()})})),m.createElement(c,{additionalContent:this.props.showExperienceActions&&m.createElement("div",{className:"Recommendations-experience"},m.createElement("div",{className:"Recommendations-experience-title"},o.getPromotedTitle()),m.createElement("div",{className:"Recommendations-experience-actions"},!n.isDefaultAction()&&!this.state.isInMyList&&m.createElement(r,{icon:"mylist-add",isPrimaryBtn:!1,key:n.getName(),label:this.props.myListText,onClick:function(){e.setState({isInMyList:!0}),e.props.actionCreators.createAddToMyList({trackId:n.getTrackId(),videoId:n.getVideoId()})}}),!n.isDefaultAction()&&this.state.isInMyList&&m.createElement(r,{icon:"mylist-added",isPrimaryBtn:!1,key:n.getName(),label:this.props.myListText,onClick:function(){e.setState({isInMyList:!1}),e.props.actionCreators.createRemoveFromMyList({trackId:n.getTrackId(),videoId:n.getVideoId()})}}),!s.isDefaultAction()&&m.createElement(r,{isPrimaryBtn:!1,key:s.getName(),label:this.props.moreInfoText,onClick:function(){return e.props.handleMoreInfo(s.getVideoId())}}))),handleRating:this.handleThumbRating,matchScore:this.props.matchScore,ratingType:this.props.ratingType,showRating:this.props.showRating,tooNewForMatchScore:this.props.tooNewForMatchScore,userRating:this.state.userRating,videoId:this.props.activeVideo.getId(),videoTitle:this.props.ratingType===u.ratingType.THUMB?this.props.activeVideo.getTitle():""})))}});t.exports=P});C.r("player/nfplayer/ui/postplayclassic/WatchNext.jsx",function(e,t,s){"use strict";var a=e("./BackToBrowse.jsx"),o=e("classnames"),i=e("../../../../utils/shallowCompare"),n=e("create-react-class"),l=e("../../common/episodePreviewType"),r=e("../../components/controls/episodeSelector/index.jsx"),c=e("../../../../akira/components/controls/flatButton.jsx"),p=e("../../utils/getDefaultStaticConfig"),d=e("ramda/src/pathOr"),h=e("../../common/PlayerControlsInteractionType"),u=e("../../common/PlayerUIState"),m=e("../../components/controls/playIcon.jsx"),g=e("../../components/controls/popup.jsx"),y=e("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),x=e("prop-types"),E=e("react"),P=e("../../types/staticConfiguration"),N=e("../../uiLabel"),T=e("../../components/postplay/watchNextTimer.jsx"),A=e("../../../../akira/redux/logging/commandTriggers"),I=function(){},v=n({displayName:"WatchNext",getDefaultProps:function(){return{backText:"",episodesButtonText:"",exitFullscreenText:"",handleExitFullscreen:I,handleGoBack:I,handleAutoPlayTitle:I,handlePlayTitle:I,isFullscreen:!1}},getInitialState:function(){var e=d({},["playerModel","data","playbackSupport"],this.context.models),t=d({},["geo","data"],this.context.models),s=d({},["browserInfo","data"],this.context.models);return{isAutoplayStopped:!1,shouldAutoplay:this.props.postPlayExperienceAPI.isAutoplay(),showEpisodes:!1,staticConfiguration:Object.assign(p({browserInfo:s,geo:t,playbackSupport:e}),{controlsInteractionType:h.CLICK,episodePreviewType:l.CLASSIC})}},contextTypes:{models:x.object},childContextTypes:{staticConfiguration:P},getChildContext:function(){return{staticConfiguration:this.state.staticConfiguration}},shouldComponentUpdate:i.pureRender,componentWillReceiveProps:function(e){var t=!!e.focused&&this.props.focused!==e.focused,s=this.props.isFullscreen&&!e.isFullscreen;this.state.isAutoplayStopped||!t&&!s||this.setState({isAutoplayStopped:!0})},handleEpisodes:function(){this.setState({showEpisodes:!this.state.showEpisodes})},handleGoBack:function(){this.props.handleGoBack()},handlePlayNextEpisode:A.PlayNextCommand(function(){this.handlePlayTitle(this.props.postPlayExperienceAPI.getInitialItemAPI().getFirstPlayTypeActionAPI().getVideoId())}),handleAutoPlayNextEpisode:function(){this.handleAutoPlayTitle(this.props.postPlayExperienceAPI.getInitialItemAPI().getFirstPlayTypeActionAPI().getVideoId())},handleAutoPlayTitle:function(e){var t=this.props.postPlayExperienceAPI,s=t.getInitialItemAPI().getFirstPlayTypeActionAPI();this.props.handleAutoPlayTitle(e,s.getAutoPlayTrackId(),t.getPlayContext({rank:0,row:0,trackId:s.getAutoPlayTrackId(),videoId:e}),s.getBookmarkPosition(),N.POSTPLAY)},handlePlayTitle:function(e){var t=this.props.postPlayExperienceAPI,s=t.getInitialItemAPI().getFirstPlayTypeActionAPI();this.props.handlePlayTitle(e,s.getUserPlayTrackId(),t.getPlayContext({rank:0,row:0,trackId:s.getUserPlayTrackId(),videoId:e}),s.getBookmarkPosition(),N.POSTPLAY)},handleExitFullscreen:function(){this.props.handleExitFullscreen()},render:function(){var e=this.props.postPlayExperienceAPI.getInitialItemAPI(),t=e.getFirstPlayTypeActionAPI(),s=this.props.getEpisodeTitleText({episodeNumber:t.getEpisode(),episodeTitle:e.getTitle(),seasonTitle:t.getSeasonSequenceLong(),ancestorTitle:e.getAncestorTitle(),showEpisodeNumbers:e.showEpisodeNumbers()}),i=this.props.getEpisodeInfoText({year:e.getYear(),maturityRating:e.getMaturityRating(),runtime:e.getRuntime()});return E.createElement(y,null,e.isNSRE()&&E.createElement(a,{handleSelect:this.props.handleGoBack,message:this.props.backText}),E.createElement("div",{className:"WatchNext"},E.createElement("div",{className:"WatchNext-background",style:{backgroundImage:"url("+e.getBackgroundAssetURL()+")"}},E.createElement("div",{className:"WatchNext-background-gradient"})),E.createElement("div",{className:"WatchNext-footer"},!e.isNSRE()&&E.createElement("div",{className:"WatchNext-show-info"},E.createElement("div",{className:"WatchNext-show-info-container"},E.createElement("h1",{className:"WatchNext-show-title"},e.getAncestorTitle()),E.createElement("h2",{className:"WatchNext-episode-title"},s),E.createElement("div",{className:"WatchNext-episode-info"},i),E.createElement("div",{className:"WatchNext-episode-synopsis"},e.getSynopsis()))),E.createElement("div",{className:"WatchNext-autoplay"},E.createElement("div",{onClick:this.handlePlayNextEpisode},E.createElement(T,{autoPlayEnabled:this.state.shouldAutoplay,duration:this.props.postPlayExperienceAPI.getAutoPlaySeconds(),handleClick:this.handlePlayNextEpisode,onExpire:this.handleAutoPlayNextEpisode,stopped:this.state.isAutoplayStopped})),E.createElement("div",{className:"WatchNext-still-container",onClick:this.handlePlayNextEpisode},E.createElement("img",{className:"WatchNext-still",src:e.getDisplayArtAssetURL()}),E.createElement("div",{className:"WatchNext-still-hover-container"},E.createElement(m,{size:m.MEDIUM})),e.isNSRE()&&E.createElement("div",{className:"WatchNext-nsre-info"},E.createElement("h1",null,e.getAncestorTitle()),E.createElement("div",{className:"WatchNext-nsre-title"},e.getBadgeKeys().length>0&&E.createElement("div",{className:"WatchNext-badges"},e.getBadgeKeys().map(function(e){return E.createElement("div",{className:"WatchNext-badge",key:e},e)})),E.createElement("h2",null,e.getTitle())),E.createElement("div",{className:"WatchNext-nsre-time"},E.createElement("span",null,e.getAvailabilityDateMessaging()),E.createElement("span",{className:"WatchNext-nsre-time-separator"},"|"),E.createElement("span",null,this.props.getDurationText(e.toData()))))),E.createElement("div",{className:"WatchNext-action-buttons"},!e.isNSRE()&&E.createElement(c,{label:this.props.backText,onClick:this.handleGoBack}),this.props.isFullscreen&&E.createElement(c,{label:this.props.exitFullscreenText,onClick:this.handleExitFullscreen}),E.createElement("div",{className:o("WatchNext-more-container","legacy-controls-styles")},E.createElement(r,{activeVideo:this.props.activeVideo,buttonComponentType:g.BUTTON_FLAT,buttonText:this.props.episodesButtonText,controlsInteractionType:h.CLICK,delay:200,displayActiveSeasonCheckmark:!1,displayShowTitle:!0,focused:this.props.focused,grabAndHoldFocus:this.props.grabAndHoldFocus,grabFocus:this.props.grabFocus,holdingFocus:this.props.holdingFocus,hovered:this.props.hovered,isHidden:this.props.uiState!==u.ACTIVE,keepRight:!this.state.staticConfiguration.isRTL,noPadding:!1,playIconElement:E.createElement(m,{transparent:!0,centered:!0,size:m.MEDIUM}),playNextTitle:this.handlePlayTitle,releaseFocus:this.props.releaseFocus,releaseFocusHold:this.props.releaseFocusHold,setKeepActive:this.props.setKeepActive,showActiveVideoProgress:!0,showVideoProgress:!0,startHover:this.props.startHover,stopHover:this.props.stopHover,tooltip:null,topAligned:!1,trackId:e.getFirstPlayTypeActionAPI().getUserPlayTrackId()})))))))}});t.exports=v});C.r("player/nfplayer/utils/featureDetection.js",function(t,e,r){"use strict";function n(t){if(s)throw new Error("Can not use featureDetection."+t+" method in node.")}function o(t){if(!s&&!D){var e=t||d.getPlaybackSupport();D=u.assign({},e)}}var i=function(){function t(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=t("lodash"),a=t("nf-client-video-capabilities"),s=t("shakti-platform/dist/ui/utils/inNode"),p=t("shakti-platform/dist/ui/ShaktiProperties"),c=t("../../../common/appContext"),l=t("../../../utils/player/playerFeatureDetection"),f=t("../../../reactMixins/eventBus"),d=t("../utils/playerConfig"),E=t("../../../utils/rx/shakti-rx").RxObservable,h=t("../../../utils/player/videoSession"),w=t("../../../utils/consolidatedLogging/loggingEventRegistry"),g=void 0,D=void 0;e.exports={detect:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(n("detect"),g)return g.subscribe(e);var r=c.getModelData("browserInfo")||{};return g=E.create(function(e){return a.detectVideoCapabilities(t,r,function(t){o(),e.next(t),e.complete()}),function(){}}).flatMap(function(t){return l.init(!0).map(function(){return t})}).map(function(t){var e=c.getAB();return u.clone(u.assign(D,l.getVideoSupportMatrix(),t,r.isWindowsPhone?{EME:a._transformStatus(p.get("wwwplayer.windows.phone.allow")||e.in(6869,2))}:{},r.isAndroid?{EME:a._transformStatus(p.get("wwwplayer.windows.phone.allow")||e.in(6869,2)||e.in(6891,2))}:{}))}).publishReplay(),g.connect(),g.do(function(t){var r=e(t);f.emit(w.FEATURE_DETECTION,r||t)}).subscribe(u.noop,function(t){},u.noop)},getCapabilities:function(t){return s?t||{}:(o(),D)},canPlayHTML5withDRM:function(t){if(s){return(t||{}).supportsHTML5withDRM!==a.NO}if(o(),l.hasDeterminedFeatures())return l.canPlayHTML5withDRM();if(D.supportsHTML5withDRM===a.YES)return!0;var e=D.EME;return e?e!==a.NO:D.supportsHTML5withDRM!==a.NO},canPlayHTML5:function(t){if(s){return(t||{}).supportsHTML5!==a.NO}o();var e=D.TAG,r=D.H264;return!(!e||!r||e===a.NO||r===a.NO)||D.supportsHTML5!==a.NO},detectEnhancedFeaturesSupport:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.noop;!p.get("wwwplayer.enhanced.features.detect.enabled")||t&&t.supportsHTML5withDRM===a.NO||(n("detectEnhancedFeaturesSupport"),f.emit(w.PLAYBACK_ENHANCED_FEATURES_DETECT_START),h.get().take(1).flatMap(function(t){return E.zip(e.get4KSupport(t),e.getHDRSupport(t))}).do(function(t){var e=i(t,2),n=e[0],o=e[1];f.emit(w.PLAYBACK_ENHANCED_FEATURES_DETECT_END,{supports4k:n,supportsHDR:o,reason:"success"}),r({supports4k:n,supportsHDR:o})},function(t){f.emit(w.PLAYBACK_ENHANCED_FEATURES_DETECT_END,{supports4k:!1,supportsHDR:!1,reason:"error",error:t}),r({})}).subscribe())},get4KSupport:function(t){return t&&t.supportsUltraHd?E.create(function(e){return t.supportsUltraHd(function(t){e.next(t),e.complete()}),u.noop}):E.of(!1)},getHDRSupport:function(t){return t&&t.supportsHdr?E.create(function(e){return t.supportsHdr(function(t){e.next(t),e.complete()}),u.noop}):E.of(!1)}}});C.r("player/nfplayer/utils/getDefaultStaticConfig.js",function(e,o,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.geo,t=e.browserInfo,n=e.playbackSupport;return{attemptFallback:!1,allowForcingPlaybackEngine:!1,browserInfo:t,controlsAnimationType:i.STANDARD,controlsInactivityTimeout:1e4,controlsInteractionType:s.HOVER,controlsLayoutClass:l,controlsType:c.REFRESH,disableTrackStickiness:!1,displayDisconnectedNetworkNotice:!1,enableTimedTextRendering:!0,episodePreviewType:a.NEW,focusAfterInactivity:!0,focusOnMount:!0,hasMetadata:!1,hasPostplay:!1,hideControlsImmediatelyOnLeave:!1,idleTimeout:5e3,inactivityTimeout:3e3,isPlayerCreationAvailable:m,isRTL:y(o),performanceLogging:!1,playbackSupport:r.getCapabilities(n),preventSVGDefinitionsRendering:!1,preLoad:"auto",respectBookmark:!0,rewindOnEnd:!1,seekBackTime:10,showControlsOnPlayStart:!0,showTitleLogoEvidence:!0,shouldAutoCast:!0,shouldPauseWhenScrubbing:!0,shouldTrackViewportPosition:!1,smartSubtitles:!1,uiContext:p.MEMBER,useRequestAnimationFrameFlush:!0,waitForCadmiumPlayerInstance:!1}}var i=e("../common/controlsAnimationType"),a=e("../common/episodePreviewType"),r=e("./featureDetection"),s=e("../common/PlayerControlsInteractionType"),l=e("../components/controls/playerControlsWinningLayout.jsx"),c=e("../common/PlayerControlsType"),u=e("../common/playerInterfaceManager"),p=e("../uiContext"),y=e("../../../utils/isRtl"),m=u.isPlayerCreationAvailable;o.exports=n});C.r("player/nfplayer/utils/postPlayCommon.js",function(t,e,i){"use strict";function n(t){return t.replace(/([A-Z])/g,function(t){return"_"+t.toLowerCase()})}function r(t){return!!v.get(t,"items[0].isNSRE")}function o(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.some(function(e){return t.type===e})}}function a(t){return v.get(t,"assets.LOGO")}function s(t){return v.get(t,"actions[0].videoId")}function l(t){return v.get(t,"actions[0].trackId")}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return v.get(t,"items["+e+"].actions[0].videoId")}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return v.get(t,"items["+e+"].actions[0].trackId",R)}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return v.get(t,"items["+e+"].actions[0].additionalTrackIds.userPlay",d(t))}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return v.get(t,"items["+e+"].actions[0].additionalTrackIds.autoPlay",d(t))}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return v.get(t,"items["+e+"].actions[0].bookmarkPosition",0)*q}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return v.get(t,"items["+e+"].actions[0].doNotIncrementInterrupter",!1)}function P(t,e){if(T.get("netflix.ui.akira.originals.prePostPlay.disableImpressionToken")){if(e.type!==w.originalsPostPlay&&e.type!==w.kidsOriginalsPostPlay)return;var i=v.get(e,"items[0].impressionData",{}),n=["videos",i.videoId,"postplayImpressionLegacy"];t.call(n,[i]).subscribe()}else{var r=e.impressionToken;if(!r)return;var o=e.promotedVideoId,a=["videos",o,"postplayImpression"];t.call(a,[r]).subscribe()}}function m(t,e){return x({count:C,delay:O},v.partial(h,t,v),function(t,i){return t?e(t,null):e(null,i)})}function f(t){if(b.getInitParam("prepare",!1)&&t&&t.items){var e=v.filter(t.items,function(t){return!!t}).map(function(e,i){var n=v.find(e.actions,function(t){return"play"===t.type})||{};return{movieId:e.videoId,priority:1,params:{sessionParams:{uiplaycontext:{row:0,rank:i,location:"postplay",request_id:t.requestId}},authParams:{pinCapableClient:b.getInitParam("pinConfig.isEnabled",!1)},trackingId:n.trackId||-1,startPts:-1===n.bookmarkPosition||null===n.bookmarkPosition||void 0===n.bookmarkPosition?null:1e3*n.bookmarkPosition}}});E.prepare(e).subscribe()}}function I(t,e){var i=k(t,e);return i?Object.keys(i).reduce(function(t,e){return t[n(e)]=i[e],t},{}):v.assign({row:0,rank:-99,request_id:t.requestId,location:A},e||{})}function k(t,e){var i=t.items[0],n=i.actions[0],r=n.videoId,o=n.trackId;if(!r||!o)return null;var a=L(t);return v.assign({requestId:t.requestId,videoId:n.videoId,trackId:n.trackId,imageKey:a,row:0,location:A,rank:0},e||{})}var v=t("lodash"),T=t("shakti-platform/dist/ui/ShaktiProperties"),b=t("../utils/playerConfig"),h=t("../requests/postplay"),E=t("../../../utils/player/videoSession"),x=t("./withRetries"),A="Postplay",C=5,O=1e3,R=-1,q=1e3,N={Types:{addToMyList:"playlist",moreEpisodes:"moreEpisodes",moreInfo:"mdp",playButton:"play"},Names:{playEpisode:"playEpisode",playTrailer:"playTrailer"}},w={episodicTeaser:"episodicTeaser",kidsOriginalsPostPlay:"kidsOriginalsPostPlay",kidsOriginalsPostPlayRecommendations:"kidsOriginalsPostPlayRecommendations",nextEpisode:"nextEpisode",originalsPostPlay:"originalsPostPlay",originalsPostPlayPostTrailer:"originalsPostPlayPostTrailer",originalsPostPlayRecommendations:"originalsPostPlayRecommendations",recommendations:"recommendations"},L=function(t,e){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(i.type){case w.originalsPostPlayPostTrailer:case w.originalsPostPlay:return t(i);case w.episodicTeaser:case w.nextEpisode:return e(i);default:return}}}(function(t){return v.get(a(t),"assetType")},function(t){return v.get(t,"items[0].assets.DISPLAY_ART.assetType")});e.exports={Actions:N,Experiences:w,filterActions:o,getAutoPlayTrackId:p,getBookmarkPosition:g,getDoNotIncrementInterrupter:y,getExperience:m,getItemPlayActionTrackId:l,getItemPlayActionVideoId:s,getLogo:a,getPlayActionsTrackId:d,getPlayActionsVideoId:c,getPlayContextData:I,getPresentationTrackedImageKey:L,getPresentationTrackingData:k,getUserPlayTrackId:u,isNSRENextEpisode:r,prepareNextVideos:f,sendPostplayImpression:P}});C.r("player/nfplayer/ui/postplayclassic/PostplayClassic.jsx",function(t,e,i){"use strict";var n=t("../../../../utils/shallowCompare"),o=t("create-react-class"),s=t("./EpisodicTeaser.jsx"),a=t("../../../../akira/utils/linkDefs.jsx"),r=t("./OriginalsPostPlay.jsx"),l=t("ramda/src/pathOr"),p=t("../../domain/postplay/postPlayConstants"),c=t("prop-types"),x=t("../../common/PlayerUIState"),g=t("react"),d=t("./Recommendations.jsx"),h=t("../../utils/time"),u=t("../../domain/video/videoAPI"),y=t("../../domain/video/videoUtils"),T=t("./WatchNext.jsx"),I="player/player",m=function(){},S=y.isShow,P=u.getPredictedRating,E=u.getRatingMatchPercentage,f=u.getRatingNewForPVR,b=u.getRatingType,F=u.getRatingValue,w=p.experienceTypes,N=o({displayName:"PostplayClassic",getDefaultProps:function(){return{handleExitFullscreen:m,isFullscreen:!1,trackId:-1,uiState:x.ACTIVE}},contextTypes:{getI18nString:c.func.isRequired,getICUString:c.func.isRequired,history:c.object.isRequired,isKidsPage:c.bool.isRequired,models:c.object.isRequired},getDurationText:function(t){if(S(t.type))return this.context.getICUString(I,"postplay.recommendations.seasons",{SEASONS:t.seasons});if("onlyMinutes"===l("hoursAndMinutes",["geo","data","locale","durationFormat"],this.context.models))return this.context.getICUString(I,"time.minutes",{M:t.runtime});var e=h.getFormattedTime(t.runtime);return e.h>0?this.context.getICUString(I,"time.hours.minutes",{H:e.h,M:e.m}):this.context.getICUString(I,"time.minutes",{M:e.m})},getPlayEpisodeIndexText:function(t,e){return this.context.getICUString(I,"play.season.episode.index",{EPISODE:e,SEASON_ABR:t})},getCountdownText:function(t){return this.context.getICUString(I,"postplay.autoplay.trailer",{SECONDS:t})},getEpisodeTitleText:function(t){var e=t.episodeNumber,i=t.episodeTitle,n=t.seasonTitle,o=t.ancestorTitle;return t.showEpisodeNumbers?this.context.getI18nString(I,"postplay.episode.title",{EPISODE_NUMBER:e,EPISODE_TITLE:i,SEASON_TITLE:n}):o},getEpisodeInfoText:function(t){var e=t.year,i=t.maturityRating,n=t.runtime;return i=null===i||void 0===i?"":i,this.context.getI18nString(I,"postplay.next.episode.info",{YEAR:e,RATING:i,MINUTES:parseInt(n/60,10)})},shouldComponentUpdate:n.pureRender,handleMoreInfo:function(t){this.context.history.pushState(a.getTitleRoute(this.context.models,this.context.isKidsPage).makePath({id:t}))},render:function(){var t=this.props,e=t.activeVideo,i=t.exitPlayer,n=t.focused,o=t.grabAndHoldFocus,a=t.grabFocus,l=t.handleExitFullscreen,p=t.holdingFocus,c=t.hovered,x=t.isFullscreen,h=t.releaseFocus,u=t.releaseFocusHold,y=t.setKeepActive,m=t.startHover,S=t.stopHover,N=t.uiState,R=e.getId(),v=this.props.postPlayActionCreators,A=this.props.postPlayExperienceAPI;if(!A.getItems()||0===A.getItems().length)return null;v.createPrepareNextVideos({videoId:R});var C=e.toVideoData(),k=E(C);switch(A.getType()){case w.nextEpisode:return g.createElement(T,{activeVideo:e,backText:this.context.getI18nString(I,"button.exit.playback.browse"),episodesButtonText:this.context.getI18nString(I,"postplay.button.moreepisodes"),exitFullscreenText:this.context.getI18nString(I,"postplay.button.exitfullscreen"),focused:n,getDurationText:this.getDurationText,getEpisodeInfoText:this.getEpisodeInfoText,getEpisodeTitleText:this.getEpisodeTitleText,grabAndHoldFocus:o,grabFocus:a,handleExitFullscreen:l,handleGoBack:i,handleAutoPlayTitle:this.props.autoplayNextTitle,handlePlayTitle:this.props.playNextTitle,holdingFocus:p,hovered:c,isFullscreen:x,postPlayExperienceAPI:A,releaseFocus:h,releaseFocusHold:u,setKeepActive:y,startHover:m,stopHover:S,uiState:N});case w.recommendations:return g.createElement(d,{activeVideo:e,actorsPrefixText:this.context.getI18nString("discovery/akira/Title","cast.label.with.colon"),actionCreators:v,backText:this.context.getI18nString(I,"button.exit.playback.browse"),exitFullscreenText:this.context.getI18nString(I,"postplay.button.exitfullscreen"),getDurationText:this.getDurationText,handleExitFullscreen:l,handleGoBack:i,headerText:this.context.getI18nString(I,"postplay.recommendations.title"),isFullscreen:x,matchScore:k,moreInfoText:this.context.getI18nString(I,"postplay.more.info"),myListText:this.context.getI18nString(I,"postplay.mylist"),playNextTitle:this.props.playNextTitle,postPlayExperienceAPI:A,ratingType:b(C),readOnly:this.props.readOnly,predictedRating:P(C),showRating:this.props.displayUserRatings,subheaderText:this.context.getI18nString(I,"postplay.recommendations.subtitle"),tooNewForMatchScore:f(C),userRating:F(C)});case w.originalsPostPlay:return g.createElement(r,{actionCreators:v,activeVideo:e,backText:this.context.getI18nString(I,"button.exit.playback.browse"),exitFullscreenText:this.context.getI18nString(I,"postplay.button.exitfullscreen"),getCountdownText:this.getCountdownText,getPlayEpisodeIndexText:this.getPlayEpisodeIndexText,handleAutoPlay:this.props.playNextTitle,handleExitFullscreen:l,handleGoBack:i,handleMoreInfo:this.handleMoreInfo,handlePlayNextTitle:this.props.playNextTitle,isFullscreen:x,matchScore:k,messageHeaderText:this.context.getI18nString(I,"postplay.opp.show.trailerheadertext"),messageBodyText:this.context.getI18nString(I,"postplay.opp.show.trailermessagetext"),moreInfoText:this.context.getI18nString(I,"postplay.more.info"),myListText:this.context.getI18nString(I,"postplay.mylist"),playText:this.context.getI18nString(I,"postplay.play"),playTrailerText:this.context.getI18nString(I,"postplay.play.trailer"),postPlayExperienceAPI:A,ratingType:b(C),showMessage:!1,showRating:this.props.displayUserRatings,tooNewForMatchScore:f(C),userRating:F(C)});case w.originalsPostPlayPostTrailer:return g.createElement(r,{actionCreators:v,activeVideo:e,backText:this.context.getI18nString(I,"button.exit.playback.browse"),exitFullscreenText:this.context.getI18nString(I,"postplay.button.exitfullscreen"),getCountdownText:this.getCountdownText,getPlayEpisodeIndexText:this.getPlayEpisodeIndexText,handleAutoPlay:this.props.playNextTitle,handleExitFullscreen:l,handleGoBack:i,handleMoreInfo:this.handleMoreInfo,handlePlayNextTitle:this.props.playNextTitle,isFullscreen:x,matchScore:k,messageHeaderText:this.context.getI18nString(I,"postplay.opp.show.trailerheadertext"),messageBodyText:this.context.getI18nString(I,"postplay.opp.show.trailermessagetext"),moreInfoText:this.context.getI18nString(I,"postplay.more.info"),myListText:this.context.getI18nString(I,"postplay.mylist"),playText:this.context.getI18nString(I,"postplay.play"),playTrailerText:this.context.getI18nString(I,"postplay.play.trailer"),postPlayExperienceAPI:A,ratingType:b(C),showMessage:!0,showRating:!1,tooNewForMatchScore:f(C),userRating:F(C)});case w.episodicTeaser:return g.createElement(s,{backText:this.context.getI18nString(I,"button.exit.playback.browse"),currentVideoId:e.getId(),exitFullscreenText:this.context.getI18nString(I,"postplay.button.exitfullscreen"),getPlayEpisodeIndexText:this.getPlayEpisodeIndexText,handleAutoPlay:this.props.playNextTitle,handleExitFullscreen:l,handleGoBack:i,handlePlayNextTitle:this.props.playNextTitle,isFullscreen:x,playText:this.context.getI18nString(I,"button.play"),postPlayExperienceAPI:A});case w.originalsPostPlayRecommendations:return g.createElement(d,{activeVideo:e,actionCreators:v,backText:this.context.getI18nString(I,"button.exit.playback.browse"),exitFullscreenText:this.context.getI18nString(I,"postplay.button.exitfullscreen"),getDurationText:this.getDurationText,handleExitFullscreen:l,handleGoBack:i,handleMoreInfo:this.handleMoreInfo,headerText:this.context.getI18nString(I,"postplay.recommendations.title"),isFullscreen:x,matchScore:k,moreInfoText:this.context.getI18nString(I,"postplay.more.info"),myListText:this.context.getI18nString(I,"postplay.mylist"),playNextTitle:this.props.playNextTitle,postPlayExperienceAPI:A,ratingType:b(C),readOnly:this.props.readOnly,predictedRating:P(C),showExperienceActions:!0,showRating:!1,subheaderText:this.context.getI18nString(I,"postplay.recommendations.subtitle"),tooNewForMatchScore:f(C),userRating:F(C)});default:return}}});e.exports=N});C.r("player/nfplayer/utils/fullscreen.js",function(e,l,n){"use strict";var t=e("../../../akira/redux/logging/commandTriggers");l.exports={isFullscreen:function(e){if(e)return document.fullscreenElement?Boolean(document.fullscreenElement):document.webkitFullscreenElement?Boolean(document.webkitFullscreenElement):e.msRequestFullscreen?Boolean(document.msFullscreenElement):void 0!==document.webkitIsFullScreen?Boolean(document.webkitIsFullScreen):void 0!==document.mozFullScreen?Boolean(document.mozFullScreen):!!e.webkitDisplayingFullscreen&&Boolean(e.webkitDisplayingFullscreen);throw new Error("Must have an element to query fullscreen status")},enterFullscreen:t.EnterFullscreenCommand(function(e){if(!e)throw new Error("Must have an element to attempt to enter fullscreen");e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.webkitEnterFullscreen&&e.webkitEnterFullScreen()}),exitFullscreen:t.ExitFullscreenCommand(function(e){if(!e)throw new Error("Must have an element to attempt to exit fullscreen");e.exitFullscreen?e.exitFullscreen():document.exitFullscreen?document.exitFullscreen():e.msRequestFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.webkitExitFullScreen&&e.webkitExitFullScreen()}),toggleFullscreen:function(e){this.isFullscreen(e)?this.exitFullscreen(e):this.enterFullscreen(e)}}});C.r("player/nfplayer/utils/getPlayerEngineType.js",function(e,r,n){"use strict";function t(e,r,n,t){var g=!0,o=i.get(a(e,n),"preferredEngine",!1);return t?g=t===M.CADMIUM:o?g=o===M.CADMIUM:e.preferredEngine&&(g=e.preferredEngine===M.CADMIUM),g=g&&f.canPlayHTML5withDRM(r)&&!1!==e.preferCadmium,g?M.CADMIUM:M.HTML5_VIDEO_EL}var i=e("lodash"),a=e("./getUiContextConfig"),M=e("../common/playerEngines"),f=e("./featureDetection");r.exports=t});C.r("player/nfplayer/utils/getSafeReactChildren.js",function(r,t,e){"use strict";function n(r){if(a(r))return r;var t=Array.isArray(r)?r:[r];return i.isEmpty(t.filter(i.identity))?null:t}var i=r("lodash"),a=r("./isReactComponentElement");t.exports=n});C.r("player/nfplayer/utils/getUiContextConfig.js",function(t,n,e){"use strict";var i=t("lodash");n.exports=function(t,n){return i.get(t,"uiContextConfig_"+n,{})}});C.r("player/nfplayer/utils/isLargeDimensions.js",function(i,e,t){"use strict";function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],t=i.largeDisplayDimensionThreshold||{},n=t.height||900,r=t.width||1600;return!!e&&e.height>=n&&e.width>=r}e.exports=n});C.r("player/nfplayer/utils/reduceState.js",function(r,t,e){"use strict";var n=function(r){return function(t,e){return r.reduce(function(r,n){return n.call(t,r,e)},{})}};t.exports=n});C.r("player/nfplayer/views/akiraPlayerState.js",function(e,s,o){"use strict";function i(e,s,o){var i=e.playerApp,r=e.videoPlayer;return function(){var e=r.isVideoEndedBySessionId(o),n=i.getCurrentVideoIdBySessionId(o),t=s.getExperienceAPIByVideoId(n),d=t.getInitialItemAPI().getFirstPlayTypeActionAPI();return{isNetworkCongested:i.isNetworkCongested(),isBuffering:r.isBufferingBySessionId(o),isVideoEnded:e,isVideoReadyForSeamlessTransition:r.isVideoReadyForSeamlessTransition(o,d.getVideoId()),isVideoTransitioningSeamlessly:r.isPlayerTransitioningSeamlessly(o),bufferingProgress:r.getBufferingProgressBySessionId(o),congestedNetworkName:i.getCongestedNetworkName(),showReportAProblemDialog:i.shouldShowRAPBySessionId(o),showSeamlessControls:i.shouldShowSeamlessControlsBySessionId(o)||e,showSeamlessExperience:i.shouldShowSeamlessExperienceBySessionId(o),reportAProblemRequestPending:i.getRequestPendingForRAPBySessionId(o),reportAProblemRequestSuccess:i.getRequestSuccessForRAPBySessionId(o)}}}function r(e,s,o,i){return e.addChangeListener(function(e){var r=s(),n=Object.keys(r).reduce(function(e,s){return e||r[s]!==o[s]},!1);o=r,n&&i(o)})}s.exports={createAppStateSelector:i,createPlayerSessionListener:r}});C.r("player/nfplayer/views/loading.jsx",function(e,n,o){"use strict";var t=e("prop-types"),i=e("react"),s=e("create-react-class"),l=e("lodash"),a=e("./loadingContainer.jsx"),r=e("../components/svgDefs.jsx"),p=e("../components/controls/controlRow.jsx"),d=e("../components/controls/button.jsx"),c=e("../components/controls/exitButton.jsx"),g=e("../components/focus/controlFocus.jsx"),u=e("../../components/pinEntry.jsx"),m=e("../../components/adultVerificationPrompt.jsx"),h=e("../../nfplayer/components/spinner.jsx"),T=e("../../../utils/Routes"),E=e("../../../utils/shallowCompare"),I=g(c),P={NONE:"none",SPINNER:"spinner",PIN:"pin",ADULT_VERIFICATION:"adultVerification"},R=s({displayName:"LoadingView",contextTypes:{getI18nString:t.func.isRequired,models:t.object},shouldComponentUpdate:E.props,getDefaultProps:function(){return{hideExitButton:!1,spinnerClass:h}},getLoadingChildType:function(){var e=this.props,n=e.showPin,o=e.showPreReleasePin,t=e.showAgeVerification,i=e.hideSpinner;return t?P.ADULT_VERIFICATION:n||o?P.PIN:i?P.NONE:P.SPINNER},render:function(){var e=this.props,n=e.activeVideo,o=e.initParams,t=e.videoId,s=e.isRTL,c=e.onCancel,g=e.onValidPinEntry,h=e.noLoadingImage,E=e.noLogoTitleEvidence,R=e.showPin,L=e.showPreReleasePin,f=e.showAgeVerification,x=e.hideExitButton,N=e.loadingBackgroundURL,C=e.exitTooltip,y=e.spinnerClass,v=e.spinnerClassProps,U=e.shouldUseStillImage,w=this.getLoadingChildType(),V=null,j=null,S=null;if(f?V=i.createElement(m,{isRTL:s,videoId:t,adultVerificationURL:l.get(o,"pinConfig.adultVerificationUrl",T.verifyAge.makePath()),onCancel:c,exitTooltip:C}):R||L?V=i.createElement(u,{isRTL:s,onCancel:c,onValidPinEntry:g,apiEndpoint:l.get(o,"pinConfig.apiEndpoint"),resetURL:l.get(o,"pinConfig.resetUrl"),videoId:t,exitTooltip:C,showPreReleasePin:L}):w===P.SPINNER&&(V=i.createElement(y,v)),n&&(j=n.getTitle(),n.isEpisodic())){var O=n.getEpisodeTitleWithSeasonLabelData();S=this.context.getI18nString("player/player",O.showEpisodeNumbers?"season.episode.title":"hidden.episode.numbers.status.episode.title",O)}return i.createElement(a,{video:h?null:n,topNodeTitle:j,logoURL:!E&&n?n.getLogoURL():null,title:S,childType:w,isRTL:s,loadingBackgroundURL:N,shouldUseStillImage:U},r(this.context.models),V,!x&&w===P.SPINNER&&i.createElement(p,{position:p.TOP_RIGHT},i.createElement(I,{tooltip:C,tooltipAlignment:s?d.TOOLTIP_LEFT:d.TOOLTIP_RIGHT,onClick:c})))}});n.exports=R});C.r("player/nfplayer/views/loadingContainer.jsx",function(e,t,o){"use strict";var n=e("prop-types"),a=e("react"),i=e("create-react-class"),r=e("classnames"),s=e("../../../akira/containers/timeoutTransition/timeoutTransitionGroup.jsx"),d=e("../components/controls/titleEvidence.jsx"),g=e("../common/PlayerUIState"),l=e("../common/PlayerControlsType"),c=e("../components/controls/controlRow.jsx"),m=e("../../../utils/shallowCompare"),u=i({displayName:"Loading",contextTypes:{getI18nString:n.func.isRequired,models:n.object.isRequired},getInitialState:function(){return{backgroundImageLoaded:!1}},getDefaultProps:function(){return{shouldUseStillImage:!1}},_backgroundImage:void 0,shouldComponentUpdate:m.pureRender,componentDidMount:function(){this._backgroundImage=document.createElement("img"),this._backgroundImage.addEventListener("load",this.onBackgroundImageLoad),this.props.video&&this.setBackgroundImageSrc()},componentDidUpdate:function(e){!e.video&&this.props.video&&this._backgroundImage&&this.setBackgroundImageSrc()},componentWillUnmount:function(){this._backgroundImage&&this._backgroundImage.removeEventListener("load",this.onBackgroundImageLoad)},onBackgroundImageLoad:function(e){this.setState({backgroundImageLoaded:!0})},setBackgroundImageSrc:function(){var e=this._backgroundImage,t=this.getLoadingImageUrl();e&&t&&(e.src=t)},getTitle:function(){return this.props.video?this.props.video.getTitle():void 0},getSubtitle:function(){var e=this.props.video;if(e&&e.isEpisodic())return this.context.getI18nString("player/player","loading.episode.title",{SEASON_ABR:e.getSeason().getShortName(),EPISODE:e.getEpisodeNumber(),TITLE:e.getEpisodeTitle()})},getLoadingImageUrl:function(){return this.props.loadingBackgroundURL?this.props.loadingBackgroundURL:this.props.video?this.props.video.getLoadingImageUrl(this.props.shouldUseStillImage):void 0},render:function(){var e=this.props,t=e.children,o=e.childType,n=e.logoURL,i=e.isRTL,m=e.title,u=e.topNodeTitle,p=e.loadingBackgroundURL,h=this.getLoadingImageUrl(),I={};h&&(I.backgroundImage="url("+h+")");var v=this.state.backgroundImageLoaded||p,k=r("player-loading-background-image",{"player-loading-background-image-loading":!v,"player-loading-background-image-loaded":v});return a.createElement("div",{className:"player-loading"},a.createElement("div",{className:k,style:I}),a.createElement("div",{className:"gradient"}),u&&a.createElement(c,{position:c.TOP_LEFT},a.createElement(d,{controlsType:l.REFRESH,isRTL:i,logoURL:n,title:m,topNodeTitle:u,uiState:g.ACTIVE})),a.createElement(s,{key:"loadingTransition",transitionName:"loadingTransition",component:"div",enterTimeout:300,leaveTimeout:300,transitionAppear:!0},a.createElement("div",{key:o,className:"loading-children-container"},t)))}});t.exports=u});C.r("player/playerMetrics.js",function(r,t,e){"use strict";function i(r){var t=r.flatMap(function(r){return r.deviceThroughput&&r.deviceThroughputNiqr?o.fromPromise(Promise.all([r.deviceThroughput(),r.deviceThroughputNiqr()])):o.of([void 0,void 0])}).do(function(r){var t=u(r,2),e=t[0],i=t[1];if(void 0!==e){a.emit(l.PERFORMANCE_METRICS_UPDATED,{throughput:e,throughputNiqr:i});var o=n.getObj(s)||{};n.setObj(s,{uiValue:o.uiValue,mostRecentValue:{throughput:e,throughputNiqr:i}},n.millisFromNow(c))}});return t.subscribe(),t}var u=function(){function r(r,t){var e=[],i=!0,u=!1,o=void 0;try{for(var n,a=r[Symbol.iterator]();!(i=(n=a.next()).done)&&(e.push(n.value),!t||e.length!==t);i=!0);}catch(r){u=!0,o=r}finally{try{!i&&a.return&&a.return()}finally{if(u)throw o}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r("../utils/rx/shakti-rx").RxObservable,n=r("../utils/cookieUtils"),a=r("../reactMixins/eventBus"),l=r("../utils/consolidatedLogging/loggingEventRegistry"),s="playerPerfMetrics",c=31536e6;t.exports={publishPlayerMetrics:i}});C.r("player/util/popup.js",function(e,n,t){"use strict";function o(e){return e=e||{},!h||h.closed||e.url!==g?u(e):h.focus(),m}function i(e){var n=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/,t=n.exec(e);return t[1]+":"+t[2]+t[3]}function r(){b&&b.next(),h&&h.close(),h=null,g=null,p=null,x=null,w=null,b=null,m=null}function u(e){r(),g=e.url,p=e.name,x=l(e.features),b=new f;var n=d(x);h=window.open(g,p,n),w=i(g),s()}function l(e){var n=e.width||300,t=e.height||200,o=screen.availTop,i=screen.availLeft,r={width:n,height:t},u={},l=void 0,d=void 0,s=void 0;return e.centered&&(l=document.body.getBoundingClientRect(),d=l.width,s=l.height,r.top=s/2-t/2+o,r.left=d/2-n/2+i),c.assign(e,u,{centered:!0}),c.assign(r,u)}function d(e){var n="",t=void 0;return c.forOwn(e,function(o){t=e[o],!0===t?t="yes":!1===t?t="no":t+="",n+=(n.length?",":"")+o+"="+t}),n}function s(){h&&!h.closed&&(m=v.merge(v.fromEvent(h,"message"),v.fromEvent(h,"beforeunload")).takeUntil(b).filter(a))}function a(e){return!(!e||"beforeunload"!==e.type)||e&&e.origin===w}var c=e("lodash"),v=e("../../utils/rx/shakti-rx").RxObservable,f=e("../../utils/rx/shakti-rx").RxSubject,h=void 0,g=void 0,p=void 0,x=void 0,w=void 0,b=void 0,m=void 0;n.exports={open:o,close:r}});C.r("reactMixins/player/initParams.js",function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return p.pick(e,Object.keys(e).filter(function(e){return-1===e.indexOf("__")}))}function o(e,t,r){return!e||isNaN(t)||isNaN(r)||"number"!=typeof t||"number"!=typeof r?e&&!isNaN(t)&&"number"==typeof t?{bookmarkByMovieId:i({},e,t*f),endPtsByViewableId:{}}:e&&!isNaN(r)&&"number"==typeof r?{bookmarkByMovieId:{},endPtsByViewableId:i({},e,r*f)}:{bookmarkByMovieId:{},endPtsByViewableId:{}}:{bookmarkByMovieId:i({},e,t*f),endPtsByViewableId:i({},e,r*f)}}var n=e("prop-types"),s=e("../../utils/Routes"),l=e("../../utils/RouteHelpers"),d=e("../../utils/pathEvaluatorUtils"),u=e("../../utils/rx/shakti-rx").RxObservable,p=e("lodash"),c=e("../../player/nfplayer/utils/playerConfig"),y=e("../../player/nfplayer/common/playerErrors"),m=e("../../player/nfplayer/utils/playerSession"),I=e("../../player/nfplayer/components/prePlay/prePlayCacheHandler"),f=1e3;t.exports={contextTypes:{history:n.object.isRequired,routeHandler:n.object.isRequired,getModelData:n.func.isRequired},pathEvaluator:null,isKidsProfile:function(){var e=this.pathEvaluator.getValueSync(["profilesList","current","summary"]);return!!e&&e.isKids},getPrePlayConfig:function(e,t){var r=a(this.pathEvaluator.getValueSync(I.getExperiencePath({videoId:e,trackId:t}))||{}),i={};if(r)if("recapPrePlay"===r.type||"instructionalVideoForWP"===r.type){var o={};o.movieId=r.trailerVideoId||r.originalTrailerId,o.backgroundImage=r.backgroundImg,o.logoImage=r.logoImg,o.seasonLabel=r.seasonLabel,o.previousSeasonLabel=r.previousSeasonLabel,o.backgroundImageTone=r.backgroundImageTone,i.recap=o,i.preplay={trackId:r.trackId,movieTitle:r.title,impressionVideoId:r.impressionVideoId,impressionToken:r.impressionToken,raw:r}}else"originalsPreRoll"===r.type&&(i.preplay={trackId:r.items[0].actions[0].trackId,movieTitle:r.items[0].ancestorTitle,impressionVideoId:r.items[0].actions[0].videoId,impressionToken:r.impressionData},i.impressionToken=r.impressionData,i.preRoll=r);return i},getPreReleasePinRequired:function(e){return this.pathEvaluator.getValueSync(["videos",e,"requiresPreReleasePin"])||!1},getBackToBrowseUrl:function(e){return this.isKidsProfile()?s.kidsHome.makePath():e?s.title.makePath({id:e}):s.browse.makePath()},isReferrerNetflix:function(e){var t=!1;return this.context.history.index>0?t=!0:e.requestFromNetflix&&(t=!0),t},getTrackId:function(){var e=this.context.routeHandler.query;return parseInt(e.trackId||e.trkid,10)||this.props.trackId||0},getInitParams:function(){this.pathEvaluator=this.props.model.pathEvaluator;var e=this,t=c.getFreshInitParams(),r={};return this.getPlayable(this.getTrackId()).take(1).map(function(i){i=i||{};var a=i.id;r.playableId=a,"movie"===i.type?r.movieId=a:"episode"===i.type?r.episodeId=a:r.videoId=a||0;var o=e.context.routeHandler.query,n=e.getPrePlayConfig(a,e.getTrackId()),d=e.getPTSForPlayable(i,t),u=e.getPreReleasePinRequired(a);return r.uiLabel=e.props.uiLabel,r.backToBrowsingUrl=e.getBackToBrowseUrl(a),r.trackingId=e.getTrackId(),r.playcontext=e.getUIPlayContext(),r.signoutUrl=s.signOut.makePath(),r.referrerIsNetflix=e.isReferrerNetflix(t),r.assistiveAudioPreferred="true"===o.ad,r.pinConfig={adultVerificationUrl:l.getAgeVerificationUrl(a)},r.preReleasePinRequiredById={},u&&a>0&&(r.preReleasePinRequiredById[a]=u),"undefined"!=typeof window&&window.netflix.clientNotifications&&(r.appId=r.nccpAppId=window.netflix.clientNotifications.getCurrentSession("appSession").sessionId,r.sessionId=r.nccpSessionId=window.netflix.clientNotifications.getCurrentSession("userSession").sessionId),p.merge(r,t),p.assign(r,d),e.decorateInitParamsWithPreplayConfig(r,n),r})},decorateInitParamsWithPreplayConfig:function(e,t){if(t&&!p.isEmpty(t)){if(e.bookmarkByMovieId=e.bookmarkByMovieId||{},t.recap&&(e.recap=t.recap,e.bookmarkByMovieId[t.recap.movieId]=0,e.preReleasePinRequiredById[t.recap.movieId]=!1),this.context.getModelData("truths").preRollEnabled&&t.preRoll){var r=t.preRoll,i=r.items[0].actions[0].videoId;e.preRoll=r,e.bookmarkByMovieId[i]=0,e.endPtsByViewableId=e.endPtsByViewableId||{},e.endPtsByViewableId[i]=r.autoplaySeconds,e.preReleasePinRequiredById[i]=!1}e.preplay=t.preplay,e.impressionToken=t.impressionToken}},getUIPlayContext:function(){var e={location:"WATCHNOW",row:-97,rank:-97,request_id:p.get(this.context.getModelData("serverDefs"),"requestId")||"unknown"},t=this.context.routeHandler.query.tctx,r=void 0;return t&&t.split(",").length>=3?(r=t.split(","),e.row=r[0],e.rank=r[1],e.request_id=r[2]):(this.props.rowNum||this.props.rankNum||this.props.requestId)&&(e.row=this.props.rowNum,e.rank=this.props.rankNum,e.request_id=this.props.requestId),e},getPTSForPlayable:function(e,t){var r=null;if(!e||!e.id)return o();var i=this.pathEvaluator.bind(["videos",e.id]),a=e.id,n=parseInt(i.getValueSync(["videoScenePosition",p.get(this.context.routeHandler.query,"scene",null)]),10),s=parseInt(i.getValueSync(["runtime"]),10)||0,l=parseInt(p.get(this.context.routeHandler.query,"t",null),10),d=parseInt(i.getValueSync(["creditsOffset"]),10);return n&&(r=n),isNaN(l)||(r=l<0?Math.max(s+l,0):l>=s?s-1:l),"supplemental"===e.type&&(r=0),o(a,r,d)},getPlayable:function(e){var t=this.context.routeHandler,r=["summary","bookmarkPosition","creditsOffset","type","runtime","requiresPreReleasePin"],i=p.get(this.context.routeHandler.query,"scene",null),a=m.getVideoIdFromRoute(t);if(isNaN(a))return u.empty();var o=this.getVideoModel(a),n=o._path.concat(["current"]),s=[n.concat([r])];i&&s.push(n.concat(["videoScenePosition",i]));var l=void 0;return l=this.context.getModelData("truths").makePrePlayCall?I.requestPrePlay({videoId:a,trackId:e,playbackVideoPaths:r,additionalPaths:s}):d.toObservable(o._root.get.apply(o,s)),l.catch(function(){var e=o.getValueSync(["current","summary"]);return e?u.of(e):u.throw(new y.InvalidDataError)}).map(function(){return o.getValueSync(["current","summary"])})},getVideoModel:function(e){return this.pathEvaluator.bind(["videos",e])}}});C.r("utils/rx/rxUtils.js",function(t,r,n){"use strict";var i=t("../../utils/rx/shakti-rx").RxObservable;r.exports={retryWithBackoff:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,e=1;return t.retryWhen(function(t){return t.switchMap(function(t){return r===e?i.throw(t):i.timer(Math.pow(2*e++)*n)})}).do(function(){e=1})}}});C.r("akira/views/akiraPlayer.jsx",function(e,t,a){"use strict";function s(e,t,a){return ne.getPaths(e,t,a)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},r=e("../../player/entities/playContext"),o=r.playContextRecord,n=r.toPlayContextData,l=r.toPlayContextRecord,p=e("../../player/nfplayer/components/advisories/advisories.jsx"),d=e("../../player/nfplayer/views/akiraPlayerState"),y=e("../../player/components/autoplayInterrupter.jsx"),c=e("ramda/src/always"),u=e("../../player/nfplayer/components/controls/button.jsx"),h=e("classnames"),m=e("../../utils/shallowCompare"),P=e("ramda/src/cond"),I=e("create-react-class"),g=e("../../player/nfplayer/components/akiraPlayerSpinner.jsx"),f=e("../../reactMixins/eventBus"),S=e("../../player/nfplayer/common/episodePreviewType"),v=e("../../player/nfplayer/components/controls/exitButton.jsx"),x=e("../../reactMixins/falkor-fetch"),A=e("../../player/nfplayer/components/fatalErrorView.jsx"),E=e("../../player/nfplayer/components/advisories/fetchAdvisories.jsx"),C=e("../../player/nfplayer/utils/fullscreen"),b=e("../../player/nfplayer/components/focus/controlFocus.jsx"),T=e("../../reactMixins/player/initParams"),k=e("shakti-platform/dist/ui/utils/inNode"),L=e("../../player/nfplayer/utils/isLargeDimensions"),w=e("ramda/src/isNil"),N=e("../../player/nfplayer/components/keyboardNavigation.jsx"),R=e("../utils/linkDefs.jsx"),V=e("../../player/nfplayer/views/loading.jsx"),O=e("../../utils/consolidatedLogging/loggingEventRegistry"),D=e("../../player/nfplayer/components/netflixScreen.jsx"),M=e("../../player/nfplayer/NFPlayer.jsx"),F=e("ramda/src/pathOr"),U=e("ramda/src/pick"),j=e("ramda/src/pipe"),q=e("../../falkorClient/playbackPositionCacher"),B=e("../../player/nfplayer/common/PlayerControlsInteractionType"),W=e("../../player/nfplayer/components/controls/playerControlsLegacyStyles.jsx"),_=e("../../player/nfplayer/common/playerEngines"),H=e("../../player/nfplayer/common/playerErrors"),Y=e("../../player/nfplayer/common/PlayerControlsType"),G=e("../../player/nfplayer/utils/playerSession"),z=e("../../player/nfplayer/common/playerUIMilestones"),K=e("../../player/nfplayer/common/PlayerUIState"),X=e("../../player/nfplayer/components/upsell/playerUpsellView.jsx"),J=e("../../player/nfplayer/ui/postplayclassic/PostplayClassic.jsx"),Q=e("../../player/nfplayer/domain/postplay/postPlayConstants"),Z=e("ramda/src/propOr"),$=e("prop-types"),ee=e("react"),te=e("../../player/nfplayer/components/controls/reportAProblem.jsx"),ae=e("../../player/nfplayer/components/controls/seamlessControls.jsx"),se=e("../../utils/rx/shakti-rx").RxSubject,ie=e("../../utils/rx/shakti-rx").RxObservable,re=e("../../player/session/sessionManager"),oe=e("../../player/nfplayer/components/hoc/sizingWrapper.jsx"),ne=e("../components/titleCard/titleCard.jsx"),le=e("../../player/nfplayer/uiContext"),pe=e("../../player/nfplayer/uiLabel"),de=e("../../utils/player/videoSession"),ye=e("../../player/nfplayer/components/watermark.jsx"),ce=b(J),ue=function(){},he={defaultStrategy:{bobs:!0,jawBones:!0}},me=E(M),Pe=function(e){return!w(e)&&C.isFullscreen(e)},Ie=P([[function(e,t){return e},c(K.INACTIVE)],[function(e,t){return t},c(K.ACTIVE)]]),ge=function(e){return Z(0,"playableId",e)},fe=I({displayName:"BaseAkiraPlayer",childContextTypes:{playerSession:$.instanceOf(G)},getChildContext:function(){return{playerSession:this.props.playerSession}},getDefaultProps:function(){return{controls:!0,displayUserRatings:!0,updateDimensions:ue,playerSession:new G({id:G.Identifiers.Watch,bindWatermarkEvent:!0,pollDynamicMessages:!0,fetchMetadata:!0,views:{loading:V,unloading:D,upsell:X,error:A}})}},_attemptSeamlessTransition:void 0,_disposeSessionListener:void 0,_unsubscribeFromPostPlayApp:void 0,player:void 0,playerTimedOut:!1,disposed:void 0,contextTypes:{history:$.object.isRequired,isRtl:$.bool,models:$.object,playerApp:$.object,discoveryApp:$.object,postPlayApp:$.object.isRequired,routeHandler:$.object.isRequired},statics:{getPaths:s,prefetchStrategies:he,defaultStrategy:he.defaultStrategy},mixins:[T,x],shouldComponentUpdate:m.pureRender,getInitialState:function(){var e=this.context,t=e.playerApp,a=e.discoveryApp,s=e.postPlayApp,i=this.props.playerSession,r=t.getActionCreators(),o=d.createAppStateSelector(t.getAPI(),s.getAPI(),i.getId()),n=o();return r.receivePlayerSession({playerSession:i,sessionId:i.getId()}),i.updateOptions({playerApp:t,discoveryApp:a}),this._disposeSessionListener=d.createPlayerSessionListener(t,o,n,this.setState.bind(this)),Object.assign({advisoriesCompleted:!1,autoplayCount:0,autoplayInterrupter:!1,congestedNetworkName:"",controlsActive:!0,isBuffering:!1,isNetworkCongested:!1,isVideoEnded:!1,isVideoReadyForSeamlessTransition:!1,isVideoTransitioningSeamlessly:!1,playbackEnded:!1,postPlayExperienceAPI:void 0,reportAProblemRequestPending:void 0,reportAProblemRequestSuccess:void 0,showPostPlay:!1,showSeamlessExperience:!1,showSeamlessControls:!1,stoppedPostplay:!1,showReportAProblemDialog:!1,trackId:-1,uiLabel:pe.STANDARD,bufferingProgress:void 0},n)},initPlayer:function(){var e=this,t=this.context,a=t.playerApp,s=t.models,i=t.routeHandler,r=this.props.playerSession,o=F("",["geo","data","requestCountry","id"],s).toLowerCase();z&&z.initParams&&z.initParams.start(),this.getInitParams().takeUntil(this.disposed).do(function(e){z&&z.initParams&&(z.initParams.end(),z.initParams.measure());var t=F(null,["preplay","raw"],e),a=Z(e.playableId,"trailerVideoId",t),s=!a||a<1?new H.TitleUnavailableError(null,o):null;if(s)throw s},r.setFatalError).flatMap(function(t){var s=F(null,["preplay","raw"],t),o=s?pe.PREPLAY:e.state.uiLabel,n=r.getTrackId(t),p=Z(null,"playcontext",t),d=null===p?null:l(p),y=Z(t.playableId,"trailerVideoId",s);return delete t.playcontext,z&&z.playbackComponentRender&&z.playbackComponentRender.start(),r.updateOptions({uiLabel:o,activeView:G.LOADING}),e.setState({initParams:t,videoId:y,trackId:n,uiLabel:o,preplayConfig:s,playContext:d},function(){z&&z.playbackComponentRender&&(z.playbackComponentRender.end(),z.playbackComponentRender.measure(),z.fullPlayerRender.measure())}),r.createCadmiumPlayer({videoId:y,trackId:n,uiLabel:o,isImplicitAutoPlay:!!s,playContext:d,preferredAudioLocale:i.query.al,preferredTextLocale:i.query.sl},t,a).takeUntil(e.disposed).do(function(t){e.setState({cadmiumPlayerInstance:t})})}).subscribe(ue,r.setFatalError,ue)},hasPreplay:function(){return!!this.state.preplayConfig},beforePlayerClosing:function(e,t){var a=this.player;if(a){var s=e&&e.getNextEpisode(),i=t&&t.getVideo(),r=e&&e.getSeason(),o={time:a.getCurrentTime(),duration:a.getDuration(),ended:a.getEnded(),id:this.state.videoId,currentSeasonId:r&&r.getId(),watchedToEndOffset:void 0,nextEpisodeId:void 0,nextEpisodeSeasonId:void 0,ancestorId:void 0,type:void 0};e&&(o.watchedToEndOffset=e.getWatchedToEndOffset()),s&&(o.nextEpisodeId=s.getId(),o.nextEpisodeSeasonId=s.getSeason().getId()),i&&(o.ancestorId=i.getId(),o.type=i.getType()),q.cachePlaybackPosition(this.props.model&&this.props.model.pathEvaluator,o)}},onPlayerPlaying:function(){this.props.playerSession.updateOptions({clearPostplayChain:!1}).render()},onPlayerReady:function(e){this.player=e,this.playerTimedOut=!1},onPlayerInactive:function(){this.setState({controlsActive:!1})},onPlayerActive:function(){this.setState({controlsActive:!0})},onPlayerLoad:function(){var e=void 0;z&&z.isFrozen&&!z.isFrozen()&&(z.playerLoadEvent.end(),z.playerLoadEvent.measure(),z.fromRenderToLoad.measure(),z.playerStart.measure(),z.initParamsCreatePlayer.measure(),z.fromCreatePlayerToLoad.measure(),e=z.generateTimings(),window.netflix.player.log.info&&window.netflix.player.log.info(JSON.stringify(e,null,4)),f.emit(O.MILESTONES,{timings:e,pinConfig:U(["isEnabled","isAdultVerified"],this.state.initParams.pinConfig),playerComponent:"akiraNFPlayer"}),z.freeze()),this.setState({playbackEnded:!1})},onPlayerEnd:function(){var e=this,t=this.state.postPlayExperienceAPI&&!this.state.postPlayExperienceAPI.isDefaultExperience(),a=ge(this.state.initParams),s=void 0;s=this.hasPreplay()&&a>0?function(){return e.playMainTitle(a)}:t?void 0:this.exitPlayer,this.setState({playbackEnded:!0,advisories:null},s)},onPlayerTimeUpdate:function(){this.shouldShowAutoplayInterrupter()?this.state.autoplayInterrupter||(this.player&&this.player.pause(),this.setState({autoplayInterrupter:!0})):this.state.autoplayInterrupter&&this.setState({autoplayInterrupter:!1})},onPlayerTimeout:function(){this.setState({autoplayInterrupter:!1,autoplayCount:0})},onPostplay:function(e){if(!this.hasPreplay()&&this.state.postPlayExperienceAPI){if(this.state.postPlayExperienceAPI.getType()===Q.experienceTypes.nextEpisodeSeamless){var t=this.context.playerApp.getActionCreators(),a=this.props.playerSession.getId(),s=this.context.playerApp.getAPI();return void t.showSeamlessExperience({transitionEnabled:s.playerApp.isSeamlessTransitionEnabled()&&de.isSeamlessEnabled(),trackId:this.state.trackId,videoId:e,sessionId:a,xid:s.videoPlayer.getXidBySessionId(a)})}this.state.showPostPlay||!this.state.postPlayExperienceAPI||this.state.postPlayExperienceAPI.isDefaultExperience()||this.setState({showPostPlay:!0})}},restartPlayer:function(){var e=this.context,t=e.playerApp,a=e.routeHandler,s=this.state,i=s.videoId,r=s.uiLabel,o=s.initParams,n=s.playContext,l=this.state.trackId,p=this;this.props.playerSession.updateOptions({activeView:G.LOADING}),this.setState({cadmiumPlayerInstance:null,showSeamlessExperience:!1}),this.props.playerSession.createCadmiumPlayer({videoId:i,uiLabel:r,playContext:n,trackId:l,restartPlayer:!0,preferredAudioLocale:a.query.al,preferredTextLocale:a.query.sl},o,t).takeUntil(this.disposed).do(function(e){p.setState({cadmiumPlayerInstance:e})}).subscribe(ue,this.props.playerSession.setFatalError,ue)},handleSeamlessWatchNextEpisode:function(e){var t=this.state.postPlayExperienceAPI;if(t){var a=t.getInitialItemAPI().getFirstPlayTypeActionAPI();this.playNextSeamlessTitle(a.getUserPlayTrackId(),!1,e)}},handleSeamlessCountdownCompletion:function(){var e=this.state.postPlayExperienceAPI;if(e){var t=e.getInitialItemAPI().getFirstPlayTypeActionAPI();this.playNextSeamlessTitle(t.getAutoPlayTrackId(),!0)}},handleSeamlessWatchCredits:function(e){var t=this.context.playerApp.getActionCreators(),a=this.props.playerSession.getId(),s=this.context.playerApp.getAPI();t.hideSeamlessControls({sessionId:a,viaKey:!!e&&e.type.indexOf("key")>-1,xid:s.videoPlayer.getXidBySessionId(a)})},playNextSeamlessTitle:function(e,t,a){var s=this,i=this.context.playerApp,r=this.state,n=r.isVideoReadyForSeamlessTransition,l=r.postPlayExperienceAPI;if(l){var p=i.getAPI(),d=i.getActionCreators(),y=p.playerApp,c=l.getInitialItemAPI().getFirstPlayTypeActionAPI(),u=c.getVideoId(),h=this.props.playerSession.getId();d.logPlayNextSeamlessVideoStart({sessionId:h,videoId:u,trackId:e,autoplay:t,viaKey:!!a,event:a});var m=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];d.logPlayNextSeamlessVideoEnd({sessionId:h,success:!1,isDisabled:a}),s.playNextTitle(u,e,o({location:"POSTPLAY",row:0,rank:1,requestId:l.getRequestId()}),c.getSeamlessStart(),pe.POSTPLAY_SEAMLESS_FALLBACK,t)},P=function(){d.logPlayNextSeamlessVideoEnd({sessionId:h,success:!0}),s.playNextTitle(u,e,o({location:"POSTPLAY",row:0,rank:1,requestId:l.getRequestId()}),c.getSeamlessStart(),pe.POSTPLAY_SEAMLESS,t,!0)};if(y.isSeamlessTransitionEnabled()&&de.isSeamlessEnabled())if(n)P();else{var I=y.getConfigEntry("seamlessStartPlayTimeout"),g=setTimeout(m,I);this._attemptSeamlessTransition=function(){s._attemptSeamlessTransition=void 0,clearTimeout(g),P()}}else m(!0)}},playNextTitle:function(e,t,a,s,i,r){var o=this,n=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(e!==this.state.videoId){var l=this.context,p=l.history,d=l.isKidsPage,y=l.models,c=l.playerApp,u=l.postPlayApp,h=l.routeHandler,m=this.props.playerSession;t=t||0;var P=this,I=G.generatePlayNextQuery(h.query,{trackId:t}),g=i||this.state.uiLabel,f=a||this.state.playContext,S=this.state.initParams;this.props.playerSession.updateOptions({uiLabel:i||this.state.uiLabel,activeView:n?G.PLAYBACK:G.LOADING});var v=c.getActionCreators(),x=u.getActionCreators(),A=this.state.videoId;p.replaceState(R.getWatchRoute(y,d).makePath({id:e},I));var E=this.state.cadmiumPlayerInstance;n?v.prepareForSeamlessTransition({sessionId:m.getId()}):v.removeSeamlessState({sessionId:m.getId()}),this.setState({cadmiumPlayerInstance:n?E:null,uiLabel:g,playContext:f,showPostPlay:!1,stoppedPostplay:!1,advisoriesCompleted:!1,videoId:e,trackId:t},function(){x.createRemoveExperience(A),(n?ie.of(E).do(function(){m.updateMetadataActiveVideo(e),v.playNextSeamlessVideo({sessionId:m.getId()})}):m.createCadmiumPlayer({bookmarkOverride:s,isImplicitAutoPlay:!!r,playContext:f,preferredAudioLocale:h.query.al,preferredTextLocale:h.query.sl,trackId:t,uiLabel:g,videoId:e},S,c)).takeUntil(o.disposed).do(function(e){P.setState({cadmiumPlayerInstance:e})}).subscribe(ue,m.setFatalError,ue)})}},autoplayNextTitle:function(e,t,a,s,i){var r=this.state.postPlayExperienceAPI,o=!!r&&r.isAutoplay(),n=!!r&&r.getInitialItemAPI().getFirstPlayTypeActionAPI().shouldIncrementInterrupter();o&&(n&&this.setState({autoplayCount:this.state.autoplayCount+1}),this.playNextTitle(e,t,a,s,i,!0))},playMainTitle:function(e){this.playNextTitle(e,F(-1,["initParams","trackingId"],this.state),null,null,pe.STANDARD),this.setState({preplayConfig:null})},onPostPlayAppChange:function(e){var t=e.getExperienceByVideoId(this.state.videoId);if(t){if(!this.state.postPlayExperienceAPI||this.state.postPlayExperienceAPI&&this.state.postPlayExperienceAPI.toData()!==t){var a=e.getExperienceAPIByVideoId(this.state.videoId),s=this.context.playerApp.getAPI().playerApp;this.setState({postPlayExperienceAPI:a});var i=this.context.playerApp.getActionCreators();if(a.getType()===Q.experienceTypes.nextEpisodeSeamless&&s.isSeamlessTransitionEnabled()&&de.isSeamlessEnabled()){var r=a.getInitialItemAPI().getFirstPlayTypeActionAPI(),l=a.getCurrentEpisodeSeamlessData();l.seamlessEnd>0&&i.addNextSeamlessVideo({sessionId:this.props.playerSession.getId(),seamlessData:{movieId:this.state.videoId,currentEndPts:l.seamlessEnd,nextStartPts:l.seamlessStart,playbackParams:{uiLabel:pe.POSTPLAY_SEAMLESS,trackingId:this.state.trackId}}}),i.addNextSeamlessVideo({sessionId:this.props.playerSession.getId(),seamlessData:{movieId:r.getVideoId(),currentEndPts:r.getSeamlessEnd(),nextStartPts:r.getSeamlessStart(),playbackParams:{uiLabel:pe.POSTPLAY_SEAMLESS,trackingId:r.getTrackId(),uiplaycontext:n(o({row:0,rank:0,requestId:a.getRequestId(),location:"POSTPLAY"}))}}})}}}else this.state.postPlayExperienceAPI&&this.setState({postPlayExperienceAPI:void 0})},onAdvisoriesData:function(e,t){!e&&t&&t.length&&this.setState({advisories:t})},onAdvisoriesCompleted:function(){this.setState({advisoriesCompleted:!0})},onMetadata:function(e,t){if(!e&&t){var a=this,s=this.context,i=s.routeHandler,r=s.playerApp,o=this.props.playerSession,n=this.state,l=n.videoId,p=n.trackId,d=n.uiLabel,y=n.playContext,c=n.initParams,u=o.getVideoMetadata().activeVideo;G.considerPinReset(c,u),o.hasVideoPlayerForId(u.getId())||o.createCadmiumPlayer({videoId:l,trackId:p,uiLabel:d,playContext:y,preferredAudioLocale:i.query.al,preferredTextLocale:i.query.sl},c,r).takeUntil(this.disposed).do(function(e){a.setState({cadmiumPlayerInstance:e})}).subscribe(ue,o.setFatalError,ue)}},onClick:function(){this.state.showPostPlay&&this.setState({stoppedPostplay:!0})},onUserActivityChanged:function(e){var t=Z(!1,"ignoreUserActivity",this.state.initParams);e&&this.state.autoplayCount>0&&!t&&this.setState({autoplayCount:0})},componentWillMount:function(){f.emit("app:pageChange",this.props)},componentDidMount:function(){var e=this,t=this.props,a=t.updateDimensions,s=t.playerSession,i=this.context,r=i.playerApp,o=i.postPlayApp,n=r.getAPI().playerApp,l=r.getActionCreators(),p=this.getUIPlayContext();this._unsubscribeFromPostPlayApp=o.addChangeListener(this.onPostPlayAppChange),n.getPlayStartTime(s.getId())||(l.setStartTime({sessionId:s.getId(),time:Date.now()}),l.logPlayRequestStart({trackId:this.getTrackId(),videoId:this.context.routeHandler.params.id,rowNum:p.row,rankNum:p.rank,requestId:p.request_id,sessionId:s.getId()})),this.disposed=new se,a(),s.updateOptions({isExitingPlayer:!1,bindBeforeUnloadEvent:!0,render:this.forceUpdate.bind(this),onVideoMetadata:this.onMetadata,clearPostplayChain:!0}).getObservables().take(1).takeUntil(this.disposed).flatMap(function(e){return e.loaded}).do(function(){e.props.playerSession.setInteractiveStatus({interactiveReason:"success"})}).subscribe(ue,function(e){}),this.initPlayer()},componentDidUpdate:function(){this.props.dimensions||this.props.updateDimensions()},componentWillUnmount:function(){var e=this.props.playerSession,t=this.state,a=t.videoId,s=t.uiLabel,i=t.trackId,r=t.initParams,o=t.playContext;this._unsubscribeFromPostPlayApp&&this._unsubscribeFromPostPlayApp(),this.disposed&&this.disposed.next(),this._disposeSessionListener&&this._disposeSessionListener(),q.delayedSyncCache(this.props.model&&this.props.model.pathEvaluator),z&&z.clearTimings&&(z.clearTimings(),z.thaw()),e.updateOptions({playerApp:null,discoveryApp:null,bindBeforeUnloadEvent:!1,render:null,onVideoMetadata:null}).endPlaybackSession().closeCadmiumPlayer({dataToLog:{initParams:r,playContext:o,reason:"AkiraPlayer::componentWillUnmount",trackId:i,uiLabel:s,videoId:a}}).subscribe()},componentWillUpdate:function(e,t){if(!this.state.stoppedPostplay&&t.stoppedPostplay&&!this.state.playbackEnded){var a=this;setTimeout(function(){a.setState({showPostPlay:!1,stoppedPostplay:!1})},400)}t.isVideoReadyForSeamlessTransition&&!this.state.isVideoReadyForSeamlessTransition&&this._attemptSeamlessTransition&&this._attemptSeamlessTransition()},exitPlayer:function(){this.props.playerSession.exitPlayer()},onValidPinEntry:function(){re.setSessionData(re.SESSION_TYPES.PIN,!0),G.setPreReleasePinEnteredCorrectly(!0);var e=this,t=this.context,a=t.playerApp,s=t.routeHandler,i=this.state,r=i.videoId,o=i.trackId,n=i.uiLabel,l=i.playContext,p=i.initParams;this.props.playerSession.createCadmiumPlayer({videoId:r,trackId:o,uiLabel:n,playContext:l,preferredAudioLocale:s.query.al,preferredTextLocale:s.query.sl},p,a).takeUntil(this.disposed).do(function(t){e.setState({cadmiumPlayerInstance:t})}).subscribe(ue,this.props.playerSession.setFatalError,ue)},shouldShowAutoplayInterrupter:function(){return G.shouldShowAutoPlayInterrupter(this.state.initParams,this.player&&this.player.getCurrentTime(),this.state.autoplayCount)},continueWatching:function(){this.setState({autoplayInterrupter:!1,autoplayCount:0}),this.player&&this.player.togglePlay()},restartVideo:function(){this.player&&this.player.seek(0),this.continueWatching()},renderStaticPlaybackOverlayElement:function(){var e=this.state,t=e.advisories,a=e.videoId,s=e.controlsActive,i=e.advisoriesCompleted;return t&&!i?ee.createElement(p,{videoId:a,advisories:t,visible:!s,onAdvisoriesCompleted:this.onAdvisoriesCompleted}):null},renderControlsMainHitzoneElement:function(){var e=this.state,t=e.autoplayInterrupter,a=e.isVideoEnded,s=e.showSeamlessExperience,i=e.showSeamlessControls,r=this.state.postPlayExperienceAPI;return s&&r?ee.createElement(ae,{backgroundImageURL:r.getInitialItemAPI().getBackgroundAssetURL(),initialCountDownTime:r.getAutoPlaySeconds(),onClickWatchCredits:this.handleSeamlessWatchCredits,onClickWatchNextEpisode:this.handleSeamlessWatchNextEpisode,onCountdownComplete:this.handleSeamlessCountdownCompletion,shouldAutoPlay:r.isAutoplay(),showWatchCreditsButton:!a,showControls:i}):t?ee.createElement(y,{play:this.continueWatching,restart:this.restartVideo,back:this.exitPlayer}):null},renderInteractiveElement:function(){var e=this.state,t=e.reportAProblemRequestPending,a=e.reportAProblemRequestSuccess,s=e.showReportAProblemDialog;if(!e.showSeamlessExperience&&s)return ee.createElement(te,{requestPending:t,requestSuccess:a})},playerDisabled:function(){return this.state.autoplayInterrupter},getLoadingViewElement:function(e,t){var a=this.state,s=a.congestedNetworkName,i=a.initParams,r=a.videoId,o=a.isNetworkCongested,n=this.context.isRtl,l=this.props.playerSession.getVideoMetadata().activeVideo,p=G.videoRequiresPreReleasePin(i,l);return ee.createElement(e,{activeVideo:l,initParams:i,videoId:r,isRTL:n,exitTooltip:null,onCancel:this.exitPlayer,onValidPinEntry:this.onValidPinEntry,noLoadingImage:!1,noLogoTitleEvidence:!0,showPin:G.shouldShowPinEntry(i,l),showPreReleasePin:p,showAgeVerification:G.shouldShowAgeVerificationPrompt(i,l),spinnerClass:g,spinnerClassProps:{hasTransparentBackground:!o,isBuffering:!0,isNetworkCongested:o,congestedNetworkName:s},shouldUseStillImage:!0})},handleExitFullscreen:function(){var e=this.props.getWrapperNode&&this.props.getWrapperNode();Pe(e)&&C.exitFullscreen(e)},render:function(){if(k)return null;var e=this.props.playerSession.getView(),t=e&&e.Component,a=this.context.isRtl;if(e&&e.type===G.UNLOADING)return this.renderContainer(ee.createElement(t,null),e.type);if(e&&e.type===G.ERROR)return this.renderContainer(ee.createElement(t,{error:e.error,exitButtonElement:ee.createElement(v,{onClick:this.exitPlayer,iconName:"bvuiExit",tooltipBeforeElementActive:!0,tooltipAlignment:a?u.TOOLTIP_LEFT:u.TOOLTIP_RIGHT,tooltipPosition:u.TOOLTIP_CENTER,iconFilter:"#dropShadow"}),i18nBundle:F(void 0,["playerModel","data","config","ui","assets","i18n"],this.context.models),initParams:this.state.initParams,videoId:this.state.videoId,player:e&&e.player}),e.type);if(e&&e.type===G.LOADING)return this.renderContainer(this.getLoadingViewElement(t,e),e.type);if(e&&e.type===G.UPSELL)return ee.createElement(t,i({},this.props,this.state,{error:e.error,i18nBundle:F(void 0,["playerModel","data","config","ui","assets","i18n"],this.context.models),exitHandler:this.exitPlayer}));if(this.state.initParams&&this.state.videoId){var s=this.props,r=s.dimensions,o=s.displayDisconnectedNetworkNotice,n=s.model,l=s.playerSession,p=this.state,d=p.bufferingProgress,y=p.congestedNetworkName,c=p.isBuffering,m=p.isVideoTransitioningSeamlessly,P=p.initParams,I=p.playbackEnded,f=p.postPlayExperienceAPI,x=p.isNetworkCongested,A=p.showReportAProblemDialog,E=p.showSeamlessExperience,C=p.showSeamlessControls,b=this.context.postPlayApp,T=l.getWatermarkState(),w=l.getVideoMetadata(),N=w.activeVideo,R=this.state.postPlayExperienceAPI&&this.state.postPlayExperienceAPI.toData().socialLinks,V=!!this.state.showPostPlay,O=E&&C,D=G.shouldAutoPlay(P,N),M={"can-resume":!I&&V,ended:I,postplay:V,preplay:this.hasPreplay()};f&&(M[f.getType()]=!0);var U=h(M),j=L(P,r);return this.renderContainer([V&&ee.createElement(ce,i({key:"postplay"},this.props,{activeVideo:N,autoplayNextTitle:this.autoplayNextTitle,controlsInteractionType:B.HOVER,controlsType:Y.LEGACY,exitPlayer:this.exitPlayer,handleExitFullscreen:this.handleExitFullscreen,inMyList:f.getAddToMyListActionAPI().isInMyList(),isFullscreen:Pe(this.props.getWrapperNode&&this.props.getWrapperNode()),metadata:w.metadata,model:n&&n.pathEvaluator,playNextTitle:this.playNextTitle,postplayMetadata:f.toData(),postPlayActionCreators:b.getActionCreators(),postPlayExperienceAPI:this.state.postPlayExperienceAPI,postPlaySocialLinks:R})),ee.createElement(me,{key:"nfplayer",activeVideo:N,autoPlay:D,autoplayNextTitle:this.autoplayNextTitle,beforePlayerClosing:this.beforePlayerClosing,cadmiumPlayerInstance:this.state.cadmiumPlayerInstance,className:U,clearPostplayChain:this.props.playerSession.shouldClearPostplayChain(),config:P,controls:!V&&this.props.controls,controlsMainHitzoneElement:this.renderControlsMainHitzoneElement(),dimensions:this.props.dimensions,disabled:this.playerDisabled(),disableKeyHandler:A||O?{ALL:!0}:void 0,engine:_.CADMIUM,exitPlayer:this.exitPlayer,fetchAdvisories:!0,getFullScreenNode:this.props.getWrapperNode,hasLargeDimensions:j,hasPreplay:this.hasPreplay(),interactiveElement:this.renderInteractiveElement(),mainVideoId:ge(this.state.initParams),metadata:w.metadata,onAdvisoriesData:this.onAdvisoriesData,onCastToTarget:this.exitPlayer,onPlayerActive:this.onPlayerActive,onPlayerEnd:this.onPlayerEnd,onPlayerError:l.setFatalError,onPlayerInactive:this.onPlayerInactive,onPlayerLoad:this.onPlayerLoad,onPlayerPlaying:this.onPlayerPlaying,onPlayerReady:this.onPlayerReady,onPlayerSurfaceClick:this.onClick,onPlayerTimeUpdate:this.onPlayerTimeUpdate,onPlayerTimeout:this.onPlayerTimeout,onPostplay:this.onPostplay,onSeekBack:this.player&&this.player.seekBack||null,onUserActivityChanged:this.onUserActivityChanged,playContext:this.state.playContext,playMainTitle:this.playMainTitle,playNextTitle:this.playNextTitle,playbackEnded:this.state.playbackEnded,playerSession:this.props.playerSession,postPlayActive:V,restartPlayer:this.restartPlayer,staticConfiguration:{controlsInteractionType:B.HOVER,controlsLayoutClass:W,controlsType:Y.LEGACY,displayDisconnectedNetworkNotice:o,episodePreviewType:S.CLASSIC,hasMetadata:!1,hasPostplay:!0,performanceLogging:!1,showControlsOnPlayStart:!1,shouldPauseWhenScrubbing:!1,showTitleLogoEvidence:!1,uiContext:le.MEMBER,useRequestAnimationFrameFlush:!1,waitForCadmiumPlayerInstance:!0},shouldFadePlayerControlsBar:O,showEpisodeSelector:!0,spinnerClass:g,spinnerClassProps:{congestedNetworkName:y,isBuffering:c,isNetworkCongested:x,percentage:d},staticElement:this.renderStaticPlaybackOverlayElement(),trackId:this.state.trackId,uiLabel:this.state.uiLabel,uiState:Ie(m,A||O),updateDimensions:this.props.updateDimensions,videoId:this.state.videoId,watermarkElement:T&&ee.createElement(ye,{id:T.id,anchor:T.anchor,opacity:T.opacity,useAspectContainer:!1})})])}return null},renderContainer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a=L(this.state.initParams,this.props.dimensions),s={"container-large":a,"container-small":!a};return ee.createElement("div",{key:t,className:h("nfp","AkiraPlayer","classic-ui",s)},e)}}),Se=j(oe,N)(fe);t.exports=Se});C.r("akira/views/audioAndSubtitles.jsx",function(t,e,r){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},s=t("prop-types"),a=t("react"),n=t("create-react-class"),o=t("../../utils/Routes"),u=t("../containers/gallery.jsx"),d=t("../containers/subHeaders/audioAndSubtitlesHeader.jsx"),l=t("../utils/sortable"),c=n({displayName:"AudioAndSubtitlesContent",contextTypes:{getModelData:s.func.isRequired,models:s.object.isRequired,routeHandler:s.object.isRequired},statics:{getKeyPrefix:function(t,e){return e?t?"spokenAudio":"subtitles":t?"defaultSpokenAudio":"defaultSubtitles"},getPathPrefix:function(t){var e=c.getKeyPrefix(t.isAudio,Boolean(t.id));return t.id?[e,t.id]:[e]},getPaths:function(t,e,r){var i=c.getPathPrefix(r);return[].concat(d.getPaths(t,e,Object.assign({pathPrefix:i},r)),u.getPaths(t,e,{sortOrder:r.sortOrder}).map(function(t){return i.concat(t)}))}},getInitialState:function(){return{filter:function(){return!0}}},setFilter:function(t){this.setState({filter:t})},renderHeader:function(t,e,r){return this.context.getModelData("truths","hasAROV2Gallery")?a.createElement("div",null):a.createElement(d,i({},this.props,{model:t,sortOrder:r,id:this.context.routeHandler.params.id,onFilterChange:this.setFilter,isAudio:e,pqls:d.getPaths(this.context.models,null,{id:this.context.routeHandler.params.id,sortOrder:r,isAudio:e})}))},render:function(){var t=this.props.model.pathEvaluator,e=l.getSortOrder(this.context.routeHandler.query),r=this.context.routeHandler.route===o.audio,s=this.context.routeHandler.params.id,n=c.getKeyPrefix(r,Boolean(s));return a.createElement(u,i({},this.props,{keyPrefix:n,sortOrder:e,pqls:u.getPaths(this.context.models,null,{sortOrder:e}),model:t.bind(c.getPathPrefix({isAudio:r,id:s})),header:this.renderHeader(t,r,e),playbackQueryParams:r?{al:s}:{sl:s},filter:this.state.filter}))}});e.exports=c});C.r("akira/views/audioDescription.jsx",function(e,t,r){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},s=e("prop-types"),o=e("react"),n=e("create-react-class"),a=e("../containers/subHeaders/audioDescriptionHeader.jsx"),d=e("../containers/gallery.jsx"),u=e("../utils/sortable"),c=n({displayName:"AudioDescription",contextTypes:{getModelData:s.func.isRequired,models:s.object.isRequired,routeHandler:s.object.isRequired},childContextTypes:{audioDescription:s.bool},getChildContext:function(){return{audioDescription:!0}},statics:{getPrefix:function(e){return e?["assistiveAudioByGenre",e]:["assistiveAudio"]},getPaths:function(e,t,r){var i=c.getPrefix(r.id),s=d.getPaths(e,t,{sortOrder:r.sortOrder}).map(function(e){return i.concat(e)}),o=a.getPaths(e,t,{sortOrder:r.sortOrder}).map(function(e){return["assistiveAudio"].concat(e)});return s.concat(o)}},getInitialState:function(){return{filter:function(){return!0}}},setFilter:function(e){this.setState({filter:e})},renderAudioDescriptionHeader:function(e){return this.context.getModelData("truths","hasAROV2Gallery")?o.createElement("div",null):o.createElement(a,{sortOrder:e,id:parseInt(this.context.routeHandler.params.id,10),model:this.props.model.pathEvaluator.bind(["assistiveAudio"]),onFilterChange:this.setFilter})},render:function(){var e=c.getPrefix(this.context.routeHandler.params.id),t=u.getSortOrder(this.context.routeHandler.query);return o.createElement(d,i({},this.props,{keyPrefix:e[0],sortOrder:t,model:this.props.model.pathEvaluator.bind(e),filter:this.state.filter,header:this.renderAudioDescriptionHeader(t),pqls:d.getPaths(this.context.models,null,{sortOrder:t})}))}});t.exports=c});C.r("akira/views/contentRefresh.jsx",function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=e("prop-types"),o=e("react"),a=e("create-react-class"),c=e("../containers/sortableGallery.jsx"),d=e("../utils/sortable"),i=a({displayName:"ContentRefresh",contextTypes:{models:s.object.isRequired,routeHandler:s.object.isRequired},statics:{getPaths:function(e,t,r){var n=["contentRefreshRecentlyAdded"];return c.getPaths(e,t,{sortOrder:r.sortOrder}).map(function(e){return n.concat(e)})}},render:function(){var e=["contentRefreshRecentlyAdded"],t=this.props.model.pathEvaluator.bind(e),r=d.getSortOrder(this.context.routeHandler.query);return o.createElement(c,n({},this.props,{keyPrefix:"contentRefreshRecentlyAdded",sortOrder:r,model:t,prefix:e,pqls:c.getPaths(this.context.models,null,{sortOrder:r})}))}});t.exports=i});C.r("akira/views/genre.jsx",function(e,t,r){"use strict";var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},a=e("lodash"),n=e("prop-types"),o=e("react"),d=e("create-react-class"),i=e("../containers/gallery.jsx"),l=e("../containers/subHeaders/genreHeader.jsx"),u=e("../utils/sortable"),c=e("./aroGenre.jsx"),h=e("../containers/subHeaders/aroGenreHeader.jsx"),O=function(e,t,r){var s=["genres",r.id],n=void 0,o=void 0,d=a.get(e,"truths.data.hasAROV2Rows",!1);return n=d?h.getPaths(e,t,{id:r.id,breadCrumbs:r.breadCrumbs,sortOrder:r.sortOrder}):l.getPaths(e,t,{id:r.id,breadCrumbs:r.breadCrumbs,sortOrder:r.sortOrder}),o=d&&r.sortOrder===u.ARO_DEFAULT_SORT_ORDER?c.getPaths(e,null,{id:r.id}).map(function(e){return["genres",r.id,u.ARO_DEFAULT_SORT_ORDER].concat(e)}):i.getPaths(e,t,{sortOrder:r.sortOrder}).map(function(e){return s.concat(e)}),o.concat(n)},g=d({displayName:"GenreContent",contextTypes:{getModelData:n.func.isRequired,models:n.object.isRequired,routeHandler:n.object.isRequired},statics:{getPaths:O,getBreadCrumbs:function(e){var t=[];return e&&e.bc&&(t=e.bc.split(",")),t}},getInitialState:function(){return{filter:function(){return!0}}},setFilter:function(e){this.setState({filter:e})},getFalkorModel:function(){return this.props.model.pathEvaluator},renderHeader:function(e,t,r){if(this.context.getModelData("truths","hasAROV2Gallery"))return o.createElement("div",null);var s=g.getBreadCrumbs(this.context.routeHandler.query);return this.context.getModelData("truths","hasAROV2Rows")?o.createElement(h,{sortOrder:t,breadCrumbs:s,model:r,id:e,onFilterChange:this.setFilter,pqls:h.getPaths(this.context.models,null,{id:e,breadCrumbs:s,sortOrder:t})}):o.createElement(l,{sortOrder:t,breadCrumbs:s,model:this.props.model.pathEvaluator,id:e,onFilterChange:this.setFilter,pqls:l.getPaths(this.context.models,null,{id:e,breadCrumbs:s,sortOrder:t})})},render:function(){var e=this.context.routeHandler.params.id,t=this.context.getModelData("truths","hasAROV2Rows",!1),r=t?u.ARO_DEFAULT_SORT_ORDER:null,a=u.getSortOrder(this.context.routeHandler.query,r),n=this.props.model.pathEvaluator.bind(["genres",e]);return t&&a===u.ARO_DEFAULT_SORT_ORDER?o.createElement("div",null,this.renderHeader(e,a,n),o.createElement(c,s({},this.props,{genreId:e,model:n.bind([u.ARO_DEFAULT_SORT_ORDER]),sortOrder:a,pqls:c.getPaths(this.context.models,null,{sortOrder:a,id:e})}))):o.createElement(i,s({},this.props,{keyPrefix:"genre",key:"genre-"+e,model:n,header:this.renderHeader(e,a,n),filter:this.state.filter,sortOrder:a,pqls:i.getPaths(this.context.models,null,{sortOrder:a})}))}});t.exports=g});C.r("akira/views/genreNewRelease.jsx",function(e,r,t){"use strict";var s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},a=e("prop-types"),n=e("react"),o=e("create-react-class"),l=e("../containers/sortableGallery.jsx"),i=e("../utils/sortable"),c=o({displayName:"GenreNewReleaseContent",contextTypes:{models:a.object.isRequired,routeHandler:a.object.isRequired},statics:{defaultSortOrder:i.ORDER_BY.YEAR,getPaths:function(e,r,t){var s=["genrenewrelease",t.id];return l.getPaths(e,r,{sortOrder:t.sortOrder}).map(function(e){return s.concat(e)})}},render:function(){var e=["genrenewrelease",this.context.routeHandler.params.id],r=i.getSortOrder(this.context.routeHandler.query,c.defaultSortOrder);return n.createElement(l,s({},this.props,{keyPrefix:"genrenewrelease",sortOrder:r,model:this.props.model.pathEvaluator.bind(e),prefix:e,pqls:l.getPaths(this.context.models,null,{sortOrder:r})}))}});r.exports=c});C.r("akira/views/home.jsx",function(t,e,o){"use strict";var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t},i=t("prop-types"),r=t("react"),s=t("create-react-class"),n=t("shakti-platform/dist/ui/ShaktiProperties"),l=t("../containers/lolomo/lolomo.jsx"),c=t("../containers/lolomo/lolomoRow.jsx"),p=t("../components/titleCard/titleCard.jsx"),u=t("../components/billboard/BillboardRow"),m=t("../containers/lolomo/lolomoBigRow.jsx"),h=t("../../utils/ab/richOriginalsRowTest"),f=t("../../reactMixins/falkor-fetch"),g=t("../../utils/ab/kidsParityTest"),d=n.get("netflix.ui.akira.prefetch.strategies.home"),R=n.get("netflix.ui.akira.prefetch.page"),x=function(t,e,o){e||(e=R);var a=e.numVideos,i=a,r=void 0;return r=[["summary"]].concat(l.getPaths(t,e)).concat(u.getPaths(t,e)).concat(p.getPaths(t,e).map(function(t){return["mylist",{to:i}].concat(t)})),r=r.concat(m.getPaths(t,e)),h.supportsPanelTitleCard(t.isKidsPage)&&(r=r.concat(c.getOriginalsRowPaths(t,e).map(function(t){return["netflixOriginals"].concat(t)}))),r},P=function(t){var e=g.kidsProfileWithParity(t,!1),o=e?n.get("netflix.ui.akira.prefetch.kids.page"):n.get("netflix.ui.akira.prefetch.page");return x(t,o)},b=s({displayName:"HomeContent",mixins:[f],contextTypes:{models:i.object.isRequired},statics:{NUM_ROWS_TO_RENDER:15,NUM_TITLES_TO_RENDER:20,getPaths:x,prefetchStrategies:d,defaultStrategy:R,getInitialPaths:P},getRootModel:function(){var t=this.props.suppressBillboard?"lolomonobillboard":"lolomo";return this.props.model.pathEvaluator.bind([t])},render:function(){var t=this.getRootModel(),e=b.NUM_ROWS_TO_RENDER,o=P(this.context.models);return r.createElement(l,a({},this.props,{ref:"lolomo",model:t,pqls:o,numRows:e}))}});e.exports=b});C.r("akira/views/myList.jsx",function(e,t,r){"use strict";var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},a=e("prop-types"),o=e("react"),n=e("create-react-class"),i=e("../containers/sortableRowList.jsx"),l=e("../containers/gallery.jsx"),c=e("../containers/subHeaders/myListHeader.jsx"),d=n({displayName:"MyList",statics:{getPaths:function(e,t,r){var s=["lolomo","mylist"],a=[["lolomo","summary"],["lolomo","mylist","context"]],o=l.getPaths(e,t,r).map(function(e){return s.concat(e)});return a.concat(o)}},contextTypes:{getModelData:a.func.isRequired,models:a.object.isRequired},renderHeader:function(){return this.context.getModelData("truths","hasAROV2Gallery")?o.createElement("div",null):o.createElement(c,null)},render:function(){var e=this.props.model.pathEvaluator.bind(["lolomo","mylist"]);return this.props.model.pathEvaluator.bind(["profilesList","current"]).getValueSync(["usesManualMyListSort"])?o.createElement(i,s({},this.props,{keyPrefix:"mylist",model:e,header:this.renderHeader(),pqls:i.getPaths(this.context.models)})):o.createElement(l,s({},this.props,{keyPrefix:"mylist",model:e,header:this.renderHeader(),isMyListRow:!0,pqls:l.getPaths(this.context.models)}))}});t.exports=d});C.r("akira/views/netflixOriginals.jsx",function(r,e,t){"use strict";var s=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},i=r("prop-types"),n=r("react"),a=r("create-react-class"),o=r("../containers/sortableGallery.jsx"),l=r("../utils/sortable"),c=a({displayName:"NetflixOriginals",contextTypes:{models:i.object.isRequired,routeHandler:i.object.isRequired},statics:{getPaths:function(r,e,t){var s=["netflixOriginals"];return o.getPaths(r,e,{sortOrder:t.sortOrder}).map(function(r){return s.concat(r)})}},render:function(){var r=["netflixOriginals"],e=this.props.model.pathEvaluator.bind(r),t=l.getSortOrder(this.context.routeHandler.query);return n.createElement(o,s({},this.props,{keyPrefix:"netflixOriginals",sortOrder:t,model:e,prefix:r,pqls:o.getPaths(this.context.models,null,{sortOrder:t})}))}});e.exports=c});C.r("akira/views/newArrivals.jsx",function(e,t,r){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s=e("prop-types"),n=e("react"),o=e("create-react-class"),i=e("../containers/lolomo/lolomo.jsx"),l=function(e,t,r){return t||(t={numRows:3,numVideos:7}),[["length"]].concat(i.getPaths(e,t))},c=o({displayName:"NewArrivals",contextTypes:{getI18nString:s.func.isRequired,models:s.object.isRequired},prefetchCallbacks:[],statics:{getPaths:l},render:function(){var e=this.props.model.pathEvaluator.bind(["newarrivals"]),t=l(this.context.models);return n.createElement("div",null,n.createElement("div",{className:"lolomoHeader"},n.createElement("div",{className:"title"},this.context.getI18nString("discovery/akira/Chrome","new.arrivals"))),n.createElement(i,a({},this.props,{model:e,pqls:t,numRows:20,newarrivals:!0})))}});t.exports=c});C.r("akira/views/newRelease.jsx",function(e,r,t){"use strict";var s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},a=e("prop-types"),o=e("react"),n=e("create-react-class"),l=e("../containers/sortableGallery.jsx"),i=e("../utils/sortable"),c=n({displayName:"NewRelease",contextTypes:{models:a.object.isRequired,routeHandler:a.object.isRequired},statics:{getPaths:function(e,r,t){var s=["newrelease"];return l.getPaths(e,r,{sortOrder:t.sortOrder}).map(function(e){return s.concat(e)})}},render:function(){var e=["newrelease"],r=this.props.model.pathEvaluator.bind(e),t=i.getSortOrder(this.context.routeHandler.query);return o.createElement(l,s({},this.props,{keyPrefix:"newrelease",sortOrder:t,model:r,prefix:e,pqls:l.getPaths(this.context.models,null,{sortOrder:t})}))}});r.exports=c});C.r("akira/views/person.jsx",function(e,t,r){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s=e("prop-types"),n=e("react"),o=e("create-react-class"),c=e("../containers/gallery.jsx"),i=e("../containers/subHeaders/personHeader.jsx"),l=function(e,t,r){var a=["person",r.id],s=i.getPaths(e).map(function(e){return a.concat(e)}),n=c.getPaths(e).map(function(e){return a.concat(e)});return s.concat(n)},d=o({displayName:"Person",contextTypes:{getModelData:s.func.isRequired,models:s.object.isRequired,routeHandler:s.object.isRequired},statics:{getPaths:l},getHeader:function(e){return this.context.getModelData("truths","hasAROV2Gallery")?n.createElement("div",null):n.createElement(i,{model:e,pqls:i.getPaths(this.context.models)})},render:function(){var e=this.props.model.pathEvaluator.bind(["person",this.context.routeHandler.params.id]);return n.createElement(c,a({},this.props,{keyPrefix:"person",model:e,header:this.getHeader(e),pqls:c.getPaths(this.context.models)}))}});t.exports=d});C.r("akira/views/player.jsx",function(e,t,a){"use strict";function n(e,t,a){return p.getPaths(e,t,a)}var i=e("prop-types"),r=e("react"),s=e("create-react-class"),o=e("../../reactMixins/player/initParams"),l=e("../../utils/player/playerAssets"),d=e("../../reactMixins/falkor-fetch"),c=e("../../reactMixins/eventBus"),p=e("../components/titleCard/titleCard.jsx"),u=e("../../falkorClient/playbackPositionCacher"),m=e("../../utils/dynamicMessages/dynamicMessages"),y=e("../../common/nfNamespace"),g=e("../../utils/rx/shakti-rx").RxObservable,v=e("../../utils/rx/shakti-rx").RxSubject,f=e("lodash"),h=e("../../utils/clientCounter"),E=e("../../player/nfplayer/common/playerCounters"),P=e("../../player/nfplayer/utils/playerConfig"),I=e("../../player/nfplayer/common/playerUIMilestones"),x=e("../../player/nfplayer/utils/getCadmiumCreationParameters"),b=e("../../player/nfplayer/utils/playerSession"),C=e("../../utils/consolidatedLogging/loggingEventRegistry");e("../../player/bvui/bvui");var k={defaultStrategy:{bobs:!0,jawBones:!0}},R=f.noop,A="discovery/akira/BVUICommon",_=void 0,w=s({displayName:"Player",contextTypes:{getI18nString:i.func.isRequired,getModelData:i.func,models:i.object.isRequired,discoveryApp:i.object,playerApp:i.object,postPlayApp:i.object,provideAppContextToElement:i.func,routeHandler:i.object.isRequired},statics:{getPaths:n,prefetchStrategies:k,defaultStrategy:k.defaultStrategy},mixins:[o,d],getInitialState:function(){return{assetsLoading:!1,playerError:!1}},setIsInteractive:function(e){var t=f.result(y,"cadmium.objects.getXid",void 0);this.context.playerApp.getActionCreators().logPlayRequestComplete({reason:e.interactiveReason,xid:t,videoId:this._initParams?this._initParams.playableId:this.context.routeHandler.params.id,supplementalVideoId:b.getPrePlayVideoId(this._initParams),trackId:b.getTrackId(this._initParams),sessionId:b.Identifiers.Watch})},setupI18nFascia:function(){var e=f.get(P.getConfig(),"ui.assets.i18n",A),t=this;void 0===window.netflix&&(window.netflix={}),void 0===window.netflix.I18n&&(window.netflix.I18n={});var a=function(a,n,i){if(i){if("player/player"===i)return t.context.getI18nString("player/player",a,n);throw new Error("Invalid bundle '"+i+"'. `netflix.I18n.get` only supports 'player/player'.")}return a.indexOf("mdx")>=0?t.context.getI18nString("discovery/akira/Mdx",a,n):t.context.getI18nString(e,a,n,t.context.getI18nString(A,a,n))};y.I18n.get=a,y.I18n.getWithParams=function(e,t,n,i){var r=void 0,s={};for(r in t)t.hasOwnProperty(r)&&(s[t[r]]=n[r]);return a(e,s,i)}},initPlayer:function(){var e=f.get(y,"cadmium"),t=f.get(y,"cadmium.UiEvents"),a=f.get(y,"cadmium.UiEvents.knownEvents"),n=f.get(y,"cadmium.objects"),i=this,r=void 0;r=a&&"string"==typeof a.VIDEO_FIRST_PLAY?g.fromEvent(t,a.VIDEO_FIRST_PLAY).take(1).do(function(){var e=void 0;I&&I.isFrozen&&!I.isFrozen()&&(I.playerLoadEvent.end(),I.playerLoadEvent.measure(),I.fromRenderToLoad.measure(),I.playerStart.measure(),I.initParamsCreatePlayer.measure(),I.fromCreatePlayerToLoad.measure(),e=I.generateTimings(),window.netflix.player.log.info&&window.netflix.player.log.info(JSON.stringify(e,null,4)),c.emit(C.MILESTONES,{timings:e,pinConfig:f.pick(i._initParams.pinConfig,["isEnabled","isAdultVerified"]),playerComponent:"akiraBVUI"}),I.freeze()),i.setIsInteractive({interactiveReason:"success"})}):g.of(null),I&&I.initParams&&I.initParams.start(),this.getInitParams().takeUntil(_).do(function(r){i._initParams=r,I&&I.initParams&&(I.initParams.end(),I.initParams.measure()),n.setPlayContext(r.playcontext),I&&I.playbackComponentRender&&I.playbackComponentRender.start(),e.ui.master.init(document.getElementById("playerContainer"),r,null,!1,{getSubDubPreferences:function(){return x.getSubDubPreferences(i.context.routeHandler.query)},provideAppContextToElement:i.context.provideAppContextToElement,playerApp:i.context.playerApp,getModelData:i.context.getModelData,postPlayApp:i.context.postPlayApp}),I&&I.playbackComponentRender&&(I.playbackComponentRender.end(),I.playbackComponentRender.measure(),I.fullPlayerRender.measure()),f.get(i.context.models,"truths.data.dynamicMessagesEnabled",!0)&&t.addEventListener(a.NEW_PLAYER_CREATED,i._newPlayerCreatedHandler),t.addEventListener(a.PLAYER_WILL_CLOSE,i.cacheCurrentPlaybackPosition)}).merge(r).subscribe(R,this.onPlayerInitError,R)},_newPlayerCreatedHandler:function(){var e=f.result(y,"cadmium.objects.videoPlayer",!1);e&&(e.addEventListener("closed",this._onVideoPlayerClosed),e.addEventListener("error",this._makeDynamicMessagesRequest))},_onVideoPlayerClosed:function(){var e=f.result(y,"cadmium.objects.videoPlayer",!1);e&&(e.removeEventListener("closed",this._onVideoPlayerClosed),e.removeEventListener("error",this._makeDynamicMessagesRequest))},_makeDynamicMessagesRequest:function(){this._dynamicMessageRequestDisposable=m.makeRequest(m.context.applicationError,m.sources.playback)},getModel:function(e){return e=e||this.videoId||this.context.routeHandler.params.id,this.props.model.pathEvaluator&&e?this.props.model.pathEvaluator.bind(["videos",e]):null},onPlayerInitError:function(e){h.increment(E.BVUI_INIT_ERROR),this.setState({playerError:!0}),this.setIsInteractive({interactiveReason:"failed"}),f.get(this.context.models,"truths.data.dynamicMessagesEnabled",!0)&&this.context.discoveryApp.getActionCreators().expireApp(),c.emit(C.PLAYBACK_INIT_ERROR,{config:P.getConfig(),message:f.get(e,"message"),stack:f.get(e,"stack")})},cacheCurrentPlaybackPosition:function(e){u.cachePlaybackPosition(this.props.model.pathEvaluator,e)},componentWillMount:function(){c.emit("app:pageChange",this.props)},componentDidMount:function(){var e=this,t=this.context.playerApp;if(!this.props.uiLabel)return void(this.props.onError&&this.props.onError(new Error("Required property uiLabel not provided")));this.videoId=this.context.routeHandler.params.id;var a=t.getAPI().playerApp,n=this.getUIPlayContext();if(!a.getPlayStartTime(b.Identifiers.Watch)){var i=t.getActionCreators();i.setStartTime({sessionId:b.Identifiers.Watch,time:Date.now()}),i.logPlayRequestStart({trackId:this.getTrackId(),videoId:this.videoId,rowNum:n.row,rankNum:n.rank,requestId:n.request_id,sessionId:b.Identifiers.Watch})}_=new v,this.setupI18nFascia(),y.player?this.initPlayer():l.getPlayerAssets().take(1).takeUntil(_).do(function(){e.initPlayer()}).subscribe(R,this.onPlayerInitError,R),f.get(this.context.models,"truths.data.dynamicMessagesEnabled",!0)&&m.poll(m.pollingTypes.PLAYBACK).subscribe()},shutdownCadmium:function(){var e=this,t=f.get(y,"cadmium.ui.master.shutdown",null),a=f.isFunction(t)?t():null;a instanceof g&&a.do(function(){var t=y&&y.player&&y.player.togglePanel||R;t("info",!1),t("streams",!1),t("log",!1),f.get(e.context.models,"truths.data.dynamicMessagesEnabled",!0)&&y.cadmium.UiEvents.removeEventListener(y.cadmium.UiEvents.knownEvents.NEW_PLAYER_CREATED,e._newPlayerCreatedHandler),y.cadmium.UiEvents.removeEventListener(y.cadmium.UiEvents.knownEvents.PLAYER_WILL_CLOSE,e.cacheCurrentPlaybackPosition),u.delayedSyncCache(e.props.model.pathEvaluator)}).subscribe(R,function(e){},R),_&&_.next()},componentWillUnmount:function(){var e=this.context.playerApp;if(e){e.getActionCreators().unsetStartTime({videoId:window.netflix.cadmium.objects.videoId(),sessionId:b.Identifiers.Watch})}this.shutdownCadmium(),c.emit("playback:end"),this._dynamicMessageRequestDisposable&&this._dynamicMessageRequestDisposable.unsubscribe(),f.get(this.context.models,"truths.data.dynamicMessagesEnabled",!0)&&m.stop(),I&&I.clearTimings&&(I.clearTimings(),I.thaw()),this._initParams=null},renderError:function(){return r.createElement("div",{className:"playerError"},this.context.getI18nString(A,"ce-text-default"))},render:function(){return r.createElement("div",{id:"playerWrapper"},this.state.playerError?this.renderError():r.createElement("div",{id:"playerContainer"}))}});t.exports=w});C.r("akira/views/recentlyAdded.jsx",function(e,r,t){"use strict";var s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},a=e("prop-types"),n=e("react"),o=e("create-react-class"),d=e("../containers/sortableGallery.jsx"),c=e("../utils/sortable"),l=o({displayName:"RecentlyAdded",contextTypes:{models:a.object.isRequired,routeHandler:a.object.isRequired},statics:{getPaths:function(e,r,t){var s=["recentlyadded"];return d.getPaths(e,r,{sortOrder:t.sortOrder}).map(function(e){return s.concat(e)})}},render:function(){var e=["recentlyadded"],r=this.props.model.pathEvaluator.bind(e),t=c.getSortOrder(this.context.routeHandler.query);return n.createElement(d,s({},this.props,{keyPrefix:"recentlyadded",sortOrder:t,model:r,prefix:e,pqls:d.getPaths(this.context.models,null,{sortOrder:t})}))}});r.exports=l});C.r("akira/views/searchRoute.jsx",function(t,e,r){"use strict";var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},o=t("prop-types"),n=t("react"),a=t("create-react-class"),i=t("../../utils/Routes"),c=t("./search.jsx"),u=t("../akiraContextTypes"),d=t("../utils/linkDefs.jsx"),h=a({displayName:"SearchRoute",contextTypes:Object.assign({history:o.object.isRequired,models:o.object.isRequired,routeHandler:o.object.isRequired},u),statics:{getPaths:function(t,e,r){return c.getPaths(t,e,r)}},getTerm:function(){return this.context.routeHandler.query.q||decodeURIComponent(this.context.routeHandler.params.term)},componentDidMount:function(){if(this.getTerm()||this.context.history.replaceState(i.browse.makePath()),!this.context.routeHandler.query.q){var t=this.context.routeHandler.params;t=Object.assign({},t,{q:decodeURIComponent(t.term)}),delete t.term,this.context.history.replaceState(d.getSearchRoute(this.context.models,this.context.isKidsPage).makePath(null,t))}},componentDidUpdate:function(){this.getTerm()||this.context.history.replaceState(i.browse.makePath())},render:function(){var t=this.getTerm();if(!t)return null;var e={term:t,personId:this.context.routeHandler.query.personId||this.context.routeHandler.params.personId,suggestionId:this.context.routeHandler.query.suggestionId||this.context.routeHandler.params.suggestionId,dvdId:this.context.routeHandler.query.dvdId||this.context.routeHandler.params.dvdId};return n.createElement(c,s({},this.props,e,{pqls:c.getPaths(this.context.models,null,e)}))}});e.exports=h});C.r("akira/views/similars.jsx",function(r,t,e){"use strict";var s=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},a=r("prop-types"),i=r("react"),o=r("create-react-class"),n=r("../containers/sortableGallery.jsx"),l=r("../utils/sortable"),c=o({displayName:"Similars",contextTypes:{models:a.object.isRequired,routeHandler:a.object.isRequired},statics:{getPaths:function(r,t,e){var s=["similars",e.id];return n.getPaths(r,t,{sortOrder:e.sortOrder}).map(function(r){return s.concat(r)})}},render:function(){var r=["similars",this.context.routeHandler.params.id],t=this.props.model.pathEvaluator.bind(r),e=l.getSortOrder(this.context.routeHandler.query);return i.createElement(n,s({},this.props,{keyPrefix:"similars",sortOrder:e,model:t,prefix:r,pqls:n.getPaths(this.context.models,null,{sortOrder:e})}))}});t.exports=c});C.r("akira/views/siteError.jsx",function(e,t,n){"use strict";var r=e("react"),s=e("create-react-class"),a=e("prop-types"),c="core/nfse",i=s({displayName:"SiteError",contextTypes:{getI18nString:a.func.isRequired},render:function(){return r.createElement("div",null,r.createElement("div",{className:"seBox"},r.createElement("h1",{className:"seHeader"},this.context.getI18nString(c,"header")),r.createElement("p",null,this.context.getI18nString(c,"body.copy"),"  "),r.createElement("p",null,this.context.getI18nString(c,"body.copy2")," "),r.createElement("div",{className:"seNflxButton"},r.createElement("a",{className:"seHomeLink",href:"/"},this.context.getI18nString(c,"button.home")))))}});t.exports=i});C.r("akira/views/title.jsx",function(e,t,r){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=e("prop-types"),a=e("react"),s=e("create-react-class"),i=e("./home.jsx"),d=e("../containers/jawbone/jawBone.jsx"),c=s({displayName:"Title",contextTypes:{models:n.object.isRequired,routeHandler:n.object.isRequired},childContextTypes:{rowNum:n.number,rankNum:n.number,trackId:n.number,requestId:n.string,jawBoneTrackId:n.number,jawBoneEpisodeTrackId:n.number,jawBoneTrailerTrackId:n.number},getInitialState:function(){return{showLolomo:!1}},statics:{getPaths:function(e,t,r,o){var n=r.id||o.id;return d.getPaths(e,null,{isShow:void 0,isStandaloneJawbone:!0}).map(function(e){return["videos",n,"ancestor"].concat(e)})}},componentDidMount:function(){var e=this;setTimeout(function(){e.setState({showLolomo:!0})})},getTrackIds:function(){return this.getJawBoneModel().getValueSync(["trackIds"])||{}},getJawBoneModel:function(){return this.props.model.pathEvaluator.bind(["videos",this.context.routeHandler.params.id,"ancestor"])},componentDidUpdate:function(){var e=this.getJawBoneModel(),t=e.getValueSync(["summary"]);!this.currentAncestorVideoId&&t&&(this.currentAncestorVideoId=t.id),!this.currentAncestorVideoId||t&&t.id===this.currentAncestorVideoId||(this.currentAncestorVideoId=t.id)},getChildContext:function(){var e=this.props,t=e.trackId,r=e.rowNum,o=e.rankNum,n=e.requestId,a=e.jawBoneEpisodeTrackId,s=e.jawBoneTrailerTrackId,i=this.getTrackIds();return{rowNum:"undefined"!==r?r:-1,rankNum:"undefined"!==o?o:0,requestId:n,trackId:t||i.trackId,jawBoneTrackId:i.trackId_jaw,jawBoneEpisodeTrackId:a||i.trackId_jawEpisode,jawBoneTrailerTrackId:s||i.trackId_jawTrailer}},render:function(){var e=this.getJawBoneModel(),t=parseInt(this.context.routeHandler.params.id,10);return a.createElement("div",null,a.createElement(d,{model:e,videoId:t,disableClose:!0,isStandaloneJawbone:!0,is4KSupported:this.props.is4KSupported,isHDRSupported:this.props.isHDRSupported,pqls:d.getPaths(this.context.models,null,{isShow:void 0,isStandaloneJawbone:!0}),isFirstJaw:!0,jawBoneRankNum:-1}),this.state.showLolomo&&a.createElement(i,o({},this.props,{model:this.props.model,suppressBillboard:!0})))}});t.exports=c});C.r("akira/views/titleAdd.jsx",function(t,e,i){"use strict";var s=t("lodash"),r=t("prop-types"),o=t("react"),n=t("create-react-class"),a=t("./title.jsx"),c=t("../../reactMixins/eventBus"),d=t("../../utils/mylist_utils"),u=t("../../utils/msgTokenUtils"),l=n({displayName:"TitleAdd",contextTypes:{models:r.object.isRequired,routeHandler:r.object.isRequired,discoveryApp:r.object.isRequired},componentDidMount:function(){var t=this.context.routeHandler.params,e=this.context.routeHandler.query,i=this.context.trackId||0,r=parseInt(t&&t.id||0,10),o=u.decodeMsgTokenFromQuery(e);c.emit("myList:add:start",s.assign({},this.context,this.props)),d.addToList(this.context.discoveryApp.getActionCreators(),r,i,{reqMsgToken:!0,msgToken:o}).subscribe(this.handleSuccess,this.handleError)},triggerNotification:function(t){c.emit("myList:add:end",s.assign({},this.context,this.props,{myListNotification:t}))},handleSuccess:function(t){this.triggerNotification(t)},handleError:function(t){t&&t.status?this.triggerNotification(t):this.triggerNotification({status:"error",message:"Unknown server error"})},render:function(){return o.createElement(a,this.props)}});e.exports=l});C.r("akira/views/titleDislike.jsx",function(t,e,i){"use strict";var r=t("lodash"),s=t("prop-types"),n=t("react"),o=t("create-react-class"),a=t("./title.jsx"),c=t("../../reactMixins/eventBus"),l=t("../../utils/ratingUtils"),u=t("../../utils/msgTokenUtils"),d=o({displayName:"TitleDisLike",contextTypes:{models:s.object.isRequired,routeHandler:s.object.isRequired},componentDidMount:function(){var t=this.context.routeHandler.params,e=this.context.routeHandler.query,i=this.context.trackId||0,s=parseInt(t&&t.id||0,10),n=u.decodeMsgTokenFromQuery(e);c.emit("title:rating:start",r.assign({},this.context,this.props)),l.dislike({titleId:s,trackId:i,reqMsgToken:!0,msgToken:n}).subscribe(this.handleSuccess,this.handleError)},triggerNotification:function(t){c.emit("title:rating:end",r.assign({},this.context,this.props,{ratingNotification:t}))},handleSuccess:function(t){this.triggerNotification(t)},handleError:function(t){this.triggerNotification({status:"error",message:"Unknown server error"})},render:function(){return n.createElement(a,this.props)}});e.exports=d});C.r("akira/views/titleLike.jsx",function(t,e,i){"use strict";var r=t("lodash"),s=t("prop-types"),n=t("react"),o=t("create-react-class"),a=t("./title.jsx"),c=t("../../reactMixins/eventBus"),l=t("../../utils/ratingUtils"),u=t("../../utils/msgTokenUtils"),d=o({displayName:"TitleLike",contextTypes:{models:s.object.isRequired,routeHandler:s.object.isRequired},componentDidMount:function(){var t=this.context.routeHandler.params,e=this.context.routeHandler.query,i=this.context.trackId||0,s=parseInt(t&&t.id||0,10),n=u.decodeMsgTokenFromQuery(e);c.emit("title:rating:start",r.assign({},this.context,this.props)),l.like({titleId:s,trackId:i,reqMsgToken:!0,msgToken:n}).subscribe(this.handleSuccess,this.handleError)},triggerNotification:function(t){c.emit("title:rating:end",r.assign({},this.context,this.props,{ratingNotification:t}))},handleSuccess:function(t){this.triggerNotification(t)},handleError:function(t){this.triggerNotification({status:"error",message:"Unknown server error"})},render:function(){return n.createElement(a,this.props)}});e.exports=d});C.r("akira/views/watch.jsx",function(e,t,r){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=e("prop-types"),o=e("react"),s=e("create-react-class"),i=e("shakti-platform/dist/ui/ShaktiProperties"),l=e("../../utils/Routes"),c=e("../../utils/RouteHelpers"),u=e("./player.jsx"),p=e("../../mdx2/hoc/mdxLoader.jsx"),d=e("./akiraPlayer.jsx"),m=e("./kidsPlayer.jsx"),y=e("../../components/LayoutContext.jsx"),h=e("../../player/nfplayer/utils/playerConfig"),f=e("../../utils/player/playerFeatureDetection"),P=e("../../player/nfplayer/uiLabel"),g=e("../../components/uma/uma.jsx"),C=e("../../components/uma/UMSUtils.js"),x=e("shakti-platform/dist/ui/utils/inNode"),A=e("lodash"),E=e("../../player/nfplayer/common/playerUIMilestones"),v={GENERAL_AUDIENCE:"ga",KIDS:"kids",AKIRA_NFPLAYER:"nfplayer"},R=s({displayName:"Watch",getDefaultProps:function(){return{isKidsPage:!1}},contextTypes:{models:n.object,routeHandler:n.object.isRequired},statics:{willTransitionTo:function(e,t){A.result(p,"isCasting",!1)&&e.back()}},childContextTypes:{node:n.object,isKidsPage:n.bool.isRequired},getChildContext:function(){return{node:this.props.model.node,isKidsPage:this.props.isKidsPage}},getInitialState:function(){return{playerComponent:null,isInteractive:A.get(this.context.models,"playerModel.data.interactive")||!1,isInteractiveRoute:l.interact.match(this.context.routeHandler.path)}},redirect:function(){var e=this.context.routeHandler.query;"no"===h.getPlaybackSupport().supportsSL?window.location.replace(l.helpPlayerSupport.makePath()):i.get("netflix.ui.akira.enableSilverlight")&&window.location.replace(c.makeAkiraPlayerURL(A.get(this.context.routeHandler.params,"id"),{trackId:A.get(e,"trackId"),tctx:A.get(e,"tctx")}))},setPlayerComponentState:function(){var e=void 0;e=h.shouldUseKidsPlayer()?v.KIDS:h.shouldUseNFPlayer()?v.AKIRA_NFPLAYER:v.GENERAL_AUDIENCE,E.setPlayerComponent&&E.setPlayerComponent.start(),this.setState({playerComponent:e},function(){E.setPlayerComponent&&(E.setPlayerComponent.end(),E.setPlayerComponent.measure())})},componentDidMount:function(){var e=this,t=document.body;E.featureDetection&&E.featureDetection.start(),f.hasRequiredComponentsForPlayback().take(1).do(function(t){E.featureDetection&&(E.featureDetection.end(),E.featureDetection.measure()),t?e.setPlayerComponentState():e.redirect()}).subscribe(A.noop,function(e){}),t&&t.style&&""!==t.style.overflow&&requestAnimationFrame(function(){t.style.overflow=""})},render:function(){return o.createElement("div",null,this.renderPlayerComponent())},renderPlayerComponent:function(){var e=A.get(this.context.models,"umaModel.data"),t=e&&e.alertBox,r=this.props.model.pathEvaluator,n=A.get(r.getValueSync(["profilesList","current","summary"]),"isKids",!1);if(this.props.isRefreshingApp)return null;if(A.get(this.context.models,"truths.data.hasUmaMessage")&&C.shouldPreventPlay(t))return o.createElement(g,{model:t,supportsModal:!0,supportsBanner:!1,redirectOnClose:x?null:l.browse.makePath(),forceUma:!0,refreshOnClose:!1});switch(this.state.playerComponent){case v.GENERAL_AUDIENCE:return o.createElement(u,a({uiLabel:P.STANDARD},this.props));case v.AKIRA_NFPLAYER:return o.createElement(d,a({displayUserRatings:!n,displayDisconnectedNetworkNotice:!0},this.props));case v.KIDS:return o.createElement(m,a({},A.pick(this.state,["isInteractive","isInteractiveRoute"]),this.props,{uiLabel:this.state.isInteractive?P.INTERACTIVE_KIDS:P.STANDARD}));default:return null}}});t.exports=y(R)});C.r("common/adtech-iFrame.js",function(e,i,t){"use strict";function n(){return"undefined"!=typeof window&&r.has(window,"location.search")?s.parse(window.location.search):{}}function o(e){m.clientNotifications.notifyStart("impression",{category:"uiView",data:{name:"adtechIframe",view:e}}),m.clientNotifications.notifyEnd("impression",{category:"uiView",data:{name:"adtechIframe",view:e}}),"homeScreen"!==e&&m.clientNotifications.flushBuffer()}function a(e,i,t){if("undefined"!=typeof window&&c.get("ui.iframeCommunicator.isActive")){var a=u.getModelData("geo"),s=r.get(window,"netflix.clientNotifications.getCurrentSession",function(){return{}})("userSession"),m=r.get(u.getModelData("userInfo"),"membershipStatus"),d=r.get(u.getModelData("brightTag"),"referer"),g=n(),h=u.getCookieDough(),p={is_member:i,membership_status:m,session:r.get(s,"sessionId",""),country:r.get(a,"requestCountry.id",""),referrer:e,source:d};r.has(t,"wasFormer")&&(p.signup_type=t.wasFormer?"former":"was_never");var w={mqso:h.get("mqso"),nan_pid:g.nan_pid,utm_campaign:g.utm_campaign};r.assign(p,r.omit(w,r.isUndefined));var l=c.get("ui.iframeCommunicator.locations.adTech");f.send(l,p),o(e)}}var r=e("lodash"),s=e("qs"),c=e("shakti-platform/dist/ui/ShaktiProperties"),m=e("nf-cons-log"),u=e("./appContext"),f=e("./iframeCommunicator");i.exports={sendAdTech:a}});C.r("common/iframeCommunicator.js",function(e,i,t){"use strict";var n=e("lodash"),r=e("shakti-platform/dist/ui/ShaktiProperties"),a=e("shakti-platform/dist/ui/utils/inNode"),s={height:"1px",width:"1px",position:"absolute",top:"-9px",left:"-9px"},o={LIFETIME_MAX:"ui.iframeCommunicator.maxLifetimeMs",IS_ACTIVE:"ui.iframeCommunicator.isActive"},m=!a&&r.get(o.IS_ACTIVE)||!1,d=r.get(o.LIFETIME_MAX)||3e4,u=void 0,c={_initialized:!1,_currentChannels:{},_buildUrl:function(e,i){var t=encodeURIComponent(JSON.stringify(i));return e+(-1===e.search("\\?")?"?":"&")+"data="+t},_init:function(){return!this._initialized&&(u=document.createElement("iframe"),n.assign(u.style,s),window.addEventListener("message",this._processMessage.bind(this)),this._initialized=!0,!0)},_processMessage:function(e){e&&e.data&&e.data.sender&&this._removeIframe(e.data.sender)},_removeIframe:function(e){var i=this._currentChannels[e];i&&(window.clearTimeout(i.timeout),i.ref.parentNode.removeChild(i.ref),delete this._currentChannels[e])},_saveIframe:function(e,i){var t=this,n=window.setTimeout(function(){t._removeIframe(e)},d);this._currentChannels[e]={timeout:n,ref:i}},send:function(e,i){if(!a&&m&&e){this._init();var t=u.cloneNode(!1),n="if-communicator-"+String(Math.random()).slice(2,15);if(t.src=this._buildUrl(e,i),t.src)return t.name=n,document.body.appendChild(t),this._saveIframe(n,t),n}}};i.exports=c});C.r("node_modules/nf-cons-log/dist/clientNotifications.js",function(e,t,n){!function(e){"use strict";e.util=void 0===e.util?{}:e.util,e.util.isObjectOrArray=function(e){return e&&"object"==typeof e}}("undefined"!=typeof window?window:this),function(e){"use strict";var t=e.netflix||{};t.pureMixin=function(e,n){var i,s,o,r,a=Object.keys(n),u=t.pureMixin;for(r=a.length-1;r>=0;r--)i=a[r],s=n[i],o=e[i],void 0!==o&&void 0!==s&&null!==o&&null!==s&&"object"==typeof o&&"object"==typeof s&&(n[i]=u(o,s)),n[i]={value:n[i]};return Object.create(e,n)},t.deepMixin=function(e,n){var i,s,o;if(void 0===e||null===e)return n;if("string"==typeof e&&void 0!==n)return e;for(i in n)s=e[i],"function"!=typeof(o=n[i])&&(o instanceof Date?e[i]=o:void 0!==s&&null!==s?e[i]=t.deepMixin(s,o):"object"==typeof s&&void 0!==o&&null!==o&&"object"==typeof o?t.deepMixin(s,o):e[i]=o);return e}}("undefined"!=typeof window?window:this),function(t){"use strict";var n=e("rxjs/Subject").Subject;t.netflix=t.netflix||{},t.netflix.notification=t.netflix.notification||{},t.netflix.notification.notifications=new n}("undefined"!=typeof window?window:this),function(e){"use strict";var t=e.netflix,n={appSession:{send:"both"},userSession:{send:"both"},sharedContext:{send:"both"},uiModalViewChanged:{eventProperties:{value:"modalView"},send:"start"},uiModelessView:{send:"both",overlapping:"true"},uiDataRequest:{send:"end"}};t.notification=t.notification||{},t.notification.specification=t.notification.specification||{},t.notification.specification.uiQOE=t.notification.specification.uiQOE||{};for(var i in n)n.hasOwnProperty(i)&&!t.notification.specification.uiQOE[i]&&(t.notification.specification.uiQOE[i]=n[i])}("undefined"!=typeof window?window:this),function(t){"use strict";var n=e("rxjs/Observable").Observable,i=e("rxjs/Subject").Subject,s={enumerable:!1},o=function(){},r=t.util.isObjectOrArray,a=t.netflix;a.notification.ClientNotifications=function(e){e=e||{};var t=e.requestSender||o,n=e.timeStampGenerator||function(){return 0},s=e.guidGenerator||o,r=e.log||o,a=e.maxBufferSize,u=e.maxFlushDelay,d=e.specification,c=e.sessionState,f=e.retryFailedRequests,l=e.metadata||{},h=e.sequencePrefix||"",p=isNaN(e.timeStampOffset)?0:e.timeStampOffset,v=e.isValidEvent||function(){return!0};this.setTimeStampOffset(p),this.log=r,this.metadata=l,this.specification=d,this._isValidEvent=v,this._retryFailedRequests=Boolean(f),this.sessionState=c||{sessions:{},sessionsList:[]},this.events=this._createEvents(),this.sequence=1,this._sequencePrefix=h,this._timestampOffset=0,this._timeStampGenerator=n,this.maxFlushDelay=u,this.maxBufferSize=a,this._queuedRequests=[],this._queue=[],this.nextGuid=s,this.eventsWithActiveSessions=this._createEventsWithActiveSessions(),this._flushes=new i,this.outgoingRequests=this._createRequests(),this.unsentRequests=new i,this.enabled=void 0,this._enabledChanges=new i,this._isEventEnabledByEventNameByCategory={},this._eventsQueuedBeforeEnabled=[],this._requestSender=t,this.requests=this._createRequestsObservable()},a.notification.ClientNotifications.prototype={setTimeStampOffset:function(e){this._timestampOffset=e},getTimeStampOffset:function(){return this._timestampOffset},timeStamp:function(){return this._timeStampGenerator()+this._timestampOffset},setSequencePrefix:function(e){this._sequencePrefix=e},getSequencePrefix:function(){return this._sequencePrefix},clearSequencePrefix:function(){this._sequencePrefix=""},getRequestSendDelayMs:function(e){var t=e.retryCount||0;return 100*(t&&Math.pow(2,t))},removeQueuedRequest:function(e){var t=this._queuedRequests,n=t.indexOf(e);n>-1&&t.splice(n,1)},suspend:function(){var e,t=this,n={metadata:this.metadata,maxBufferSize:this.maxBufferSize,maxFlushDelay:this.maxFlushDelay,eventsQueuedBeforeEnabled:this._eventsQueuedBeforeEnabled,sequence:void 0,sequencePrefix:this._sequencePrefix,enabled:this.enabled,sessionState:this.sessionState,queuedRequests:this._queuedRequests.slice(0)};return this.maxBufferSize=Number.MAX_VALUE,this.sessionState.sessionsList.concat(this._eventsQueuedBeforeEnabled).filter(function(e){var n=t._getEventSpecification(e);return n&&n.cancelOnSuspend}).forEach(function(e){t.notifyEnd(e,{data:{reason:"canceled"}})}),e=this.createRequestFromUnsentEvents(),e&&n.queuedRequests.push(e),n.queuedRequests.forEach(function(e){delete e.retryCount}),n.sequence=this.sequence,n},restore:function(e){this.maxBufferSize=e.maxBufferSize||this.maxBufferSize,this.maxFlushDelay=e.maxFlushDelay||this.maxFlushDelay,this._eventsQueuedBeforeEnabled=e.eventsQueuedBeforeEnabled||this._eventsQueuedBeforeEnabled,this.sequence=e.sequence||this.sequence,this._sequencePrefix=e.sequencePrefix||this._sequencePrefix,a.deepMixin(this.metadata,e.metadata||{}),this.sessionState=e.sessionState||this.sessionState,!1===e.enabled&&this.start(e.enabled),this.addToUnsentRequests(e.queuedRequests||[])},addToUnsentRequests:function(e){var t;if(Array.isArray(e))for(this.log("Adding "+e.length+" unsent requests."),t=0;t<e.length;++t)this.unsentRequests.next(e[t])},notify:function(e,t,n){return n=n||{},n.type="event",n.category=e,n.name=t,!1!==this.enabled&&this.events.next(n),n},start:function(e){var t,n=this._eventsQueuedBeforeEnabled,i=n.length;if(void 0!==e){if(this.enabled=e,!0===e)for(t=0;t<i;t++)this.events.next(n[t]);n.length=0,this._enabledChanges.next(e)}},getSession:function(e,t){var n,i,s,o,r=e+"."+t,a=this.sessionState;if(!a||!a.sessions)return void this.log("ClientNotifications#getSession called but we have no session state.");if(s=this.sessionState.sessions[r])return s;for(i=this._eventsQueuedBeforeEnabled,n=i.length,o=n-1;o>=0;--o)if(s=i[o],s.category===e&&s.sessionName===t)return s},_getEventKey:function(e){return e.category+"."+e.sessionName},notifyStart:function(e,t,n){var i,s,o,r;if(n=n||{},i=n.sessionId,n.type="sessionStarted",n.category=e,n.name=t+".started",n.sessionName=t,void 0!==i&&(s=this._getEventKey(n),void 0!==(o=this.sessionState.sessions[s])))if(Array.isArray(o)){if(-1!==(r=this._arrayIndexWhere(o,function(e){return e.sessionId===i})))return o[r]}else if(o.sessionId===n.sessionId)return o;return!1!==this.enabled&&this.events.next(n),n},notifyEnd:function(e,t,n){var i,s=this,o=e,r=t,a=void 0!==o.category,u=a?this.getSession(e.category,e.name):this.getSession(e,t);if(a?(e=o.category,t=o.sessionName,r=r||{},r.sessionId=o.sessionId,n=r):n=n||{},u&&(Array.isArray(u)&&(r.sessionId?-1!==(i=s._arrayIndexWhere(u,function(e){return e.sessionId===r.sessionId}))&&(u=u[i]):u=u[u.length-1]),u.childrenWhoseSessionsIClose))for(var d=u.childrenWhoseSessionsIClose.length-1;d>=0;d--)this.notifyEnd(u.childrenWhoseSessionsIClose[d]);return n.type="sessionEnded",n.category=e,n.name=t+".ended",n.sessionName=t,!1!==this.enabled&&this.events.next(n),n},areEventsQueued:function(){return this._queue.length>0},flush:function(){this._flushes.next()},_arrayIndexWhere:function(e,t){var n;for(n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1},_getEventSessionKey:function(e){var t=e.sessionKey;return void 0===t&&(t=[e.category,e.sessionName,e.sessionId],e.sessionKey=t),t},_isEventEnabled:function(e,t){var n,i,s;return n=this._isEventEnabledByEventNameByCategory[e.category]||{},this._isEventEnabledByEventNameByCategory[e.category]=n,void 0!==n[e.sessionName]?n[e.sessionName]:(i=Number(t.disabledChance),i=isNaN(i)?0:i,s=Math.floor(100*Math.random())>=i,n[e.sessionName]=s,s||this.log("Disabling "+e.category+"."+e.sessionName+" (disabledChance: "+(t.disabledChance||0)+")"),s)},_getSuppressPercentage:function(e){var t=Number(e.suppressPercentage);return isNaN(t)?0:t},_getEventSpecification:function(e){var t,n=this.specification,i=e.specification;return i&&"object"==typeof i?i:(n&&"object"==typeof n?(t=n[e.category]||{},(i=t[e.sessionName]||t[e.name])&&"object"==typeof i||(i={},t&&"object"==typeof t&&(t[e.name]=i))):i={},i.suppressPercentage=this._getSuppressPercentage(i),e.specification=i,Object.defineProperty(e,"specification",s),i)},_addTimeAndIds:function(e){return void 0===e.time&&(e.time=this.timeStamp()),void 0===e.id&&(e.id=this.nextGuid()),"sessionStarted"===e.type&&void 0===e.sessionId&&(e.sessionId=this.nextGuid()),e},_sendQueuedRequest:function(e){var t=this;return this._requestSender(e).do(function(){t.removeQueuedRequest(e)},function(){t.removeQueuedRequest(e),t._retryFailedRequests&&(++e.retryCount,t.log("Request failed, retrying..."),t.outgoingRequests.next(e))}).catch(function(){return n.of(e)})},_sendRequestAfterDelay:function(e){this._queuedRequests.push(e),e.time=e.time||this.timeStamp(),e.retryCount=e.retryCount||0;var t=this.getRequestSendDelayMs(e);return t&&this.log("Delaying request with timestamp "+e.time+" by "+t+"ms..."),n.timer(t).take(1).flatMap(this._sendQueuedRequest.bind(this,e))},_waitUntilEnabled:function(e){return this.enabled?n.of(e):this._enabledChanges.filter(function(e){return!0===e}).map(function(){return e}).take(1)},_createRequestsObservable:function(){return n.merge(this.unsentRequests.flatMap(this._waitUntilEnabled.bind(this)),this.outgoingRequests.flatMap(this._waitUntilEnabled.bind(this))).mergeMap(this._sendRequestAfterDelay.bind(this)).publish().connect()},_createEvents:function(){var e=this,t=new i,n=t.next;return t.next=function(i){e._addTimeAndIds(i),void 0===e.enabled?e._eventsQueuedBeforeEnabled.push(i):!0===e.enabled&&e._isValidEvent(i)&&n.call(t,i)},t},_writePromotedPropertyValueToPath:function(e,t,n){var i,s,o;for(i=0;i<t.length-1;i++)s=t[i],o=e[s],null!==o&&"object"==typeof o||(o={},e[s]=o),e=o;e[t[t.length-1]]=n},_writePromotedPropertiesFromSession:function(e,t,n){var i,s,o,a,u,d,c,f=t.data;if(void 0!==f)for(i in e){if(s=e[i],!0===s&&(s=i),r(s)&&!Array.isArray(s)){if(o=s,a=o[n.category],u=r(a)&&a[n.sessionName],d=r(a)&&void 0!==a.default?a.default:o.default,d=void 0!==d&&d,c=void 0===a||r(a)&&void 0===u,!1===a||!1===u||c&&!1===d)continue;(!0===u||!0===a||c&&!0===d)&&(s=i),s=c?d:void 0!==u?u:a}Array.isArray(s)?this._writePromotedPropertyValueToPath(n,s,f[i]):n[s]=f[i]}},_writePromotedProperties:function(e,t,n){var i,s,o,r;for(i=0;i<e.length;i++)s=e[i],(o=this._getEventSpecification(s))&&void 0!==(r=o[t])&&this._writePromotedPropertiesFromSession(r,s,n)},_createEventsWithActiveSessions:function(){var e=this;return n.create(function(t){var n=function(i){var o,r,u,d,c,f,l,h,p,v,m,y,g,S,b,x=e.sessionState,q=x.sessions,_=x.sessionsList;if("event"!==i.type){if(l=e._getEventSpecification(i),f=e._getEventKey(i),o=q[f],r=Array.isArray(o)?o[o.length-1]:o,"sessionStarted"===i.type){if(void 0!==r){if(r.sessionId===i.sessionId)return r;if(!l||!l.overlapping)return e.log("Implicitly ending "+i.category+"."+i.sessionName),n(e._addTimeAndIds({type:"sessionEnded",category:i.category,name:i.sessionName+".ended",sessionName:i.sessionName,sessionId:o.sessionId,time:i.time})),n(i);Array.isArray(o)||(o=[o],q[f]=o),o.push(i),_.push(i)}else q[f]=i,_.push(i);l&&l.parentThatClosesMySessionWhenItCloses&&(S=q[l.parentThatClosesMySessionWhenItCloses],Array.isArray(S)&&(S=S[S.length-1]),S&&S.time<i.time&&(b={sessionId:i.sessionId,id:i.id,sessionStartTime:i.time,category:i.category,sessionName:i.sessionName},S.childrenWhoseSessionsIClose?S.childrenWhoseSessionsIClose.push(b):S.childrenWhoseSessionsIClose=[b])),!l||"start"!==l.send&&"both"!==l.send||((m=e.onNotifyStart)&&m(i),(m=l.onNotifyStart)&&m(i))}else if("sessionEnded"===i.type){if(void 0===o)return;if(void 0!==i.sessionId?Array.isArray(o)?-1!==(v=e._arrayIndexWhere(o,function(e){return e.sessionId===i.sessionId}))&&(h=o[v],o.splice(v,1),0===o.length&&(q[f]=void 0)):o.sessionId===i.sessionId&&(h=o,q[f]=void 0):Array.isArray(o)?(h=o.pop(),0===o.length&&(q[f]=void 0)):(h=o,q[f]=void 0),l&&l.parentThatClosesMySessionWhenItCloses&&(S=q[l.parentThatClosesMySessionWhenItCloses])&&(Array.isArray(S)&&(S=S[S.length-1]),S.childrenWhoseSessionsIClose&&-1!==(v=e._arrayIndexWhere(S.childrenWhoseSessionsIClose,function(e){return e.id===h.id}))&&S.childrenWhoseSessionsIClose.splice(v,1)),void 0===h)return;i.sessionId=h.sessionId,c=_.length,_[c-1].id===h.id?_.length=c-1:-1!==(v=e._arrayIndexWhere(_,function(e){return e.id===h.id}))&&_.splice(v,1),void 0===i.duration&&(i.duration=i.time-h.time),!l||"end"!==l.send&&"both"!==l.send||((g=e.onNotifyEnd)&&g(h,i),(g=l.onNotifyEnd)?g(h,i):"end"===l.send&&(void 0===i.data&&(i.data={}),i.data=a.deepMixin(i.data,h.data),i.dataContext=a.deepMixin(i.dataContext,h.dataContext)))}}else e.onNotify&&e.onNotify(i);if("event"===i.type||void 0!==l&&("both"===l.send||"sessionStarted"===i.type&&"start"===l.send||"sessionEnded"===i.type&&"end"===l.send&&void 0!==h)){for(p=[],y=0;y<_.length;y++)u=_[y],(d=e._getEventSpecification(u))&&void 0!==d.send&&p.push(e._getEventSessionKey(u));i.activeSessions=p,e._writePromotedProperties(_,"eventProperties",i),i.sessionState=x,Object.defineProperty(i,"sessionState",s),t.next(i)}};return e.events.subscribe(n,function(e){t.error(e)},function(){t.complete()})})},createRequestFromUnsentEvents:function(){if(this.areEventsQueued())return this._createRequest(this._queue)},clearDisabledEvents:function(){var e,t,n,i=this._isEventEnabledByEventNameByCategory;this.log("Clearing disabled state for all event types");for(t in i){e=i[t]||{};for(n in e)delete e[n]}},_canSendEvent:function(e){var t=this._getEventSpecification(e);return this._isEventEnabled(e,t)&&(0===t.suppressPercentage||Math.floor(100*Math.random())>=t.suppressPercentage)},_createRequest:function(e){var t,n=this,i={};return n._writePromotedProperties(this.sessionState.sessionsList,"requestProperties",i),i.events=e.filter(n._canSendEvent.bind(n)).map(function(e){return e.sequence=n._sequencePrefix+n.sequence,n.sequence++,e}),(t=n.onRequest)&&t(i),i},_createRequests:function(){var e=this;return n.create(function(t){var n,i,s,r=e._queue,a=function(){var e;r.length>0&&(n=clearTimeout(n),e=r.slice(0),r.length=0,t.next(e))},u=function(){void 0!==i&&i.unsubscribe(),void 0!==s&&s.unsubscribe(),n&&(n=clearTimeout(n))};return s=e._flushes.subscribe(function(){a()},function(e){void 0!==u&&u(),t.error(e)},o),i=e.eventsWithActiveSessions.subscribe(function(t){1===r.length&&(n=setTimeout(a,e.maxFlushDelay)),r.push(t),e.maxBufferSize<=r.length&&a()},function(e){u(),t.error(e)},function(){a(),u(),t.complete()}),u}).map(function(t){return e._createRequest(t)})}}}("undefined"!=typeof window?window:this),function(e){"use strict";var t=function(t){var n;try{n="object"==typeof e.localStorage?"localstorage":"none"}catch(e){n="none"}var i=function(n){try{return e.localStorage.getItem(t+"."+n)}catch(e){return null}},s=function(n,i){try{return i=JSON.stringify(i),e.localStorage.setItem(t+"."+n,i),!0}catch(e){return!1}};return{type:function(){return n},get:i,set:s}};e.netflix=e.netflix||{},e.netflix.BrowserDb=function(e){return t(e)}}("undefined"!=typeof window?window:this),function(t){"use strict";t.netflix=t.netflix||{},t.netflix.notification=t.netflix.notification||{},t.netflix.notification.constants=t.netflix.notification.constants||{},t.netflix.session=function(){var n,i,s,o,r=6e4*(t.netflix.notification.constants&&t.netflix.notification.constants.sessionLength||30),a=new t.netflix.BrowserDb("NFSessionData"),u=function(){return(new Date).getTime()},d=function(){return void 0===n||u()-n>r},c=function(){return void 0===n||u()-n>288e5},f=function(){n=u(),p()},l=function(){var e,n,i,s,o=t.document&&t.document.cookie.split(";");if(o)for(i=0;i<o.length;i++){for(s=o[i];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf("cL=")){e=s.substring("cL=".length,s.length);break}}try{e&&(e=decodeURIComponent(e).split("|"),n={timeStamp:e[0],activeSessions:[["uiQOE","appSession",e[1]],["uiQOE","userSession",e[2]]],sequencePrefix:e[3],sequence:parseInt(e[4],10),token:h(e,5)})}catch(e){n=null}return n},h=function(e,t){try{return e[t]}catch(e){return""}},p=function(){a.set("nfSessionTs",u())},v=function(){var n=window&&t.jQuery||e("jquery"),i=function(){t.netflix.session.newSession()||a.set("nfSessionTs",u())};t.netflix.session.disabled()||(n&&!n.stub?n(t).bind("beforeunload",i):t.addEventListener("beforeunload",i,!1))};return function(){"none"===a.type()&&(i=!0),n=a.get("nfSessionTs"),s=l();try{s&&s.timeStamp>n?n=s.timeStamp:s=void 0}catch(e){s=void 0}o=!0}(),{disabled:function(){return i},newSession:d,newApp:c,lastActivity:function(){return n},ready:function(){return o},cookieData:function(){return s},keepAlive:f,initTimers:v,database:a}}()}("undefined"!=typeof window?window:this),function(t){"use strict";var n=e("rxjs/Observable").Observable;e("rxjs/add/observable/timer"),e("rxjs/add/observable/merge"),e("rxjs/add/operator/catch"),e("rxjs/add/operator/do"),e("rxjs/add/observable/of"),e("rxjs/add/operator/merge"),e("rxjs/add/operator/map"),e("rxjs/add/operator/mergeMap"),e("rxjs/add/operator/publish"),e("rxjs/add/operator/take");var i=t,s=i.netflix;i.netflix.clientNotifications=function(t,o,r){var a,u,d,c=s.notification.constants,f=c&&c.pageName||i.location&&i.location.pathname,l=c&&"jfk"===c.uiMode,h=c&&c.debugMode&&i.console,p=c&&c.maxFlushDelay||5e3,v=c&&c.maxBufferSize||20,m=c&&!1!==c.logPageOnStart,y=c?c.ownerToken:"",g=function(){return Math.floor(new Date/1e3).toString()+Math.floor(1e8*Math.random()).toString()},S=function(){return(new Date).getTime()},b=function(){return 6e4*(new Date).getTimezoneOffset()},x=function(e){return!s.session.disabled()&&a.sessionState.sessions["uiQOE."+e]},q=function(){if(!i.netflix.session.disabled()){i.nflxappbridge&&(d=i.nflxappbridge);try{if(i.netflix.session.ready()){_(),m&&w();var e=a.suspend();O(e),a.restore(e)}else i.setTimeout(q,100)}catch(e){}}},_=function(){if(!s.session.disabled()){var e,u=r.cookieData(),f=r.database.get("nfNotifications");a=new t({requestSender:function(e){return n.create(function(t){return C(e,function(e,n){e?t.error(e):t.next(n)}),function(){}}).map(function(){return e})},timeStampGenerator:S,guidGenerator:g,maxBufferSize:v,maxFlushDelay:p,specification:o,sessionState:null,retryFailedRequests:!0}),a.metadata.token=y;try{void 0!==u?e=B(u):null!==f&&(e=JSON.parse(f),e.enabled=void 0),void 0!==e&&E(e)&&(h&&console.log("restoring"+JSON.stringify(e)),a.restore(e))}catch(e){}a.onRequest=function(e){var t;e.locale=c&&c.locale?c.locale:"",t=function(e){if("undefined"==typeof document||void 0===document.cookie)return"";var t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""}("clSharedContext"),e.device={},a.metadata&&a.metadata.device&&(e.device=a.metadata.device),e.device.utcOffset=b(),c.version&&(e.version=c.version),e.browser={userAgent:i.navigator.userAgent,requestUrl:i.location.href,referrerUrl:i.document.referrer},d&&(c.appName="www-hosted"),""!==t&&(e.sharedContext=t),e.appName=c.appName||"www",e.time=S()}}},E=function(e){var t=e.metadata.token;return void 0===t||""===t||t.toString()===y.toString()},w=function(){var e=c&&c.videoId,t=c&&c.trackId,n={category:"uiQOE",modalView:f};e&&(n.dataContext=n.dataContext||{},n.dataContext.videoId=e),t&&(n.dataContext=n.dataContext||{},n.dataContext.trackId=t),A("uiModalViewChanged",n)},O=function(e){r.disabled()||r.database.set("nfNotifications",e)},I=function(){r.disabled()||(a.start(!0),a.flush())},C=function(t,n){var s=JSON?JSON.stringify(t):t,o=i&&i.jQuery||e("jquery"),r={name:"X-Netflix.ichnaea.request.type",value:"UiRequest"},a="/ichnaea/log";if(h&&console.log("Sending data to server: "+s),o&&!o.stub)o.ajax({type:"POST",url:a,data:s,contentType:"application/json",beforeSend:function(e){e.setRequestHeader(r.name,r.value)},success:function(){n(null,null)},error:n});else{var u=new i.XMLHttpRequest,d=function(){u.onload=null,u.onerror=null,u.ontimeout=null,u.onabort=null,u=null},c=function(){n(null,null),d()},f=function(){n(!0,u),d()};u.open("POST",a),u.withCredentials=!0,u.setRequestHeader(r.name,r.value),u.setRequestHeader("Content-Type","application/json"),u.onload=c,u.onerror=f,u.ontimeout=f,u.onabort=f,u.send(s)}},N=function(e){var t=r.lastActivity(),n=r.newApp(),s=r.newSession(),o=x("appSession"),a=x("userSession"),u=x("sharedContext");if("userSession"!==e&&"appSession"!==e&&"sharedContext"!==e&&(n||void 0===o?(void 0!==a&&R("userSession",{category:"uiQOE",data:{endReason:"timeout",lastUserActivityTime:t}}),void 0!==o&&R("appSession",{category:"uiQOE",data:{endReason:"timeout",lastUserActivityTime:t}}),P("appSession"),c["accept-language"]?P("userSession",{category:"uiQOE",data:{trigger:"appStart",acceptLanguageHeader:c["accept-language"]}}):P("userSession",{category:"uiQOE",data:{trigger:"appStart"}})):(s||void 0===a)&&(void 0!==a&&R("userSession",{category:"uiQOE",data:{endReason:"timeout",lastUserActivityTime:t}}),P("userSession",{category:"uiQOE",data:{trigger:"inputEvent",idleTime:S()-t}})),"www-hosted"===c.appName)){var d,f={},l=i.location.href;l.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,t,n,i){f[t]=i}),f&&f.uuid&&(d=f.uuid),void 0===u?d&&P("sharedContext",{category:"uiQOE",data:{trigger:"signup",role:"receiver",uuid:d}}):d&&d!==u.data.uuid&&(R("sharedContext",{category:"uiQOE",data:{role:"receiver",uuid:u.data.uuid}}),P("sharedContext",{category:"uiQOE",data:{trigger:"signup",role:"receiver",uuid:d}}))}},P=function(e,t){return j("start",e,t)},R=function(e,t){return j("end",e,t)},A=function(e,t){return j("singleton",e,t)},j=function(e,t,n){if(s.session.disabled())return!1;var o,d=n||{};switch(d.modalView=d.modalView||f,l&&void 0===d.kids&&(d.kids=l),o=d.category||"uiQOE","undefined"===a&&i.setTimeout(function(){j(e,t,n)},100),h&&console.log("notifying "+t+" : "+JSON.stringify(n)),N(t),r.keepAlive(),e){case"start":return"object"==typeof d.endOnUnload&&(u=u||{},d.endOnUnload.category=o,u[t]=d.endOnUnload,delete d.endOnUnload),a.notifyStart(o,t,d);case"end":return"Object"==typeof d.startEvent?a.notifyEnd(d.startEvent):a.notifyEnd(o,t,d);default:return a.notify(o,t,d)}},Q=function(e){f=e},T=function(){if(u)for(var e in u)u.hasOwnProperty(e)&&R(e,u[e])},M=function(){var e,t=x("appSession"),n=x("userSession"),s={};if(void 0!==t&&!r.newApp())try{s.appId=t.sessionId,void 0!==n&&(s.sessionId=n.sessionId),s.timeStamp=r.lastActivity(),s.sequencePrefix=a.getSequencePrefix(),e=encodeURIComponent(s.timeStamp+"|"+s.appId+"|"+s.sessionId+"|"+s.sequencePrefix+"|"+a.sequence+"|"+y),i.document.cookie="cL="+e+"; path=/; domain="+i.location.hostname}catch(e){}},B=function(e){var t,n,i,s,o=e.activeSessions,r={},a=[],u={},d=[];for(s=0;s<o.length;s++){try{n=o[s][2],t=o[s][1]}catch(e){break}d.push(["uiQOE",t,n]),i={sessionId:n,type:"sessionStarted",category:"uiQOE",name:t+".started",sessionName:t,id:n,activeSessions:d},u["uiQOE."+t]=i,a.push(i)}return h&&console.log("Restoring "+d),r.sessionState={sessions:u,sessionsList:a},e.esn&&(r.metadata=r.metadata||{},r.metadata.device={esn:e.esn}),"NaN"!==e.sequence&&(r.sequence=e.sequence),e.sequencePrefix&&(r.sequencePrefix=e.sequencePrefix),e.token&&(r.metadata=r.metadata||{},r.metadata.token=e.token),r},D=function(){var t=i&&i.jQuery||e("jquery"),n=function(){s.session.disabled()||(T(),M(),O(a.suspend()))};s.session.initTimers(),I(),M(),t&&!t.stub?t(i).unload(n):i.addEventListener("unload",n)},k=function(){a.flush()};return q(),{start:D,notify:A,notifyStart:P,notifyEnd:R,updatePageName:Q,getCurrentSession:x,flushBuffer:k,createClientNotifications:_}}(s.notification.ClientNotifications,s.notification.specification,s.session)}("undefined"!=typeof window?window:this),t.exports="undefined"!=typeof window?window:this});C.r("node_modules/nf-cons-log/lib/index.js",function(i,t,n){"use strict";function o(){}var s,c=i("../dist/clientNotifications.js");s="undefined"!=typeof window?window.netflix:c.netflix,t.exports={init:function(){try{s.clientNotifications.start()}catch(i){}},active:function(){return s.session&&s.notification&&s.clientNotifications},session:s.session,notification:s.notification,clientNotifications:s.clientNotifications||{notifyEnd:o,notifyStart:o,notify:o}}});C.r("common/adtech-iFrame2.js",function(e,i,t){"use strict";function a(e,i){try{n.clientNotifications.notifyStart("impression",{category:"uiView",data:{name:"adtechIframe",view:e}}),n.clientNotifications.notifyEnd("impression",{category:"uiView",data:{name:"adtechIframe",view:e}}),i&&n.clientNotifications.flushBuffer()}catch(e){}}function o(e,i){var t=m.getModelData("adtech");if(!(c||r.isEmpty(t)||r.isEmpty(t.iframeData)||!0===t.disabled)){var o=r.clone(t.iframeData);i&&(o.is_member=i),o.wasFormerMember=!0===o.wasFormerMember,o.referrer=e,s.send(t.iframeLocation,o),a(e)}}var r=e("lodash"),n=e("nf-cons-log"),m=e("../common/appContext"),c=e("shakti-platform/dist/ui/utils/inNode"),s=e("./iframeCommunicator");i.exports={sendAdTech:o}});C.r("common/clientInitFastProperties.js",function(t,i,e){"use strict";var o=t("nf-iso-properties"),r=t("../common/appContext"),s=t("shakti-platform/dist/ui/utils/inNode"),n=t("shakti-platform/dist/ui/ShaktiProperties");i.exports={init:function(){s||o.create({sources:[new o.plugins.MemorySource(r.getModelData("fastProps"))]},function(t,i){if(t)throw new Error("ShaktiProperties failed to initialize.");n.setClient(i)})}}});C.r("common/i18n.js",function(i,t,n){"use strict";function r(i,t){var n=/\{(\w+)\}/g;return i?i.replace(n,function(i,n){return void 0!==t[n]?t[n]:"{?"+n+"?}"}):""}var s=i("lodash"),e=i("shakti-platform/dist/ui/utils/inNode"),o=void 0,a=void 0,g=void 0,u=i;try{e&&(a=u("shakti-platform/dist/ui/ShaktiProperties"),o=u("shakti-platform/dist/singletons/ShaktiAtlas").getInstance(),g=a.get("DEVELOPMENT"))}catch(i){}var l={getStringWithoutVariableSubstitution:function(i,t,n,r){if(e&&g&&(!n||"string"!=typeof n))throw new Error("Key not provided for lookup in bundle: "+(t||"undefined bundle"));if(!t||"string"!=typeof t)throw new Error("Missing/invalid bundle param for key="+n);if(void 0===i||null===i)throw new Error("Missing strings for all bundles: key="+n);if(-1!==t.indexOf(":")&&e){if(g)throw new Error("bundle:stringPart syntax is no longer supported. Please use full string key names.");a&&!0===a.get("web.ui.missing_strings.enabled")&&o&&o.counter({name:"shakti_bad_bundle",tags:{shakti_missing_string_bundle:t}})}return s.has(i,[t,n])?i[t][n]:void 0===r?(e&&a&&!0===a.get("web.ui.missing_strings.enabled")&&o&&o.counter({name:"shakti_missing_string",tags:{shakti_missing_string_key:n,shakti_missing_string_bundle:t,shakti_missing_string_full:t+":"+n}}),""):r},getString:function(i,t,n,s,e){"string"==typeof s&&void 0===e&&(e=s,s={});var o=l.getStringWithoutVariableSubstitution(i,t,n,e);return s?r(o,s):o},getStrings:function(i,t){return{get:function(n,r,s){return l.getString(i,t,n,r,s)}}}};t.exports=l});C.r("common/icuStrings.js",function(t,i,n){"use strict";var r=t("../utils/intl-messageformat/index"),e=t("../utils/strings/fixLocale"),u=t("shakti-platform/dist/ui/utils/inNode"),s=t("../common/i18n");if(!u){var o=t("../shims/intl/index");try{o.install&&o.install()}catch(t){}}var a={},g=function(t,i,n,s){n=n||{},s=s||i+"::"+t;var o=a[s];return o||(o=new r(t,e(i),n),u||(a[s]=o)),o},l=function(t,i,n,r,e){return n=n||{},g(t,i,r,e).format(n)},c=function(t,i,n){return s.getStringWithoutVariableSubstitution(t,i,n)},S=function(t,i,n,r,e,u){return l(c(t,n,r),i,e,u,i+":"+n+":"+r)};i.exports={createString:S,formatString:l,getStringWithoutVariableSubstitution:s.getStringWithoutVariableSubstitution,getString:s.getString,getStrings:s.getStrings}});C.r("common/playPrediction/playPredictionConstants.js",function(_,P,n){"use strict";P.exports={PPM_FIRST_LOAD:"FirstLoad",PPM_VIEWPORT_CHANGED:"ViewPortChanged",PPM_SCROLL_VERTICAL:"ScrollVertical",PPM_SCROLL_HORIZONTAL:"ScrollHorizontal",PPM_JAWBONE_OPENED:"JawboneOpened",PPM_PLAY_FOCUS:"PlayFocus",PPM_UNCHANGED:"Unchanged",UI_INIT:"init",UI_FULLSCAN:"pt:fullscan",UI_JAWBONE_OPENED:"jawbone:open",UI_PLAY_FOCUS:"play:focus",UI_SCROLL_VERTICAL:"scroll",UI_SCROLL_HORIZONTAL:"horizontal",UI_SCROLL_NONE:"none",UI_SCROLL_UNKNOWN:"unknown",UI_SCROLL_LEFT:"left",UI_SCROLL_RIGHT:"right",UI_SCROLL_UP:"up",UI_SCROLL_DOWN:"down",UX_DISCOVERY:"discovery",UX_SEARCH:"search",UX_GENRE:"genre",UX_WATCH:"watch",UX_UNKNOWN:"unknown",UX_JAWBONE:"jawbone",PREPARE:"playprediction:prepare",FAST_PROP_SCAN_DEBOUNCE:"web.ui.play.prediction.scan.debounce",FAST_PROP_PPM_CONFIG_PREFIX:"web.ui.play.prediction.config.test.cell.",PREPARE_STRATEGY_PPM:"ppm",PREPARE_STRATEGY_SIMPLE:"simple",PREPARE_STRATEGY_NONE:"none"}});C.r("node_modules/nf-playprediction/clock.js",function(e,n,o){"undefined"==typeof process||"gibbon"!==process.env.PLATFORM&&"undefined"==typeof nrdp?n.exports=Date.now:n.exports=nrdp.mono});C.r("node_modules/nf-playprediction/enums.js",function(n,e,r){var s={CACHE_TYPE:{TRANSIENT:0,SEMI_TRANSIENT:1,PERMANENT:2,name:["transient","semiTransient","permanent"]}};e.exports=s});C.r("node_modules/nf-playprediction/predict.js",function(t,e,i){var r=t("./clock.js"),s=t("./enums.js"),o=t("./util").insertArrayAt,l=t("./util").getDeltaBetweenTwoLists,h=t("./util").detectScrollHorizontalRow,a=t("./util").getContinueWatchingTitles,n=t("./util").getContentList,c=function(t,e){this._modelParameter=t||new p,this._prevLolomo=void 0,this._currContent=void 0,this._outputList=[],this._logger=e||console};c.prototype.constructor=c,c.prototype.update=function(t){if(this._event=t.event,this._userExp=t.content.ux,this._currContent=t.content,t.content.grid)this._titlePrs="grid";else if(t.content.lolomos)this._titlePrs="lolomos";else{if(!t.content.item)throw new Error("A payload of grid, lolomos, or item is required in the content.");this._titlePrs="item"}var e,i,c=this._outputList,m=[],p=[];if("grid"==this._titlePrs)e=this._currContent.grid,"FirstLoad"==this._event?(e=e.slice(0,Math.min(e.length,this._modelParameter.gridFirst)),m=this.createArrayMovieClass(e,s.CACHE_TYPE.PERMANENT)):"ScrollVertical"==this._event?(e=e.slice(0,Math.min(e.length,this._modelParameter.gridScroll)),m=this.createArrayMovieClass(e,s.CACHE_TYPE.TRANSIENT)):"search"==this._userExp?(e=e.slice(0,Math.min(this._modelParameter.searchTop,e.length)),m=this.createArrayMovieClass(e,s.CACHE_TYPE.SEMI_TRANSIENT)):"genre"===this._userExp&&(e=e.slice(0,Math.min(this._modelParameter.genre,e.length)),m=this.createArrayMovieClass(e,s.CACHE_TYPE.TRANSIENT));else if("lolomos"==this._titlePrs){i=this._currContent.lolomos;var _,u=a(i);u=u&&u.slice(0,Math.min(this._modelParameter.cwFirst,u.length)),p=this.createArrayMovieClass(u,s.CACHE_TYPE.PERMANENT),u=[];if("FirstLoad"==this._event)u=this.obtainItemsFromTopLeft(i,this._modelParameter.rowFirst,this._modelParameter.colFirst),m=this.createArrayMovieClass(u,s.CACHE_TYPE.PERMANENT);else if("ScrollHorizontal"==this._event){u=this.obtainItemsFromTopLeft(i,this._modelParameter.rowScroll,this._modelParameter.colScroll);var T=h(this._currContent.lolomos,this._prevLolomo.lolomos);_=n(i[T]),_=_.slice(0,Math.min(_.length,this._modelParameter.rowScrollHorizontal)),o(u,u.length,_),m=this.createArrayMovieClass(u,s.CACHE_TYPE.TRANSIENT)}else"ScrollVertical"==this._event||"ViewPortChanged"==this._event?(u=this.obtainItemsFromTopLeft(i,this._modelParameter.rowScroll,this._modelParameter.colScroll),m=this.createArrayMovieClass(u,s.CACHE_TYPE.TRANSIENT)):(u=this.obtainItemsFromTopLeft(i,1,this._modelParameter.colEpisodeList),m=this.createArrayMovieClass(u,s.CACHE_TYPE.TRANSIENT))}else if("item"==this._titlePrs){"FirstLoad"==this._event?s.CACHE_TYPE.PERMANENT:s.CACHE_TYPE.SEMI_TRANSIENT,m=new d(this._currContent.item.id,s.CACHE_TYPE.SEMI_TRANSIENT,this._currContent.item.offsetStart,r(),this._currContent.item.preplay,this._currContent.item.trackId)}o(m,m.length,p),void 0!==typeof this._outputList[0]&&null!==this._outputList[0]&&(this._outputList=this._outputList.filter(this.shouldHold,this)),o(this._outputList,0,m),this._outputList=this.unique(this._outputList);var E=this.trim(this._outputList,this._modelParameter.itemsPerRank||1);"lolomos"===this._titlePrs&&(this._prevLolomo=this._currContent);var A=l(c,this._outputList);return E.push({delta:A.length}),E},c.prototype.shouldHold=function(t){return t.cacheType==s.CACHE_TYPE.PERMANENT|t.cacheType==s.CACHE_TYPE.SEMI_TRANSIENT&r()-t.timeAdded<this._modelParameter.holdDuration},c.prototype.unique=function(t){var e,i,r,s=[],o={},l=t.length;for(r=0;r<l;r++)if(e=t[r].movieId,i=t[r],e in o==!1)o[e]=r,i.keep=!0;else{var h=t[o[e]];i.cacheType>h.cacheType?(h.keep=!1,i.keep=!0,h.firstTimeAdded<i.firstTimeAdded&&(i.firstTimeAdded=h.firstTimeAdded),o[e]=r):i.cacheType===h.cacheType?(h.firstTimeAdded>i.firstTimeAdded&&(h.firstTimeAdded=i.firstTimeAdded),i.keep=!1):i.keep=!1}for(r=0;r<l;r++)!0===t[r].keep&&s.push(t[r]);return s},c.prototype.trim=function(t,e){for(var i=t.length,r=[],s=0;s<i;s++)priority=Math.floor(s/e)+1,r.push(new m(t[s].movieId,priority,t[s].offsetStart,t[s].firstTimeAdded,t[s].preplay,t[s].trackId));return r},c.prototype.createArrayMovieClass=function(t,e){for(var i,s=[],o=0,l=t.length;o<l;o++){var h=t[o].id,a=t[o].offsetStart,n=t[o].preplay;i=new d(h,e,a,r(),n,t[o].trackId),s.splice(o,0,i)}return s},c.prototype.obtainItemsFromTopLeft=function(t,e,i){for(var r,s,l=[],h=0;h<Math.min(e,t.length);h++)r=n(t[h]),s=r.slice(0,Math.min(r.length,i)),o(l,l.length,s);return l};var d=function(t,e,i,r,o,l){this.movieId=t,this.cacheType=e,this.cacheTypeName=s.CACHE_TYPE.name[e],this.offsetStart=i,this.timeAdded=r,this.firstTimeAdded=r,this.preplay=o,this.trackId=l||0},m=function(t,e,i,r,s,o){this.viewableId=t,this.priority=e,this.pts=i,this.firstTimeAdded=r,this.preplay=s,this.trackId=o},p=function(){this.colEpisodeList=5,this.gridFirst=3,this.gridScroll=2,this.holdDuration=15e4,this.rowFirst=2,this.colFirst=2,this.rowScroll=2,this.colScroll=6,this.rowScrollHorizontal=6,this.searchTop=3,this.genre=6,this.cwFirst=2,this.itemsPerRank=1};e.exports=c});C.r("node_modules/nf-playprediction/util.js",function(t,n,e){function r(t,n){return t.filter(function(t){return 0===n.filter(function(n){return n.id==t.id}).length})}function o(t,n,e){Array.prototype.splice.apply(t,[n,0].concat(e))}function i(t){for(var n=[],e=0,r=t.lolomos.length;e<r;e++)n.push(t.lolomos[e].listContext);return n}function u(t){return t?t.list||t.lolomos:[]}function l(t,n){for(var e=0,r="",o=!1,i=0,l=t.length;i<l;i++)if(void 0===t[i].parent){r=c(u(t[i])),o=!1;for(var f=0,a=n.length;f<a;f++)if(c(u(n[f]))===r){o=!0;break}if(!1===o){e=i;break}}return e}function f(t){return u(t.filter(function(t){return"continueWatching"===t.listContext})[0])}var c=function(t){for(var n="",e=0;e<t.length;e++)n+=t[e].id+"|";return n},a=function(t,n){return t.filter(function(t){return 0===n.filter(function(n){return n.movieId==t.movieId}).length})};n.exports={getDiff:r,getDeltaBetweenTwoLists:a,insertArrayAt:o,getRowNames:i,getContinueWatchingTitles:f,getContentList:u,detectScrollHorizontalRow:l}});C.r("utils/BasePaths.js",function(t,e,r){"use strict";var s={genre:"/browse/genre",watch:"/watch",interact:"/interact",title:"/title",search:"/search"};e.exports=s});C.r("utils/observableFromEventBus.js",function(r,t,e){"use strict";function n(r){return i.create(function(t){function e(r){try{t.next(r)}catch(r){t.error(r)}}return s.on(r,e),function(){s.removeListener(r,e)}})}var s=r("../reactMixins/eventBus"),i=r("../utils/rx/shakti-rx").RxObservable;t.exports=n});C.r("utils/player/videoPreparer.js",function(e,t,r){"use strict";function a(e){this.disposed=new n,this.onPrepareRequested=this.onPrepareRequested.bind(this),this.onError=this.onError.bind(this),this.getRouteParameterState=e.getRouteParameterState||i.noop,this.makePrePlayCall=e.makePrePlayCall||!1,this.preRollPlayPrediction=e.preRollPlayPrediction||!1,this.pathEvaluator=e.pathEvaluator,this.playPredictionV2Enabled=p.getInitParam(m,!1),(this.playPredictionV2Enabled?y(d.PREPARE):o.merge(y(d.UI_JAWBONE_OPENED),y(d.PREPARE))).takeUntil(this.disposed).do(this.onPrepareRequested).subscribe(i.noop,this.onError,i.noop)}var i=e("lodash"),n=e("../../utils/rx/shakti-rx").RxSubject,o=e("../../utils/rx/shakti-rx").RxObservable,l=e("../../utils/player/videoSession"),s=e("../../utils/pathEvaluatorUtils"),u=e("shakti-platform/dist/ui/utils/inNode"),d=e("../../common/playPrediction/playPredictionConstants"),p=e("../../player/nfplayer/utils/playerConfig"),P=e("../../player/nfplayer/utils/getCadmiumCreationParameters"),c=e("../../player/nfplayer/components/prePlay/prePlayCacheHandler"),y=e("../../utils/observableFromEventBus"),m="playerPredictionModelV2",f=void 0;a.prototype.onPrepareRequested=function(e){var t=this;if(this.playPredictionV2Enabled)return void l.updatePredictionModel(e).subscribe(i.noop,function(e){return 0},i.noop);e&&e.videoId&&(e=[{movieId:e.videoId,trackId:e.trackId||0}]),o.from(e).takeUntil(this.disposed).filter(function(e){return!!(i.get(e,"viewableId",null)||i.get(e,"movieId",null)||i.get(e,"videoId",null))}).flatMap(function(e){var r=i.get(e,"viewableId",null)||i.get(e,"movieId",null)||i.get(e,"videoId",null);return t.getPlayable(r,e.trackId).filter(function(e){return e&&e.summary}).flatMap(function(r){var a=t.getPlayableConfig(r,e);if(r.prePlay){var n=i.cloneDeep(a);return a.priority++,n.movieId=a.preplay,delete n.preplay,o.from([n,a])}return o.of(a)})}).reduce(function(e,t){return e.push(t),e},[]).flatMap(function(e){return l.prepare(e)}).subscribe(i.noop,t.onError,i.noop)},a.prototype.getPlayableConfig=function(e,t){return{movieId:e.summary.id,priority:t.priority||1,firstTimeAdded:t.firstTimeAdded,preplay:i.get(e.prePlay,"items[0].actions[0].videoId",null),params:{sessionParams:i.assign({uiplaycontext:null},P.getSubDubPreferences(this.getRouteParameterState())),authParams:{pinCapableClient:!1},trackingId:t.trackId||0}}},a.prototype.destroy=function(){this.disposed.next()},a.prototype.getPlayable=function(e,t){var r=this.pathEvaluator,a=["videos",e,"current"],i=["summary","bookmarkPosition","creditsOffset","availability"],n=[a.concat([i])],o=void 0;return o=this.makePrePlayCall&&this.preRollPlayPrediction?c.requestPrePlay({videoId:e,trackId:t,playbackVideoPaths:i,additionalPaths:n}):s.toObservable(r.get.apply(r,n)),o.map(function(){return(r.getValueSync(a.concat(["availability"]))||{}).isPlayable?{summary:r.getValueSync(a.concat(["summary"])),prePlay:r.getValueSync(c.getExperiencePath({videoId:e,trackId:t}))}:null})},a.prototype.onError=function(e){},t.exports={initialize:function(e){return u?null:this.isPrepareEnabled()?(f||(f=new a(e)),f):null},destroy:function(){f&&(f.destroy(),f=null)},isPrepareEnabled:function(){return p.getInitParam(m,!1)||this.getPrepareStrategy()!==d.PREPARE_STRATEGY_NONE},getPrepareStrategy:function(){return p.getInitParam("prepareStrategy",d.PREPARE_STRATEGY_NONE)}}});C.r("common/playPrediction/playPrediction.js",function(t,n,r){"use strict";function e(){k||(k=!0,T={},D=A.getPrepareStrategy()===w.PREPARE_STRATEGY_PPM,x=new R(C.getInitParam("ppmConfig",{}),{log:W}),x.__id=p(),o())}function o(){var t=L.get(w.FAST_PROP_SCAN_DEBOUNCE),n=function(t){},r=function(t){return m.get(t,"data.event",null)!==w.PPM_UNCHANGED},e=h(w.UI_FULLSCAN).throttleTime(t),o=h(w.UI_JAWBONE_OPENED).map(function(t){return t=t||{},{event:w.UI_JAWBONE_OPENED,data:{id:t.episodeId||t.videoId,trackId:t.trackId,row:t.rowNum,rank:t.rankNum}}}),a=h(w.UI_PLAY_FOCUS).map(function(t){return t=t||{},{event:w.UI_PLAY_FOCUS,data:{id:t.episodeId||t.videoId,trackId:t.trackId||m.get(t,"children[0]._context.trackId",0),row:m.get(t,"model._path[1]",-1),rank:m.get(t,"model._path[2]",-1)}}}),i=U.merge(o,a).map(d).filter(r),l=e.map(d).filter(r);U.merge(i,l).take(1).map(function(t){return t.data.event=w.PPM_FIRST_LOAD,u(t)}).do(c).subscribe(W,n),i.map(u).do(c).subscribe(W,n),l.map(u).do(c).subscribe(W,n)}function a(){return m.get(S,"performance.now",null)?S.performance.now():Date.now()}function i(t){var n=a(),r={output:null,ppmEventDuration:null};try{r.output=x.update(t.data)}catch(t){r.error=t}return r.ppmEventDuration=a()-n,r}function u(t){F=p();var n=i(t),r={reason:n.error?"error":"success",ppmID:x.__id,ppmGUID:F,ppmInput:l(t.data),ppmOutput:n.output,uiEventDuration:t.uiEventDuration,ppmEventDuration:n.ppmEventDuration};return n.error?r.error=n.error.stack:D&&N.emit(w.PREPARE,n.output),r}function c(t){N.emit("playprediction:result",t)}function l(t){if(m.get(t,"content.item",null)||m.get(t,"content.grid",null))return t;var n=[];return m.forEach(m.get(t,"content.lolomos",[]),function(t){m.forEach(m.get(t,"list",[]),function(t){t=t||{},n.push({videoId:t.id,trackId:t.trackId,row:t.row,rank:t.rank})})}),{event:t.event,content:{ux:t.content.ux,lolomos:n}}}function d(t){var n=a(),r=null;return r=t.event===w.UI_JAWBONE_OPENED||t.event===w.UI_PLAY_FOCUS?s(t):_(t),{uiEventDuration:a()-n,data:r}}function s(t){return{event:P(t.event),content:{ux:O(),parent:I(t.data.row),item:t.data}}}function _(t){var n=v(t.data.elements),r=void 0,e=null;E()&&!t.event?e=w.UI_FULLSCAN:(r=f(n),e=r!==w.UI_SCROLL_UNKNOWN?r:t.event);var o={event:P(e),content:{ux:O()}};return E()?o.content.grid=n:o.content.lolomos=n,o}function p(){var t=void 0,n=void 0;if(S&&S.crypto&&S.crypto.getRandomValues)t=new Uint16Array(8),S.crypto.getRandomValues(t);else for(t=[],n=0;n<8;n++)t[n]=Math.floor(65536*(1+Math.random()));var r=function(n){for(var r=t[n].toString(16);r.length<4;)r="0"+r;return r};return r(0)+r(1)+"-"+r(2)+"-"+r(3)+"-"+r(4)+"-"+r(5)+r(6)+r(7)}function v(t){var n=[],r={},e=void 0;return E()?m.forOwn(t,function(t){n.push({id:t.video_id,trackId:t.track_id})}):m.forOwn(t,function(t){e=t.row,r[e]||(r[e]=n.length);var o=r[e];n[o]||(n[o]={listIndex:e,list:[]},t.parent_context?(n[o].listContext=w.UX_JAWBONE,n[o].parent=I(m.get(t,"parent_context.row"))):n[o].listContext=I(e)),n[o].list.push({id:t.video_id,trackId:t.track_id,row:t.row,rank:t.rank})}),n}function f(t){if(E())return w.UI_SCROLL_VERTICAL;var n=void 0;if(t.length&&t[0]?(T={rows:[]},m.forEach(t,function(t){var n=t.list;T.rows.push(t.listIndex),T[t.listIndex]={first:n[0].rank,last:n[n.length-1].rank}})):T={},M){var r=void 0;r=m.get(T,"rows.length")===m.get(M,"rows.length")&&m.every(M.rows,function(t,n){return T.rows[n]===t});var e=m.every(M.rows,function(t){var n=M[t],e=T[t];return r&&n.first===e.first&&n.last===e.last});n=r&&e?w.UI_SCROLL_NONE:r&&!e?w.UI_SCROLL_HORIZONTAL:w.UI_SCROLL_UNKNOWN}return M=T,n}function I(t){if(!(y=y||S&&S.pathEvaluator))return null;var n=y.getValueSync(["lolomo",t]);return n&&m.isArray(n)?y.getValueSync(n.concat(["context"])):null}function E(){var t=O();return t===w.UX_SEARCH||t===w.UX_GENRE}function O(){var t=S.location.pathname;if(!t)return w.UX_UNKNOWN;var n=new RegExp(g.search),r=new RegExp(g.genre),e=new RegExp(g.watch);return t.match(n)?w.UX_SEARCH:t.match(r)?w.UX_GENRE:t.match(e)?w.UX_WATCH:w.UX_DISCOVERY}function P(t){switch(t){case w.UI_INIT:return w.PPM_FIRST_LOAD;case w.UI_SCROLL_VERTICAL:return w.PPM_SCROLL_VERTICAL;case w.UI_SCROLL_HORIZONTAL:return w.PPM_SCROLL_HORIZONTAL;case w.UI_PLAY_FOCUS:return w.PPM_PLAY_FOCUS;case w.UI_JAWBONE_OPENED:return w.PPM_JAWBONE_OPENED;case w.UI_SCROLL_NONE:return w.PPM_UNCHANGED;default:return w.PPM_VIEWPORT_CHANGED}}var m=t("lodash"),U=t("../../utils/rx/shakti-rx").RxObservable,N=t("../../reactMixins/eventBus"),g=t("../../utils/BasePaths"),L=t("shakti-platform/dist/ui/ShaktiProperties"),R=t("nf-playprediction"),C=t("../../player/nfplayer/utils/playerConfig"),A=t("../../utils/player/videoPreparer"),h=t("../../utils/observableFromEventBus"),w=t("./playPredictionConstants"),S="undefined"!=typeof window?window:{},k=!1,D=!1,x=void 0,y=void 0,T=void 0,M=void 0,F=void 0,W=m.noop;n.exports={init:e,getLatestGUID:function(){return F},getPPMInstanceID:function(){return x&&x.__id?x.__id:null}}});C.r("common/safeTimeout.js",function(e,t,n){"use strict";t.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;t<n&&setTimeout(e,t);var o=Date.now()+t,a=setInterval(function(){var t=Date.now();t>=o?(e(),clearInterval(a)):t+n>=o&&(clearInterval(a),setTimeout(e,o-t))},n)}});C.r("components/LayoutContext.jsx",function(t,e,o){"use strict";function n(t){return i({displayName:"LayoutContext",contextTypes:{models:l.object},statics:{__meta__:t.__meta__,willTransitionTo:t.willTransitionTo,willTransitionFrom:t.willTransitionFrom},childContextTypes:{models:c.isRequired,node:c},getChildContext:function(){var t=this.props.model,e=t.models||this.context.models;return{models:e||{},node:t.node}},render:function(){var e=this.props.model,o=a.omit(e,"models"),n=a.omit(this.props,"model");return s.createElement(t,r({model:o},n))}})}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},s=t("react"),i=t("create-react-class"),l=t("prop-types"),a=t("lodash"),c=l.object;e.exports=n});C.r("components/presentationTracking/trackingComponents/billboardPresTracking.js",function(e,n,r){"use strict";var o=e("./createTrackingComponent"),i=e("prop-types"),t=e("shakti-platform/dist/ui/consolidatedLogging/constants/appViewTypes");n.exports=o({appView:t.billboard,propTypes:{location:i.string,rank:i.number,requestId:i.string,row:i.number,trackId:i.number,videoId:i.number,imageKey:i.string,isDoubleWide:i.bool}})});C.r("core/consolidatedLogging/log-presentation-events.js",function(e,n,t){"use strict";function r(e){function n(n){n.added.map(function(e){return n.elements[e]}).filter(function(e){return e.appView&&e.usePresentedEvent}).forEach(function(n){var t=i(n);e.logEvent("Presented",{view:n.appView,trackingInfo:t})})}function t(n,t){var r=o.pick(t.elements,function(e){return e.appView&&!e.usePresentedEvent});return t.added.forEach(function(t){if(r[t]){var o=r[t],a=i(o),s=e.startSession("Presentation",{view:o.appView,trackingInfo:a});null!==s&&void 0!==s&&(n[t]=s)}}),t.removed.forEach(function(t){var r=n[t];r&&(e.endSession(r),delete n[t])}),n}return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:a(s.FULL_SCAN)).map(function(e){return e.data}).do(n).scan(t,{})}function i(e){var n=Object.assign({},e);return delete n.uuid,delete n.appView,delete n.usePresentedEvent,n}var o=e("lodash"),a=e("../../utils/observableFromEventBus"),s=e("../../common/presentationTracking/presentationTrackingConsts");n.exports=r});C.r("falkorClient/PathEvaluator.js",function(e,t,_){"use strict";function r(e,t,_,r,n,i,a){if(null!=_&&"object"==typeof _&&(this.loader=_),"number"!=typeof e)throw new Error("PathEvaluator: maxSize must be a number.");"number"==typeof t?(t=parseFloat(t))>1&&(t/=e):t=.75,this._root=this,this._batches=new le(this),this._maxSize=e,this._collectRatio=t,this._cache=r||{},this._path=Array.isArray(n)?n:[],this._now="function"==typeof i?i:o,this._expired=[],this._errorSelector="function"==typeof a?a:l}function n(e){return e&&"error"===e.$type?(ve.emit("falkorFetch:error",{message:e.message,pql:e.pql}),Object.create(e)):e}function i(){}function o(){return Date.now()}function l(e){return e}function a(){var e,t=-1,_=arguments.length;for(e=new Array(_);++t<_;)e[t]=arguments[t];if(this._lazy)return L.call(this,e);var r=e[e.length-3],n=e[e.length-2],i=e[e.length-1];return void 0!==r?(e=e.slice(0,-3),y.call(this,e,r,n,i)):P.call(this,e)}function f(){var e,t=-1,_=arguments.length;for(e=new Array(_);++t<_;)e[t]=arguments[t];if(this._lazy)return this._streaming?k.call(this,e):w.call(this,e[0]);var r=e[e.length-3],n=e[e.length-2],i=e[e.length-1];return void 0!==r?(e=e.slice(0,-3),this._streaming?x.call(this,e,r,n,i):b.call(this,e[0],r,n,i)):this._streaming?U.call(this,e):M.call(this,e[0])}function s(){var e,t=-1,_=arguments.length;for(e=new Array(_);++t<_;)e[t]=arguments[t];if(this._lazy)return O.call(this,e);var r=e[e.length-3],n=e[e.length-2],i=e[e.length-1];return void 0!==r?(e=e.slice(0,-3),$.call(this,e,r,n,i)):E.call(this,e)}function v(){var e,t=-1,_=arguments.length;for(e=new Array(_);++t<_;)e[t]=arguments[t];if(this._lazy)return I.apply(this,e);var r=e[e.length-3],n=e[e.length-2],i=e[e.length-1];return void 0!==r?(e=e.slice(0,-3),z.call(this,e,r,n,i)):S.call(this,e)}function p(e){if(!Array.isArray(e))throw new Error("PathEvaluator.bind must be called with an Array path.");var t=Object.create(this);return t._path=(this._path||(this._path=[])).concat(e),t.__context=void 0,t}function d(e){if(!Array.isArray(e))throw new Error("PathEvaluator.hardBind must be called with an Array path.");var t=this._getPath(e.concat(null)),_=t.value,r=Object.create(this);if(_){r._path=t.optimized;var n=_.__refsLength||0;_["__ref"+n]=r,_.__refsLength=n+1,r.__refIndex=n,r.__context=_}else r._path=(this._path||(this._path=[])).concat(e),r.__context=null;return r}function u(e){if(!Array.isArray(e))throw new Error("PathEvaluator.deferBind must be called with an Array path.");var t=this;return fe.create(function(_){return _.next(t.hardBind(e)),_.complete(),i})}function h(){var e,t=this,_=this.__context;if(null==_||null==_.__parent){if(e=this._getPath([null]),e.path=e.optimized,e.optimized=void 0,void 0!==_&&(null===_||null==_.__parent)&&void 0!==(_=e.context)){this._path=e.path||[];var r=_.__refsLength||0;_["__ref"+r]=t,_.__refsLength=r+1,t.__refIndex=r,t.__context=_}}else e={path:this._path||(this._path=[]),value:_};return e}function c(e,t,_,r){var n,i,o,l,a,f,s,v,p,d,u,h,c,y,g,x,b,j,$=this,m=$._root;r=r||$._path,e=e||[],t=t||$._cache,_=_||$.__context||(e=r.concat(e))&&t,i=e,p={path:[],optimized:[]},d=[],u=[],l=0,a=0,f=i.length-1,c=t,y=_,g=y,x=g,s=p.path,v=p.optimized,h=-1,n=$._expired||($._expired=[]),d[-1]=i,u[-1]=0;e:for(;;){for(;l<f;++l)if(o=i[l],null!=o&&"object"==typeof o&&(Array.isArray(o)?null!=(o=o[o.index||(o.index=0)])&&"object"==typeof o&&(o=void 0===o.offset&&(o.offset=o.from||(o.from=0))||o.offset):o=void 0===o.offset&&(o.offset=o.from||(o.from=0))||o.offset),null!=o){for(s[s.length=l]=o,v[v.length=l+a]=o,g=(g=y[o])&&(null==(j=g.$expires)||1===j||0!==j&&j>Date.now()?g:void 0);Array.isArray(x="sentinel"===(b=g&&g.$type)?g.value:g);){var A=m.__head,z=m.__tail;if(g&&1!==g.$expires){var L=g.__next,k=g.__prev;g!==A&&(L&&null!=L&&"object"==typeof L&&(L.__prev=k),k&&null!=k&&"object"==typeof k&&(k.__next=L),(L=A)&&null!=L&&"object"==typeof L&&(A.__prev=g),m.__head=m.__next=A=g,null!=A&&"object"==typeof A&&(A.__next=L,A.__prev=void 0)),null!=z&&g!==z||(m.__tail=m.__prev=z=k||g)}if(void 0!==(g=g.__context)){for(var w=-1,O=v.length=x.length||0;++w<O;)v[w]=x[w];a=O-l-1}else{y=c,d[h]=i,u[h++]=l,i=x,f=i.length-1,a=0,l=0;t:for(;;){for(;l<f;++l)if(null!=(o=i[l])){for(v[v.length=l+a]=o,g=(g=y[o])&&(null==(j=g.$expires)||1===j||0!==j&&j>Date.now()?g:void 0);Array.isArray(x="sentinel"===(b=g&&g.$type)?g.value:g);){var I=m.__head,P=m.__tail;if(g&&1!==g.$expires){var U=g.__next,M=g.__prev;g!==I&&(U&&null!=U&&"object"==typeof U&&(U.__prev=M),M&&null!=M&&"object"==typeof M&&(M.__next=U),(U=I)&&null!=U&&"object"==typeof U&&(I.__prev=g),m.__head=m.__next=I=g,null!=I&&"object"==typeof I&&(I.__next=U,I.__prev=void 0)),null!=P&&g!==P||(m.__tail=m.__prev=P=M||g)}if(void 0===(g=g.__context)){y=c,d[h]=i,u[h++]=l,i=x,f=i.length-1,a=0,l=0;continue t}for(var E=-1,S=v.length=x.length||0;++E<S;)v[E]=x[E];a=S-l-1}if(null==g||void 0!==b){v.length=l+a+1,l=u[--h],a=f-l-1,i=d[h],f=i.length-1,s[s.length]=null;break e}y=g}if(l===f){if(o=i[l],null!=o&&(v[v.length=l+a]=o,g=(g=y[o])&&(null==(j=g.$expires)||1===j||0!==j&&j>Date.now()?g:void 0)),null==g||"error"===b){v.length=l+a+1,l=u[--h],a=f-l-1,i=d[h],f=i.length-1,s[s.length]=null;break e}var D;if(void 0===(D=i.__container||i).__context){var q=g.__refsLength||0;g["__ref"+q]=D,g.__refsLength=q+1,D.__refIndex=q,D.__context=g}do{i=d[--h],l=u[h],a=f-l,f=i.length-1}while(h>-1&&l===f);if(l<f)for(;Array.isArray(x="sentinel"===(b=g&&g.$type)?g.value:g);){var R=m.__head,C=m.__tail;if(g&&1!==g.$expires){var B=g.__next,W=g.__prev;g!==R&&(B&&null!=B&&"object"==typeof B&&(B.__prev=W),W&&null!=W&&"object"==typeof W&&(W.__next=B),(B=R)&&null!=B&&"object"==typeof B&&(R.__prev=g),m.__head=m.__next=R=g,null!=R&&"object"==typeof R&&(R.__next=B,R.__prev=void 0)),null!=C&&g!==C||(m.__tail=m.__prev=C=W||g)}if(void 0===(g=g.__context)){y=c,d[h]=i,u[h++]=l,i=x,f=i.length-1,a=0,l=0;continue t}for(var F=-1,N=v.length=x.length||0;++F<N;)v[F]=x[F];a=N-l-1}if(h>-1){l+=1,y=g;continue t}}break t}}}if(null==g||void 0!==b){v.length=l+a+1;break e}y=g}if(l===f){if(o=i[l],null!=o&&"object"==typeof o&&(Array.isArray(o)?null!=(o=o[o.index||(o.index=0)])&&"object"==typeof o&&(o=void 0===o.offset&&(o.offset=o.from||(o.from=0))||o.offset):o=void 0===o.offset&&(o.offset=o.from||(o.from=0))||o.offset),s[s.length=l]=o,null!=o&&(v[v.length=l+a]=o,g=y[o]),null!=g&&!(null==(j=g.$expires)||1===j||0!==j&&j>Date.now())){if(void 0===g.__invalidated){g.__invalidated=!0,g.$expires=0,n[n.length]=g;var T=m.__head,V=m.__tail;if(null!=g&&"object"==typeof g){var J=g.__next,Q=g.__prev;J&&null!=J&&"object"==typeof J&&(J.__prev=Q),Q&&null!=Q&&"object"==typeof Q&&(Q.__next=J),g===T&&(m.__head=m.__next=T=J),g===V&&(m.__tail=m.__prev=V=Q),g.__next=g.__prev=void 0}}g=null}x="sentinel"===(b=g&&g.$type)?g.value:g}break e}if(null==g){for(var G,H=-1,K=-1,X=v.length,Y=0,Z=new Array(X+f-l);++H<X;)G=v[H],null!=G?Z[++K]=G:--Y;for(H=l;++H<=f;)G=i[H],null!=G?Z[++K]=G:--Y;Z.length+=Y,p.optimized=Z,p.value=void 0}else p.value=x;return p}function y(e,t,_,r,n,o,l){var a,f,s,v,p,d,u,h,c,y,g,x,b,j,$,m,A,z,L,k,w,O,I,P,U,M,E,S,D,q,R,C,B,W,F,N,T,V=this,J=V._root;for(y=e,a=V._connected,f=V._materialized,s=V._streaming,v=V._refreshing,g=l||V._path,p=y.contexts||(y.contexts=[]),y.messages||(y.messages=[]),y.batchedPathMaps||(y.batchedPathMaps=[]),I=y.originalMisses||(y.originalMisses=[]),U=y.optimizedMisses||(y.optimizedMisses=[]),u=y.errors||(y.errors=[]),M=y.refs||(y.refs=[]),S=y.crossed||(y.crossed=[]),E=y.cols||(y.cols=[]),w=y.pbv||(y.pbv={path:[],optimized:[]}),m=y.index||(y.index=0),A=y.length,y.batchedPathMap,T=y.value,T,n=n||V._cache,l=g,null==o&&null==(o=V.__context)&&(g.length>0?(w=V._getContext(),g=w.path,w.path=[],w.optimized=[],o=w.value||{}):o=n),R=n,C=o,B=C,W=B,L=w.path,k=w.optimized,D=-1,0,c=V._expired||(V._expired=[]),M[-1]=g,E[-1]=0,S[-1]=z=g,p[-1]=C;m<A;y.index=++m)for(g=y[m],b=g.index||(g.index=0),$=g.length-1,M[-1]=g,S=[],S[-1]=z;b>=0;){for(var Q,G,H;--b>=-1;)if(null!=(Q=S[b])){for(G=-1,H=Q.length,k.length=H,j=H-(b+1);++G<H;)k[G]=Q[G];break}++b,E[D=-1]=b,C=p[b-1];e:for(;;){for(;b<$;++b)if(x=g[b],null!=x&&"object"==typeof x&&(Array.isArray(x)?null!=(x=x[x.index||(x.index=0)])&&"object"==typeof x&&(x=void 0===x.offset&&(x.offset=x.from||(x.from=0))||x.offset):x=void 0===x.offset&&(x.offset=x.from||(x.from=0))||x.offset),null!=x){for(L[L.length=b]=x,k[k.length=b+j]=x,B=(B=C[x])&&(null==(N=B.$expires)||1===N||0!==N&&N>Date.now()?B:void 0);Array.isArray(W="sentinel"===(F=B&&B.$type)?B.value:B);){var K=J.__head,X=J.__tail;if(B&&1!==B.$expires){var Y=B.__next,Z=B.__prev;B!==K&&(Y&&null!=Y&&"object"==typeof Y&&(Y.__prev=Z),Z&&null!=Z&&"object"==typeof Z&&(Z.__next=Y),(Y=K)&&null!=Y&&"object"==typeof Y&&(K.__prev=B),J.__head=J.__next=K=B,null!=K&&"object"==typeof K&&(K.__next=Y,K.__prev=void 0)),null!=X&&B!==X||(J.__tail=J.__prev=X=Z||B)}if(S[b]=W,void 0!==(B=B.__context)){for(var ee=-1,te=k.length=W.length||0;++ee<te;)k[ee]=W[ee];j=te-b-1}else{C=R,M[D]=g,E[D++]=b,g=W,$=g.length-1,j=0,b=0;t:for(;;){for(;b<$;++b)if(null!=(x=g[b])){for(k[k.length=b+j]=x,B=(B=C[x])&&(null==(N=B.$expires)||1===N||0!==N&&N>Date.now()?B:void 0);Array.isArray(W="sentinel"===(F=B&&B.$type)?B.value:B);){var _e=J.__head,re=J.__tail;if(B&&1!==B.$expires){var ne=B.__next,ie=B.__prev;B!==_e&&(ne&&null!=ne&&"object"==typeof ne&&(ne.__prev=ie),ie&&null!=ie&&"object"==typeof ie&&(ie.__next=ne),(ne=_e)&&null!=ne&&"object"==typeof ne&&(_e.__prev=B),J.__head=J.__next=_e=B,null!=_e&&"object"==typeof _e&&(_e.__next=ne,_e.__prev=void 0)),null!=re&&B!==re||(J.__tail=J.__prev=re=ie||B)}if(void 0===(B=B.__context)){C=R,M[D]=g,E[D++]=b,g=W,$=g.length-1,j=0,b=0;continue t}for(var oe=-1,le=k.length=W.length||0;++oe<le;)k[oe]=W[oe];j=le-b-1}if(null==B||void 0!==F){k.length=b+j+1,b=E[--D],j=$-b-1,g=M[D],$=g.length-1,L[L.length]=null;break e}C=B}if(b===$){if(x=g[b],null!=x&&(k[k.length=b+j]=x,B=(B=C[x])&&(null==(N=B.$expires)||1===N||0!==N&&N>Date.now()?B:void 0)),null==B||"error"===F){k.length=b+j+1,b=E[--D],j=$-b-1,g=M[D],$=g.length-1,L[L.length]=null;break e}var ae;if(void 0===(ae=g.__container||g).__context){var fe=B.__refsLength||0;B["__ref"+fe]=ae,B.__refsLength=fe+1,ae.__refIndex=fe,ae.__context=B}do{g=M[--D],b=E[D],j=$-b,$=g.length-1}while(D>-1&&b===$);if(b<$)for(;Array.isArray(W="sentinel"===(F=B&&B.$type)?B.value:B);){var ve=J.__head,pe=J.__tail;if(B&&1!==B.$expires){var de=B.__next,ue=B.__prev;B!==ve&&(de&&null!=de&&"object"==typeof de&&(de.__prev=ue),ue&&null!=ue&&"object"==typeof ue&&(ue.__next=de),(de=ve)&&null!=de&&"object"==typeof de&&(ve.__prev=B),J.__head=J.__next=ve=B,null!=ve&&"object"==typeof ve&&(ve.__next=de,ve.__prev=void 0)),null!=pe&&B!==pe||(J.__tail=J.__prev=pe=ue||B)}if(void 0===(B=B.__context)){C=R,M[D]=g,E[D++]=b,g=W,$=g.length-1,j=0,b=0;continue t}for(var he=-1,ce=k.length=W.length||0;++he<ce;)k[he]=W[he];j=ce-b-1}if(D>-1){b+=1,C=B;continue t}}break t}}}if(null==B||void 0!==F){k.length=b+j+1;break e}p[b]=C=B}if(b===$){if(x=g[b],null!=x&&"object"==typeof x&&(Array.isArray(x)?null!=(x=x[x.index||(x.index=0)])&&"object"==typeof x&&(x=void 0===x.offset&&(x.offset=x.from||(x.from=0))||x.offset):x=void 0===x.offset&&(x.offset=x.from||(x.from=0))||x.offset),L[L.length=b]=x,null!=x&&(k[k.length=b+j]=x,B=C[x]),null!=B&&!(null==(N=B.$expires)||1===N||0!==N&&N>Date.now())){if(void 0===B.__invalidated){B.__invalidated=!0,B.$expires=0,c[c.length]=B;var ye=J.__head,ge=J.__tail;if(null!=B&&"object"==typeof B){var xe=B.__next,be=B.__prev;xe&&null!=xe&&"object"==typeof xe&&(xe.__prev=be),be&&null!=be&&"object"==typeof be&&(be.__next=xe),B===ye&&(J.__head=J.__next=ye=xe),B===ge&&(J.__tail=J.__prev=ge=be),B.__next=B.__prev=void 0}}B=null}W="sentinel"===(F=B&&B.$type)?B.value:B}break e}if(null!=B){var je=J.__head,$e=J.__tail;if(B&&1!==B.$expires){var me=B.__next,Ae=B.__prev;B!==je&&(me&&null!=me&&"object"==typeof me&&(me.__prev=Ae),Ae&&null!=Ae&&"object"==typeof Ae&&(Ae.__next=me),(me=je)&&null!=me&&"object"==typeof me&&(je.__prev=B),J.__head=J.__next=je=B,null!=je&&"object"==typeof je&&(je.__next=me,je.__prev=void 0)),null!=$e&&B!==$e||(J.__tail=J.__prev=$e=Ae||B)}if(w.value=W,"error"===F){d=Array.isArray(w)?[]:null!=w&&"object"==typeof w?{}:w;var ze,Le;for(var ke in w)if(w.hasOwnProperty(ke)){if(ze=Le=w[ke],Array.isArray(ze)){var we=-1,Oe=ze.length;for(Le=new Array(Oe);++we<Oe;)Le[we]=ze[we]}else null!=ze&&"object"==typeof ze&&(Le=Object.create(ze));d[ke]=Le}u[u.length]=d}else if(!0===s&&void 0!==W||!0===f){q=Array.isArray(w)?[]:null!=w&&"object"==typeof w?{}:w;var Ie,Pe;for(var Ue in w)if(w.hasOwnProperty(Ue)){if(Ie=Pe=w[Ue],Array.isArray(Ie)){var Me=-1,Ee=Ie.length;for(Pe=new Array(Ee);++Me<Ee;)Pe[Me]=Ie[Me]}else null!=Ie&&"object"==typeof Ie&&(Pe=Object.create(Ie));q[Ue]=Pe}t(q)}!0===v&&(I[I.length]=l.concat(L),U[U.length]=k.concat())}else if(!1===a&&!0===s&&!0===f){for(var Se,De=-1,qe=-1,Re=L.length,Ce=0,Be=new Array(Re+$-b);++De<Re;)Se=L[De],null!=Se?Be[++qe]=Se:--Ce;for(De=b;++De<=$;)Se=g[De],null!=Se?Be[++qe]=Se:--Ce;Be.length+=Ce,O=Be;for(var We,Fe=-1,Ne=-1,Te=k.length,Ve=0,Je=new Array(Te+$-b);++Fe<Te;)We=k[Fe],null!=We?Je[++Ne]=We:--Ve;for(Fe=b;++Fe<=$;)We=g[Fe],null!=We?Je[++Ne]=We:--Ve;Je.length+=Ve,P=Je,t({path:O,optimized:P,value:void 0})}else{for(var Qe,Ge=-1,He=-1,Ke=L.length,Xe=0,Ye=new Array(Ke+$-b);++Ge<Ke;)Qe=L[Ge],null!=Qe?Ye[++He]=Qe:--Xe;for(Ge=b;++Ge<=$;)Qe=g[Ge],null!=Qe?Ye[++He]=Qe:--Xe;Ye.length+=Xe,O=Ye;for(var Ze,et=-1,tt=-1,_t=k.length,rt=0,nt=new Array(_t+$-b);++et<_t;)Ze=k[et],null!=Ze?nt[++tt]=Ze:--rt;for(et=b;++et<=$;)Ze=g[et],null!=Ze?nt[++tt]=Ze:--rt;nt.length+=rt,P=nt,I[I.length]=l.concat(O),U[U.length]=P.concat()}e:for(;b>=0;--b)if(null!=(x=g[b])&&"object"==typeof x){if(Array.isArray(x)){if(++x.index!==x.length)break e;if(null==(x=x[x.index=0])||"object"!=typeof x)continue e}if(!(++x.offset>(x.to||(x.to=x.from+(x.length||1)-1))))break e;x.offset=x.from}}return y.index=0,!0===a&&U.length>0?(h={onNext:t||i,onError:_||i,onCompleted:r||i,originals:I.concat(),optimized:U.concat(),count:0,path:l,errors:[],streaming:s,materialized:f},!0===v&&!1===s&&t({paths:y,value:p[-1]}),!0===V._batched?V._batches.batch(I,v&&I||U,h):V._batches.flush(I,v&&I||U,h)):(!1===s&&t({paths:y,value:p[-1]}),0===u.length?r():_(1===u.length?u[0]:{innerErrors:u}),se.empty)}function g(e,t,_,r,n){var i,o,l,a,f,s,v,p,d,u,h,c,y,g,x,b,j,$,m,A,z,L,k,w,O,I,P=this,U=P._root,M=pe++;Array.isArray(e)?(o=e,z=t,_=_||this._cache):(o=e.path,z=e.value,_=t||this._cache),n=n||P._path,o=o||[],_=_||P._cache,r=r||P.__context||(o=n.concat(o))&&_,o=o,d={path:[],optimized:[]},u=[],h=[],a=0,f=0,s=o.length-1,y=_,g=r,x=g,b=x,v=d.path,p=d.optimized,c=-1,i=P._expired||(P._expired=[]),u[-1]=o,h[-1]=0;e:for(;;){for(;a<s;++a)if(l=o[a],null!=l&&"object"==typeof l&&(Array.isArray(l)?null!=(l=l[l.index||(l.index=0)])&&"object"==typeof l&&(l=void 0===l.offset&&(l.offset=l.from||(l.from=0))||l.offset):l=void 0===l.offset&&(l.offset=l.from||(l.from=0))||l.offset),null!=l){for(v[v.length=a]=l,p[p.length=a+f]=l,x&&(g[l],!0)&&void 0!==!x.__generation&&(void 0===(g[l]||{$size:0}).__generation||x.__generation>(g[l]||{$size:0}).__generation)&&((g[l]||{$size:0}).__generation=x.__generation),g[l]=x=g[l]||{$size:0},x.__parent=g,x.__key=l;Array.isArray(b="sentinel"===(j=x&&x.$type)?x.value:x);){var E=U.__head,S=U.__tail;if(x&&1!==x.$expires){var D=x.__next,q=x.__prev;x!==E&&(D&&null!=D&&"object"==typeof D&&(D.__prev=q),q&&null!=q&&"object"==typeof q&&(q.__next=D),(D=E)&&null!=D&&"object"==typeof D&&(E.__prev=x),U.__head=U.__next=E=x,null!=E&&"object"==typeof E&&(E.__next=D,E.__prev=void 0)),null!=S&&x!==S||(U.__tail=U.__prev=S=q||x)}if(void 0!==(x=x.__context)){for(var R=-1,C=p.length=b.length||0;++R<C;)p[R]=b[R];f=C-a-1}else{g=y,u[c]=o,h[c++]=a,o=b,s=o.length-1,f=0,a=0;t:for(;;){for(;a<s;++a)if(null!=(l=o[a])){for(x=g[l],p[p.length=a+f]=l;Array.isArray(b="sentinel"===(j=x&&x.$type)?x.value:x);){var B=U.__head,W=U.__tail;if(x&&1!==x.$expires){var F=x.__next,N=x.__prev;x!==B&&(F&&null!=F&&"object"==typeof F&&(F.__prev=N),N&&null!=N&&"object"==typeof N&&(N.__next=F),(F=B)&&null!=F&&"object"==typeof F&&(B.__prev=x),U.__head=U.__next=B=x,null!=B&&"object"==typeof B&&(B.__next=F,B.__prev=void 0)),null!=W&&x!==W||(U.__tail=U.__prev=W=N||x)}if(void 0===(x=x.__context)){g=y,u[c]=o,h[c++]=a,o=b,s=o.length-1,f=0,a=0;continue t}for(var T=-1,V=p.length=b.length||0;++T<V;)p[T]=b[T];f=V-a-1}if(null==x||void 0!==j){p.length=a+f+1,a=h[--c],f=s-a-1,o=u[c],s=o.length-1,v[v.length]=null;break e}g=x}if(a===s){if(l=o[a],null!=l&&(p[p.length=a+f]=l,x&&(g[l],!0)&&void 0!==!x.__generation&&(void 0===(g[l]||{$size:0}).__generation||x.__generation>(g[l]||{$size:0}).__generation)&&((g[l]||{$size:0}).__generation=x.__generation),g[l]=x=g[l]||{$size:0},x.__parent=g,x.__key=l),null==x||"error"===j){p.length=a+f+1,a=h[--c],f=s-a-1,o=u[c],s=o.length-1,v[v.length]=null;break e}var J;if(void 0===(J=o.__container||o).__context){var Q=x.__refsLength||0;x["__ref"+Q]=J,x.__refsLength=Q+1,J.__refIndex=Q,J.__context=x}do{o=u[--c],a=h[c],f=s-a,s=o.length-1}while(c>-1&&a===s);if(a<s)for(;Array.isArray(b="sentinel"===(j=x&&x.$type)?x.value:x);){var G=U.__head,H=U.__tail;if(x&&1!==x.$expires){var K=x.__next,X=x.__prev;x!==G&&(K&&null!=K&&"object"==typeof K&&(K.__prev=X),X&&null!=X&&"object"==typeof X&&(X.__next=K),(K=G)&&null!=K&&"object"==typeof K&&(G.__prev=x),U.__head=U.__next=G=x,null!=G&&"object"==typeof G&&(G.__next=K,G.__prev=void 0)),null!=H&&x!==H||(U.__tail=U.__prev=H=X||x)}if(void 0===(x=x.__context)){g=y,u[c]=o,h[c++]=a,o=b,s=o.length-1,f=0,a=0;continue t}for(var Y=-1,Z=p.length=b.length||0;++Y<Z;)p[Y]=b[Y];f=Z-a-1}if(c>-1){a+=1,g=x;continue t}}break t}}}if(null==x||void 0!==j){p.length=a+f+1;break e}g=x}if(a===s){if(l=o[a],null!=l&&"object"==typeof l&&(Array.isArray(l)?null!=(l=l[l.index||(l.index=0)])&&"object"==typeof l&&(l=void 0===l.offset&&(l.offset=l.from||(l.from=0))||l.offset):l=void 0===l.offset&&(l.offset=l.from||(l.from=0))||l.offset),v[v.length=a]=l,null!=l){p[p.length=a+f]=l,x=g[l];var ee=0;if(null==z)L=z,w=0,k="primitive",I=void 0,O=void 0;else if(null==(O=z.$expires)||1===O||0!==O&&O>Date.now())O=z.$expires,I=z.$timestamp,L="sentinel"===(k=z&&z.$type)?z.value:z,Array.isArray(L)?(null==(w=z.$size)&&(w=("sentinel"===k&&50||0)+L.length),k="array"):"sentinel"===k?null==(w=z.$size)&&(w=50+("string"==typeof L&&L.length||1)):null==z||"object"!=typeof z?(w="string"==typeof L?L.length:1,k="primitive"):(w=z.$size||0,k=k||"leaf");else if(O=0,I=void 0,void 0===z.__invalidated){z.__invalidated=!0,z.$expires=0,i[i.length]=z;var te=U.__head,_e=U.__tail;if(null!=z&&"object"==typeof z){var re=z.__next,ne=z.__prev;re&&null!=re&&"object"==typeof re&&(re.__prev=ne),ne&&null!=ne&&"object"==typeof ne&&(ne.__next=re),z===te&&(U.__head=U.__next=te=re),z===_e&&(U.__tail=U.__prev=_e=ne),z.__next=z.__prev=void 0}}if(x===z)b=L,$=w,j=k,A=I,m=O;else if(null==x)b=x,$=0,j="primitive",A=void 0,m=void 0;else if(null==(m=x.$expires)||1===m||0!==m&&m>Date.now())m=x.$expires,A=x.$timestamp,b="sentinel"===(j=x&&x.$type)?x.value:x,Array.isArray(b)?(null==($=x.$size)&&($=("sentinel"===j&&50||0)+b.length),j="array"):"sentinel"===j?null==($=x.$size)&&($=50+("string"==typeof b&&b.length||1)):null==x||"object"!=typeof x?($="string"==typeof b?b.length:1,j="primitive"):($=x.$size||0,j=j||"leaf");else if(m=0,A=void 0,void 0===x.__invalidated){x.__invalidated=!0,x.$expires=0,i[i.length]=x;var ie=U.__head,oe=U.__tail;if(null!=x&&"object"==typeof x){var le=x.__next,ae=x.__prev;le&&null!=le&&"object"==typeof le&&(le.__prev=ae),ae&&null!=ae&&"object"==typeof ae&&(ae.__next=le),x===ie&&(U.__head=U.__next=ie=le),x===oe&&(U.__tail=U.__prev=oe=ae),x.__next=x.__prev=void 0}}t:for(;!1===(I<A||0===O&&((x=z)||!0));){if("primitive"===k?(k="sentinel",w=50+(w||1),z={$size:w,$type:k,value:L}):"array"===k?z.$type=k=z.$type||"leaf":(z.$size=w,z.$type=k=k||"leaf"),x&&x!==z){if("array"===j){var fe=x.__context;if(null!=fe){for(var se=(x.__refIndex||0)-1,ve=(fe.__refsLength||0)-1;++se<=ve;)fe["__ref"+se]=fe["__ref"+(se+1)];fe.__refsLength=ve,x.__refIndex=void 0,x.__context=null}}if(x.__refsLength){for(var de,ue=x.__refsLength||0,he=z.__refsLength||0,ce=-1;++ce<ue;)void 0!==(de=x["__ref"+ce])&&(de.__context=z,z["__ref"+(he+ce)]=de,x["__ref"+ce]=void 0);z.__refsLength=he+ue,x.__refsLength=void 0}var ye=U.__head,ge=U.__tail;if(null!=x&&"object"==typeof x){var xe=x.__next,be=x.__prev;xe&&null!=xe&&"object"==typeof xe&&(xe.__prev=be),be&&null!=be&&"object"==typeof be&&(be.__next=xe),x===ye&&(U.__head=U.__next=ye=xe),x===ge&&(U.__tail=U.__prev=ge=be),x.__next=x.__prev=void 0}}ee=w-$,z.$size=w-ee,x&&z&&void 0!==!x.__generation&&(void 0===z.__generation||x.__generation>z.__generation)&&(z.__generation=x.__generation),g[l]=x=z;break t}if(x.__parent=g,x.__key=l,0!==ee)for(var je,$e,me=x;void 0!==me;){if(me.$size=$e=(me.$size||0)+ee,me.__genUpdated!==M)for(var Ae,ze,Le,ke,we,Oe=me,Ie=[],Pe=0;Pe>=0;){if(void 0===(Ae=Ie[Pe]))for(Le=ke=-1,we=Oe.__refsLength||0,Ie[Pe]=Ae=[],Oe.__genUpdated=M,Oe.__generation=(Oe.__generation||0)+1,void 0!==(ze=Oe.__parent)&&ze.__genUpdated!==M&&(Ae[++ke]=ze);++Le<we;)void 0!==(ze=Oe["__ref"+Le])&&ze.__genUpdated!==M&&(Ae[++ke]=ze);void 0!==(Oe=Ae.pop())?++Pe:Ie[Pe--]=void 0}if(void 0!==(je=me.__parent)&&$e<=0){for(var Ue,Me=me.__refsLength||0,Ee=-1;++Ee<Me;)void 0!==(Ue=me["__ref"+Ee])&&(Ue.__context=void 0,me["__ref"+Ee]=void 0);if(me.__refsLength=void 0,Array.isArray("sentinel"===(me&&me.$type)?me.value:me)){var Se=me.__context;if(null!=Se){for(var De=(me.__refIndex||0)-1,qe=(Se.__refsLength||0)-1;++De<=qe;)Se["__ref"+De]=Se["__ref"+(De+1)];Se.__refsLength=qe,me.__refIndex=void 0,me.__context=null}}je[me.__key]=me.__parent=void 0;var Re=U.__head,Ce=U.__tail;if(null!=me&&"object"==typeof me){var Be=me.__next,We=me.__prev;Be&&null!=Be&&"object"==typeof Be&&(Be.__prev=We),We&&null!=We&&"object"==typeof We&&(We.__next=Be),me===Re&&(U.__head=U.__next=Re=Be),me===Ce&&(U.__tail=U.__prev=Ce=We),me.__next=me.__prev=void 0}}me=je}else for(var Fe=x;void 0!==Fe;){if(Fe.__genUpdated!==M)for(var Ne,Te,Ve,Je,Qe,Ge=Fe,He=[],Ke=0;Ke>=0;){if(void 0===(Ne=He[Ke]))for(Ve=Je=-1,Qe=Ge.__refsLength||0,He[Ke]=Ne=[],Ge.__genUpdated=M,Ge.__generation=(Ge.__generation||0)+1,void 0!==(Te=Ge.__parent)&&Te.__genUpdated!==M&&(Ne[++Je]=Te);++Ve<Qe;)void 0!==(Te=Ge["__ref"+Ve])&&Te.__genUpdated!==M&&(Ne[++Je]=Te);void 0!==(Ge=Ne.pop())?++Ke:He[Ke--]=void 0}Fe=Fe.__parent}var Xe=U.__head,Ye=U.__tail;if(x&&1!==x.$expires){var Ze=x.__next,et=x.__prev;x!==Xe&&(Ze&&null!=Ze&&"object"==typeof Ze&&(Ze.__prev=et),et&&null!=et&&"object"==typeof et&&(et.__next=Ze),(Ze=Xe)&&null!=Ze&&"object"==typeof Ze&&(Xe.__prev=x),U.__head=U.__next=Xe=x,null!=Xe&&"object"==typeof Xe&&(Xe.__next=Ze,Xe.__prev=void 0)),null!=Ye&&x!==Ye||(U.__tail=U.__prev=Ye=et||x)}}b="sentinel"===(j=x&&x.$type)?x.value:x}break e}var tt,_t,rt,nt,it=P._maxSize,ot=_.$size,lt=it*P._collectRatio,at=0;if(ot>=it&&(null==U._pendingRequests||U._pendingRequests<=0)){for(;ot>=lt&&null!=(nt=i.pop());){at++,ot-=rt=nt.$size||0;do{if(_t=nt.__parent,(nt.$size-=rt)<=0){for(var ft,st=nt.__refsLength||0,vt=-1;++vt<st;)void 0!==(ft=nt["__ref"+vt])&&(ft.__context=void 0,nt["__ref"+vt]=void 0);if(nt.__refsLength=void 0,Array.isArray("sentinel"===(nt&&nt.$type)?nt.value:nt)){var pt=nt.__context;if(null!=pt){for(var dt=(nt.__refIndex||0)-1,ut=(pt.__refsLength||0)-1;++dt<=ut;)pt["__ref"+dt]=pt["__ref"+(dt+1)];pt.__refsLength=ut,nt.__refIndex=void 0,nt.__context=null}}void 0!==_t&&(_t[nt.__key]=nt.__parent=void 0)}nt=_t}while(void 0!==nt)}if(i.length<=0)for(tt=U.__tail;ot>=lt&&null!=(nt=tt);){at++,tt=tt.__prev,ot-=rt=nt.$size||0,nt.__prev=nt.__next=void 0;do{if(_t=nt.__parent,(nt.$size-=rt)<=0){for(var ht,ct=nt.__refsLength||0,yt=-1;++yt<ct;)void 0!==(ht=nt["__ref"+yt])&&(ht.__context=void 0,nt["__ref"+yt]=void 0);if(nt.__refsLength=void 0,Array.isArray("sentinel"===(nt&&nt.$type)?nt.value:nt)){var gt=nt.__context;if(null!=gt){for(var xt=(nt.__refIndex||0)-1,bt=(gt.__refsLength||0)-1;++xt<=bt;)gt["__ref"+xt]=gt["__ref"+(xt+1)];gt.__refsLength=bt,nt.__refIndex=void 0,nt.__context=null}}void 0!==_t&&(_t[nt.__key]=nt.__parent=void 0)}nt=_t}while(void 0!==nt)}null==(U.__tail=U.__prev=tt)?U.__head=U.__next=void 0:tt.__next=void 0}return d}function x(e,t,_,r,n,i,o){var l,a,f,s,v,p,d,u,h,c,y,g,x,b,j,$,m,A,z,L,k,w,O,I,P,U,M,E,S,D,q,R,C,B,W,F,N,T=this,V=T._root,J=pe++;for(p=e,T._connected,l=T._materialized,a=T._streaming,T._refreshing,d=o||T._path,p.contexts||(p.contexts=[]),p.messages||(p.messages=[]),p.batchedPathMaps||(p.batchedPathMaps=[]),p.originalMisses||(p.originalMisses=[]),p.optimizedMisses||(p.optimizedMisses=[]),s=p.errors||(p.errors=[]),A=p.refs||(p.refs=[]),L=p.crossed||(p.crossed=[]),z=p.cols||(p.cols=[]),m=p.pbv||(p.pbv={path:[],optimized:[]}),g=p.index||(p.index=0),x=p.length,p.batchedPathMap,q=p.value,q,n=n||T._cache,o=d,null==i&&null==(i=T.__context)&&(d.length>0?(m=T._getContext(),d=m.path,m.path=[],m.optimized=[],i=m.value||{}):i=n),w=n,O=i,I=O,P=I,j=m.path,$=m.optimized,k=-1,0,v=T._expired||(T._expired=[]),A[-1]=d,z[-1]=0,L[-1]=b=d,D=i;g<x;e.index=++g){m=e[g],d=m.path,R=m.value,h=d.index||(d.index=0),c=0,y=d.length-1,O=D,A[-1]=d,z[k=-1]=h,L=[],L[-1]=b;e:for(;;){for(;h<y;++h)if(u=d[h],null!=u&&"object"==typeof u&&(Array.isArray(u)?null!=(u=u[u.index||(u.index=0)])&&"object"==typeof u&&(u=void 0===u.offset&&(u.offset=u.from||(u.from=0))||u.offset):u=void 0===u.offset&&(u.offset=u.from||(u.from=0))||u.offset),null!=u){for(j[j.length=h]=u,$[$.length=h+c]=u,I&&(O[u],!0)&&void 0!==!I.__generation&&(void 0===(O[u]||{$size:0}).__generation||I.__generation>(O[u]||{$size:0}).__generation)&&((O[u]||{$size:0}).__generation=I.__generation),O[u]=I=O[u]||{$size:0},I.__parent=O,I.__key=u;Array.isArray(P="sentinel"===(U=I&&I.$type)?I.value:I);){var Q=V.__head,G=V.__tail;if(I&&1!==I.$expires){var H=I.__next,K=I.__prev;I!==Q&&(H&&null!=H&&"object"==typeof H&&(H.__prev=K),K&&null!=K&&"object"==typeof K&&(K.__next=H),(H=Q)&&null!=H&&"object"==typeof H&&(Q.__prev=I),V.__head=V.__next=Q=I,null!=Q&&"object"==typeof Q&&(Q.__next=H,Q.__prev=void 0)),null!=G&&I!==G||(V.__tail=V.__prev=G=K||I)}if(void 0!==(I=I.__context)){for(var X=-1,Y=$.length=P.length||0;++X<Y;)$[X]=P[X];c=Y-h-1}else{O=w,A[k]=d,z[k++]=h,d=P,y=d.length-1,c=0,h=0;t:for(;;){for(;h<y;++h)if(null!=(u=d[h])){for($[$.length=h+c]=u,I&&(O[u],!0)&&void 0!==!I.__generation&&(void 0===(O[u]||{$size:0}).__generation||I.__generation>(O[u]||{$size:0}).__generation)&&((O[u]||{$size:0}).__generation=I.__generation),O[u]=I=O[u]||{$size:0},I.__parent=O,I.__key=u;Array.isArray(P="sentinel"===(U=I&&I.$type)?I.value:I);){var Z=V.__head,ee=V.__tail;if(I&&1!==I.$expires){var te=I.__next,_e=I.__prev;I!==Z&&(te&&null!=te&&"object"==typeof te&&(te.__prev=_e),_e&&null!=_e&&"object"==typeof _e&&(_e.__next=te),(te=Z)&&null!=te&&"object"==typeof te&&(Z.__prev=I),V.__head=V.__next=Z=I,null!=Z&&"object"==typeof Z&&(Z.__next=te,Z.__prev=void 0)),null!=ee&&I!==ee||(V.__tail=V.__prev=ee=_e||I)}if(void 0===(I=I.__context)){O=w,A[k]=d,z[k++]=h,d=P,y=d.length-1,c=0,h=0;continue t}for(var re=-1,ne=$.length=P.length||0;++re<ne;)$[re]=P[re];c=ne-h-1}if(null==I||void 0!==U){$.length=h+c+1,h=z[--k],c=y-h-1,d=A[k],y=d.length-1,j[j.length]=null;break e}O=I}if(h===y){if(u=d[h],null!=u&&($[$.length=h+c]=u,I&&(O[u],!0)&&void 0!==!I.__generation&&(void 0===(O[u]||{$size:0}).__generation||I.__generation>(O[u]||{$size:0}).__generation)&&((O[u]||{$size:0}).__generation=I.__generation),O[u]=I=O[u]||{$size:0},I.__parent=O,I.__key=u),null==I||"error"===U){$.length=h+c+1,h=z[--k],c=y-h-1,d=A[k],y=d.length-1,j[j.length]=null;break e}var ie;if(void 0===(ie=d.__container||d).__context){var oe=I.__refsLength||0;I["__ref"+oe]=ie,I.__refsLength=oe+1,ie.__refIndex=oe,ie.__context=I}do{d=A[--k],h=z[k],c=y-h,y=d.length-1}while(k>-1&&h===y);if(h<y)for(;Array.isArray(P="sentinel"===(U=I&&I.$type)?I.value:I);){var le=V.__head,ae=V.__tail;if(I&&1!==I.$expires){var fe=I.__next,ve=I.__prev;I!==le&&(fe&&null!=fe&&"object"==typeof fe&&(fe.__prev=ve),ve&&null!=ve&&"object"==typeof ve&&(ve.__next=fe),(fe=le)&&null!=fe&&"object"==typeof fe&&(le.__prev=I),V.__head=V.__next=le=I,null!=le&&"object"==typeof le&&(le.__next=fe,le.__prev=void 0)),null!=ae&&I!==ae||(V.__tail=V.__prev=ae=ve||I)}if(void 0===(I=I.__context)){O=w,A[k]=d,z[k++]=h,d=P,y=d.length-1,c=0,h=0;continue t}for(var de=-1,ue=$.length=P.length||0;++de<ue;)$[de]=P[de];c=ue-h-1}if(k>-1){h+=1,O=I;continue t}}break t}}}if(null==I||void 0!==U){$.length=h+c+1;break e}O=I}if(h===y){if(u=d[h],null!=u&&"object"==typeof u&&(Array.isArray(u)?null!=(u=u[u.index||(u.index=0)])&&"object"==typeof u&&(u=void 0===u.offset&&(u.offset=u.from||(u.from=0))||u.offset):u=void 0===u.offset&&(u.offset=u.from||(u.from=0))||u.offset),j[j.length=h]=u,null!=u){$[$.length=h+c]=u,I=O[u];var he=0;if(null==R)C=R,W=0,B="primitive",N=void 0,F=void 0;else if(null==(F=R.$expires)||1===F||0!==F&&F>Date.now())F=R.$expires,N=R.$timestamp,C="sentinel"===(B=R&&R.$type)?R.value:R,Array.isArray(C)?(null==(W=R.$size)&&(W=("sentinel"===B&&50||0)+C.length),B="array"):"sentinel"===B?null==(W=R.$size)&&(W=50+("string"==typeof C&&C.length||1)):null==R||"object"!=typeof R?(W="string"==typeof C?C.length:1,B="primitive"):(W=R.$size||0,B=B||"leaf");else if(F=0,N=void 0,void 0===R.__invalidated){R.__invalidated=!0,R.$expires=0,v[v.length]=R;var ce=V.__head,ye=V.__tail;if(null!=R&&"object"==typeof R){var ge=R.__next,xe=R.__prev;ge&&null!=ge&&"object"==typeof ge&&(ge.__prev=xe),xe&&null!=xe&&"object"==typeof xe&&(xe.__next=ge),R===ce&&(V.__head=V.__next=ce=ge),R===ye&&(V.__tail=V.__prev=ye=xe),R.__next=R.__prev=void 0}}if(I===R)P=C,M=W,U=B,S=N,E=F;else if(null==I)P=I,M=0,U="primitive",S=void 0,E=void 0;else if(null==(E=I.$expires)||1===E||0!==E&&E>Date.now())E=I.$expires,S=I.$timestamp,P="sentinel"===(U=I&&I.$type)?I.value:I,Array.isArray(P)?(null==(M=I.$size)&&(M=("sentinel"===U&&50||0)+P.length),U="array"):"sentinel"===U?null==(M=I.$size)&&(M=50+("string"==typeof P&&P.length||1)):null==I||"object"!=typeof I?(M="string"==typeof P?P.length:1,U="primitive"):(M=I.$size||0,U=U||"leaf");else if(E=0,S=void 0,void 0===I.__invalidated){I.__invalidated=!0,I.$expires=0,v[v.length]=I;var be=V.__head,je=V.__tail;if(null!=I&&"object"==typeof I){var $e=I.__next,me=I.__prev;$e&&null!=$e&&"object"==typeof $e&&($e.__prev=me),me&&null!=me&&"object"==typeof me&&(me.__next=$e),I===be&&(V.__head=V.__next=be=$e),I===je&&(V.__tail=V.__prev=je=me),I.__next=I.__prev=void 0}}t:for(;!1===(N<S||0===F&&((I=R)||!0));){if("primitive"===B?(B="sentinel",W=50+(W||1),R={$size:W,$type:B,value:C}):"array"===B?R.$type=B=R.$type||"leaf":(R.$size=W,R.$type=B=B||"leaf"),I&&I!==R){if("array"===U){var Ae=I.__context;if(null!=Ae){for(var ze=(I.__refIndex||0)-1,Le=(Ae.__refsLength||0)-1;++ze<=Le;)Ae["__ref"+ze]=Ae["__ref"+(ze+1)];Ae.__refsLength=Le,I.__refIndex=void 0,I.__context=null}}if(I.__refsLength){for(var ke,we=I.__refsLength||0,Oe=R.__refsLength||0,Ie=-1;++Ie<we;)void 0!==(ke=I["__ref"+Ie])&&(ke.__context=R,R["__ref"+(Oe+Ie)]=ke,I["__ref"+Ie]=void 0);R.__refsLength=Oe+we,I.__refsLength=void 0}var Pe=V.__head,Ue=V.__tail;if(null!=I&&"object"==typeof I){var Me=I.__next,Ee=I.__prev;Me&&null!=Me&&"object"==typeof Me&&(Me.__prev=Ee),Ee&&null!=Ee&&"object"==typeof Ee&&(Ee.__next=Me),I===Pe&&(V.__head=V.__next=Pe=Me),I===Ue&&(V.__tail=V.__prev=Ue=Ee),I.__next=I.__prev=void 0}}he=W-M,R.$size=W-he,I&&R&&void 0!==!I.__generation&&(void 0===R.__generation||I.__generation>R.__generation)&&(R.__generation=I.__generation),O[u]=I=R;break t}if(I.__parent=O,I.__key=u,0!==he)for(var Se,De,qe=I;void 0!==qe;){if(qe.$size=De=(qe.$size||0)+he,qe.__genUpdated!==J)for(var Re,Ce,Be,We,Fe,Ne=qe,Te=[],Ve=0;Ve>=0;){if(void 0===(Re=Te[Ve]))for(Be=We=-1,Fe=Ne.__refsLength||0,Te[Ve]=Re=[],Ne.__genUpdated=J,Ne.__generation=(Ne.__generation||0)+1,void 0!==(Ce=Ne.__parent)&&Ce.__genUpdated!==J&&(Re[++We]=Ce);++Be<Fe;)void 0!==(Ce=Ne["__ref"+Be])&&Ce.__genUpdated!==J&&(Re[++We]=Ce);void 0!==(Ne=Re.pop())?++Ve:Te[Ve--]=void 0}if(void 0!==(Se=qe.__parent)&&De<=0){
for(var Je,Qe=qe.__refsLength||0,Ge=-1;++Ge<Qe;)void 0!==(Je=qe["__ref"+Ge])&&(Je.__context=void 0,qe["__ref"+Ge]=void 0);if(qe.__refsLength=void 0,Array.isArray("sentinel"===(qe&&qe.$type)?qe.value:qe)){var He=qe.__context;if(null!=He){for(var Ke=(qe.__refIndex||0)-1,Xe=(He.__refsLength||0)-1;++Ke<=Xe;)He["__ref"+Ke]=He["__ref"+(Ke+1)];He.__refsLength=Xe,qe.__refIndex=void 0,qe.__context=null}}Se[qe.__key]=qe.__parent=void 0;var Ye=V.__head,Ze=V.__tail;if(null!=qe&&"object"==typeof qe){var et=qe.__next,tt=qe.__prev;et&&null!=et&&"object"==typeof et&&(et.__prev=tt),tt&&null!=tt&&"object"==typeof tt&&(tt.__next=et),qe===Ye&&(V.__head=V.__next=Ye=et),qe===Ze&&(V.__tail=V.__prev=Ze=tt),qe.__next=qe.__prev=void 0}}qe=Se}else for(var _t=I;void 0!==_t;){if(_t.__genUpdated!==J)for(var rt,nt,it,ot,lt,at=_t,ft=[],st=0;st>=0;){if(void 0===(rt=ft[st]))for(it=ot=-1,lt=at.__refsLength||0,ft[st]=rt=[],at.__genUpdated=J,at.__generation=(at.__generation||0)+1,void 0!==(nt=at.__parent)&&nt.__genUpdated!==J&&(rt[++ot]=nt);++it<lt;)void 0!==(nt=at["__ref"+it])&&nt.__genUpdated!==J&&(rt[++ot]=nt);void 0!==(at=rt.pop())?++st:ft[st--]=void 0}_t=_t.__parent}var vt=V.__head,pt=V.__tail;if(I&&1!==I.$expires){var dt=I.__next,ut=I.__prev;I!==vt&&(dt&&null!=dt&&"object"==typeof dt&&(dt.__prev=ut),ut&&null!=ut&&"object"==typeof ut&&(ut.__next=dt),(dt=vt)&&null!=dt&&"object"==typeof dt&&(vt.__prev=I),V.__head=V.__next=vt=I,null!=vt&&"object"==typeof vt&&(vt.__next=dt,vt.__prev=void 0)),null!=pt&&I!==pt||(V.__tail=V.__prev=pt=ut||I)}}P="sentinel"===(U=I&&I.$type)?I.value:I}break e}if("error"===U){f=Array.isArray(m)?[]:null!=m&&"object"==typeof m?{}:m;var ht,ct;for(var yt in m)if(m.hasOwnProperty(yt)){if(ht=ct=m[yt],Array.isArray(ht)){var gt=-1,xt=ht.length;for(ct=new Array(xt);++gt<xt;)ct[gt]=ht[gt]}else null!=ht&&"object"==typeof ht&&(ct=Object.create(ht));f[yt]=ct}f.value=P,s[s.length]=f}else if(!0===a&&void 0!==P||!0===l){m.value=P;var bt;bt=Array.isArray(m)?[]:null!=m&&"object"==typeof m?{}:m;var jt,$t;for(var mt in m)if(m.hasOwnProperty(mt)){if(jt=$t=m[mt],Array.isArray(jt)){var At=-1,zt=jt.length;for($t=new Array(zt);++At<zt;)$t[At]=jt[At]}else null!=jt&&"object"==typeof jt&&($t=Object.create(jt));bt[mt]=$t}t(bt)}}!1===a&&t({paths:e.map(function(e){return e.path}),value:D}),0===s.length?r():_(1===s.length?s[0]:{innerErrors:s});var Lt,kt,wt,Ot,It=T._maxSize,Pt=n.$size,Ut=It*T._collectRatio,Mt=0;if(Pt>=It&&(null==V._pendingRequests||V._pendingRequests<=0)){for(;Pt>=Ut&&null!=(Ot=v.pop());){Mt++,Pt-=wt=Ot.$size||0;do{if(kt=Ot.__parent,(Ot.$size-=wt)<=0){for(var Et,St=Ot.__refsLength||0,Dt=-1;++Dt<St;)void 0!==(Et=Ot["__ref"+Dt])&&(Et.__context=void 0,Ot["__ref"+Dt]=void 0);if(Ot.__refsLength=void 0,Array.isArray("sentinel"===(Ot&&Ot.$type)?Ot.value:Ot)){var qt=Ot.__context;if(null!=qt){for(var Rt=(Ot.__refIndex||0)-1,Ct=(qt.__refsLength||0)-1;++Rt<=Ct;)qt["__ref"+Rt]=qt["__ref"+(Rt+1)];qt.__refsLength=Ct,Ot.__refIndex=void 0,Ot.__context=null}}void 0!==kt&&(kt[Ot.__key]=Ot.__parent=void 0)}Ot=kt}while(void 0!==Ot)}if(v.length<=0)for(Lt=V.__tail;Pt>=Ut&&null!=(Ot=Lt);){Mt++,Lt=Lt.__prev,Pt-=wt=Ot.$size||0,Ot.__prev=Ot.__next=void 0;do{if(kt=Ot.__parent,(Ot.$size-=wt)<=0){for(var Bt,Wt=Ot.__refsLength||0,Ft=-1;++Ft<Wt;)void 0!==(Bt=Ot["__ref"+Ft])&&(Bt.__context=void 0,Ot["__ref"+Ft]=void 0);if(Ot.__refsLength=void 0,Array.isArray("sentinel"===(Ot&&Ot.$type)?Ot.value:Ot)){var Nt=Ot.__context;if(null!=Nt){for(var Tt=(Ot.__refIndex||0)-1,Vt=(Nt.__refsLength||0)-1;++Tt<=Vt;)Nt["__ref"+Tt]=Nt["__ref"+(Tt+1)];Nt.__refsLength=Vt,Ot.__refIndex=void 0,Ot.__context=null}}void 0!==kt&&(kt[Ot.__key]=Ot.__parent=void 0)}Ot=kt}while(void 0!==Ot)}null==(V.__tail=V.__prev=Lt)?V.__head=V.__next=void 0:Lt.__next=void 0}return se.empty}function b(e,t,_,r,n,o,l){var a,f,s,v,p,d,u,h,c,y,g,x,b,j,$,m,A,z,L,k,w,O,I,P,U,M,E,S,D,q,R,C,B,W,F,N,T,V,J,Q,G=this,H=G._root,K=pe++;for(u=e,G._connected,a=G._materialized,f=G._streaming,G._refreshing,h=l||G._path,s=u.contexts||(u.contexts=[]),v=u.messages||(u.messages=[]),P=u.batchedPathMaps||(u.batchedPathMaps=[]),u.originalMisses||(u.originalMisses=[]),u.optimizedMisses||(u.optimizedMisses=[]),u.errors||(u.errors=[]),L=u.refs||(u.refs=[]),w=u.crossed||(u.crossed=[]),k=u.cols||(u.cols=[]),z=u.pbv||(u.pbv={path:[],optimized:[]}),b=u.index||(u.index=0),j=u.length,I=u.batchedPathMap,B=u.value,W=B,n=n||G._cache,l=h,null==o&&null==(o=G.__context)&&(h.length>0?(z=G._getContext(),h=z.path,z.path=[],z.optimized=[],o=z.value||{}):o=n),U=n,M=o,E=M,S=E,m=z.path,A=z.optimized,O=-1,0,d=G._expired||(G._expired=[]),L[-1]=h,k[-1]=0,w[-1]=$=h,u=e.paths||(e.paths=[]),(t||_||r||null==I)&&(p={onNext:t||i,onError:_||i,onCompleted:r||i,originals:u.concat(),optimized:u.concat(),count:0,path:[],errors:[],streaming:f,materialized:a},I=G._pathMapWithObserver(u,p,I)),b=e.index||(e.index=0),j=u.length,s[-1]=M,v[-1]=W,P[-1]=I;b<j;u.index=++b)for(h=u[b],y=h.index||(h.index=0),g=h.offset||(h.offset=0),x=h.length-1,O=-1,L[-1]=h,w=[],w[-1]=$;y>=0;){for(var X,Y,Z;--y>=-1;)if(null!=(X=w[y])){for(Y=-1,Z=X.length,A.length=Z,g=Z-(y+1);++Y<Z;)A[Y]=X[Y];break}++y,k[O=-1]=y,M=s[y-1],W=v[y-1],I=P[y-1];e:for(;;){for(;y<x;++y)if(c=h[y],null!=c&&"object"==typeof c&&(Array.isArray(c)?null!=(c=c[c.index||(c.index=0)])&&"object"==typeof c&&(c=void 0===c.offset&&(c.offset=c.from||(c.from=0))||c.offset):c=void 0===c.offset&&(c.offset=c.from||(c.from=0))||c.offset),null!=c){m[m.length=y]=c,A[A.length=y+g]=c,E=M[c],F=W&&W[c],I=I[c];var ee=0;if(null==F)N=F,V=0,T="primitive",Q=void 0,J=void 0;else if(null==(J=F.$expires)||1===J||0!==J&&J>Date.now())J=F.$expires,Q=F.$timestamp,N="sentinel"===(T=F&&F.$type)?F.value:F,Array.isArray(N)?(null==(V=F.$size)&&(V=("sentinel"===T&&50||0)+N.length),T="array"):"sentinel"===T?null==(V=F.$size)&&(V=50+("string"==typeof N&&N.length||1)):null==F||"object"!=typeof F?(V="string"==typeof N?N.length:1,T="primitive"):(V=F.$size||0,T=T||void 0);else if(J=0,Q=void 0,void 0===F.__invalidated){F.__invalidated=!0,F.$expires=0,d[d.length]=F;var te=H.__head,_e=H.__tail;if(null!=F&&"object"==typeof F){var re=F.__next,ne=F.__prev;re&&null!=re&&"object"==typeof re&&(re.__prev=ne),ne&&null!=ne&&"object"==typeof ne&&(ne.__next=re),F===te&&(H.__head=H.__next=te=re),F===_e&&(H.__tail=H.__prev=_e=ne),F.__next=F.__prev=void 0}}if(null==E||E!==F&&"array"===T){if(E===F)S=N,q=V,D=T,C=Q,R=J;else if(null==E)S=E,q=0,D="primitive",C=void 0,R=void 0;else if(null==(R=E.$expires)||1===R||0!==R&&R>Date.now())R=E.$expires,C=E.$timestamp,S="sentinel"===(D=E&&E.$type)?E.value:E,Array.isArray(S)?(null==(q=E.$size)&&(q=("sentinel"===D&&50||0)+S.length),D="array"):"sentinel"===D?null==(q=E.$size)&&(q=50+("string"==typeof S&&S.length||1)):null==E||"object"!=typeof E?(q="string"==typeof S?S.length:1,D="primitive"):(q=E.$size||0,D=D||void 0);else if(R=0,C=void 0,void 0===E.__invalidated){E.__invalidated=!0,E.$expires=0,d[d.length]=E;var ie=H.__head,oe=H.__tail;if(null!=E&&"object"==typeof E){var le=E.__next,ae=E.__prev;le&&null!=le&&"object"==typeof le&&(le.__prev=ae),ae&&null!=ae&&"object"==typeof ae&&(ae.__next=le),E===ie&&(H.__head=H.__next=ie=le),E===oe&&(H.__tail=H.__prev=oe=ae),E.__next=E.__prev=void 0}}t:for(;!1===(Q<C||0===J&&((E=F)||!0));){if(void 0!==T)if("array"===T){if(F.$type=T=F.$type||"leaf",N.__container=F,F.$size=V,"array"===D){var fe,ve=-1;if((fe=S.length)===N.length){_:for(;++ve<fe&&S[ve]===N[ve];);if(ve===fe)break t}}}else{"primitive"===T?(T="sentinel",V=50+(V||1),F={$size:V,$type:T,value:N}):(F.$size=V,F.$type=T=T||"leaf");var de=H.__head,ue=H.__tail;if(F&&1!==F.$expires){var he=F.__next,ce=F.__prev;F!==de&&(he&&null!=he&&"object"==typeof he&&(he.__prev=ce),ce&&null!=ce&&"object"==typeof ce&&(ce.__next=he),(he=de)&&null!=he&&"object"==typeof he&&(de.__prev=F),H.__head=H.__next=de=F,null!=de&&"object"==typeof de&&(de.__next=he,de.__prev=void 0)),null!=ue&&F!==ue||(H.__tail=H.__prev=ue=ce||F)}}if(null!=E){if("array"===D){var ye=E.__context;if(null!=ye){for(var ge=(E.__refIndex||0)-1,xe=(ye.__refsLength||0)-1;++ge<=xe;)ye["__ref"+ge]=ye["__ref"+(ge+1)];ye.__refsLength=xe,E.__refIndex=void 0,E.__context=null}}if(E.__refsLength){for(var be,je=E.__refsLength||0,$e=F.__refsLength||0,me=-1;++me<je;)void 0!==(be=E["__ref"+me])&&(be.__context=F,F["__ref"+($e+me)]=be,E["__ref"+me]=void 0);F.__refsLength=$e+je,E.__refsLength=void 0}var Ae=H.__head,ze=H.__tail;if(null!=E&&"object"==typeof E){var Le=E.__next,ke=E.__prev;Le&&null!=Le&&"object"==typeof Le&&(Le.__prev=ke),ke&&null!=ke&&"object"==typeof ke&&(ke.__next=Le),E===Ae&&(H.__head=H.__next=Ae=Le),E===ze&&(H.__tail=H.__prev=ze=ke),E.__next=E.__prev=void 0}}ee=V-q,F.$size=V-ee,E&&F&&void 0!==!E.__generation&&(void 0===F.__generation||E.__generation>F.__generation)&&(F.__generation=E.__generation),M[c]=E=F;break t}}if(E.__parent=M,E.__key=c,0!==ee)for(var we,Oe,Ie=E;void 0!==Ie;){if(Ie.$size=Oe=(Ie.$size||0)+ee,Ie.__genUpdated!==K)for(var Pe,Ue,Me,Ee,Se,De=Ie,qe=[],Re=0;Re>=0;){if(void 0===(Pe=qe[Re]))for(Me=Ee=-1,Se=De.__refsLength||0,qe[Re]=Pe=[],De.__genUpdated=K,De.__generation=(De.__generation||0)+1,void 0!==(Ue=De.__parent)&&Ue.__genUpdated!==K&&(Pe[++Ee]=Ue);++Me<Se;)void 0!==(Ue=De["__ref"+Me])&&Ue.__genUpdated!==K&&(Pe[++Ee]=Ue);void 0!==(De=Pe.pop())?++Re:qe[Re--]=void 0}if(void 0!==(we=Ie.__parent)&&Oe<=0){for(var Ce,Be=Ie.__refsLength||0,We=-1;++We<Be;)void 0!==(Ce=Ie["__ref"+We])&&(Ce.__context=void 0,Ie["__ref"+We]=void 0);if(Ie.__refsLength=void 0,Array.isArray("sentinel"===(Ie&&Ie.$type)?Ie.value:Ie)){var Fe=Ie.__context;if(null!=Fe){for(var Ne=(Ie.__refIndex||0)-1,Te=(Fe.__refsLength||0)-1;++Ne<=Te;)Fe["__ref"+Ne]=Fe["__ref"+(Ne+1)];Fe.__refsLength=Te,Ie.__refIndex=void 0,Ie.__context=null}}we[Ie.__key]=Ie.__parent=void 0;var Ve=H.__head,Je=H.__tail;if(null!=Ie&&"object"==typeof Ie){var Qe=Ie.__next,Ge=Ie.__prev;Qe&&null!=Qe&&"object"==typeof Qe&&(Qe.__prev=Ge),Ge&&null!=Ge&&"object"==typeof Ge&&(Ge.__next=Qe),Ie===Ve&&(H.__head=H.__next=Ve=Qe),Ie===Je&&(H.__tail=H.__prev=Je=Ge),Ie.__next=Ie.__prev=void 0}}Ie=we}for(;Array.isArray(S="sentinel"===(D=E&&E.$type)?E.value:E);){var He=H.__head,Ke=H.__tail;if(E&&1!==E.$expires){var Xe=E.__next,Ye=E.__prev;E!==He&&(Xe&&null!=Xe&&"object"==typeof Xe&&(Xe.__prev=Ye),Ye&&null!=Ye&&"object"==typeof Ye&&(Ye.__next=Xe),(Xe=He)&&null!=Xe&&"object"==typeof Xe&&(He.__prev=E),H.__head=H.__next=He=E,null!=He&&"object"==typeof He&&(He.__next=Xe,He.__prev=void 0)),null!=Ke&&E!==Ke||(H.__tail=H.__prev=Ke=Ye||E)}w[y]=S,M=U,W=B,L[O]=h,k[O++]=y,h=S,x=h.length-1,g=0,y=0;t:for(;;){for(;y<x;++y)if(null!=(c=h[y])){A[A.length=y+g]=c,E=M[c],F=W&&W[c];var Ze=0;if(null==F)N=F,V=0,T="primitive",Q=void 0,J=void 0;else if(null==(J=F.$expires)||1===J||0!==J&&J>Date.now())J=F.$expires,Q=F.$timestamp,N="sentinel"===(T=F&&F.$type)?F.value:F,Array.isArray(N)?(null==(V=F.$size)&&(V=("sentinel"===T&&50||0)+N.length),T="array"):"sentinel"===T?null==(V=F.$size)&&(V=50+("string"==typeof N&&N.length||1)):null==F||"object"!=typeof F?(V="string"==typeof N?N.length:1,T="primitive"):(V=F.$size||0,T=T||void 0);else if(J=0,Q=void 0,void 0===F.__invalidated){F.__invalidated=!0,F.$expires=0,d[d.length]=F;var et=H.__head,tt=H.__tail;if(null!=F&&"object"==typeof F){var _t=F.__next,rt=F.__prev;_t&&null!=_t&&"object"==typeof _t&&(_t.__prev=rt),rt&&null!=rt&&"object"==typeof rt&&(rt.__next=_t),F===et&&(H.__head=H.__next=et=_t),F===tt&&(H.__tail=H.__prev=tt=rt),F.__next=F.__prev=void 0}}if(null==E||E!==F&&"array"===T){if(E===F)S=N,q=V,D=T,C=Q,R=J;else if(null==E)S=E,q=0,D="primitive",C=void 0,R=void 0;else if(null==(R=E.$expires)||1===R||0!==R&&R>Date.now())R=E.$expires,C=E.$timestamp,S="sentinel"===(D=E&&E.$type)?E.value:E,Array.isArray(S)?(null==(q=E.$size)&&(q=("sentinel"===D&&50||0)+S.length),D="array"):"sentinel"===D?null==(q=E.$size)&&(q=50+("string"==typeof S&&S.length||1)):null==E||"object"!=typeof E?(q="string"==typeof S?S.length:1,D="primitive"):(q=E.$size||0,D=D||void 0);else if(R=0,C=void 0,void 0===E.__invalidated){E.__invalidated=!0,E.$expires=0,d[d.length]=E;var nt=H.__head,it=H.__tail;if(null!=E&&"object"==typeof E){var ot=E.__next,lt=E.__prev;ot&&null!=ot&&"object"==typeof ot&&(ot.__prev=lt),lt&&null!=lt&&"object"==typeof lt&&(lt.__next=ot),E===nt&&(H.__head=H.__next=nt=ot),E===it&&(H.__tail=H.__prev=it=lt),E.__next=E.__prev=void 0}}_:for(;!1===(Q<C||0===J&&((E=F)||!0));){if(void 0!==T)if("array"===T){if(F.$type=T=F.$type||"leaf",N.__container=F,F.$size=V,"array"===D){var at,ft=-1;if((at=S.length)===N.length){r:for(;++ft<at&&S[ft]===N[ft];);if(ft===at)break _}}}else{"primitive"===T?(T="sentinel",V=50+(V||1),F={$size:V,$type:T,value:N}):(F.$size=V,F.$type=T=T||"leaf");var st=H.__head,vt=H.__tail;if(F&&1!==F.$expires){var pt=F.__next,dt=F.__prev;F!==st&&(pt&&null!=pt&&"object"==typeof pt&&(pt.__prev=dt),dt&&null!=dt&&"object"==typeof dt&&(dt.__next=pt),(pt=st)&&null!=pt&&"object"==typeof pt&&(st.__prev=F),H.__head=H.__next=st=F,null!=st&&"object"==typeof st&&(st.__next=pt,st.__prev=void 0)),null!=vt&&F!==vt||(H.__tail=H.__prev=vt=dt||F)}}if(null!=E){if("array"===D){var ut=E.__context;if(null!=ut){for(var ht=(E.__refIndex||0)-1,ct=(ut.__refsLength||0)-1;++ht<=ct;)ut["__ref"+ht]=ut["__ref"+(ht+1)];ut.__refsLength=ct,E.__refIndex=void 0,E.__context=null}}if(E.__refsLength){for(var yt,gt=E.__refsLength||0,xt=F.__refsLength||0,bt=-1;++bt<gt;)void 0!==(yt=E["__ref"+bt])&&(yt.__context=F,F["__ref"+(xt+bt)]=yt,E["__ref"+bt]=void 0);F.__refsLength=xt+gt,E.__refsLength=void 0}var jt=H.__head,$t=H.__tail;if(null!=E&&"object"==typeof E){var mt=E.__next,At=E.__prev;mt&&null!=mt&&"object"==typeof mt&&(mt.__prev=At),At&&null!=At&&"object"==typeof At&&(At.__next=mt),E===jt&&(H.__head=H.__next=jt=mt),E===$t&&(H.__tail=H.__prev=$t=At),E.__next=E.__prev=void 0}}Ze=V-q,F.$size=V-Ze,E&&F&&void 0!==!E.__generation&&(void 0===F.__generation||E.__generation>F.__generation)&&(F.__generation=E.__generation),M[c]=E=F;break _}}if(E.__parent=M,E.__key=c,0!==Ze)for(var zt,Lt,kt=E;void 0!==kt;){if(kt.$size=Lt=(kt.$size||0)+Ze,kt.__genUpdated!==K)for(var wt,Ot,It,Pt,Ut,Mt=kt,Et=[],St=0;St>=0;){if(void 0===(wt=Et[St]))for(It=Pt=-1,Ut=Mt.__refsLength||0,Et[St]=wt=[],Mt.__genUpdated=K,Mt.__generation=(Mt.__generation||0)+1,void 0!==(Ot=Mt.__parent)&&Ot.__genUpdated!==K&&(wt[++Pt]=Ot);++It<Ut;)void 0!==(Ot=Mt["__ref"+It])&&Ot.__genUpdated!==K&&(wt[++Pt]=Ot);void 0!==(Mt=wt.pop())?++St:Et[St--]=void 0}if(void 0!==(zt=kt.__parent)&&Lt<=0){for(var Dt,qt=kt.__refsLength||0,Rt=-1;++Rt<qt;)void 0!==(Dt=kt["__ref"+Rt])&&(Dt.__context=void 0,kt["__ref"+Rt]=void 0);if(kt.__refsLength=void 0,Array.isArray("sentinel"===(kt&&kt.$type)?kt.value:kt)){var Ct=kt.__context;if(null!=Ct){for(var Bt=(kt.__refIndex||0)-1,Wt=(Ct.__refsLength||0)-1;++Bt<=Wt;)Ct["__ref"+Bt]=Ct["__ref"+(Bt+1)];Ct.__refsLength=Wt,kt.__refIndex=void 0,kt.__context=null}}zt[kt.__key]=kt.__parent=void 0;var Ft=H.__head,Nt=H.__tail;if(null!=kt&&"object"==typeof kt){var Tt=kt.__next,Vt=kt.__prev;Tt&&null!=Tt&&"object"==typeof Tt&&(Tt.__prev=Vt),Vt&&null!=Vt&&"object"==typeof Vt&&(Vt.__next=Tt),kt===Ft&&(H.__head=H.__next=Ft=Tt),kt===Nt&&(H.__tail=H.__prev=Nt=Vt),kt.__next=kt.__prev=void 0}}kt=zt}for(;Array.isArray(S="sentinel"===(D=E&&E.$type)?E.value:E);){var Jt=H.__head,Qt=H.__tail;if(E&&1!==E.$expires){var Gt=E.__next,Ht=E.__prev;E!==Jt&&(Gt&&null!=Gt&&"object"==typeof Gt&&(Gt.__prev=Ht),Ht&&null!=Ht&&"object"==typeof Ht&&(Ht.__next=Gt),(Gt=Jt)&&null!=Gt&&"object"==typeof Gt&&(Jt.__prev=E),H.__head=H.__next=Jt=E,null!=Jt&&"object"==typeof Jt&&(Jt.__next=Gt,Jt.__prev=void 0)),null!=Qt&&E!==Qt||(H.__tail=H.__prev=Qt=Ht||E)}M=U,W=B,L[O]=h,k[O++]=y,h=S,x=h.length-1,g=0,y=0;continue t}if(null==E||void 0!==D){A.length=y+g+1,y=k[--O],g=x-y-1,h=L[O],x=h.length-1,m[m.length]=null;break e}M=E,W=F}if(y===x){if(null!=(c=h[y])){A[A.length=y+g]=c,E=M[c],F=W&&W[c];var Kt=0;if(null==F)N=F,V=0,T="primitive",Q=void 0,J=void 0;else if(null==(J=F.$expires)||1===J||0!==J&&J>Date.now())J=F.$expires,Q=F.$timestamp,N="sentinel"===(T=F&&F.$type)?F.value:F,Array.isArray(N)?(null==(V=F.$size)&&(V=("sentinel"===T&&50||0)+N.length),T="array"):"sentinel"===T?null==(V=F.$size)&&(V=50+("string"==typeof N&&N.length||1)):null==F||"object"!=typeof F?(V="string"==typeof N?N.length:1,T="primitive"):(V=F.$size||0,T=T||void 0);else if(J=0,Q=void 0,void 0===F.__invalidated){F.__invalidated=!0,F.$expires=0,d[d.length]=F;var Xt=H.__head,Yt=H.__tail;if(null!=F&&"object"==typeof F){var Zt=F.__next,e_=F.__prev;Zt&&null!=Zt&&"object"==typeof Zt&&(Zt.__prev=e_),e_&&null!=e_&&"object"==typeof e_&&(e_.__next=Zt),F===Xt&&(H.__head=H.__next=Xt=Zt),F===Yt&&(H.__tail=H.__prev=Yt=e_),F.__next=F.__prev=void 0}}if(null==E||E!==F&&"array"===T){if(E===F)S=N,q=V,D=T,C=Q,R=J;else if(null==E)S=E,q=0,D="primitive",C=void 0,R=void 0;else if(null==(R=E.$expires)||1===R||0!==R&&R>Date.now())R=E.$expires,C=E.$timestamp,S="sentinel"===(D=E&&E.$type)?E.value:E,Array.isArray(S)?(null==(q=E.$size)&&(q=("sentinel"===D&&50||0)+S.length),D="array"):"sentinel"===D?null==(q=E.$size)&&(q=50+("string"==typeof S&&S.length||1)):null==E||"object"!=typeof E?(q="string"==typeof S?S.length:1,D="primitive"):(q=E.$size||0,D=D||void 0);else if(R=0,C=void 0,void 0===E.__invalidated){E.__invalidated=!0,E.$expires=0,d[d.length]=E;var t_=H.__head,__=H.__tail;if(null!=E&&"object"==typeof E){var r_=E.__next,n_=E.__prev;r_&&null!=r_&&"object"==typeof r_&&(r_.__prev=n_),n_&&null!=n_&&"object"==typeof n_&&(n_.__next=r_),E===t_&&(H.__head=H.__next=t_=r_),E===__&&(H.__tail=H.__prev=__=n_),E.__next=E.__prev=void 0}}_:for(;!1===(Q<C||0===J&&((E=F)||!0));){if(void 0!==T)if("array"===T){if(F.$type=T=F.$type||"leaf",N.__container=F,F.$size=V,"array"===D){var i_,o_=-1;if((i_=S.length)===N.length){r:for(;++o_<i_&&S[o_]===N[o_];);if(o_===i_)break _}}}else{"primitive"===T?(T="sentinel",V=50+(V||1),F={$size:V,$type:T,value:N}):(F.$size=V,F.$type=T=T||"leaf");var l_=H.__head,a_=H.__tail;if(F&&1!==F.$expires){var f_=F.__next,s_=F.__prev;F!==l_&&(f_&&null!=f_&&"object"==typeof f_&&(f_.__prev=s_),s_&&null!=s_&&"object"==typeof s_&&(s_.__next=f_),(f_=l_)&&null!=f_&&"object"==typeof f_&&(l_.__prev=F),H.__head=H.__next=l_=F,null!=l_&&"object"==typeof l_&&(l_.__next=f_,l_.__prev=void 0)),null!=a_&&F!==a_||(H.__tail=H.__prev=a_=s_||F)}}if(null!=E){if("array"===D){var v_=E.__context;if(null!=v_){for(var p_=(E.__refIndex||0)-1,d_=(v_.__refsLength||0)-1;++p_<=d_;)v_["__ref"+p_]=v_["__ref"+(p_+1)];v_.__refsLength=d_,E.__refIndex=void 0,E.__context=null}}if(E.__refsLength){for(var u_,h_=E.__refsLength||0,c_=F.__refsLength||0,y_=-1;++y_<h_;)void 0!==(u_=E["__ref"+y_])&&(u_.__context=F,F["__ref"+(c_+y_)]=u_,E["__ref"+y_]=void 0);F.__refsLength=c_+h_,E.__refsLength=void 0}var g_=H.__head,x_=H.__tail;if(null!=E&&"object"==typeof E){var b_=E.__next,j_=E.__prev;b_&&null!=b_&&"object"==typeof b_&&(b_.__prev=j_),j_&&null!=j_&&"object"==typeof j_&&(j_.__next=b_),E===g_&&(H.__head=H.__next=g_=b_),E===x_&&(H.__tail=H.__prev=x_=j_),E.__next=E.__prev=void 0}}Kt=V-q,F.$size=V-Kt,E&&F&&void 0!==!E.__generation&&(void 0===F.__generation||E.__generation>F.__generation)&&(F.__generation=E.__generation),M[c]=E=F;break _}}if(E.__parent=M,E.__key=c,0!==Kt)for(var $_,m_,A_=E;void 0!==A_;){if(A_.$size=m_=(A_.$size||0)+Kt,A_.__genUpdated!==K)for(var z_,L_,k_,w_,O_,I_=A_,P_=[],U_=0;U_>=0;){if(void 0===(z_=P_[U_]))for(k_=w_=-1,O_=I_.__refsLength||0,P_[U_]=z_=[],I_.__genUpdated=K,I_.__generation=(I_.__generation||0)+1,void 0!==(L_=I_.__parent)&&L_.__genUpdated!==K&&(z_[++w_]=L_);++k_<O_;)void 0!==(L_=I_["__ref"+k_])&&L_.__genUpdated!==K&&(z_[++w_]=L_);void 0!==(I_=z_.pop())?++U_:P_[U_--]=void 0}if(void 0!==($_=A_.__parent)&&m_<=0){for(var M_,E_=A_.__refsLength||0,S_=-1;++S_<E_;)void 0!==(M_=A_["__ref"+S_])&&(M_.__context=void 0,A_["__ref"+S_]=void 0);if(A_.__refsLength=void 0,Array.isArray("sentinel"===(A_&&A_.$type)?A_.value:A_)){var D_=A_.__context;if(null!=D_){for(var q_=(A_.__refIndex||0)-1,R_=(D_.__refsLength||0)-1;++q_<=R_;)D_["__ref"+q_]=D_["__ref"+(q_+1)];D_.__refsLength=R_,A_.__refIndex=void 0,A_.__context=null}}$_[A_.__key]=A_.__parent=void 0;var C_=H.__head,B_=H.__tail;if(null!=A_&&"object"==typeof A_){var W_=A_.__next,F_=A_.__prev;W_&&null!=W_&&"object"==typeof W_&&(W_.__prev=F_),F_&&null!=F_&&"object"==typeof F_&&(F_.__next=W_),A_===C_&&(H.__head=H.__next=C_=W_),A_===B_&&(H.__tail=H.__prev=B_=F_),A_.__next=A_.__prev=void 0}}A_=$_}}if(null==E||"error"===D){A.length=y+g+1,y=k[--O],g=x-y-1,h=L[O],x=h.length-1,m[m.length]=null;break e}var N_;if(void 0===(N_=h.__container||h).__context){var T_=E.__refsLength||0;E["__ref"+T_]=N_,E.__refsLength=T_+1,N_.__refIndex=T_,N_.__context=E}do{h=L[--O],y=k[O],g=x-y,x=h.length-1}while(O>-1&&y===x);if(y<x)for(;Array.isArray(S="sentinel"===(D=E&&E.$type)?E.value:E);){var V_=H.__head,J_=H.__tail;if(E&&1!==E.$expires){var Q_=E.__next,G_=E.__prev;E!==V_&&(Q_&&null!=Q_&&"object"==typeof Q_&&(Q_.__prev=G_),G_&&null!=G_&&"object"==typeof G_&&(G_.__next=Q_),(Q_=V_)&&null!=Q_&&"object"==typeof Q_&&(V_.__prev=E),H.__head=H.__next=V_=E,null!=V_&&"object"==typeof V_&&(V_.__next=Q_,V_.__prev=void 0)),null!=J_&&E!==J_||(H.__tail=H.__prev=J_=G_||E)}M=U,W=B,L[O]=h,k[O++]=y,h=S,x=h.length-1,g=0,y=0;continue t}if(O>-1){y+=1,M=E,W=F;continue t}}break t}}if(null==E||void 0!==D){A.length=y+g+1;break e}s[y]=M=E,v[y]=W=F,P[y]=I}if(y===x){if(c=h[y],null!=c&&"object"==typeof c&&(Array.isArray(c)?null!=(c=c[c.index||(c.index=0)])&&"object"==typeof c&&(c=void 0===c.offset&&(c.offset=c.from||(c.from=0))||c.offset):c=void 0===c.offset&&(c.offset=c.from||(c.from=0))||c.offset),m[m.length=y]=c,null!=c){A[A.length=y+g]=c,E=M[c],F=W&&W[c],I=I[c];var H_=0;if(null==F)N=F,V=0,T="primitive",Q=void 0,J=void 0;else if(null==(J=F.$expires)||1===J||0!==J&&J>Date.now())J=F.$expires,Q=F.$timestamp,N="sentinel"===(T=F&&F.$type)?F.value:F,Array.isArray(N)?(null==(V=F.$size)&&(V=("sentinel"===T&&50||0)+N.length),T="array"):"sentinel"===T?null==(V=F.$size)&&(V=50+("string"==typeof N&&N.length||1)):null==F||"object"!=typeof F?(V="string"==typeof N?N.length:1,T="primitive"):(V=F.$size||0,T=T||"leaf");else if(J=0,Q=void 0,void 0===F.__invalidated){F.__invalidated=!0,F.$expires=0,d[d.length]=F;var K_=H.__head,X_=H.__tail;if(null!=F&&"object"==typeof F){var Y_=F.__next,Z_=F.__prev;Y_&&null!=Y_&&"object"==typeof Y_&&(Y_.__prev=Z_),Z_&&null!=Z_&&"object"==typeof Z_&&(Z_.__next=Y_),F===K_&&(H.__head=H.__next=K_=Y_),F===X_&&(H.__tail=H.__prev=X_=Z_),F.__next=F.__prev=void 0}}if(E===F)S=N,q=V,D=T,C=Q,R=J;else if(null==E)S=E,q=0,D="primitive",C=void 0,R=void 0;else if(null==(R=E.$expires)||1===R||0!==R&&R>Date.now())R=E.$expires,C=E.$timestamp,S="sentinel"===(D=E&&E.$type)?E.value:E,Array.isArray(S)?(null==(q=E.$size)&&(q=("sentinel"===D&&50||0)+S.length),D="array"):"sentinel"===D?null==(q=E.$size)&&(q=50+("string"==typeof S&&S.length||1)):null==E||"object"!=typeof E?(q="string"==typeof S?S.length:1,D="primitive"):(q=E.$size||0,D=D||"leaf");else if(R=0,C=void 0,void 0===E.__invalidated){E.__invalidated=!0,E.$expires=0,d[d.length]=E;var er=H.__head,tr=H.__tail;if(null!=E&&"object"==typeof E){var _r=E.__next,rr=E.__prev;_r&&null!=_r&&"object"==typeof _r&&(_r.__prev=rr),rr&&null!=rr&&"object"==typeof rr&&(rr.__next=_r),E===er&&(H.__head=H.__next=er=_r),E===tr&&(H.__tail=H.__prev=tr=rr),E.__next=E.__prev=void 0}}t:for(;!1===(Q<C||0===J&&((E=F)||!0));){if("primitive"===T?(T="sentinel",V=50+(V||1),F={$size:V,$type:T,value:N}):"array"===T?F.$type=T=F.$type||"leaf":(F.$size=V,F.$type=T=T||"leaf"),E&&E!==F){if("array"===D){var nr=E.__context;if(null!=nr){for(var ir=(E.__refIndex||0)-1,or=(nr.__refsLength||0)-1;++ir<=or;)nr["__ref"+ir]=nr["__ref"+(ir+1)];nr.__refsLength=or,E.__refIndex=void 0,E.__context=null}}if(E.__refsLength){for(var lr,ar=E.__refsLength||0,fr=F.__refsLength||0,sr=-1;++sr<ar;)void 0!==(lr=E["__ref"+sr])&&(lr.__context=F,F["__ref"+(fr+sr)]=lr,E["__ref"+sr]=void 0);F.__refsLength=fr+ar,E.__refsLength=void 0}var vr=H.__head,pr=H.__tail;if(null!=E&&"object"==typeof E){var dr=E.__next,ur=E.__prev;dr&&null!=dr&&"object"==typeof dr&&(dr.__prev=ur),ur&&null!=ur&&"object"==typeof ur&&(ur.__next=dr),E===vr&&(H.__head=H.__next=vr=dr),E===pr&&(H.__tail=H.__prev=pr=ur),E.__next=E.__prev=void 0}}H_=V-q,F.$size=V-H_,E&&F&&void 0!==!E.__generation&&(void 0===F.__generation||E.__generation>F.__generation)&&(F.__generation=E.__generation),M[c]=E=F;break t}if(E.__parent=M,E.__key=c,0!==H_)for(var hr,cr,yr=E;void 0!==yr;){if(yr.$size=cr=(yr.$size||0)+H_,yr.__genUpdated!==K)for(var gr,xr,br,jr,$r,mr=yr,Ar=[],zr=0;zr>=0;){if(void 0===(gr=Ar[zr]))for(br=jr=-1,$r=mr.__refsLength||0,Ar[zr]=gr=[],mr.__genUpdated=K,mr.__generation=(mr.__generation||0)+1,void 0!==(xr=mr.__parent)&&xr.__genUpdated!==K&&(gr[++jr]=xr);++br<$r;)void 0!==(xr=mr["__ref"+br])&&xr.__genUpdated!==K&&(gr[++jr]=xr);void 0!==(mr=gr.pop())?++zr:Ar[zr--]=void 0}if(void 0!==(hr=yr.__parent)&&cr<=0){for(var Lr,kr=yr.__refsLength||0,wr=-1;++wr<kr;)void 0!==(Lr=yr["__ref"+wr])&&(Lr.__context=void 0,yr["__ref"+wr]=void 0);if(yr.__refsLength=void 0,Array.isArray("sentinel"===(yr&&yr.$type)?yr.value:yr)){var Or=yr.__context;if(null!=Or){for(var Ir=(yr.__refIndex||0)-1,Pr=(Or.__refsLength||0)-1;++Ir<=Pr;)Or["__ref"+Ir]=Or["__ref"+(Ir+1)];Or.__refsLength=Pr,yr.__refIndex=void 0,yr.__context=null}}hr[yr.__key]=yr.__parent=void 0;var Ur=H.__head,Mr=H.__tail;if(null!=yr&&"object"==typeof yr){var Er=yr.__next,Sr=yr.__prev;Er&&null!=Er&&"object"==typeof Er&&(Er.__prev=Sr),Sr&&null!=Sr&&"object"==typeof Sr&&(Sr.__next=Er),yr===Ur&&(H.__head=H.__next=Ur=Er),yr===Mr&&(H.__tail=H.__prev=Mr=Sr),yr.__next=yr.__prev=void 0}}yr=hr}else for(var Dr=E;void 0!==Dr;){if(Dr.__genUpdated!==K)for(var qr,Rr,Cr,Br,Wr,Fr=Dr,Nr=[],Tr=0;Tr>=0;){if(void 0===(qr=Nr[Tr]))for(Cr=Br=-1,Wr=Fr.__refsLength||0,Nr[Tr]=qr=[],Fr.__genUpdated=K,Fr.__generation=(Fr.__generation||0)+1,void 0!==(Rr=Fr.__parent)&&Rr.__genUpdated!==K&&(qr[++Br]=Rr);++Cr<Wr;)void 0!==(Rr=Fr["__ref"+Cr])&&Rr.__genUpdated!==K&&(qr[++Br]=Rr);void 0!==(Fr=qr.pop())?++Tr:Nr[Tr--]=void 0}Dr=Dr.__parent}var Vr=H.__head,Jr=H.__tail;if(E&&1!==E.$expires){var Qr=E.__next,Gr=E.__prev;E!==Vr&&(Qr&&null!=Qr&&"object"==typeof Qr&&(Qr.__prev=Gr),Gr&&null!=Gr&&"object"==typeof Gr&&(Gr.__next=Qr),(Qr=Vr)&&null!=Qr&&"object"==typeof Qr&&(Vr.__prev=E),H.__head=H.__next=Vr=E,null!=Vr&&"object"==typeof Vr&&(Vr.__next=Qr,Vr.__prev=void 0)),null!=Jr&&E!==Jr||(H.__tail=H.__prev=Jr=Gr||E)}}S="sentinel"===(D=E&&E.$type)?E.value:E}break e}if(null!=E)if(z.value=S,"error"===D)for(var Hr,Kr,Xr,Yr,Zr,en,tn,_n,rn=I.__observers.concat(),nn=-1,on=rn.length;++nn<on;){if(_n=1,y<x)for(en=y,tn=x;++en<=tn;)null!=(Zr=h[en])&&(Array.isArray(Zr)?_n*=Zr.length||1:null!=Zr&&"object"==typeof Zr&&(_n*=Zr.to-(Zr.offset||Zr.from||0)+1));(Hr=rn[nn]).count=(Hr.count||0)-_n,Kr=Array.isArray(z)?[]:null!=z&&"object"==typeof z?{}:z;var ln,an;for(var fn in z)if(z.hasOwnProperty(fn)){if(ln=an=z[fn],Array.isArray(ln)){var sn=-1,vn=ln.length;for(an=new Array(vn);++sn<vn;)an[sn]=ln[sn]}else null!=ln&&"object"==typeof ln&&(an=Object.create(ln));Kr[fn]=an}Yr=Array.isArray(S)?[]:null!=S&&"object"==typeof S?{}:S;var pn,dn;for(var un in S)if(S.hasOwnProperty(un)&&"_"!==un[0]){if(pn=dn=S[un],Array.isArray(pn)){var hn=-1,cn=pn.length;for(dn=new Array(cn);++hn<cn;)dn[hn]=pn[hn]}else null!=pn&&"object"==typeof pn&&(dn=Object.create(pn));Yr[un]=dn}Kr.path=Kr.path.slice(Hr.path.length),Kr.value=Yr,(Xr=Hr.errors)[Xr.length]=Kr}else for(var yn,gn,xn,bn,jn,$n,mn=I.__observers.concat(),An=-1,zn=mn.length;++An<zn;){if($n=1,void 0===S&&y<x)for(bn=y,jn=x;++bn<=jn;)null!=(xn=h[bn])&&(Array.isArray(xn)?$n*=xn.length||1:null!=xn&&"object"==typeof xn&&($n*=xn.to-(xn.offset||xn.from||0)+1));if((yn=mn[An]).count=(yn.count||0)-$n,!0===yn.streaming&&(void 0!==S||!0===yn.materialized)){gn=Array.isArray(z)?[]:null!=z&&"object"==typeof z?{}:z;var Ln,kn;for(var wn in z)if(z.hasOwnProperty(wn)){if(Ln=kn=z[wn],Array.isArray(Ln)){var On=-1,In=Ln.length;for(kn=new Array(In);++On<In;)kn[On]=Ln[On]}else null!=Ln&&"object"==typeof Ln&&(kn=Object.create(Ln));gn[wn]=kn}gn.path=gn.path.slice(yn.path.length),yn.onNext(gn)}}e:for(;y>=0;--y)if(null!=(c=h[y])&&"object"==typeof c){if(Array.isArray(c)){if(++c.index!==c.length)break e;if(null==(c=c[c.index=0])||"object"!=typeof c)continue e}if(!(++c.offset>(c.to||(c.to=c.from+(c.length||1)-1))))break e;c.offset=c.from}}I=P[-1];for(var Pn,Un,Mn=I.__observers.concat(),En=-1,Sn=Mn.length;++En<Sn;)(Pn=Mn[En]).count<=0&&(!1===Pn.streaming&&Pn.onNext({paths:Pn.originals.map(function(e){return e.slice(Pn.path.length)}),value:G.getValueSync(Pn.path,U,U)}),0===(Un=Pn.errors).length?Pn.onCompleted&&Pn.onCompleted():1===Un.length?Pn.onError&&Pn.onError(Un[0]):Pn.onError&&Pn.onError({innerErrors:Un}));var Dn,qn,Rn,Cn,Bn=G._maxSize,Wn=n.$size,Fn=Bn*G._collectRatio,Nn=0;if(Wn>=Bn&&(null==H._pendingRequests||H._pendingRequests<=0)){for(;Wn>=Fn&&null!=(Cn=d.pop());){Nn++,Wn-=Rn=Cn.$size||0;do{if(qn=Cn.__parent,(Cn.$size-=Rn)<=0){for(var Tn,Vn=Cn.__refsLength||0,Jn=-1;++Jn<Vn;)void 0!==(Tn=Cn["__ref"+Jn])&&(Tn.__context=void 0,Cn["__ref"+Jn]=void 0);if(Cn.__refsLength=void 0,Array.isArray("sentinel"===(Cn&&Cn.$type)?Cn.value:Cn)){var Qn=Cn.__context;if(null!=Qn){for(var Gn=(Cn.__refIndex||0)-1,Hn=(Qn.__refsLength||0)-1;++Gn<=Hn;)Qn["__ref"+Gn]=Qn["__ref"+(Gn+1)];Qn.__refsLength=Hn,Cn.__refIndex=void 0,Cn.__context=null}}void 0!==qn&&(qn[Cn.__key]=Cn.__parent=void 0)}Cn=qn}while(void 0!==Cn)}if(d.length<=0)for(Dn=H.__tail;Wn>=Fn&&null!=(Cn=Dn);){Nn++,Dn=Dn.__prev,Wn-=Rn=Cn.$size||0,Cn.__prev=Cn.__next=void 0;do{if(qn=Cn.__parent,(Cn.$size-=Rn)<=0){for(var Kn,Xn=Cn.__refsLength||0,Yn=-1;++Yn<Xn;)void 0!==(Kn=Cn["__ref"+Yn])&&(Kn.__context=void 0,Cn["__ref"+Yn]=void 0);if(Cn.__refsLength=void 0,Array.isArray("sentinel"===(Cn&&Cn.$type)?Cn.value:Cn)){var Zn=Cn.__context;if(null!=Zn){for(var ei=(Cn.__refIndex||0)-1,ti=(Zn.__refsLength||0)-1;++ei<=ti;)Zn["__ref"+ei]=Zn["__ref"+(ei+1)];Zn.__refsLength=ti,Cn.__refIndex=void 0,Cn.__context=null}}void 0!==qn&&(qn[Cn.__key]=Cn.__parent=void 0)}Cn=qn}while(void 0!==Cn)}null==(H.__tail=H.__prev=Dn)?H.__head=H.__next=void 0:Dn.__next=void 0}return se.empty}function j(e,t,_,r){var n,i,o,l,a,f,s,v,p,d,u,h,c,y,g,x=this,b=x._root,j=pe++;r=r||x._path,e=e||[],t=t||x._cache,_=_||x.__context||(e=r.concat(e))&&t,n=e,a={path:[],optimized:[]},f=[],s=[],o=0,l=n.length-1,p=t,d=_,u=d,h=u,a.path,a.optimized,v=-1,x._expired||(x._expired=[]),f[-1]=n,s[-1]=0;e:for(;;){for(;o<l;++o)if(i=n[o],null!=i&&"object"==typeof i&&(Array.isArray(i)?null!=(i=i[i.index||(i.index=0)])&&"object"==typeof i&&(i=void 0===i.offset&&(i.offset=i.from||(i.from=0))||i.offset):i=void 0===i.offset&&(i.offset=i.from||(i.from=0))||i.offset),null!=i){for(u=(u=d[i])&&(null==(g=u.$expires)||1===g||0!==g&&g>Date.now()?u:void 0);Array.isArray(h="sentinel"===(c=u&&u.$type)?u.value:u);){var $=b.__head,m=b.__tail;if(u&&1!==u.$expires){var A=u.__next,z=u.__prev;u!==$&&(A&&null!=A&&"object"==typeof A&&(A.__prev=z),z&&null!=z&&"object"==typeof z&&(z.__next=A),(A=$)&&null!=A&&"object"==typeof A&&($.__prev=u),b.__head=b.__next=$=u,null!=$&&"object"==typeof $&&($.__next=A,$.__prev=void 0)),null!=m&&u!==m||(b.__tail=b.__prev=m=z||u)}if(void 0!==(u=u.__context));else{d=p,f[v]=n,s[v++]=o,n=h,l=n.length-1,0,o=0;t:for(;;){for(;o<l;++o)if(null!=(i=n[o])){for(u=(u=d[i])&&(null==(g=u.$expires)||1===g||0!==g&&g>Date.now()?u:void 0);Array.isArray(h="sentinel"===(c=u&&u.$type)?u.value:u);){var L=b.__head,k=b.__tail;if(u&&1!==u.$expires){var w=u.__next,O=u.__prev;u!==L&&(w&&null!=w&&"object"==typeof w&&(w.__prev=O),O&&null!=O&&"object"==typeof O&&(O.__next=w),(w=L)&&null!=w&&"object"==typeof w&&(L.__prev=u),b.__head=b.__next=L=u,null!=L&&"object"==typeof L&&(L.__next=w,L.__prev=void 0)),null!=k&&u!==k||(b.__tail=b.__prev=k=O||u)}if(void 0===(u=u.__context)){d=p,f[v]=n,s[v++]=o,n=h,l=n.length-1,0,o=0;continue t}}if(null==u||void 0!==c)break e;d=u}if(o===l){if(i=n[o],null!=i&&(u=(u=d[i])&&(null==(g=u.$expires)||1===g||0!==g&&g>Date.now()?u:void 0)),null==u||"error"===c)break e;var I;if(void 0===(I=n.__container||n).__context){
var P=u.__refsLength||0;u["__ref"+P]=I,u.__refsLength=P+1,I.__refIndex=P,I.__context=u}do{n=f[--v],o=s[v],l-o,l=n.length-1}while(v>-1&&o===l);if(o<l)for(;Array.isArray(h="sentinel"===(c=u&&u.$type)?u.value:u);){var U=b.__head,M=b.__tail;if(u&&1!==u.$expires){var E=u.__next,S=u.__prev;u!==U&&(E&&null!=E&&"object"==typeof E&&(E.__prev=S),S&&null!=S&&"object"==typeof S&&(S.__next=E),(E=U)&&null!=E&&"object"==typeof E&&(U.__prev=u),b.__head=b.__next=U=u,null!=U&&"object"==typeof U&&(U.__next=E,U.__prev=void 0)),null!=M&&u!==M||(b.__tail=b.__prev=M=S||u)}if(void 0===(u=u.__context)){d=p,f[v]=n,s[v++]=o,n=h,l=n.length-1,0,o=0;continue t}}if(v>-1){o+=1,d=u;continue t}}break t}}}if(null==u||void 0!==c)break e;d=u}if(o===l){i=n[o],null!=i&&"object"==typeof i&&(Array.isArray(i)?null!=(i=i[i.index||(i.index=0)])&&"object"==typeof i&&(i=void 0===i.offset&&(i.offset=i.from||(i.from=0))||i.offset):i=void 0===i.offset&&(i.offset=i.from||(i.from=0))||i.offset),null!=i&&(u=d[i]),y=-1*(u&&u.$size||0);for(var D,q,R=u;void 0!==R;){if(R.$size=q=(R.$size||0)+y,R.__genUpdated!==j)for(var C,B,W,F,N,T=R,V=[],J=0;J>=0;){if(void 0===(C=V[J]))for(W=F=-1,N=T.__refsLength||0,V[J]=C=[],T.__genUpdated=j,T.__generation=(T.__generation||0)+1,void 0!==(B=T.__parent)&&B.__genUpdated!==j&&(C[++F]=B);++W<N;)void 0!==(B=T["__ref"+W])&&B.__genUpdated!==j&&(C[++F]=B);void 0!==(T=C.pop())?++J:V[J--]=void 0}if(void 0!==(D=R.__parent)&&q<=0){for(var Q,G=R.__refsLength||0,H=-1;++H<G;)void 0!==(Q=R["__ref"+H])&&(Q.__context=void 0,R["__ref"+H]=void 0);if(R.__refsLength=void 0,Array.isArray("sentinel"===(R&&R.$type)?R.value:R)){var K=R.__context;if(null!=K){for(var X=(R.__refIndex||0)-1,Y=(K.__refsLength||0)-1;++X<=Y;)K["__ref"+X]=K["__ref"+(X+1)];K.__refsLength=Y,R.__refIndex=void 0,R.__context=null}}D[R.__key]=R.__parent=void 0;var Z=b.__head,ee=b.__tail;if(null!=R&&"object"==typeof R){var te=R.__next,_e=R.__prev;te&&null!=te&&"object"==typeof te&&(te.__prev=_e),_e&&null!=_e&&"object"==typeof _e&&(_e.__next=te),R===Z&&(b.__head=b.__next=Z=te),R===ee&&(b.__tail=b.__prev=ee=_e),R.__next=R.__prev=void 0}}R=D}}break e}return a.value=h,a}function $(e,t,_,r,n,i,o){var l,a,f,s,v,p,d,u,h,c,y,g,x,b,j,$,m,A,z,L,k,w,O=this,I=O._root,P=pe++;for(a=e,O._connected,O._materialized,O._streaming,O._refreshing,f=o||O._path,l=a.contexts||(a.contexts=[]),a.messages||(a.messages=[]),a.batchedPathMaps||(a.batchedPathMaps=[]),a.originalMisses||(a.originalMisses=[]),a.optimizedMisses||(a.optimizedMisses=[]),a.errors||(a.errors=[]),y=a.refs||(a.refs=[]),x=a.crossed||(a.crossed=[]),g=a.cols||(a.cols=[]),c=a.pbv||(a.pbv={path:[],optimized:[]}),d=a.index||(a.index=0),u=a.length,a.batchedPathMap,w=a.value,w,n=n||O._cache,o=f,null==i&&null==(i=O.__context)&&(f.length>0?(c=O._getContext(),f=c.path,c.path=[],c.optimized=[],i=c.value||{}):i=n),j=n,$=i,m=$,A=m,c.path,c.optimized,b=-1,0,O._expired||(O._expired=[]),y[-1]=f,g[-1]=0,x[-1]=h=f,l[-1]=$;d<u;a.index=++d)for(f=a[d],v=f.index||(f.index=0),f.offset||(f.offset=0),p=f.length-1,b=-1,y[-1]=f,x=[],x[-1]=h;v>=0;){g[b=-1]=v,$=l[v-1];e:for(;;){for(;v<p;++v)if(s=f[v],null!=s&&"object"==typeof s&&(Array.isArray(s)?null!=(s=s[s.index||(s.index=0)])&&"object"==typeof s&&(s=void 0===s.offset&&(s.offset=s.from||(s.from=0))||s.offset):s=void 0===s.offset&&(s.offset=s.from||(s.from=0))||s.offset),null!=s){for(m=(m=$[s])&&(null==(k=m.$expires)||1===k||0!==k&&k>Date.now()?m:void 0);Array.isArray(A="sentinel"===(z=m&&m.$type)?m.value:m);){var U=I.__head,M=I.__tail;if(m&&1!==m.$expires){var E=m.__next,S=m.__prev;m!==U&&(E&&null!=E&&"object"==typeof E&&(E.__prev=S),S&&null!=S&&"object"==typeof S&&(S.__next=E),(E=U)&&null!=E&&"object"==typeof E&&(U.__prev=m),I.__head=I.__next=U=m,null!=U&&"object"==typeof U&&(U.__next=E,U.__prev=void 0)),null!=M&&m!==M||(I.__tail=I.__prev=M=S||m)}if(void 0!==(m=m.__context));else{$=j,y[b]=f,g[b++]=v,f=A,p=f.length-1,0,v=0;t:for(;;){for(;v<p;++v)if(null!=(s=f[v])){for(m=(m=$[s])&&(null==(k=m.$expires)||1===k||0!==k&&k>Date.now()?m:void 0);Array.isArray(A="sentinel"===(z=m&&m.$type)?m.value:m);){var D=I.__head,q=I.__tail;if(m&&1!==m.$expires){var R=m.__next,C=m.__prev;m!==D&&(R&&null!=R&&"object"==typeof R&&(R.__prev=C),C&&null!=C&&"object"==typeof C&&(C.__next=R),(R=D)&&null!=R&&"object"==typeof R&&(D.__prev=m),I.__head=I.__next=D=m,null!=D&&"object"==typeof D&&(D.__next=R,D.__prev=void 0)),null!=q&&m!==q||(I.__tail=I.__prev=q=C||m)}if(void 0===(m=m.__context)){$=j,y[b]=f,g[b++]=v,f=A,p=f.length-1,0,v=0;continue t}}if(null==m||void 0!==z)break e;$=m}if(v===p){if(s=f[v],null!=s&&(m=(m=$[s])&&(null==(k=m.$expires)||1===k||0!==k&&k>Date.now()?m:void 0)),null==m||"error"===z)break e;var B;if(void 0===(B=f.__container||f).__context){var W=m.__refsLength||0;m["__ref"+W]=B,m.__refsLength=W+1,B.__refIndex=W,B.__context=m}do{f=y[--b],v=g[b],p-v,p=f.length-1}while(b>-1&&v===p);if(v<p)for(;Array.isArray(A="sentinel"===(z=m&&m.$type)?m.value:m);){var F=I.__head,N=I.__tail;if(m&&1!==m.$expires){var T=m.__next,V=m.__prev;m!==F&&(T&&null!=T&&"object"==typeof T&&(T.__prev=V),V&&null!=V&&"object"==typeof V&&(V.__next=T),(T=F)&&null!=T&&"object"==typeof T&&(F.__prev=m),I.__head=I.__next=F=m,null!=F&&"object"==typeof F&&(F.__next=T,F.__prev=void 0)),null!=N&&m!==N||(I.__tail=I.__prev=N=V||m)}if(void 0===(m=m.__context)){$=j,y[b]=f,g[b++]=v,f=A,p=f.length-1,0,v=0;continue t}}if(b>-1){v+=1,$=m;continue t}}break t}}}if(null==m||void 0!==z)break e;l[v]=$=m}if(v===p){s=f[v],null!=s&&"object"==typeof s&&(Array.isArray(s)?null!=(s=s[s.index||(s.index=0)])&&"object"==typeof s&&(s=void 0===s.offset&&(s.offset=s.from||(s.from=0))||s.offset):s=void 0===s.offset&&(s.offset=s.from||(s.from=0))||s.offset),null!=s&&(m=$[s]),L=-1*(m&&m.$size||0);for(var J,Q,G=m;void 0!==G;){if(G.$size=Q=(G.$size||0)+L,G.__genUpdated!==P)for(var H,K,X,Y,Z,ee=G,te=[],_e=0;_e>=0;){if(void 0===(H=te[_e]))for(X=Y=-1,Z=ee.__refsLength||0,te[_e]=H=[],ee.__genUpdated=P,ee.__generation=(ee.__generation||0)+1,void 0!==(K=ee.__parent)&&K.__genUpdated!==P&&(H[++Y]=K);++X<Z;)void 0!==(K=ee["__ref"+X])&&K.__genUpdated!==P&&(H[++Y]=K);void 0!==(ee=H.pop())?++_e:te[_e--]=void 0}if(void 0!==(J=G.__parent)&&Q<=0){for(var re,ne=G.__refsLength||0,ie=-1;++ie<ne;)void 0!==(re=G["__ref"+ie])&&(re.__context=void 0,G["__ref"+ie]=void 0);if(G.__refsLength=void 0,Array.isArray("sentinel"===(G&&G.$type)?G.value:G)){var oe=G.__context;if(null!=oe){for(var le=(G.__refIndex||0)-1,ae=(oe.__refsLength||0)-1;++le<=ae;)oe["__ref"+le]=oe["__ref"+(le+1)];oe.__refsLength=ae,G.__refIndex=void 0,G.__context=null}}J[G.__key]=G.__parent=void 0;var fe=I.__head,ve=I.__tail;if(null!=G&&"object"==typeof G){var de=G.__next,ue=G.__prev;de&&null!=de&&"object"==typeof de&&(de.__prev=ue),ue&&null!=ue&&"object"==typeof ue&&(ue.__next=de),G===fe&&(I.__head=I.__next=fe=de),G===ve&&(I.__tail=I.__prev=ve=ue),G.__next=G.__prev=void 0}}G=J}}break e}e:for(;v>=0;--v)if(null!=(s=f[v])&&"object"==typeof s){if(Array.isArray(s)){if(++s.index!==s.length)break e;if(null==(s=s[s.index=0])||"object"!=typeof s)continue e}if(!(++s.offset>(s.to||(s.to=s.from+(s.length||1)-1))))break e;s.offset=s.from}}return t&&t(this),r&&r(),se.empty}function m(e,t,_){var r,n,i,o,l,a,f,s,v,p,d,u,h=this;h._root;for(n=t,o=e,v=0,p=o.length,i=((r=[])[-1]=u=_||(_={__observers:[]})).__observers,n&&-1===i.indexOf(n)&&(i[i.length]=n);v<p;o.index=++v)for(l=o[v],f=0,0,s=l.length-1;f>=0;){d=r[f-1];e:for(;;){for(;f<s;++f)a=l[f],null!=a&&"object"==typeof a&&(Array.isArray(a)?null!=(a=a[a.index||(a.index=0)])&&"object"==typeof a&&(a=void 0===a.offset&&(a.offset=a.from||(a.from=0))||a.offset):a=void 0===a.offset&&(a.offset=a.from||(a.from=0))||a.offset),null!=a&&(i=(u=d[a]||(d[a]={__observers:[]})).__observers,n&&-1===i.indexOf(n)&&(i[i.length]=n),r[f]=d=u);f===s&&(a=l[f],null!=a&&"object"==typeof a&&(Array.isArray(a)?null!=(a=a[a.index||(a.index=0)])&&"object"==typeof a&&(a=void 0===a.offset&&(a.offset=a.from||(a.from=0))||a.offset):a=void 0===a.offset&&(a.offset=a.from||(a.from=0))||a.offset),null!=a&&(i=(u=d[a]||(d[a]={__observers:[]})).__observers,n&&-1===i.indexOf(n)&&(i[i.length]=n,n.count=(n.count||0)+1)));break e}e:for(;f>=0;--f)if(null!=(a=l[f])&&"object"==typeof a){if(Array.isArray(a)){if(++a.index!==a.length)break e;if(null==(a=a[a.index=0])||"object"!=typeof a)continue e}if(!(++a.offset>(a.to||(a.to=a.from+(a.length||1)-1))))break e;a.offset=a.from}}return _}function A(e,t,_){var r,n,i,o,l,a,f,s,v,p,d,u,h=this;h._root;if(n=t,o=e,v=0,p=o.length,i=((r=[])[-1]=u=_).__observers,null!=n){var c,y;c=i,-1!==(y=c.indexOf(n))&&c.splice(y,1)}for(;v<p;o.index=++v)for(l=o[v],f=0,0,s=l.length-1;f>=0;){d=r[f-1];e:for(;;){for(;f<s;++f)if(a=l[f],null!=a&&"object"==typeof a&&(Array.isArray(a)?null!=(a=a[a.index||(a.index=0)])&&"object"==typeof a&&(a=void 0===a.offset&&(a.offset=a.from||(a.from=0))||a.offset):a=void 0===a.offset&&(a.offset=a.from||(a.from=0))||a.offset),null!=a){if(i=(u=d[a]).__observers,null!=n){var g,x;g=i,-1!==(x=g.indexOf(n))&&g.splice(x,1)}r[f]=d=u}if(f===s&&(a=l[f],null!=a&&"object"==typeof a&&(Array.isArray(a)?null!=(a=a[a.index||(a.index=0)])&&"object"==typeof a&&(a=void 0===a.offset&&(a.offset=a.from||(a.from=0))||a.offset):a=void 0===a.offset&&(a.offset=a.from||(a.from=0))||a.offset),null!=a&&(i=(u=d[a]).__observers,null!=n))){var b,j;b=i,-1!==(j=b.indexOf(n))&&b.splice(j,1),n.count=(n.count||0)-1}break e}e:for(;f>=0;--f)if(null!=(a=l[f])&&"object"==typeof a){if(Array.isArray(a)){if(++a.index!==a.length)break e;if(null==(a=a[a.index=0])||"object"!=typeof a)continue e}if(!(++a.offset>(a.to||(a.to=a.from+(a.length||1)-1))))break e;a.offset=a.from}}return _}function z(e,t,_,r,n,o,l){if(!Array.isArray(e))throw new Error("PathEvaluator.call must be called with an Array path.");n=n||[],o=o||[],l=l||[];var a=this,f=this._path,s=l.map(function(e){return f.concat(e)}),v=this.loader.call(f.concat(e),n,o,s).subscribe(function(e){var n=e.invalidated||[];if(n.length>0)v=$.call(a,n,function(){for(var n,i=[e.error],o=a._errorSelector;void 0!==(n=i.pop());)n.innerErrors?i.push.apply(i,n.innerErrors):(n.$type="error",a._setPath(n.path||n.pql,o(n),e.value));e.batchedPathMap=null,v=a._setPBF(e,t,_,r,a._cache,a._cache,[])},_,i,a._cache,a._cache);else{for(var o,l=[e.error],f=a._errorSelector;void 0!==(o=l.pop());)o.innerErrors?l.push.apply(l,o.innerErrors):(o.$type="error",a._setPath(o.path||o.pql,f(o),e.value));e.batchedPathMap=null,v=a._setPBF(e,t,_,r,a._cache,a._cache,[])}},_,i);return fe.create(function(e){v.dispose()})}function L(){var e,t=y,_=this,r=-1,n=arguments.length;for(e=new Array(n);++r<n;)e[r]=arguments[r];return fe.create(function(r){function n(e){r.next(e)}function i(e){r.error(e)}function o(){r.complete()}var l,a=-1,f=e.length;for(l=new Array(f);++a<f;)l[a]=e[a];return l.splice(1,0,n,i,o),t.apply(_,l)})}function k(){var e,t=x,_=this,r=-1,n=arguments.length;for(e=new Array(n);++r<n;)e[r]=arguments[r];return fe.create(function(r){function n(e){r.next(e)}function i(e){r.error(e)}function o(){r.complete()}var l,a=-1,f=e.length;for(l=new Array(f);++a<f;)l[a]=e[a];return l.splice(1,0,n,i,o),t.apply(_,l)})}function w(){var e,t=b,_=this,r=-1,n=arguments.length;for(e=new Array(n);++r<n;)e[r]=arguments[r];return fe.create(function(r){function n(e){r.next(e)}function i(e){r.error(e)}function o(){r.complete()}var l,a=-1,f=e.length;for(l=new Array(f);++a<f;)l[a]=e[a];return l.splice(1,0,n,i,o),t.apply(_,l)})}function O(){var e,t=$,_=this,r=-1,n=arguments.length;for(e=new Array(n);++r<n;)e[r]=arguments[r];return fe.create(function(r){function n(e){r.next(e)}function i(e){r.error(e)}function o(){r.complete()}var l,a=-1,f=e.length;for(l=new Array(f);++a<f;)l[a]=e[a];return l.splice(1,0,n,i,o),t.apply(_,l)})}function I(){var e,t=z,_=this,r=-1,n=arguments.length;for(e=new Array(n);++r<n;)e[r]=arguments[r];return fe.create(function(r){function n(e){r.next(e)}function i(e){r.error(e)}function o(){r.complete()}var l,a=-1,f=e.length;for(l=new Array(f);++a<f;)l[a]=e[a];return l.splice(1,0,n,i,o),t.apply(_,l)})}function P(){return[]}function U(){return[]}function M(){return[]}function E(){return[]}function S(){return[]}function D(){if(!0===this._batched)return this;var e=Object.create(this);return e._batched=!0,e}function q(){if(!1===this._batched)return this;var e=Object.create(this);return e._batched=!1,e}function R(){if(!0===this._lazy)return this;var e=Object.create(this);return e._lazy=!0,e}function C(){if(!1===this._lazy)return this;var e=Object.create(this);return e._lazy=!1,e}function B(){if(!0===this._streaming)return this;var e=Object.create(this);return e._streaming=!0,e}function W(){if(!1===this._streaming)return this;var e=Object.create(this);return e._streaming=!1,e}function F(){if(!0===this._connected)return this;var e=Object.create(this);return e._connected=!0,e}function N(){if(!1===this._connected)return this;var e=Object.create(this);return e._connected=!1,e}function T(){if(!0===this._refreshing)return this;var e=Object.create(this);return e._refreshing=!0,e}function V(){if(!1===this._refreshing)return this;var e=Object.create(this);return e._refreshing=!1,e}function J(){if(!0===this._materialized)return this;var e=Object.create(this);return e._materialized=!0,e}function Q(){if(!1===this._materialized)return this;var e=Object.create(this);return e._materialized=!1,e}function G(){return this._root._root=this}function H(e){function t(e){return"_"!==e[0]||"_"!==e[1]}var _,r,n,i=e||this._cache,o={},l=0,a=[];e:for(;l>=0;){for(_=a[l]||(a[l]={context:i,message:o,keys:Object.keys(i).filter(t)}),i=_.context,o=_.message,r=_.keys;null!=(n=r.pop());){if(null!=(i=i[n])&&"object"==typeof i){if(Array.isArray(i)){o=o[n]||(o[n]=[]),++l;continue e}o=o[n]||(o[n]={}),++l;continue e}o[n]=i,i=_.context}a[l--]=void 0}return o}function K(e){function t(e){return"$"!==e[0]&&("_"!==e[0]||"_"!==e[1])}var _,r,n,i=e,o=0,l=[],a=[],f=[];e:for(;o>=0;){for(_=l[o]||(l[o]={context:i,keys:Object.keys(i).filter(t)}),i=_.context,r=_.keys;null!=(n=r.pop());){if(a[o]=n,null!=(i=i[n])&&"object"==typeof i&&void 0===i.$type&&!Array.isArray(i)){++o;continue e}f.push(a.slice(0,o+1)),i=_.context}l[o--]=void 0}return b.call(this,{paths:f,value:e},null,null,null,this._cache,this._cache),this}function X(e,t,_){return JSON.stringify(Y(e),t,_)}function Y(e){var t,_,r,n;if(null===e||"object"!=typeof e)return e;if(e instanceof Array){for(t=[],r=0;r<e.length;r++)t.push(Y(e[r]));return t}t={};do{for(_=Object.keys(e),_.sort(),r=0;r<_.length;r++)n=_[r],"_"===n[0]&&"_"===n[1]||(t[n]=Y(e[n]));e=Object.getPrototypeOf(e)}while(null!=e);return t}function Z(e){return ee(oe(e))}function ee(e){return e.forEach(function(e){e.forEach(function(t,_){var r;Array.isArray(t)&&t.every(te)&&_e(t)&&(t.sort(function(e,t){return e-t}),t[t.length-1]-t[0]==t.length-1&&(r={},r.from=t[0],r.to=t[t.length-1],e[_]=r))})}),e}function te(e){return!Array.isArray(e)&&e-parseFloat(e)+1>=0}function _e(e){var t,_,r={};for(t=0,_=e.length;t<_;t++){if(r[e[t]])return!1;r[e[t]]=!0}return!0}function re(e){return e.reduce(function(e,t){return t instanceof Array?(e.push(re(t).slice(0).sort()),e):e.concat(t)},[]).slice(0).sort()}function ne(e){return JSON.stringify(re(e))}function ie(e){return"__observers"!==e&&"__pending"!==e&&"__batchID"!==e}function oe(e){var t,_,r,n,i,o,l,a,f,s,v,p,d,u=Object.keys(e).filter(ie),h=-1,c=u.length;if(0===c||!0===Array.isArray(e))return[[]];for(_={};++h<c;)t=u[h],r=oe(e[t]),n=ne(r),i="string"==typeof t?!(t.length>1&&"0"===t[0])&&te(t):te(t),(o=_[n])&&(l=o.head)?l[l.length]=i?parseInt(t,10):t:_[n]={head:[i?parseInt(t,10):t],tail:r};s=[];for(d in _)for(l=(o=_[d]).head,a=o.tail,h=-1,c=a.length;++h<c;){if(o=a[h],v=-1,p=o.length,""===l[0])f=[];else for(f=[1===l.length?l[0]:l];++v<p;)f[v+1]=o[v];s[s.length]=f}return s}function le(e){this.rootPE=e,this.requests=[]}function ae(e,t){this.rootPE=e,this.requestQueue=t,this.originalsSet={__observers:[]},this.optimizedSet={__observers:[]},this.observers=0,this.pending=!1,this.operation=null}var fe=e("../utils/rx/shakti-rx").RxObservable,se=e("rxjs/Subscription").Subscription,ve=e("../reactMixins/eventBus"),pe=(Array.isArray,0);Math.pow(2,53);r.prototype={_batched:!1,_lazy:!0,_connected:!0,_streaming:!0,_refreshing:!1,_materialized:!1,loader:{get:function(){return fe.create(function(e){return e.onCompleted(),function(){}})},call:function(){return fe.create(function(e){return e.onCompleted(),function(){}})}},get:a,set:f,invalidate:s,call:v,bind:p,hardBind:d,deferBind:u,serialize:H,deserialize:K,getValueSync:function(){return n(c.apply(this,arguments).value)},getBoundValue:function(){return n(this._getContext().value)},setValueSync:function(){return g.apply(this,arguments).value},toBatched:D,toIndependent:q,toLazy:R,toEager:C,toRemote:F,toLocal:N,toProgressive:B,toAggregate:W,toCached:V,toRefreshed:T,toMaterialized:J,toDematerialized:Q,toRoot:G,_collapse:Z,_getPaths:y,_setPaths:x,_setPBF:b,_getPathsAsObservable:L,_setPathsAsObservable:k,_setPBFAsObservable:w,_stringify:X,_pathMapWithObserver:m,_pathMapWithoutObserver:A,_getContext:h,_getPath:c,_setPath:g,_invalidatePath:j};le.prototype.get=function(){for(var e,t=this.requests,_=t.length,r=_;--r>-1;)if(null!=(e=t[r])&&!0!==e.pending)return e;return t[_]=new ae(this.rootPE,this)},le.prototype.remove=function(e){var t,_;t=this.requests,-1!==(_=t.indexOf(e))&&t.splice(_,1)},le.prototype.batch=function(e,t,_){return this.get().batch(e,t,_)},le.prototype.flush=function(e,t,_){return new ae(this.rootPE,this).flush(e,t,_)},ae.prototype.batch=function(e,t,_){var r=this,n=r.rootPE,i=r.originalsSet,o=r.optimizedSet,l=r.requestQueue;if(i=n._pathMapWithObserver(e,_,i),o=n._pathMapWithObserver(t,null,o),r.originalsSet=i,r.optimizedSet=o,1==++r.observers){var a=setTimeout(function(){a=-1,r.flush()},16);r.operation={dispose:function(){-1!==a&&clearTimeout(a),a=-1,l.remove(r)}}}return{dispose:function(){var a;i=n._pathMapWithoutObserver(e,_,i),o=n._pathMapWithoutObserver(t,null,o),r.originalsSet=i,r.optimizedSet=o,--r.observers<=0&&(l.remove(r),(a=r.operation)&&a.dispose(),r.operation=null,r.pending=!1)}}},ae.prototype.flush=function(e,t,_){var r=this,n=r.rootPE,i=r.originalsSet,o=r.optimizedSet;r.pending=!0,e&&t&&_&&(i=n._pathMapWithObserver(e,_,i),o=n._pathMapWithObserver(t,null,o),r.observers++),r.originalsSet=i,r.optimizedSet=o;var l,a,f,s,v,p=!1;return f=setTimeout(function(){f=-1,l=n._collapse(r.originalsSet)},16),n._pendingRequests=(n._pendingRequests||0)+1,r.operation={dispose:function(){s&&("function"==typeof s?s():s.dispose&&s.dispose())}},s={dispose:function(){v&&("function"==typeof v?v():v.dispose&&v.dispose()),!1===p&&(p=!0,n._pendingRequests-=1),-1!==f&&(clearTimeout(f),f=-1)}},v=n.loader.get(n._collapse(r.optimizedSet)).subscribe(function(e){a=e},function(e){s.dispose();for(var t,_=r.originalsSet.__observers.concat(),n=-1,i=_.length;++n<i;)(t=_[n]).onError&&t.onError(e)},function(){if(!1===p&&(p=!0,n._pendingRequests-=1),null!=a){-1!==f&&(clearTimeout(f),f=-1,l=n._collapse(r.originalsSet)),a.paths=l;for(var e,t=[a.error],_=n._errorSelector;void 0!==(e=t.pop());)e.innerErrors?t.push.apply(t,e.innerErrors):(e.$type="error",n._setPath(e.path||e.pql,_(e),a.value));a.batchedPathMap=r.originalsSet,s=n._setPBF(a,null,null,null,n._cache,n._cache,[])}else for(var i,o=r.originalsSet.__observers.concat(),v=-1,d=o.length;++v<d;)(i=o[v]).onCompleted&&i.onCompleted()}),r.operation},t.exports=r});C.r("player/nfplayer/components/controls/audioSubtitleButton.jsx",function(t,e,n){"use strict";var s=t("prop-types"),o=t("react"),r=t("create-react-class"),a=t("../../../../common/svgIcon.jsx"),c=t("classnames"),i=r({displayName:"AudioSubtitlesButton",statics:{BUNDLE:{BVUI:"discovery/akira/BVUICommon"}},contextTypes:{getI18nString:s.func.isRequired},render:function(){return o.createElement("button",{"aria-label":this.context.getI18nString(i.BUNDLE.BVUI,"ce-button-alt-subtitles"),onClick:this.props.onClick,className:c("video-controls-subtitles","default-control-button")},o.createElement(a,{name:"nfplayerSubtitles"}))}});e.exports=i});C.r("player/nfplayer/components/controls/episodes.jsx",function(s,e,o){"use strict";var t=s("prop-types"),r=s("react"),p=s("create-react-class"),i=s("../../mixins/controlFocus.js"),n=s("./button.jsx"),a=p({displayName:"EpisodesButton",statics:{BUNDLE:{BVUI:"discovery/akira/BVUICommon"}},contextTypes:{getI18nString:t.func.isRequired},render:function(){return r.createElement(n,{tabIndex:this.props.tabIndex,ariaLabel:this.context.getI18nString(a.BUNDLE.BVUI,"ce-button-alt-episodes"),focusName:i.EPISODES,hovered:this.props.hovered,focused:this.props.focused,onClick:this.props.onClick,startHover:this.props.startHover,stopHover:this.props.stopHover,grabFocus:this.props.grabFocus,releaseFocus:this.props.releaseFocus,iconName:"nfplayerEpisodes"})}});e.exports=a});C.r("player/nfplayer/components/controls/stop.jsx",function(s,t,e){"use strict";var o=s("prop-types"),r=s("react"),p=s("create-react-class"),n=s("../../mixins/controlFocus.js"),a=s("./button.jsx"),c=p({displayName:"StopButton",statics:{BUNDLE:{MDX:"discovery/akira/Mdx"}},contextTypes:{getI18nString:o.func.isRequired},render:function(){return r.createElement(a,{tabIndex:this.props.tabIndex,ariaLabel:this.context.getI18nString(c.BUNDLE.MDX,"mdx-stop"),focusName:n.STOP,hovered:this.props.hovered,focused:this.props.focused,onClick:this.props.onClick,startHover:this.props.startHover,stopHover:this.props.stopHover,grabFocus:this.props.grabFocus,releaseFocus:this.props.releaseFocus,iconName:"nfplayerStop"})}});t.exports=c});C.r("utils/htmlUtils.js",function(n,e,t){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},o={id:"__tagIdent"},r=function(n){return n},a=Object.freeze||r,l=a({html:{name:"div",id:o},body:{name:"html",id:o},div:{name:"div",id:o},span:{name:"span",id:o},p:{name:"p",id:o},li:{name:"li",id:o},img:{name:"img",id:o},a:{name:"a",id:o},em:{name:"em",id:o},br:{name:"br",id:o},h1:{name:"h1",id:o},close:{name:"_close_",id:o},isTag:function(n){return n&&n.id&&n.id===o&&"_close_"!==n.name},isClose:function(n){return n&&n.id&&n.id===o&&"_close_"===n.name},toString:function(){return this.name}}),u=function(n,e){return""===e?n:("clazz"===n&&(n="class"),[n,'="',e,'"'].join(""))},s=function(n){var e=void 0,t=[];for(e in n)n.hasOwnProperty(e)&&(t.push(u(e,n[e])),t.push(" "));return t.join("").trim()},m=function(n,e,t){var o=e||null,r=t||null;return 1===arguments.length&&"object"===(void 0===n?"undefined":i(n))&&(o=n.attrs,r=n.body),"object"===(void 0===o?"undefined":i(o))&&(o=s(o)),[" <",n.name,o?" "+o:"",">",r,"</",n.name,">"].join("")},c=function(n){return{clazz:n.join(" ")}},d=function(){var n=Array.prototype.slice.call(arguments),e=[],t=[],o=!1,r=0,a=null,u=null,s="",c=void 0;for(c=0;c<n.length;c++)if(u=n[c],"function"==typeof u&&(u=u()),o)l.isTag(u)&&r++,l.isClose(u)&&0===--r&&(o=!1);else if(l.isTag(u))a={name:u.name,attrs:{},body:""},e.push(a);else if(l.isClose(u))s=m(a),e.pop(),a=e[e.length-1]||null,null!==a?a.body+=s:t.push(s);else if("object"===(void 0===u?"undefined":i(u))){if(null===a)throw new Error("there is no context to attach attributes to");a.attrs=u}else"string"==typeof u?null===a?t.push(u):a.body+=u:!1===u&&(o=!0,r=0);return t.join("\n")},f=function(n){var e=document.createElement("textarea");return e.innerHTML=n,e.value};e.exports={TagsEnum:l,makeTag:m,makeAttrs:s,html:d,classAttrs:c,unescapeHtmlCharacters:f}});C.r("mdx2/components/mdxMount.jsx",function(e,o,n){"use strict";var t=e("prop-types"),s=e("react"),r=e("create-react-class"),a=e("../../utils/shallowCompare"),p=e("../../player/nfplayer/utils/playerConfig"),l=e("../hoc/mdxLoader.jsx"),c=e("classnames");e("shakti-platform/dist/ui/ShaktiProperties"),e("../../akira/components/hoc/withUpdateDimensions.jsx"),e("../../player/components/pinEntry.jsx"),e("../../player/nfplayer/components/svgDefs.jsx"),e("../../player/nfplayer/components/playerSurface.jsx"),e("../../player/nfplayer/components/controls/audioSubtitleButton.jsx"),e("../../player/nfplayer/components/controls/audioSubtitlePopup.jsx"),e("../../player/nfplayer/components/controls/episodes.jsx"),e("../../player/nfplayer/components/controls/play.jsx"),e("../../player/nfplayer/components/controls/stop.jsx"),e("../../player/nfplayer/components/controls/mdx.jsx"),e("../../player/nfplayer/components/controls/progressBar.jsx"),e("../../player/nfplayer/components/controls/timeRemaining.jsx"),e("../../player/nfplayer/components/controls/volumeController.jsx"),e("../../components/focusTrap.jsx"),e("../../player/nfplayer/mixins/controlFocus"),e("../../player/nfplayer/mixins/keyHandler"),e("../../utils/htmlUtils"),e("../../player/components/adultVerificationPrompt.jsx");var m=e,i=void 0,x=void 0,y=r({displayName:"MdxMount",contextTypes:{jsongDocument:t.object,routeHandler:t.object},shouldComponentUpdate:a.multiple(a.props,a.context),render:function(){return this.props.mdxTarget?(i||x||(x=m("../hoc/mdxTargetData.jsx"),i=x(m("./mdxControls.jsx"))),s.createElement("div",{className:c("nfp","mdx-mount-point")},s.createElement(i,{model:this.context.jsongDocument,mdxManager:this.props.mdxManager,mdxTarget:this.props.mdxTarget,initParams:p.getCachedInitParams()}))):null}});o.exports=l.createComponent(y)});C.r("node_modules/javascript-state-machine/lib/state-machine.js",function(t,n,i){!function(t,e){"object"==typeof i&&"object"==typeof n?n.exports=e():"function"==typeof define&&define.amd?define("StateMachine",[],e):"object"==typeof i?i.StateMachine=e():t.StateMachine=e()}(this,function(){return function(t){function n(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}var i={};return n.m=t,n.c=i,n.i=function(t){return t},n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=5)}([function(t,n,i){"use strict";t.exports=function(t,n){var i,e,s;for(i=1;i<arguments.length;i++){e=arguments[i];for(s in e)e.hasOwnProperty(s)&&(t[s]=e[s])}return t}},function(t,n,i){"use strict";var e=i(0);t.exports={build:function(t,n){var i,s,r,o=n.plugins;for(i=0,s=o.length;i<s;i++)r=o[i],r.methods&&e(t,r.methods),r.properties&&Object.defineProperties(t,r.properties)},hook:function(t,n,i){var e,s,r,o,a=t.config.plugins,f=[t.context];for(i&&(f=f.concat(i)),e=0,s=a.length;e<s;e++)o=a[e],(r=a[e][n])&&r.apply(o,f)}}},function(t,n,i){"use strict";function e(t){if(0===t.length)return t;var n,i,e=t.split(/[_-]/);if(1===e.length&&e[0][0].toLowerCase()===e[0][0])return t;for(i=e[0].toLowerCase(),n=1;n<e.length;n++)i=i+e[n].charAt(0).toUpperCase()+e[n].substring(1).toLowerCase();return i}e.prepended=function(t,n){return n=e(n),t+n[0].toUpperCase()+n.substring(1)},t.exports=e},function(t,n,i){"use strict";function e(t,n){t=t||{},this.options=t,this.defaults=n.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(t.init),this.data=this.configureData(t.data),this.methods=this.configureMethods(t.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(t.transitions||[]),this.plugins=this.configurePlugins(t.plugins,n.plugin)}var s=i(0),r=i(2);s(e.prototype,{addState:function(t){this.map[t]||(this.states.push(t),this.addStateLifecycleNames(t),this.map[t]={})},addStateLifecycleNames:function(t){this.lifecycle.onEnter[t]=r.prepended("onEnter",t),this.lifecycle.onLeave[t]=r.prepended("onLeave",t),this.lifecycle.on[t]=r.prepended("on",t)},addTransition:function(t){this.transitions.indexOf(t)<0&&(this.transitions.push(t),this.addTransitionLifecycleNames(t))},addTransitionLifecycleNames:function(t){this.lifecycle.onBefore[t]=r.prepended("onBefore",t),this.lifecycle.onAfter[t]=r.prepended("onAfter",t),this.lifecycle.on[t]=r.prepended("on",t)},mapTransition:function(t){var n=t.name,i=t.from,e=t.to;return this.addState(i),"function"!=typeof e&&this.addState(e),this.addTransition(n),this.map[i][n]=t,t},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(t){return"string"==typeof t?this.mapTransition(s({},this.defaults.init,{to:t,active:!0})):"object"==typeof t?this.mapTransition(s({},this.defaults.init,t,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(t){return"function"==typeof t?t:"object"==typeof t?function(){return t}:function(){return{}}},configureMethods:function(t){return t||{}},configurePlugins:function(t,n){t=t||[];var i,e,s;for(i=0,e=t.length;i<e;i++)s=t[i],"function"==typeof s&&(t[i]=s=s()),s.configure&&s.configure(this);return t},configureTransitions:function(t){var n,i,e,s,r,o=this.defaults.wildcard;for(i=0;i<t.length;i++)for(e=t[i],s=Array.isArray(e.from)?e.from:[e.from||o],r=e.to||o,n=0;n<s.length;n++)this.mapTransition({name:e.name,from:s[n],to:r})},transitionFor:function(t,n){var i=this.defaults.wildcard;return this.map[t][n]||this.map[i][n]},transitionsFor:function(t){var n=this.defaults.wildcard;return Object.keys(this.map[t]).concat(Object.keys(this.map[n]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),t.exports=e},function(t,n,i){function e(t,n){this.context=t,this.config=n,this.state=n.init.from,this.observers=[t]}var s=i(0),r=i(6),o=i(1),a=[null,[]];s(e.prototype,{init:function(t){if(s(this.context,this.config.data.apply(this.context,t)),o.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(t){return Array.isArray(t)?t.indexOf(this.state)>=0:this.state===t},isPending:function(){return this.pending},can:function(t){return!this.isPending()&&!!this.seek(t)},cannot:function(t){return!this.can(t)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(t,n){var i=this.config.defaults.wildcard,e=this.config.transitionFor(this.state,t),s=e&&e.to;return"function"==typeof s?s.apply(this.context,n):s===i?this.state:s},fire:function(t,n){return this.transit(t,this.state,this.seek(t,n),n)},transit:function(t,n,i,e){var s=this.config.lifecycle,r=this.config.options.observeUnchangedState||n!==i;return i?this.isPending()?this.context.onPendingTransition(t,n,i):(this.config.addState(i),this.beginTransit(),e.unshift({transition:t,from:n,to:i,fsm:this.context}),this.observeEvents([this.observersForEvent(s.onBefore.transition),this.observersForEvent(s.onBefore[t]),r?this.observersForEvent(s.onLeave.state):a,r?this.observersForEvent(s.onLeave[n]):a,this.observersForEvent(s.on.transition),r?["doTransit",[this]]:a,r?this.observersForEvent(s.onEnter.state):a,r?this.observersForEvent(s.onEnter[i]):a,r?this.observersForEvent(s.on[i]):a,this.observersForEvent(s.onAfter.transition),this.observersForEvent(s.onAfter[t]),this.observersForEvent(s.on[t])],e)):this.context.onInvalidTransition(t,n,i)},beginTransit:function(){this.pending=!0},endTransit:function(t){return this.pending=!1,t},failTransit:function(t){throw this.pending=!1,t},doTransit:function(t){this.state=t.to},observe:function(t){if(2===t.length){var n={};n[t[0]]=t[1],this.observers.push(n)}else this.observers.push(t[0])},observersForEvent:function(t){for(var n,i=0,e=this.observers.length,s=[];i<e;i++)n=this.observers[i],n[t]&&s.push(n);return[t,s,!0]},observeEvents:function(t,n,i,e){if(0===t.length)return this.endTransit(void 0===e||e);var s=t[0][0],r=t[0][1],a=t[0][2];if(n[0].event=s,s&&a&&s!==i&&o.hook(this,"lifecycle",n),0===r.length)return t.shift(),this.observeEvents(t,n,s,e);var f=r.shift(),c=f[s].apply(f,n);return c&&"function"==typeof c.then?c.then(this.observeEvents.bind(this,t,n,s)).catch(this.failTransit.bind(this)):!1===c?this.endTransit(!1):this.observeEvents(t,n,s,c)},onInvalidTransition:function(t,n,i){throw new r("transition is invalid in current state",t,n,i,this.state)},onPendingTransition:function(t,n,i){throw new r("transition is invalid while previous transition is still in progress",t,n,i,this.state)}}),t.exports=e},function(t,n,i){"use strict";function e(t){return r(this||{},t)}function s(){var t,n;"function"==typeof arguments[0]?(t=arguments[0],n=arguments[1]||{}):(t=function(){this._fsm.apply(this,arguments)},n=arguments[0]||{});var i=new u(n,e);return o(t.prototype,i),t.prototype._fsm.config=i,t}function r(t,n){return o(t,new u(n,e)),t._fsm(),t}function o(t,n){if("object"!=typeof t||Array.isArray(t))throw Error("StateMachine can only be applied to objects");c.build(t,n),Object.defineProperties(t,d),a(t,l),a(t,n.methods),n.allTransitions().forEach(function(n){t[f(n)]=function(){return this._fsm.fire(n,[].slice.call(arguments))}}),t._fsm=function(){this._fsm=new h(this,n),this._fsm.init(arguments)}}var a=i(0),f=i(2),c=i(1),u=i(3),h=i(4),l={is:function(t){return this._fsm.is(t)},can:function(t){return this._fsm.can(t)},cannot:function(t){return this._fsm.cannot(t)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(t,n,i){return this._fsm.onInvalidTransition(t,n,i)},onPendingTransition:function(t,n,i){return this._fsm.onPendingTransition(t,n,i)}},d={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(t){throw Error("use transitions to change state")}}};e.version="3.0.1",e.factory=s,e.apply=r,e.defaults={wildcard:"*",init:{name:"init",from:"none"}},t.exports=e},function(t,n,i){"use strict";t.exports=function(t,n,i,e,s){this.message=t,this.transition=n,this.from=i,this.to=e,this.current=s}}])})});C.r("node_modules/nf-iso-properties/lib/browser.js",function(r,e,o){"use strict";var n=r("./src/browser"),s=r("./plugins/MemorySource");e.exports={plugins:{MemorySource:s},create:function(r,e){var o=new n;o.init(r,function(r){return e(r,o)})}}});C.r("node_modules/nf-iso-properties/lib/plugins/MemorySource.js",function(t,r,o){"use strict";function e(t){var r,o=this;o.data={};for(r in t)t.hasOwnProperty(r)&&(o.data[r]=t[r])}var a=t("../src/Prop");e.prototype.name="MemorySource",e.prototype.seed=function(t){var r,o=this;for(r in o.data)o.data.hasOwnProperty(r)&&(o.data[r]=new a(r,o.data[r],{dynamic:!1,lastUpdated:new Date}));return t?t():null},e.prototype.get=function(t){return this.data[t]},e.prototype.destroy=function(){},r.exports=e});C.r("node_modules/nf-iso-properties/lib/src/Prop.js",function(t,e,r){"use strict";function a(t,e,r){if("string"!=typeof t)throw new Error("key must be a string!");if(typeof e===o)throw new Error("value not provided to prop constructor for key: "+t);this._dynamic=!(!r||typeof r.dynamic===o)&&r.dynamic,this._lastUpdated=r&&r.lastUpdated?r.lastUpdated:new Date,this._rawValue=r&&r.hasOwnProperty("rawValue")?r.rawValue:null,this._key=t,this._value=e}var o="undefined";a.prototype.value=function(){return this._value},a.prototype.dynamic=function(){return this._dynamic},a.prototype.key=function(){return this._key},a.prototype.timestamp=function(){return this._lastUpdated},a.prototype.rawValue=function(){return this._rawValue},a.prototype.update=function(t){if(typeof t.value===o||typeof t.rawValue===o)throw new Error("value and rawValue must not be undefined!");this._value=t.value,this._rawValue=t.rawValue,this._lastUpdated=Date.now()},e.exports=a});C.r("node_modules/nf-iso-properties/lib/src/browser.js",function(e,t,r){"use strict";function i(){this._initialized=!1,this._sources=[],this._interpolationRegex=o.interpolation,this._initializedSources=0}var o=e("./regexPatterns");i.prototype.init=function(e,t){var r=this;if(!e||!e.sources||0===e.sources.length){var i=new Error("cannot be initialized without sources");if(t)return t(i);throw i}if(e.interpolationRegex){if(e.interpolationRegex instanceof RegExp==!1){var o=new Error("`interpolation` must be a regexp");if(t)return t(o);throw o}r._interpolationRegex=e.interpolationRegex}if(!1===r._initialized){if(e&&e.sources){var n,s,l=e.sources.length;for(n=0;n<l;n++)s=e.sources[n],r._sources.push(s),s.seed(),r._initializedSources+=1}if(r._initialized=!0,r._initializedSources!==e.sources.length)throw new Error("Not all plugins were initalized!");return t?t():null}throw new Error("Cannot call init() multiple times!")},i.prototype._getProperty=function(e){for(var t,r,i=this,o=i._initializedSources;o--;)if(t=i._sources[o],void 0!==(r=t.get(e))&&null!==r)return r;return null},i.prototype._resolveVariablesInString=function(e,t){if(t&&"object"!=typeof t)throw new Error("`options` must be an object!");for(var r=this,i=e,o=new RegExp(r._interpolationRegex),n=o.exec(e),s={};n;){var l=n[0],a=n[1],u=r.get(a);if(null===u)throw new Error('Error interpolating "'+e+'": Could not find value for '+l);i=i.replace(l,u),s[a]=u,n=o.exec(e)}if(t){var p={value:i};return!0===t.variableMap&&(p.variableMap=s,p.interpolationRegex=r._interpolationRegex),p}return i},i.prototype.get=function(e){var t=this._getProperty(e);return t?"string"==typeof t.value()?this._resolveVariablesInString(t.value()):t.value():null},i.prototype.getRawValue=function(e){var t=this._getProperty(e);return t?t.value():null},i.prototype.close=function(e){for(var t=this._sources.length;t--;)this._sources[t].destroy();return e()},i.prototype.___reset=function(){this._sources=[],this._cache={},this._initialized=!1,this._initializedSources=0},t.exports=i});C.r("node_modules/nf-iso-properties/lib/src/regexPatterns.js",function(e,r,s){"use strict";r.exports={interpolation:/\$<(.*?)>/g}});C.r("node_modules/ramda/src/contains.js",function(n,r,a){var o=n("./internal/_contains"),s=n("./internal/_curry2");r.exports=s(o)});C.r("node_modules/ramda/src/converge.js",function(r,n,e){var t=r("./internal/_curry2"),u=r("./internal/_map"),a=r("./curryN"),c=r("./max"),o=r("./pluck"),i=r("./reduce");n.exports=t(function(r,n){return a(i(c,0,o("length",n)),function(){var e=arguments,t=this;return r.apply(t,u(function(r){return r.apply(t,e)},n))})})});C.r("node_modules/ramda/src/equals.js",function(r,n,e){var a=r("./internal/_curry2"),u=r("./internal/_equals");n.exports=a(function(r,n){return u(r,n,[],[])})});C.r("node_modules/ramda/src/identical.js",function(r,n,e){var t=r("./internal/_curry2");n.exports=t(function(r,n){return r===n?0!==r||1/r==1/n:r!==r&&n!==n})});C.r("node_modules/ramda/src/internal/_arrayFromIterator.js",function(r,n,e){n.exports=function(r){for(var n,e=[];!(n=r.next()).done;)e.push(n.value);return e}});C.r("node_modules/ramda/src/internal/_contains.js",function(n,r,e){var o=n("./_indexOf");r.exports=function(n,r){return o(r,n,0)>=0}});C.r("node_modules/ramda/src/internal/_equals.js",function(e,a,r){var n=e("./_arrayFromIterator"),t=e("./_functionName"),s=e("./_has"),u=e("../identical"),f=e("../keys"),o=e("../type");a.exports=function e(a,r,c,i){if(u(a,r))return!0;if(o(a)!==o(r))return!1;if(null==a||null==r)return!1;if("function"==typeof a["fantasy-land/equals"]||"function"==typeof r["fantasy-land/equals"])return"function"==typeof a["fantasy-land/equals"]&&a["fantasy-land/equals"](r)&&"function"==typeof r["fantasy-land/equals"]&&r["fantasy-land/equals"](a);if("function"==typeof a.equals||"function"==typeof r.equals)return"function"==typeof a.equals&&a.equals(r)&&"function"==typeof r.equals&&r.equals(a);switch(o(a)){case"Arguments":case"Array":case"Object":if("function"==typeof a.constructor&&"Promise"===t(a.constructor))return a===r;break;case"Boolean":case"Number":case"String":if(typeof a!=typeof r||!u(a.valueOf(),r.valueOf()))return!1;break;case"Date":if(!u(a.valueOf(),r.valueOf()))return!1;break;case"Error":return a.name===r.name&&a.message===r.message;case"RegExp":if(a.source!==r.source||a.global!==r.global||a.ignoreCase!==r.ignoreCase||a.multiline!==r.multiline||a.sticky!==r.sticky||a.unicode!==r.unicode)return!1;break;case"Map":case"Set":if(!e(n(a.entries()),n(r.entries()),c,i))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=f(a);if(l.length!==f(r).length)return!1;for(var y=c.length-1;y>=0;){if(c[y]===a)return i[y]===r;y-=1}for(c.push(a),i.push(r),y=l.length-1;y>=0;){var p=l[y];if(!s(p,r)||!e(r[p],a[p],c,i))return!1;y-=1}return c.pop(),i.pop(),!0}});C.r("node_modules/ramda/src/internal/_functionName.js",function(n,r,t){r.exports=function(n){var r=String(n).match(/^function (\w*)/);return null==r?"":r[1]}});C.r("node_modules/ramda/src/internal/_indexOf.js",function(e,n,r){var t=e("../equals");n.exports=function(e,n,r){var f,i;if("function"==typeof e.indexOf)switch(typeof n){case"number":if(0===n){for(f=1/n;r<e.length;){if(0===(i=e[r])&&1/i===f)return r;r+=1}return-1}if(n!==n){for(;r<e.length;){if("number"==typeof(i=e[r])&&i!==i)return r;r+=1}return-1}return e.indexOf(n,r);case"string":case"boolean":case"function":case"undefined":return e.indexOf(n,r);case"object":if(null===n)return e.indexOf(n,r)}for(;r<e.length;){if(t(e[r],n))return r;r+=1}return-1}});C.r("node_modules/ramda/src/internal/_isObject.js",function(t,e,n){e.exports=function(t){return"[object Object]"===Object.prototype.toString.call(t)}});C.r("node_modules/ramda/src/mergeDeepRight.js",function(e,r,n){var t=e("./internal/_curry2"),u=e("./mergeDeepWithKey");r.exports=t(function(e,r){return u(function(e,r,n){return n},e,r)})});C.r("node_modules/ramda/src/mergeDeepWithKey.js",function(e,r,n){var t=e("./internal/_curry3"),i=e("./internal/_isObject"),u=e("./mergeWithKey");r.exports=t(function e(r,n,t){return u(function(n,t,u){return i(t)&&i(u)?e(r,t,u):r(n,t,u)},n,t)})});C.r("node_modules/ramda/src/mergeWithKey.js",function(r,n,e){var a=r("./internal/_curry3"),i=r("./internal/_has");n.exports=a(function(r,n,e){var a,o={};for(a in n)i(a,n)&&(o[a]=i(a,e)?r(a,n[a],e[a]):n[a]);for(a in e)i(a,e)&&!i(a,o)&&(o[a]=e[a]);return o})});C.r("node_modules/ramda/src/pluck.js",function(r,n,o){var u=r("./internal/_curry2"),a=r("./map"),c=r("./prop");n.exports=u(function(r,n){return a(c(r),n)})});C.r("node_modules/ramda/src/prop.js",function(r,n,o){var e=r("./internal/_curry2");n.exports=e(function(r,n){return n[r]})});C.r("node_modules/ramda/src/tap.js",function(r,n,t){var a=r("./internal/_curry2");n.exports=a(function(r,n){return r(n),n})});C.r("node_modules/ramda/src/type.js",function(n,r,e){var t=n("./internal/_curry1");r.exports=t(function(n){return null===n?"Null":void 0===n?"Undefined":Object.prototype.toString.call(n).slice(8,-1)})});C.r("node_modules/react-dom/lib/ReactDOMServer.js",function(e,r,t){"use strict";var n=e("./ReactDefaultInjection"),a=e("./ReactServerRendering"),i=e("./ReactVersion");n.inject();var o={renderToString:a.renderToString,renderToStaticMarkup:a.renderToStaticMarkup,version:i};r.exports=o});C.r("node_modules/react-dom/lib/ReactServerBatchingStrategy.js",function(t,e,a){"use strict";var c={isBatchingUpdates:!1,batchedUpdates:function(t){}};e.exports=c});C.r("node_modules/react-dom/lib/ReactServerRendering.js",function(e,t,n){"use strict";function r(e,t){var n;try{return m.injection.injectBatchingStrategy(R),n=g.getPooled(t),S++,n.perform(function(){var r=p(e,!0),a=d.mountComponent(r,n,null,u(),f,0);return t||(a=s.addChecksumToMarkup(a)),a},null)}finally{S--,g.release(n),S||m.injection.injectBatchingStrategy(l)}}function a(e){return o.isValidElement(e)||c("46"),r(e,!1)}function i(e){return o.isValidElement(e)||c("47"),r(e,!0)}var c=e("./reactProdInvariant"),o=e("react/lib/React"),u=e("./ReactDOMContainerInfo"),l=e("./ReactDefaultBatchingStrategy"),s=(e("./ReactInstrumentation"),e("./ReactMarkupChecksum")),d=e("./ReactReconciler"),R=e("./ReactServerBatchingStrategy"),g=e("./ReactServerRenderingTransaction"),m=e("./ReactUpdates"),f=e("fbjs/lib/emptyObject"),p=e("./instantiateReactComponent"),S=(e("fbjs/lib/invariant"),0);t.exports={renderToString:a,renderToStaticMarkup:i}});C.r("node_modules/react-dom/server.js",function(e,r,s){"use strict";r.exports=e("./lib/ReactDOMServer")});C.r("node_modules/shakti-platform/dist/ui/app/App.js",function(t,i,e){"use strict";function n(t,i){this.initialState=t,this.options=i||{},this.options.handleRouteChange&&(this.handleRouteChange=this.options.handleRouteChange),this.options.stringProvider&&(this.stringProvider=this.options.stringProvider)}var s=t("./AppContext");n.prototype={createContext:function(t,i){var e=Object.assign({},i,{stringProvider:this.stringProvider}),n=Object.assign({},this.initialState,t);return this.options.handleCreateContext&&(n=this.options.handleCreateContext(n)),new s(this,n,e)}},i.exports=n});C.r("node_modules/shakti-platform/dist/ui/app/AppContext.js",function(t,e,n){"use strict";function r(t,e,n){this.app=t,this.state=e||{},this.options=n||{},this.ab=p.evaluate(this.getModelData("ab")||{});var r=o.get(this.state,["model","node","req"]);this.cookieDough=new c(r),h||d.init()}var o=t("lodash"),i=t("react"),a=t("../routing/History"),s=t("../routing/match"),l=t("../routing/resolveElement"),u=t("./AppContextProvider"),g=t("./RenderTracker"),d=t("../consolidatedLogging"),h="undefined"==typeof window,p=t("nf-ardbeg"),c=t("cookie-dough");r.prototype={resolveState:function(t){var e=s(this.state.routeHandlers,t);if(e!==this.state.routeHandler){var n=Object.assign({},this.state,{routeHandler:e,history:a,renderTracker:new g(t)});this.app.handleRouteChange&&(n=this.app.handleRouteChange(n,e)),this.options.handleRouteChange&&(n=this.options.handleRouteChange(n,e)),this.state=n}return this.state},resolveElement:function(t){var e=this,n=this.state.routeHandler;if(!n)return void t(null,null);if(n.resolveComponents)n.resolveComponents(n,this,function(n,r){if(n)return void t(n);var o=l(r,e.state);if(!i.isValidElement(o))return void t(new Error("Route handler does not have a valid React component"));t(null,o)});else{var r=n.components,o=l(r,this.state);if(!i.isValidElement(o))return void t(new Error("Route handler does not have a valid React component"));t(null,o)}},getFalcorModel:function(){return o.get(this.state,["model","pathEvaluator"])},getState:function(){return this.state},getRouteHandler:function(){return this.state.routeHandler},getHistory:function(){return a},getModels:function(){return o.get(this.state,["model","models"])},getModelData:function(t,e,n){var r=o.get(this.state,["model","models",t,"data"]);return e?o.get(r,e,n):r},getICUString:function(t,e,n,r){var i=this.getModelData("i18nStrings")||{},a=o.get(this.getModelData("geo"),"locale.id","en-US"),s=o.get(this,"options.stringProvider.createString",null);if(null===s)throw new Error("AppContext: Tried to get an ICU string without a String Provider!");var l=s(i,a,t,e,n,r);return"string"==typeof l&&""!==l.trim()||(console.warn("Failed to make an ICU string with the following props:"),console.warn({stringData:i,locale:a,bundle:t,key:e,params:n,formats:r})),l},getI18nString:function(t,e,n,r){var i=this.getModelData("i18nStrings"),a=o.get(this,"options.stringProvider.getString",null);if(null===a)throw new Error("AppContext: Tried to get a string without a String Provider!");return a(i,t,e,n,r)},getI18nBundle:function(t){var e=this.getModelData("i18nStrings"),n=o.get(this,"options.stringProvider.getStrings",null);if(null===n)throw new Error("AppContext: Tried to get a bundle without a String Provider!");return n(e,t)},provideAppContextToElement:function(t){return i.createElement(u,{appContext:this},t)},getRenderTracker:function(){return this.state.renderTracker},getLogger:function(){return d.getInstance()},getDiscoveryApp:function(){return this.state.discoveryApp},getAB:function(){return this.ab},getCookieDough:function(){return this.cookieDough}},e.exports=r});C.r("node_modules/shakti-platform/dist/ui/app/AppContextProvider.js",function(e,t,o){"use strict";var r=e("create-react-class"),n=e("prop-types"),i=r({displayName:"AppContextProvider",propTypes:{appContext:n.object.isRequired,children:n.object},childContextTypes:{ab:n.object,cookies:n.object,falcorModel:n.object,getModelData:n.func,history:n.object,logger:n.object,models:n.object,getICUString:n.func,getI18nString:n.func,getI18nBundle:n.func,provideAppContextToElement:n.func,routeHandler:n.object,renderTracker:n.object,discoveryApp:n.object},getChildContext:function(){var e=this.props.appContext;return{ab:e.getAB(),cookies:e.getCookieDough(),falcorModel:e.getFalcorModel(),getModelData:e.getModelData.bind(e),history:e.getHistory(),logger:e.getLogger(),models:e.getModels(),getICUString:e.getICUString.bind(e),getI18nString:e.getI18nString.bind(e),getI18nBundle:e.getI18nBundle.bind(e),provideAppContextToElement:e.provideAppContextToElement.bind(e),routeHandler:e.getRouteHandler(),renderTracker:e.getRenderTracker(),discoveryApp:e.getDiscoveryApp()}},render:function(){return this.props.children}});t.exports=i});C.r("node_modules/shakti-platform/dist/ui/app/RenderTracker.js",function(e,r,n){"use strict";function s(e){this.id=0,this.name=e,this.deferred=i(),this.renders=[],this.names=[],t&&window.performance.mark("renderSession-"+e+"-start")}var i=e("../utils/defer"),t="undefined"!=typeof window&&window.performance&&window.performance.mark;s.prototype={startSession:function(e){return this.id++,this.renders.push(this.id),this.names.push(e),t&&window.performance.mark(this.id+"-"+e+"-start"),this.id},endSession:function(e,r){if(r)return void this.deferred.reject(r);var n=this.renders.indexOf(e);if(-1!==n){var s=this.names.splice(n,1),i=s[0];t&&(window.performance.mark(e+"-"+i+"-end"),window.performance.measure(e+"-"+i,e+"-"+i+"-start",e+"-"+i+"-end")),this.renders.splice(n,1),0===this.renders.length&&(this.deferred.resolve(),t&&(window.performance.mark("renderSession-"+this.name+"-end"),window.performance.measure("renderSession-"+this.name,"renderSession-"+this.name+"-start","renderSession-"+this.name+"-end")))}},cancel:function(e){this.deferred.reject(e),t&&(window.performance.mark("renderSession-"+this.name+"-end"),window.performance.measure("renderSession-"+this.name,"renderSession-"+this.name+"-start","renderSession-"+this.name+"-end"))},getPromise:function(){return this.renders.length?this.deferred.promise:null}},r.exports=s});C.r("node_modules/shakti-platform/dist/ui/app/ServerContext.js",function(t,e,n){"use strict";function o(t,e,n){this.app=t,this.req=e,this.appContext=this.app.createContext(n)}var r=t("react"),p=t("./AppContextProvider");o.prototype={getIsomorphicContext:function(){return this.appContext},resolveState:function(t){return this.appContext.resolveState(t)},resolveElement:function(t){this.appContext.resolveElement(t)},getState:function(){return this.appContext.getState()},getRouteHandler:function(){return this.appContext.getRouteHandler()},getHistory:function(){return this.appContext.getHistory()},getModels:function(){return this.appContext.getModels()},getFalcorModel:function(){return this.appContext.getState().model.pathEvaluator},getModelData:function(t){return this.appContext.getModelData(t)},getICUString:function(){return this.appContext.getICUString.apply(this.appContext,arguments)},getI18nString:function(){return this.appContext.getI18nString.apply(this.appContext,arguments)},getI18nBundle:function(){return this.appContext.getI18nBundle.apply(this.appContext,arguments)},provideAppContextToElement:function(t){return r.createElement(p,{appContext:this},t)},getRenderTracker:function(){return{register:function(){throw new Error("Render tracking not available on the server")},cancel:function(){throw new Error("Render tracking not available on the server")}}},getLogger:function(){return this.appContext.getLogger()},getDiscoveryApp:function(){return this.appContext.getDiscoveryApp()},getAB:function(){return this.appContext.getAB()},getCookieDough:function(){return this.appContext.getCookieDough()}},e.exports=o,e.exports.createServerContext=function(t,e,n){return new o(t,e,n)}});C.r("node_modules/shakti-platform/dist/ui/renderers/ReactClientRenderer.js",function(t,e,i){"use strict";function n(t,e){this.mountNode=t,this.appContext=e,this.cl=e.getLogger(),this.isPerfAPIAvailable="undefined"!=typeof window&&window.performance&&window.performance.mark,this.mounted=!1,this.handleHistoryChange=this.handleHistoryChange.bind(this),this.isListeningToHistory=!1,this.currentView=null,this.currentUrl=window.location.pathname+window.location.search,this.navigationSession=null,this.renderNavigationSession=null,this.webpageContext=null,this.cl.addContext("UiLocale",{uiLocale:r.get(e.getModelData("geo"),"locale.id")}),this.cl.addContext("Esn",{esn:r.get(e.getModelData("userInfo"),"esn")}),this.cl.addContext("Webpage",{url:this.currentUrl,referrerUrl:document.referrer}),this.cl.addContext("UserAgent",{userAgent:window.navigator&&window.navigator.userAgent}),this.navigationStart=r.get(window,"performance.timing.navigationStart"),this.processReadyTime=r.get(window,"performance.timing.responseStart"),this.navigationStart&&(this.processStateSession=this.cl.startSession("ProcessStateTransition",{time:this.navigationStart}))}var s=t("react-dom"),o=t("../routing/History"),r=t("lodash");n.ReactDOM=s,n.prototype={render:function(t){var e=this,i=this,s=this.currentUrl;this.currentUrl=window.location.pathname+window.location.search;var r=o.state;if(this.appContext.resolveState(this.currentUrl),r===o.state){this.isListeningToHistory||(o.addChangeListener(this.handleHistoryChange),this.isListeningToHistory=!0);var a=this.appContext.getRouteHandler(),h=a&&(a.view||a.uiView);this.currentUrl!==s?(this.cl.removeContext(this.webpageContext),this.currentView&&this.cl.endSession(this.navigationSession,{view:this.currentView}),this.webpageContext=this.cl.addContext("Webpage",{url:this.currentUrl,referrerUrl:s}),this.navigationSession=this.cl.startSession("NavigationLevel",{time:this.mounted?void 0:this.navigationStart,view:h}),this.currentView=h):this.navigationSession||(this.navigationSession=this.cl.startSession("NavigationLevel",{time:this.mounted?void 0:this.navigationStart,view:h}),this.currentView=h),this.renderNavigationSession&&(this.cl.endSession(this.renderNavigationSession,{type:"SesssionCanceled"}),this.renderNavigationSession=null),this.renderNavigationSession=this.cl.startSession("RenderNavigationLevel",{time:this.mounted?void 0:this.navigationStart,view:h}),this.mounted||window.performance&&window.performance.timing&&this.processStateSession&&this.cl.endSession(this.processStateSession,{time:this.processReadyTime}),this.appContext.resolveElement(function(s,o){if(s)return void t(s);i.isPerfAPIAvailable&&window.performance.mark("reactStart"),n.ReactDOM.render(e.appContext.provideAppContextToElement(o),e.mountNode,function(){var e=this;i.mounted=!0,i.isPerfAPIAvailable&&(window.performance.mark("reactReady"),window.performance.measure("reactRender","reactStart","reactReady"));var n=i.appContext.getRenderTracker(),s=n.getPromise(),o=i.renderNavigationSession,r=function(t){i.renderNavigationSession===o&&(i.cl.endSession(o,t||{}),i.renderNavigationSession=null)};s?s.then(function(){r()},function(){r({type:"ActionFailed"})}):r(),t&&t(null,e)})})}},handleHistoryChange:function(){this.render(function(t){t&&console.error(t)})},unMount:function(){this.mountNode&&(o.removeChangeListener(this.handleHistoryChange),this.isListeningToHistory=!1,this.mounted=!1,n.ReactDOM.unmountComponentAtNode(this.mountNode))}},e.exports=n});C.r("node_modules/shakti-platform/dist/ui/renderers/ReactServerRenderer.js",function(e,t,r){"use strict";function o(e){this.options=e}var n=e("lodash"),p=e("react"),i=e("react-dom/server"),a=e("../app/ServerContext").createServerContext;o.prototype.render=function(e,t,r,o){var p=this,l=r.autoAsset,s=n.assign(r,{node:{req:e,res:t},styleUrls:n.pluck(l.data.css,"packageUrl"),jsUrls:n.pluck(l.data.js,"packageUrl"),bootstrapJsUrl:n.pluck(l.data.bootstrapJs,"packageUrl")[0]}),d=a(this.options.app,e,{model:s,renderSource:"server"});if(p.options.partial)return void p._renderPartial(e,t,s,d,o);d.resolveState(e.url),d.resolveElement(function(r,n){if(r)return void(o&&o(r,null));var a=void 0;try{if(p.options.serverOnly)a=i.renderToStaticMarkup(d.provideAppContextToElement(n));else{var l=d.getIsomorphicContext();a=i.renderToString(l.provideAppContextToElement(n))}}catch(e){return void(o&&o(e,null))}p._renderLayout.call(p,e,t,d,s,a,o)})},o.prototype._renderLayout=function(e,t,r,o,n,a){var l=this.options.shellComponent,s=this.options.headTag,d=this.options.pageJSTag,u=[],c={appMountPointSize:n?n.length:0,pageJsScriptSize:void 0,fullHtmlSize:void 0};if(u.push("<!doctype html>"),l)u.push(i.renderToStaticMarkup(r.provideAppContextToElement(p.createElement(l,{model:o,markup:n}))));else{if(u.push("<html>"),s&&u.push(i.renderToStaticMarkup(r.provideAppContextToElement(p.createElement(s,{model:o,title:o.title,styleUrls:o.styleUrls})))),u.push("<body>"),u.push('<div id="appMountPoint">'),u.push(n),u.push("</div>"),d){var v=i.renderToStaticMarkup(r.provideAppContextToElement(p.createElement(d,{model:o})));u.push(v),c.pageJsScriptSize=v.length}u.push("</body>"),u.push("</html>")}var h=u.join("");return c.fullHtmlSize=h.length,a(null,h,c)},o.prototype._renderPartial=function(e,t,r,o,n){var a=r.templateComponent,l=p.createFactory(a),s=l({model:r}),d=void 0;d=this.options.serverOnly?i.renderToStaticMarkup(o.provideAppContextToElement(s)):i.renderToString(o.provideAppContextToElement(s)),n(null,d)},t.exports={create:function(e){return new o(e)}}});C.r("node_modules/shakti-platform/dist/ui/renderers/index.js",function(e,r,t){"use strict";var n=e("./ReactClientRenderer"),d=e("./ReactServerRenderer");r.exports={ReactClientRenderer:n,ReactServerRenderer:d}});C.r("node_modules/shakti-platform/dist/ui/utils/defer.js",function(e,i,o){"use strict";"undefined"==typeof window||window.Promise||(window.Promise=e("promise-polyfill")),i.exports=function(){var e=void 0,i=void 0,o=new Promise(function(o,r){e=o,i=r});return{resolve:e,reject:i,promise:o}}});C.r("node_modules/shakti-platform/dist/ui/zuulSocket/ZuulSocket.js",function(e,t,o){"use strict";function n(e,t){this.url=e,this.webSocket=null,this.reconnectAttempt=0,this.reconnectInterval=r,this.reconnectTimeout=null,this.messageListeners={},this.messageBuffers={},this.pollers=[],this.options=t}var s=e("../utils/safeParseJSON"),r=Math.ceil(3e3*Math.random()+3e3);n.prototype.open=function(){var e=this;this.webSocket=new WebSocket(this.url),this.webSocket.onopen=function(){e.deactivatePollers(),e.reconnectAttempt=0,e.reconnectInterval=r,e.flushBuffers()},this.webSocket.onerror=function(t){"function"==typeof e.options.onerror&&e.options.onerror(t),e.reconnect()},this.webSocket.onmessage=function(t){switch(t.data){case"_CLOSE_":return e.close();case"_STAY_CLOSED_":return e.closeForGood();default:return e.dispatch(t.data)}},this.webSocket.onclose=function(t){e.activatePollers(),"function"==typeof e.options.onclose&&e.options.onclose({code:t.code}),1e3!==t.code&&(e.blockReconnect||e.reconnect())}},n.prototype.addPoller=function(e){this.pollers.push(e),this.webSocket&&this.webSocket.readyState===WebSocket.OPEN||e.activate()},n.prototype.removePoller=function(e){var t=this.pollers.indexOf(e);if(-1===t)throw new Error("Attempted to remove an invalid poll");this.pollers.splice(t,1)},n.prototype.deactivatePollers=function(){this.pollers.forEach(function(e){return e.deactivate()})},n.prototype.activatePollers=function(){this.pollers.forEach(function(e){return e.activate()})},n.prototype.addListener=function(e,t){this.webSocket||this.open(),this.messageListeners[e]||(this.messageListeners[e]=[]),this.messageListeners[e].push(t),this.flushBuffers(e)},n.prototype.removeListener=function(e,t){var o=this.messageListeners[e];if(!o||!o.length)throw new Error("Attempted to remove a listener using an invalid app name");var n=o.indexOf(t);if(-1===n)throw new Error("Attempted to remove an invalid listener");o.splice(n,1),o.length&&!this.webSocket&&this.open()},n.prototype.reconnect=function(){var e=this;++this.reconnectAttempt,this.reconnectTimeout&&clearTimeout(this.reconnectTimeout),this.reconnectTimeout=setTimeout(function(){e.reconnectInterval=Math.ceil(1.5*e.reconnectInterval),e.reconnectInterval>6e5&&(e.reconnectInterval=6e5),e.open()},this.reconnectInterval)},n.prototype.reset=function(){this.close(),this.messageListeners={},this.messageBuffers={},this.pollers=[]},n.prototype.close=function(){this.reconnectAttempt=0,this.reconnectInterval=r,this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.webSocket&&(this.webSocket.close(),this.webSocket=null)},n.prototype.closeForGood=function(){this.blockReconnect=!0,this.close()},n.prototype.dispatch=function(e){var t=s(e,{}),o=t.senderApp;if(o){var n=this.messageListeners[o];n&&n.length?n.forEach(function(e){return e(t)}):(this.messageBuffers[o]||(this.messageBuffers[o]=[]),this.messageBuffers[o].push(t))}},n.prototype.flushBuffers=function(e){var t=this;if(!e)return void Object.keys(this.messageBuffers).forEach(function(e){return t.flushBuffers(e)});var o=this.messageListeners[e],n=this.messageBuffers[e];o&&o.length&&n&&n.length&&n.forEach(function(e){return o.forEach(function(t){return t(e)})}),this.messageBuffers[e]=[]},t.exports=function(e,t){return new n(e,t)}});C.r("player/app/createPlayerApp.js",function(a,e,r){"use strict";var o=a("../nfplayer/domain/common/createAppFromDomains"),n=a("../domains/playerApp/createPlayerAppDomain"),p=a("../nfplayer/domain/postplay/createPostPlayDomain"),i=a("../domains/videoPlayer/createVideoPlayerDomain"),t=function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];return o({domains:[n(e,r),p(a),i()]})};e.exports=t});C.r("player/domains/playerApp/createPlayerAppDomain.js",function(e,r,a){"use strict";function p(e){if(Array.isArray(e)){for(var r=0,a=Array(e.length);r<e.length;r++)a[r]=e[r];return a}return Array.from(e)}var n=e("../../nfplayer/domain/common/createDomain"),o=e("./playerAppActionCreators"),i=e("./playerAppAPI"),t=e("./createPlayerAppStateReducer"),l=e("./playerAppMiddleware"),g=e("./playerSessionMiddleware"),d=e("./playerAppState"),y=e("./playerAppConfig"),A=e("./logging/logPlayerActions"),c=e("./logging/logSeamlessVideo"),s=e("./logging/logCountdownTimer"),m=e("../../../akira/redux/logging/getLoggingMiddleware"),u=d.playerAppStateRecord,f=y.defaultPlayerAppConfig,C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;return n({actionCreators:o,api:i,middlewares:[l,g].concat(p(m([A,s,c]))),name:"playerApp",stateReducer:t(u({initParams:e,appConfig:r}))})};r.exports=C});C.r("player/domains/playerApp/createPlayerAppStateReducer.js",function(s,e,n){"use strict";function i(s,e,n){return e in s?Object.defineProperty(s,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[e]=n,s}var t=s("../../nfplayer/domain/common/createHandleAction"),r=s("../../nfplayer/domain/common/createStateReducer"),o=s("./playerAppConstants"),a=s("../videoPlayer/videoPlayerConstants"),d=s("./playerAppUtils"),I=s("ramda/src/mergeDeepRight"),y=s("./playerAppState"),B=y.defaultPlayerAppState,c=o.actionTypes,u=a.actionTypes,O=function(s,e){var n=e.sessionId,t=e.time,r=e.videoId;if(n&&r){var o=d.makeTimeKey(n,r),a=Object.assign({},s.startTimesBySessionAndVideoId,i({},o,t));return s.set("startTimesBySessionAndVideoId",a)}return n?s.set("startTimesBySessionId",Object.assign({},s.startTimesBySessionId,i({},n,t))):r?s.set("startTimesByVideoId",Object.assign({},s.startTimesByVideoId,i({},r,t))):s},E=function(s,e){var n=e.sessionId,i=e.videoId;if(n&&i&&s.startTimesBySessionAndVideoId[d.makeTimeKey(n,i)]){var t=Object.assign({},s.startTimesBySessionAndVideoId);return delete t[d.makeTimeKey(n,i)],s.set("startTimesBySessionAndVideoId",t)}if(n&&s.startTimesBySessionId[n]){var r=Object.assign({},s.startTimesBySessionId);return delete r[n],s.set("startTimesBySessionId",r)}if(i&&s.startTimesByVideoId[i]){var o=Object.assign({},s.startTimesByVideoId);return delete o[i],s.set("startTimesByVideoId",o)}return s},S=function(s,e){var n=e.sessionId;return s.sessionsById[n]?s:s.set("sessionsById",Object.assign({},s.sessionsById,i({},n,{})))},b=function(s,e){var n=e.sessionId,i=e.videoId;if(!s.sessionsById[n])return s;var t=Object.assign({},s.sessionsById);return t[n]=Object.assign({},t[n],{videoId:i}),s.set("sessionsById",t)},g=function(s,e){var n=e.sessionId,i=e.wasPlayerPaused;if(!n||!s.sessionsById[n])return s;var t=s.sessionsById[n];return t.reportAProblem=Object.assign({},t.reportAProblem,{show:!0,wasPlayerPaused:i}),s.sessionsById[n]=Object.assign({},t),s.set("sessionsById",Object.assign({},s.sessionsById))},m=function(s,e){var n=e.sessionId;if(!n||!s.sessionsById[n])return s;var i=s.sessionsById[n];return i.reportAProblem={show:!1},s.sessionsById[n]=Object.assign({},i),s.set("sessionsById",Object.assign({},s.sessionsById))},_=function(s,e){var n=e.sessionId,i=e.wasPlayerPaused;if(!n||!s.sessionsById[n])return s;var t=s.sessionsById[n];return t.shareSheet=Object.assign({},t.shareSheet,{show:!0,wasPlayerPaused:i}),s.sessionsById[n]=Object.assign({},t),s.set("sessionsById",Object.assign({},s.sessionsById))},l=function(s,e){var n=e.sessionId;e.wasPlayerPaused;if(!n||!s.sessionsById[n])return s;var i=s.sessionsById[n];return i.shareSheet={show:!1},s.sessionsById[n]=Object.assign({},i),s.set("sessionsById",Object.assign({},s.sessionsById))},A=function(s,e){var n=e.sessionId;if(!n||!s.sessionsById[n])return s;var i=s.sessionsById[n];return i.seamless=Object.assign({},i.seamless,{showControls:!1}),s.sessionsById[n]=Object.assign({},i),s.set("sessionsById",Object.assign({},s.sessionsById))},T=function(s,e){var n=(e.report,e.sessionId);if(!n||!s.sessionsById[n])return s;var i=s.sessionsById[n];return i.reportAProblem=Object.assign({},i.reportAProblem,{requestPending:!0}),s.sessionsById[n]=Object.assign({},i),s.set("sessionsById",Object.assign({},s.sessionsById))},f=function(s,e){var n=e.sessionId,i=e.success;if(!n||!s.sessionsById[n])return s;var t=s.sessionsById[n];return t.reportAProblem=Object.assign({},t.reportAProblem,{requestSuccess:i,requestPending:!1}),s.sessionsById[n]=Object.assign({},t),s.set("sessionsById",Object.assign({},s.sessionsById))},P=function(s,e){var n=e.sessionId;if(!s.sessionsById[n])return s;var i=Object.assign({},s.sessionsById);return delete i[n],s.set("sessionsById",i)},v=function(s,e){return s.initParams.congestionDisabled?s:s.set("networkCongestionInfo",e)},j=function(s,e){return s.set("initParams",I(s.initParams,e))},p=function(s,e){var n=e.sessionId;if(!s.sessionsById[n])return s;var i=s.sessionsById[n];return i.seamless=Object.assign({},i.seamless,{showExperience:!0}),s.sessionsById[n]=Object.assign({},i),s.set("sessionsById",Object.assign({},s.sessionsById))},R=function(s,e){var n=e.sessionId;if(!s.sessionsById[n])return s;var i=s.sessionsById[n];return delete i.seamless,s.sessionsById[n]=Object.assign({},i),s.set("sessionsById",Object.assign({},s.sessionsById))},L=function(s,e){var n=e.sessionId;if(!s.sessionsById[n])return s;var i=s.sessionsById[n];return delete i.seamless,s.sessionsById[n]=Object.assign({},i),s.set("sessionsById",Object.assign({},s.sessionsById))},V=function(s,e){var n=e.sessionId;if(!s.sessionsById[n])return s;var i=s.sessionsById[n];return s.sessionsById[n]=Object.assign({},i,{interactionOccurred:!0}),s.set("sessionsById",Object.assign({},s.sessionsById))},C=function(s,e){return s.set("playerPageUnloading",!0)},h=function(){var s,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return r((s={},i(s,c.HIDE_REPORT_A_PROBLEM_DIALOG,t(m)),i(s,c.HIDE_SEAMLESS_CONTROLS,t(A)),i(s,c.HIDE_SHARE_SHEET,t(l)),i(s,c.INTERACT_WITH_PLAYER,t(V)),i(s,c.PLAYER_VIEW_CLOSING,t(P)),i(s,c.PLAYER_PAGE_UNLOADING,t(C)),i(s,u.PLAY_NEXT_SEAMLESS_VIDEO,t(R)),i(s,u.REMOVE_SEAMLESS_STATE,t(L)),i(s,c.RECEIVE_PLAYER_SESSION,t(S)),i(s,c.RECEIVE_VIDEO_ID,t(b)),i(s,c.REQUEST_COMPLETE_REPORT_A_PROBLEM_DIALOG,t(f)),i(s,c.SET_START_TIME,t(O)),i(s,c.SHOW_REPORT_A_PROBLEM_DIALOG,t(g)),i(s,c.SHOW_SHARE_SHEET,t(_)),i(s,c.SUBMIT_REPORT_A_PROBLEM_DIALOG,t(T)),i(s,c.UNSET_START_TIME,t(E)),i(s,c.RECEIVE_CONGESTION_INFO,t(v)),i(s,c.RECEIVE_INIT_PARAMS,t(j)),i(s,c.SHOW_SEAMLESS_EXPERIENCE,t(p)),s),e)};e.exports=h});C.r("player/domains/playerApp/playerAppConstants.js",function(E,_,R){"use strict";var O={HIDE_REPORT_A_PROBLEM_DIALOG:"HIDE_REPORT_A_PROBLEM_DIALOG",HIDE_SEAMLESS_CONTROLS:"HIDE_SEAMLESS_CONTROLS",HIDE_SHARE_SHEET:"HIDE_SHARE_SHEET",INTERACT_WITH_PLAYER:"INTERACT_WITH_PLAYER",LOG_PLAY_REQUEST_COMPLETE:"LOG_PLAY_REQUEST_COMPLETE",LOG_PLAY_REQUEST_START:"LOG_PLAY_REQUEST_START",LOG_PLAY_REQUEST_ERROR:"LOG_PLAY_REQUEST_ERROR",PLAYER_VIEW_CLOSING:"PLAYER_VIEW_CLOSING",PLAYER_PAGE_UNLOADING:"PLAYER_PAGE_UNLOADING",RECEIVE_CONGESTION_INFO:"RECEIVE_CONGESTION_INFO",RECEIVE_INIT_PARAMS:"RECEIVE_INIT_PARAMS",RECEIVE_PLAYER_SESSION:"RECEIVE_PLAYER_SESSION",RECEIVE_VIDEO_ID:"RECEIVE_VIDEO_ID",REQUEST_COMPLETE_REPORT_A_PROBLEM_DIALOG:"REQUEST_COMPLETE_REPORT_A_PROBLEM_DIALOG",SET_START_TIME:"SET_START_TIME",SHOW_REPORT_A_PROBLEM_DIALOG:"SHOW_REPORT_A_PROBLEM_DIALOG",SHOW_SEAMLESS_EXPERIENCE:"SHOW_SEAMLESS_EXPERIENCE",SHOW_SHARE_SHEET:"SHOW_SHARE_SHEET",SUBMIT_REPORT_A_PROBLEM_DIALOG:"SUBMIT_REPORT_A_PROBLEM_DIALOG",UNSET_START_TIME:"UNSET_START_TIME",LOG_COUNTDOWN_TIMER_START:"LOG_COUNTDOWN_TIMER_START",LOG_COUNTDOWN_TIMER_END:"LOG_COUNTDOWN_TIMER_END",LOG_COUNTDOWN_TIMER_CANCELLED:"LOG_COUNTDOWN_TIMER_CANCELLED"};_.exports={actionTypes:O}});C.r("player/domains/playerApp/logging/logCountdownTimer.js",function(n,s,e){"use strict";var o=n("../../../../akira/redux/logging/createSessionMiddleware"),a=n("../playerAppConstants"),i=a.actionTypes,t=n("shakti-platform/dist/ui/consolidatedLogging/constants/actionTypes");s.exports=o({sessionName:t.Countdown,bindings:{start:i.LOG_COUNTDOWN_TIMER_START,end:i.LOG_COUNTDOWN_TIMER_END,cancelled:i.LOG_COUNTDOWN_TIMER_CANCELLED}})});C.r("player/domains/videoPlayer/videoPlayerConstants.js",function(E,_,A){"use strict";var S={ADD_NEXT_SEAMLESS_VIDEO:"ADD_NEXT_SEAMLESS_VIDEO",LOG_PLAY_NEXT_SEAMLESS_VIDEO_START:"LOG_PLAY_NEXT_SEAMLESS_VIDEO_START",LOG_PLAY_NEXT_SEAMLESS_VIDEO_END:"LOG_PLAY_NEXT_SEAMLESS_VIDEO_END",PREPARE_SEAMLESS_TRANSITION:"PREPARE_SEAMLESS_TRANSITION",PLAY_NEXT_SEAMLESS_VIDEO:"PLAY_NEXT_SEAMLESS_VIDEO",PLAY_BRANCH:"PLAY_BRANCH",QUEUE_BRANCH:"QUEUE_BRANCH",RECEIVE_BUFFERING_DATA:"RECEIVE_BUFFERING_DATA",RECEIVE_SEGMENT_MAP:"RECEIVE_SEGMENT_MAP",RECEIVE_CURRENT_SEGMENT_ID:"RECEIVE_CURRENT_SEGMENT_ID",RECEIVE_VIDEO_PLAYER:"RECEIVE_VIDEO_PLAYER",REMOVE_SEAMLESS_STATE:"REMOVE_SEAMLESS_STATE",SEAMLESS_VIDEO_PREPARED:"SEAMLESS_VIDEO_PREPARED",SEAMLESS_VIDEO_INCOMPLETE:"SEAMLESS_VIDEO_INCOMPLETE",VIDEO_PLAYER_CLOSED:"VIDEO_PLAYER_CLOSED",VIDEO_PLAYER_ENDED:"VIDEO_PLAYER_ENDED",VIDEO_PLAYER_PAUSED:"VIDEO_PLAYER_PAUSED",VIDEO_PLAYER_PLAYING:"VIDEO_PLAYER_PLAYING",VIDEO_PLAYER_SCRUB_START:"VIDEO_PLAYER_SCRUB_START",VIDEO_PLAYER_SCRUB_END:"VIDEO_PLAYER_SCRUB_END",VIDEO_PLAYER_VOLUME_CHANGED:"VIDEO_PLAYER_VOLUME_CHANGED",VIDEO_PLAYER_PROGRESS:"VIDEO_PLAYER_PROGRESS",VIDEO_PLAYER_TIME_UPDATE:"VIDEO_PLAYER_TIME_UPDATE",VIDEO_PLAYER_ERROR:"VIDEO_PLAYER_ERROR"};_.exports={actionTypes:S}});C.r("player/domains/playerApp/logging/logPlayerActions.js",function(e,t,n){"use strict";function a(e,t){var n=e[t]||{contextIds:{},sessionIds:{}};return e[t]=n,n}function s(e,t,n,a){t.sessionIds[n]||(t.sessionIds[n]=e.startSession(n,a))}function i(e,t,n,a){t.sessionIds[n]&&(e.endSession(Number(t.sessionIds[n]),{type:a}),delete t.sessionIds[n])}function o(e){return Object.assign({},e,{sessionId:void 0,triggerEl:void 0})}function r(e,t,n,a){t.contextIds[n]&&e.removeContext(t.contextIds[n]),a&&(t.contextIds[n]=e.addContext(n,a))}function c(){var e={},t=void 0;return function(n,a,s,i){var o=a.type,c=a.data;switch(o){case A.RECEIVE_VIDEO_PLAYER:t={level:c.instance.getVolume(),muting:c.instance.getMuted()},r(s,i,g.Volume,t);break;case A.VIDEO_PLAYER_VOLUME_CHANGED:t={level:c.volume,muting:c.muted};(t.muting&&t.muting!==e.muting?function(e){return P.MuteCommand(e)()}:function(e){return e()})(function(){r(s,i,g.Volume,t),s.logEvent(m.VolumeChanged)})}t&&(e=t)}}function d(e,t,n,a){switch(t.type){case A.VIDEO_PLAYER_SCRUB_START:s(n,a,y.SeekCommand);break;case A.VIDEO_PLAYER_SCRUB_END:i(n,a,y.SeekCommand)}}function u(){var e=E.throttle(r,1e3);return function(t,n,a,s){var i=n.type,o=n.data;switch(i){case A.VIDEO_PLAYER_TIME_UPDATE:e(a,s,g.MediaOffset,{mediaOffset:o.currentPlayerTime})}}}var E=e("lodash"),l=e("../playerAppConstants"),_=l.actionTypes,I=e("shakti-platform/dist/ui/utils/inNode"),f=e("../../videoPlayer/videoPlayerConstants"),P=e("../../../../akira/redux/logging/commandTriggers"),g=e("shakti-platform/dist/ui/consolidatedLogging/constants/contextTypes"),m=e("shakti-platform/dist/ui/consolidatedLogging/constants/eventTypes"),y=e("shakti-platform/dist/ui/consolidatedLogging/constants/commandTypes"),A=f.actionTypes;t.exports=function(e){var t={},n=[c(),d,u()];return function(c){return function(d){return function(u){var E=u.type,l=u.data;if(I)return d(u);var f=a(t,u.data.sessionId);switch(n.forEach(function(t){return t(c,u,e,f)}),E){case A.RECEIVE_VIDEO_PLAYER:r(e,f,g.Xid,{xid:l.xid,sharedUuid:u.data.sessionId});break;case _.LOG_PLAY_REQUEST_START:s(e,f,"StartPlay",{trackingInfo:o(l)});break;case _.LOG_PLAY_REQUEST_CANCEL:i(e,f,"StartPlay","SessionCanceled");break;case _.LOG_PLAY_REQUEST_ERROR:i(e,f,"StartPlay","ActionFailed");break;case _.LOG_PLAY_REQUEST_COMPLETE:f.trackingInfo=o(l);break;case A.VIDEO_PLAYER_PLAYING:s(e,f,"Play",{trackingInfo:f.trackingInfo}),f.sessionIds.StartPlay&&i(e,f,"StartPlay");break;case A.VIDEO_PLAYER_PAUSED:l.playerPaused?P.PauseCommand(function(){i(e,f,"Play")})():P.UnpauseCommand(function(){s(e,f,"Play",{trackingInfo:f.trackingInfo})})();break;case A.VIDEO_PLAYER_CLOSED:case A.VIDEO_PLAYER_ENDED:case _.PLAYER_VIEW_CLOSING:i(e,f,"Play"),r(e,f,g.Volume,void 0),r(e,f,g.Xid,void 0);break;case _.RECEIVE_VIDEO_ID:i(e,f,"Play");break;case _.ERROR:i(e,f,"Play","ActionFailed"),i(e,f,"StartPlay","ActionFailed")}return d(u)}}}}});C.r("player/domains/playerApp/logging/logSeamlessVideo.js",function(e,t,n){"use strict";function a(e){return Object.assign({},e,{sessionId:void 0,eventUuid:e.sessionId})}function s(e,t){return u.fromNullable(e[t.eventUuid]).map(function(e){return e.getXid()}).getOrElse(void 0)}var i=e("../../../../akira/redux/logging/createSessionMiddleware"),o=e("../../videoPlayer/videoPlayerConstants"),d=e("shakti-platform/dist/ui/consolidatedLogging/constants/actionTypes"),r=e("shakti-platform/dist/ui/consolidatedLogging/constants/contextTypes"),c=e("shakti-platform/dist/ui/utils/inNode"),u=e("nf-algebraic-data-types/Option"),E=function(){},l=o.actionTypes;t.exports=function(e){var t={},n=i({sessionName:d.DebugSession,bindings:{start:l.ADD_NEXT_SEAMLESS_VIDEO,end:l.SEAMLESS_VIDEO_PREPARED,failed:l.SEAMLESS_VIDEO_INCOMPLETE},startSessionMapper:function(e){return{name:"AddNextSeamlessVideo",endPts:e.seamlessData.currentEndPts,startPts:e.seamlessData.nextStartPts,trackId:e.seamlessData.playbackParams.trackingId,videoId:e.seamlessData.movieId,xid:s(t,e)}}})(e),o=i({sessionName:d.DebugSession,bindings:{start:l.LOG_PLAY_NEXT_SEAMLESS_VIDEO_START,end:l.LOG_PLAY_NEXT_SEAMLESS_VIDEO_END},startSessionMapper:function(e){return{name:"PlayNextSeamlessVideo",autoplay:e.autoplay,videoId:e.videoId,trackId:e.trackId,xid:s(t,e)}}})(e);return function(s){return function(i){return function(d){var u=d.type,S=d.data,p=void 0;if(c)return i(d);switch(u){case l.RECEIVE_VIDEO_PLAYER:t[S.sessionId]=S.instance;break;case l.LOG_PLAY_NEXT_SEAMLESS_VIDEO_START:var _=S.event;_&&(p=_.type.indexOf("key")>-1?e.addContext(r.KeyboardInput,{confidence:1,isHotKey:!0,keyCode:_.keyCode}):e.addContext(r.PointerInput,{confidence:1,pointer:"click"}))}var g=a(S);return n(s)(E)({type:u,data:g}),o(s)(E)({type:u,data:g}),p&&e.removeContext(p),i(d)}}}}});C.r("player/domains/playerApp/playerAppAPI.js",function(e,n,t){"use strict";var r=e("./playerAppUtils"),o=e("ramda/src/propOr"),s=e("ramda/src/isNil"),i=e("../../../utils/Routes"),u=e("../../../player/embed/utils/createEmbedMarkup"),a=e("shakti-platform/dist/ui/utils/URLGenerator"),d=function(e){return o("","name",e.networkCongestionInfo)},c=function(e,n){return e.sessionsById[n]},f=function(e,n){return o(void 0,"videoId",c(e,n))},S=function(e,n){return o(void 0,"reportAProblem",c(e,n))},l=function(e,n){return o(void 0,"seamless",c(e,n))},m=function(e,n){return o(void 0,"shareSheet",c(e,n))},p=function(e,n,t){return a.create({path:i.watchNow.makePath({id:f(e,n)})})},g=function(e,n,t){return u(a.create({path:i.embedPlayer.makePath({id:f(e,n)})}))},h=function(e,n){return o(NaN,n,e.startTimesBySessionId)},y=function(e,n){return o(NaN,n,e.startTimesByVideoId)},I=function(e,n,t){return o(NaN,r.makeTimeKey(n,t),e.startTimesBySessionAndVideoId)},C=function(e,n,t){return I(e,n,t)||h(e,n)||y(e,t)},w=function(e,n){return o(void 0,"requestPending",S(e,n))},B=function(e,n){return o(void 0,"requestSuccess",S(e,n))},P=function(e){return o(!1,"success",e.networkCongestionInfo)&&o(!1,"isCongested",e.networkCongestionInfo)},k=function(e,n){return o(!1,"show",S(e,n))},N=function(e,n){return o(!0,"showControls",l(e,n))},A=function(e,n){return o(!1,"showExperience",l(e,n))},T=function(e,n){return o(!1,"show",m(e,n))},b=function(e,n,t){return s(e.appConfig[n])?t:e.appConfig[n]},v=function(e){return e.appConfig},E=function(e){return b(e,"seamlessPlaybackEnabledForUI")},R=function(e,n){return o(!1,"interactionOccurred",c(e,n))},F={hasInteractedWithPlayer:R,getConfig:v,getConfigEntry:b,getCongestedNetworkName:d,getCurrentVideoIdBySessionId:f,getPlayStartTime:C,getSessionStateById:c,getStartTimeBySessionAndVideoId:I,getStartTimeBySessionId:h,getStartTimeByVideoId:y,getRequestPendingForRAPBySessionId:w,getRequestSuccessForRAPBySessionId:B,getShareEmbedCodeForSessionId:g,getShareLinkForSessionId:p,isNetworkCongested:P,isSeamlessTransitionEnabled:E,shouldShowRAPBySessionId:k,shouldShowSeamlessControlsBySessionId:N,shouldShowSeamlessExperienceBySessionId:A,shouldShowShareSheetBySessionId:T};n.exports=F});C.r("player/domains/playerApp/playerAppActionCreators.js",function(e,E,_){"use strict";var o=e("../../nfplayer/domain/common/createAction"),R=e("./playerAppConstants"),t=R.actionTypes,r=o(t.SET_START_TIME),T=o(t.UNSET_START_TIME),S=o(t.LOG_PLAY_REQUEST_START),a=o(t.LOG_PLAY_REQUEST_ERROR),O=o(t.LOG_PLAY_REQUEST_COMPLETE),A=o(t.HIDE_REPORT_A_PROBLEM_DIALOG),l=o(t.HIDE_SEAMLESS_CONTROLS),i=o(t.HIDE_SHARE_SHEET),P=o(t.INTERACT_WITH_PLAYER),I=o(t.REQUEST_COMPLETE_REPORT_A_PROBLEM_DIALOG),n=o(t.SHOW_REPORT_A_PROBLEM_DIALOG),L=o(t.SHOW_SHARE_SHEET),s=o(t.SUBMIT_REPORT_A_PROBLEM_DIALOG),C=o(t.RECEIVE_INIT_PARAMS),N=o(t.RECEIVE_CONGESTION_INFO),p=o(t.RECEIVE_PLAYER_SESSION),m=o(t.RECEIVE_VIDEO_ID),D=o(t.PLAYER_VIEW_CLOSING),y=o(t.PLAYER_PAGE_UNLOADING),M=o(t.SHOW_SEAMLESS_EXPERIENCE),c=o(t.LOG_COUNTDOWN_TIMER_START),g=o(t.LOG_COUNTDOWN_TIMER_END),G=o(t.LOG_COUNTDOWN_TIMER_CANCELLED),d={hideReportAProblemDialog:A,hideSeamlessControls:l,hideShareSheet:i,interactWithPlayer:P,logPlayRequestComplete:O,logPlayRequestStart:S,logPlayRequestError:a,playerViewClosing:D,playerPageUnloading:y,receiveCongestionInfo:N,receiveInitParams:C,receivePlayerSession:p,receiveVideoId:m,requestCompleteReportAProblemDialog:I,setStartTime:r,showReportAProblemDialog:n,showSeamlessExperience:M,showShareSheet:L,submitReportAProblemDialog:s,unsetStartTime:T,logStartPlayNextCountdownTimer:c,logEndPlayNextCountdownTimer:g,logCancelPlayNextCountdownTimer:G};E.exports=d});C.r("player/domains/playerApp/playerAppConfig.js",function(e,a,p){"use strict";var r=e("nf-algebraic-data-types/Record"),l=r({seamlessPlaybackEnabledForUI:!1,seamlessStartPlayTimeout:3e3},"playerAppConfigRecord"),o=l();a.exports={defaultPlayerAppConfig:o,playerAppConfigRecord:l}});C.r("player/domains/playerApp/playerAppMiddleware.js",function(e,n,t){"use strict";var i=e("./playerAppConstants"),a=i.actionTypes,o=e("shakti-platform/dist/ui/utils/inNode"),r=e("../../../reactMixins/eventBus"),s=e("../../../utils/consolidatedLogging/loggingEventRegistry"),p=e("./playerAppActionCreators"),c=e("../../nfplayer/common/playerEngines"),l=e("../videoPlayer/videoPlayerConstants"),E=l.actionTypes;n.exports=function(e){return function(n){return function(t){var i=t.type,l=t.data;if(o)return n(t);switch(i){case a.LOG_PLAY_REQUEST_START:r.emit(s.REQUEST_PLAY,l);break;case a.LOG_PLAY_REQUEST_COMPLETE:r.emit(s.PLAYBACK_START,l),r.emit("app:interactive");break;case E.RECEIVE_VIDEO_PLAYER:l.type===c.CADMIUM&&l.instance&&l.instance.getCongestionInfo&&l.instance.getCongestionInfo(function(n){e.dispatch(p.receiveCongestionInfo(n))})}return n(t)}}}});C.r("player/domains/playerApp/playerAppState.js",function(e,a,t){"use strict";var p=e("nf-algebraic-data-types/Record"),s=e("./playerAppConfig"),r=s.defaultPlayerAppConfig,i=p({sessionsById:{},startTimesBySessionAndVideoId:{},startTimesBySessionId:{},startTimesByVideoId:{},networkCongestionInfo:{},initParams:{endPtsByViewableId:{}},appConfig:r,playerPageUnloading:!1},"PlayerAppStateRecord"),n=i();a.exports={defaultPlayerAppState:n,playerAppStateRecord:i}});C.r("player/domains/playerApp/playerAppUtils.js",function(e,r,p){"use strict";var t=function(e,r){return e+"-"+r};r.exports={makeTimeKey:t}});C.r("player/domains/playerApp/playerSessionMiddleware.js",function(e,s,t){"use strict";var i=e("lodash"),a=e("./playerAppConstants"),n=a.actionTypes,r=e("../../nfplayer/requests/reportAProblem"),o=e("../../../reactMixins/eventBus"),d=e("../../../utils/consolidatedLogging/loggingEventRegistry"),I=e("./playerAppAPI"),c=e("./playerAppActionCreators"),l=c.playerPageUnloading,E=c.requestCompleteReportAProblemDialog,p=e("shakti-platform/dist/ui/utils/inNode"),_={},S=function(e){return!!(e&&e.sessionId&&_[e.sessionId])},y=void 0;s.exports=function(e){return function(s){return function(t){var a=t.data,c=t.type;if(p)return s(t);var u=e.getState();switch(c){case n.RECEIVE_PLAYER_SESSION:!_[a.sessionId]&&a.playerSession&&(_[a.sessionId]=a.playerSession);break;case n.PLAYER_VIEW_CLOSING:S(a)&&a.playerSession&&delete _[a.sessionId];break;case n.SHOW_REPORT_A_PROBLEM_DIALOG:case n.SHOW_SHARE_SHEET:if(S(a)){var P=_[a.sessionId].getPlayerInterface();a.wasPlayerPaused||P.pause(),P.exitFullscreen()}break;case n.HIDE_REPORT_A_PROBLEM_DIALOG:if(S(a)){if(!i.get(e.getState().sessionsById[a.sessionId],"reportAProblem.wasPlayerPaused",!1)){_[a.sessionId].getPlayerInterface().play()}}break;case n.HIDE_SHARE_SHEET:if(S(a)){if(!i.get(e.getState().sessionsById[a.sessionId],"shareSheet.wasPlayerPaused",!1)){_[a.sessionId].getPlayerInterface().play()}}break;case n.SUBMIT_REPORT_A_PROBLEM_DIALOG:if(S(a)&&a.report){var A=_[a.sessionId],R=A.getPlayerInterface(),f=Object.assign({},a.report,{videoId:A.getVideoId(),contentTime:R&&Math.round(R.getCurrentTime())});r(f,function(s,t){e.dispatch(E({sessionId:a.sessionId,success:t&&t.success})),!s&&t&&t.success||o.emit(d.REPORT_A_PROBLEM_ERROR,a.report)})}break;case n.SHOW_SEAMLESS_EXPERIENCE:o.emit(d.PLAYBACK_SHOW_SEAMLESS_EXPERIENCE,{transitionEnabled:a.transitionEnabled,videoId:a.videoId,trackId:a.trackId,xid:a.xid});break;case n.HIDE_SEAMLESS_CONTROLS:a.viaKey?o.emit(d.PLAYER_UI_KEY,{videoId:a.videoId,trackId:a.trackId,xid:a.xid,name:"watchSeamlessCredits"}):o.emit(d.PLAYER_UI_CLICK,{videoId:a.videoId,trackId:a.trackId,xid:a.xid,name:"watchSeamlessCredits"});break;case n.INTERACT_WITH_PLAYER:a.sessionId&&I.getSessionStateById(u,a.sessionId)&&!I.hasInteractedWithPlayer(u,a.sessionId)&&(o.emit(d.PLAYER_INTERACTION,{eventType:a.eventType,pointerType:a.pointerType}),window.netflix&&window.netflix.clientNotifications&&window.netflix.clientNotifications.flushBuffer())}return Object.keys(_).length>0&&!y?(y=function(){e.dispatch(l({}))},window.addEventListener("beforeunload",y)):0===Object.keys(_).length&&y&&(window.removeEventListener("beforeunload",y),y=void 0),s(t)}}}});C.r("player/domains/videoPlayer/bindCadmiumActions.js",function(e,n,t){"use strict";function r(e,n){return Object.keys(n).forEach(function(t){i[t]&&e.addEventListener(t,n[t])}),function(){Object.keys(n).forEach(function(t){i[t]&&e.removeEventListener(t,n[t])})}}var c=e("./cadmiumEvents"),i=Object.keys(c).reduce(function(e,n){return e[c[n]]=!0,e},{});n.exports=r});C.r("player/domains/videoPlayer/cadmiumEvents.js",function(e,s,n){"use strict";var t={SEGMENT_MAP_LOADED:"segmentmaploaded",SEGMENT_PRESENTING:"segmentpresenting"};s.exports=t});C.r("player/domains/videoPlayer/cadmiumPlayerMiddleware.js",function(e,s,a){"use strict";function i(e,s,a){return s in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a,e}function t(e,s){var a;return a={},i(a,A.CLOSED,function(){e.dispatch(m.videoPlayerClosed({sessionId:s}))}),i(a,v.BUFFER,function(a,i){e.dispatch(m.receiveBufferingData({sessionId:s,buffering:i}))}),i(a,p(A.BUSY),function(a,i){e.dispatch(m.receiveBufferingData({sessionId:s,buffering:i}))}),i(a,P(A.BUSY),function(a){e.dispatch(m.receiveBufferingData({sessionId:s,buffering:void 0}))}),i(a,A.ENDED,function(){e.dispatch(m.videoPlayerEnded({sessionId:s}))}),a}var d=e("./bindCadmiumActions"),n=e("./cadmiumEvents"),o=e("../../../reactMixins/eventBus"),r=e("shakti-platform/dist/ui/utils/inNode"),c=e("./cadmiumStateMachine"),I=e("../playerApp/playerAppConstants"),E=e("./videoPlayerConstants"),m=e("./videoPlayerActionCreators"),l=e("./videoPlayerAPI"),u=e("../../nfplayer/common/playerEngines"),D=e("../../../utils/consolidatedLogging/loggingEventRegistry"),S=E.actionTypes,_=c.createCadmiumStateMachine,p=c.enter,P=c.leave,A=c.machineStateName,v=c.machineEventName,f=I.actionTypes,y={},L=function(e){return function(s){return function(a){var c=a.type,I=a.data;if(r)return s(a);switch(c){case S.RECEIVE_VIDEO_PLAYER:if(I.type===u.CADMIUM&&I.instance&&I.sessionId){var E;y[I.sessionId]={stateMachine:_(I.instance,{autoPlay:!!I.autoPlay},t(e,I.sessionId)),disposeActions:d(I.instance,(E={},i(E,n.SEGMENT_MAP_LOADED,function(s){e.dispatch(m.receiveSegmentMap({sessionId:I.sessionId,segmentMap:s&&s.segmentMap}))}),i(E,n.SEGMENT_PRESENTING,function(s){e.dispatch(m.receiveCurrentSegmentId({sessionId:I.sessionId,segmentId:s&&s.segmentId}))}),E))}}break;case f.PLAYER_VIEW_CLOSING:case S.VIDEO_PLAYER_CLOSED:if(I.sessionId&&y[I.sessionId]){var p=y[I.sessionId];p.stateMachine.dispose(),p.disposeActions(),delete y[I.sessionId]}break;case S.ADD_NEXT_SEAMLESS_VIDEO:if(I.sessionId&&I.seamlessData&&I.seamlessData.movieId&&y[I.sessionId]&&!l.wasVideoAddedForSeamless(e.getState(),I.sessionId,I.seamlessData.movieId)){var P=y[I.sessionId].stateMachine.cadmiumPlayer,A=P.getXid();o.emit(D.PLAYBACK_SEAMLESS_VIDEO_ADDED_START,{endPts:I.seamlessData.currentEndPts,startPts:I.seamlessData.nextStartPts,trackId:I.seamlessData.playbackParams.trackingId,videoId:I.seamlessData.movieId,xid:A}),P.addEpisode&&P.addEpisode(I.seamlessData).then(function(){o.emit(D.PLAYBACK_SEAMLESS_VIDEO_ADDED_END,{endPts:I.seamlessData.currentEndPts,startPts:I.seamlessData.nextStartPts,trackId:I.seamlessData.playbackParams.trackingId,videoId:I.seamlessData.movieId,success:!0,xid:A}),e.dispatch(m.seamlessVideoPrepared({sessionId:I.sessionId,videoId:I.seamlessData.movieId}))}).catch(function(){o.emit(D.PLAYBACK_SEAMLESS_VIDEO_ADDED_END,{endPts:I.seamlessData.currentEndPts,startPts:I.seamlessData.nextStartPts,trackId:I.seamlessData.playbackParams.trackingId,videoId:I.seamlessData.movieId,success:!1,xid:A}),e.dispatch(m.seamlessVideoIncomplete({sessionId:I.sessionId,videoId:I.seamlessData.movieId}))})}break;case S.PLAY_NEXT_SEAMLESS_VIDEO:if(I.sessionId&&y[I.sessionId]&&l.isPlayerTransitioningSeamlessly(e.getState(),I.sessionId)){y[I.sessionId].stateMachine.cadmiumPlayer.playNextEpisode()}break;case S.LOG_PLAY_NEXT_SEAMLESS_VIDEO_START:if(I.sessionId&&y[I.sessionId]){var v=y[I.sessionId].stateMachine.cadmiumPlayer;o.emit(D.PLAYBACK_PLAY_NEXT_SEAMLESS_VIDEO_START,{autoplay:I.autoplay,videoId:I.videoId,trackId:I.trackId,xid:v.getXid()}),I.viaKey?o.emit(D.PLAYER_UI_KEY,{videoId:I.videoId,trackId:I.trackId,xid:v.getXid(),name:"playNextSeamlessEpisode"}):o.emit(D.PLAYER_UI_CLICK,{videoId:I.videoId,trackId:I.trackId,xid:v.getXid(),name:"playNextSeamlessEpisode",autoplay:I.autoplay})}break;case S.LOG_PLAY_NEXT_SEAMLESS_VIDEO_END:if(I.sessionId&&y[I.sessionId]){var L=I.isDisabled?"disabled":"timeout";o.emit(D.PLAYBACK_PLAY_NEXT_SEAMLESS_VIDEO_END,{success:I.success,reason:I.success?void 0:L})}}return s(a)}}};s.exports=L});C.r("player/domains/videoPlayer/cadmiumStateMachine.js",function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r,E=e("ramda/src/identity"),u=e("ramda/src/tap"),i=e("javascript-state-machine"),A={LOADING:"loading",PLAYING:"playing",PAUSED:"paused",BUSY:"busy",CLOSED:"closed",ENDED:"ended",ERROR:"error"},c={ERROR:"error",BUFFER:"buffer",CLOSE:"close",END:"end",PAUSE:"pause",PLAY:"play"},D=[{name:c.PLAY,from:[A.BUSY,A.ENDED,A.LOADING,A.PAUSED],to:A.PLAYING},{name:c.PAUSE,from:[A.BUSY,A.ENDED,A.LOADING,A.PLAYING],to:A.PAUSED},{name:c.CLOSE,from:[A.BUSY,A.ENDED,A.ERROR,A.LOADING,A.PAUSED,A.PLAYING],to:A.CLOSED},{name:c.BUFFER,from:[A.PLAYING,A.PAUSED,A.BUSY],to:A.BUSY},{name:c.END,from:A.PLAYING,to:A.ENDED},{name:c.ERROR,from:Object.keys(A).filter(function(e){return"ERROR"!==e}).map(function(e){return A[e]}),to:A.ERROR}],o={AUDIO_TRACK_CHANGED:"audiotrackchanged",AUDIO_TRACKLIST_CHANGED:"audiotracklistchanged",BUFFERED_TIME_CHANGED:"bufferedtimechanged",BUSY_CHANGED:"busychanged",CLOSED:"closed",CURRENT_TIME_CHANGED:"currenttimechanged",DURATION_CHANGED:"durationchanged",ENDED_CHANGED:"endedchanged",ERROR:"error",INACTIVATED:"inactivated",IS_READY_TO_TRANSITION:"isReadyToTransition",LOADED:"loaded",LOADED_METADATA:"loadedmetadata",LOADED_TRACKS:"loadedtracks",MUTED_CHANGED:"mutedchanged",PAUSED_CHANGED:"pausedchanged",REMOVE_SUBTITLE:"removesubtitle",SHOW_SUBTITLE:"showsubtitle",TIMEDTEXT_TRACK_CHANGED:"timedtexttrackchanged",TIMEDTEXT_TRACKLIST_CHANGED:"timedtexttracklistchanged",TRICKPLAY_FRAMES_CHANGED:"trickplayframeschanged",VIDEO_SIZE_CHANGED:"videosizechanged",VOLUME_CHANGED:"volumechanged",WATERMARK:"watermark"},s=function(e){return E},d=function(e){return function(t){return u(e(t))}},N=d(function(e){return function(t){var n=t.target;if(n&&n.getBusy)switch(e.state){case A.PLAYING:case A.PAUSED:n.getBusy()&&e.buffer(t.target.getBusy());break;case A.BUSY:n.getBusy()?e.buffer(t.target.getBusy()):e.wasPlaying()?e.play():e.pause()}}}),T=d(function(e){return function(t){switch(e.state){case A.CLOSED:break;default:e.close()}}}),_=d(function(e){return function(t){var n=t.target;switch(e.state){case A.LOADING:e.play();break;case A.PAUSED:n.getPaused()||e.play();break;case A.ENDED:e.play()}}}),f=d(function(e){return function(t){var n=t.target;switch(e.state){case A.PLAYING:e.end();break;case A.ENDED:n.getPaused()?e.pause():e.play()}}}),R=d(function(e){return function(t){switch(e.state){case A.PAUSED:e.play();break;case A.PLAYING:e.pause()}}}),l=d(function(e){return function(t){e.shouldAutoPlay()&&e.play()}}),C=d(function(e){return function(t){return e.error()}}),I=(r={},a(r,o.AUDIO_TRACK_CHANGED,s),a(r,o.AUDIO_TRACKLIST_CHANGED,s),a(r,o.BUFFERED_TIME_CHANGED,s),a(r,o.BUSY_CHANGED,N),a(r,o.CLOSED,T),a(r,o.CURRENT_TIME_CHANGED,_),a(r,o.DURATION_CHANGED,s),a(r,o.ENDED_CHANGED,f),a(r,o.ERROR,C),a(r,o.INACTIVATED,s),a(r,o.IS_READY_TO_TRANSITION,s),a(r,o.LOADED,l),a(r,o.LOADED_METADATA,s),a(r,o.LOADED_TRACKS,s),a(r,o.MUTED_CHANGED,s),a(r,o.PAUSED_CHANGED,R),a(r,o.REMOVE_SUBTITLE,s),a(r,o.SHOW_SUBTITLE,s),a(r,o.TIMEDTEXT_TRACK_CHANGED,s),a(r,o.TIMEDTEXT_TRACKLIST_CHANGED,s),a(r,o.TRICKPLAY_FRAMES_CHANGED,s),a(r,o.VIDEO_SIZE_CHANGED,s),a(r,o.VOLUME_CHANGED,s),a(r,o.WATERMARK,s),r),O=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},S=function(e){return function(t){return function(n){return t+e(n)}}}(O),P=S("on"),L=S("enter"),G=S("leave"),y=function(e){return Object.keys(e).reduce(function(t,n){return t[P(n)]=e[n],t},{})},U=function(e,t){var n=new i({init:A.LOADING,transitions:D,data:{_shouldAutoPlay:e.autoPlay,_wasPlaying:e.autoPlay},methods:Object.assign(y(t),{wasPlaying:function(){return this._wasPlaying},setWasPlaying:function(e){this._wasPlaying=e},shouldAutoPlay:function(){return this._shouldAutoPlay}})});return n.observe({onPlay:function(){n.setWasPlaying(!0)},onPause:function(){n.setWasPlaying(!1)}}),n},m=function(e,t){var n=Object.keys(I).reduce(function(n,a){var r=I[a](t);return e.addEventListener(a,r),n[a]=r,n},{});return{cadmiumPlayer:e,stateMachine:t,dispose:function(){Object.keys(n).forEach(function(t){e.removeEventListener(t,n[t])})}}},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return m(e,U(t,n))};t.exports={createCadmiumStateMachine:g,enter:L,leave:G,machineEventName:c,machineStateName:A}});C.r("player/domains/videoPlayer/createVideoPlayerDomain.js",function(e,a,r){"use strict";var i=e("../../nfplayer/domain/common/createDomain"),o=e("./cadmiumPlayerMiddleware"),t=e("./videoPlayerActionCreators"),d=e("./videoPlayerAPI"),n=e("./videoPlayerStateReducer"),c=function(){return i({actionCreators:t,api:d,middlewares:[o],name:"videoPlayer",stateReducer:n})};a.exports=c});C.r("player/domains/videoPlayer/videoPlayerAPI.js",function(e,n,r){"use strict";var i=e("ramda/src/propOr"),o=e("nf-algebraic-data-types/Option"),s=function(e,n){return e.videoPlayersBySessionId[n]},t=function(e,n){return i(void 0,"buffering",s(e,n))},d=function(e,n){return i(void 0,"seamlessVideosByVideoId",s(e,n))},u=function(e,n,r){return i(void 0,r,d(e,n))},a=function(e,n){return o.fromNullable(i(void 0,"progress",t(e,n))).map(function(e){return Math.floor(100*e)}).getOrElse(void 0)},f=function(e,n){return o.fromNullable(t(e,n)).map(function(e){return!0}).getOrElse(!1)},l=function(e,n){return i(!1,"ended",s(e,n))},c=function(e,n,r){var o=i(!1,"added",u(e,n,r)),s=i(!1,"pending",u(e,n,r));return!(!o&&!s)},y=function(e,n,r){return i(!1,"added",u(e,n,r))},g=function(e,n){return i(!1,"isTransitioningSeamlessly",s(e,n))},m=function(e,n){return i(void 0,"xid",s(e,n))},v={isPlayerTransitioningSeamlessly:g,isBufferingBySessionId:f,isVideoEndedBySessionId:l,isVideoReadyForSeamlessTransition:y,getBufferingProgressBySessionId:a,getXidBySessionId:m,wasVideoAddedForSeamless:c};n.exports=v});C.r("player/domains/videoPlayer/videoPlayerActionCreators.js",function(e,E,_){"use strict";var a=e("../../nfplayer/domain/common/createAction"),S=e("./videoPlayerConstants"),r=S.actionTypes,P=a(r.ADD_NEXT_SEAMLESS_VIDEO),A=a(r.PLAY_BRANCH),o=a(r.QUEUE_BRANCH),i=a(r.RECEIVE_BUFFERING_DATA),d=a(r.RECEIVE_SEGMENT_MAP),l=a(r.RECEIVE_CURRENT_SEGMENT_ID),R=a(r.RECEIVE_VIDEO_PLAYER),s=a(r.VIDEO_PLAYER_CLOSED),D=a(r.VIDEO_PLAYER_ENDED),V=a(r.PREPARE_SEAMLESS_TRANSITION),I=a(r.LOG_PLAY_NEXT_SEAMLESS_VIDEO_START),t=a(r.LOG_PLAY_NEXT_SEAMLESS_VIDEO_END),L=a(r.PLAY_NEXT_SEAMLESS_VIDEO),n=a(r.REMOVE_SEAMLESS_STATE),O=a(r.SEAMLESS_VIDEO_PREPARED),N=a(r.SEAMLESS_VIDEO_INCOMPLETE),T=a(r.VIDEO_PLAYER_PAUSED),y=a(r.VIDEO_PLAYER_PLAYING),m=a(r.VIDEO_PLAYER_SCRUB_START),v=a(r.VIDEO_PLAYER_SCRUB_END),C=a(r.VIDEO_PLAYER_VOLUME_CHANGED),c=a(r.VIDEO_PLAYER_TIME_UPDATE),M=a(r.VIDEO_PLAYER_ERROR),Y={addNextSeamlessVideo:P,logPlayNextSeamlessVideoStart:I,logPlayNextSeamlessVideoEnd:t,prepareForSeamlessTransition:V,playBranch:A,queueBranch:o,playNextSeamlessVideo:L,receiveBufferingData:i,receiveSegmentMap:d,receiveCurrentSegmentId:l,receiveVideoPlayer:R,removeSeamlessState:n,seamlessVideoPrepared:O,seamlessVideoIncomplete:N,videoPlayerClosed:s,videoPlayerEnded:D,videoPlayerPaused:T,videoPlayerPlaying:y,videoPlayerScrubStart:m,videoPlayerScrubEnd:v,videoPlayerVolumeChanged:C,videoPlayerTimeUpdate:c,videoPlayerError:M};E.exports=Y});C.r("player/domains/videoPlayer/videoPlayerState.js",function(e,a,r){"use strict";var t=e("nf-algebraic-data-types/Record"),d=t({videoPlayersBySessionId:{}},"VideoPlayerStateRecord"),o=d();a.exports={defaultVideoPlayerState:o,videoPlayerStateRecord:d}});C.r("player/domains/videoPlayer/videoPlayerStateReducer.js",function(e,s,i){"use strict";function n(e,s,i){return s in e?Object.defineProperty(e,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[s]=i,e}var d,o=e("../../nfplayer/domain/common/createHandleAction"),r=e("../../nfplayer/domain/common/createStateReducer"),a=e("../playerApp/playerAppConstants"),t=e("./videoPlayerState"),y=e("./videoPlayerConstants"),I=t.defaultVideoPlayerState,l=y.actionTypes,v=a.actionTypes,S=function(e,s){var i=s.sessionId,d=s.xid;return e.set("videoPlayersBySessionId",Object.assign({},e.videoPlayersBySessionId,n({},i,{seamlessVideosByVideoId:{},xid:d,ended:!1})))},P=function(e,s){var i=s.sessionId,n=s.buffering;if(!e.videoPlayersBySessionId[i])return e;var d=Object.assign({},e.videoPlayersBySessionId);return d[i]=Object.assign({},d[i],{buffering:n}),e.set("videoPlayersBySessionId",d)},E=function(e,s){var i=s.sessionId;if(!e.videoPlayersBySessionId[i])return e;var n=Object.assign({},e.videoPlayersBySessionId);return delete n[i],e.set("videoPlayersBySessionId",n)},u=function(e,s){var i=s.sessionId,n=s.seamlessData;if(!e.videoPlayersBySessionId[i])return e;var d=Object.assign({},e.videoPlayersBySessionId);return d[i].seamlessVideosByVideoId[n.movieId]={pending:!0},e.set("videoPlayersBySessionId",d)},B=function(e,s){var i=s.sessionId,n=s.videoId;if(!e.videoPlayersBySessionId[i])return e;var d=Object.assign({},e.videoPlayersBySessionId);return d[i].seamlessVideosByVideoId[n]={pending:!1,added:!0},e.set("videoPlayersBySessionId",d)},c=function(e,s){var i=s.sessionId;if(!e.videoPlayersBySessionId[i])return e;var n=Object.assign({},e.videoPlayersBySessionId);return n[i].isTransitioningSeamlessly=!0,e.set("videoPlayersBySessionId",n)},f=function(e,s){var i=s.sessionId;if(!e.videoPlayersBySessionId[i])return e;var n=Object.assign({},e.videoPlayersBySessionId),d=n[i];return delete d.isTransitioningSeamlessly,d.seamlessVideosByVideoId={},d.ended=!1,e.set("videoPlayersBySessionId",n)},O=function(e,s){var i=s.sessionId;if(!e.videoPlayersBySessionId[i])return e;var n=Object.assign({},e.videoPlayersBySessionId),d=n[i];return delete d.isTransitioningSeamlessly,d.seamlessVideosByVideoId={},e.set("videoPlayersBySessionId",n)},V=function(e,s){var i=s.sessionId,n=s.videoId;if(!e.videoPlayersBySessionId[i])return e;var d=Object.assign({},e.videoPlayersBySessionId);return d[i].seamlessVideosByVideoId[n]={pending:!1,added:!1},e.set("videoPlayersBySessionId",d)},_=function(e,s){var i=s.sessionId;if(!e.videoPlayersBySessionId[i])return e;var n=Object.assign({},e.videoPlayersBySessionId);return delete n[i],e.set("videoPlayersBySessionId",n)},g=function(e,s){var i=s.sessionId;if(!e.videoPlayersBySessionId[i])return e;var n=Object.assign({},e.videoPlayersBySessionId);return n[i]=Object.assign({},n[i],{ended:!0}),e.set("videoPlayersBySessionId",n)},A=r((d={},n(d,l.PREPARE_SEAMLESS_TRANSITION,o(c)),n(d,l.PLAY_NEXT_SEAMLESS_VIDEO,o(f)),n(d,l.RECEIVE_BUFFERING_DATA,o(P)),n(d,l.RECEIVE_VIDEO_PLAYER,o(S)),n(d,l.REMOVE_SEAMLESS_STATE,o(O)),n(d,v.PLAYER_VIEW_CLOSING,o(E)),n(d,l.ADD_NEXT_SEAMLESS_VIDEO,o(u)),n(d,l.SEAMLESS_VIDEO_INCOMPLETE,o(V)),n(d,l.SEAMLESS_VIDEO_PREPARED,o(B)),n(d,l.VIDEO_PLAYER_CLOSED,o(_)),n(d,l.VIDEO_PLAYER_ENDED,o(g)),d),I);s.exports=A});C.r("player/embed/utils/createEmbedMarkup.js",function(e,i,t){"use strict";function r(e){return[a,l.replace("{{ URL }}",e),s].join("")}var a='<div style="position: relative; height: 0; padding: 56.25%;">',l='<iframe src="{{ URL }}" width="640" height="360" frameborder="0" style="position: absolute; width: 100%; height: 100%; left: 0;" allowfullscreen></iframe>',s="</div>";i.exports=r});C.r("player/nfplayer/components/prePlay/preRollLoggingEvents.js",function(R,r,e){"use strict";var l={PRE_ROLL_INTRO_START:"preRollIntro:start",PRE_ROLL_INTRO_END:"preRollIntro:end",PRE_ROLL_OUTRO_START:"preRollOutro:start",PRE_ROLL_OUTRO_END:"preRollOutro:end",PRE_ROLL_SKIPPED:"preRollSkipped",PRE_ROLL_EXITED:"preRollExited"};r.exports=l});C.r("player/nfplayer/domain/billboard/billboardConstants.js",function(l,o,a){"use strict";var r={MOTION_BILLBOARD_DATA:["lolomo","billboards","billboards",0,"webp","data"],MOTION_BILLBOARD_TRACKIDS:["lolomo","billboards","trackIds"]};o.exports={falcorPaths:r}});C.r("player/nfplayer/domain/billboard/billboardUtils.js",function(r,t,e){"use strict";function n(r){return l.fromNullable(r).map(function(r){return[r,l.fromNullable(m(r)).map(y),l.fromNullable(p(r)).map(s("trackId"))]}).chain(function(r){var t=a(r,3),e=t[0],n=t[1],o=t[2],i=n.getOrElse(void 0),u=o.getOrElse(void 0);if(i&&u){var s=l.fromNullable(B(i)(e)).getOrElse(void 0);return l.fromNullable(c.createPrepareObject(i,u,s)).map(d)}return l.None}).getOrElse([])}var a=function(){function r(r,t){var e=[],n=!0,a=!1,o=void 0;try{for(var i,l=r[Symbol.iterator]();!(n=(i=l.next()).done)&&(e.push(i.value),!t||e.length!==t);n=!0);}catch(r){a=!0,o=r}finally{try{!n&&l.return&&l.return()}finally{if(a)throw o}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r("./billboardConstants"),i=r("ramda/src/compose"),l=r("nf-algebraic-data-types/Option"),u=r("ramda/src/path"),s=r("ramda/src/prop"),c=r("../video/videoUtils"),f=o.falcorPaths,d=function(r){return[r]},b=function(r){return function(t){return t.bind(r).getBoundValue()}},m=b(f.MOTION_BILLBOARD_DATA),p=b(f.MOTION_BILLBOARD_TRACKIDS),v=u(["videoAssets","horizontalBackground"]),O=function(r){return l.fromNullable(r).map(v).getOrElse({})},y=i(s("motionId"),O),g=i(function(r){return!!r.isTrailer},O),h=i(Boolean,O),B=function(r){return i(s("manifest"),b(["videos",r,"playbackData","motionBillboard"]))};t.exports={getMotionBillboardPrepareDataFromFalcorPath:n,isMotionBillboard:h,isTrailerAsset:g}});C.r("player/nfplayer/domain/common/bindAPIToSubState.js",function(r,n,t){"use strict";var e=function(r,n){return Object.keys(n).reduce(function(t,e){var o=n[e];return t[e]=function(n){for(var t=arguments.length,e=Array(t>1?t-1:0),a=1;a<t;a++)e[a-1]=arguments[a];return o.apply(void 0,[n[r]].concat(e))},t},{})};n.exports=e});C.r("player/nfplayer/domain/common/bindActionCreators.js",function(n,r,t){"use strict";var e=function(n,r){return Object.keys(n).reduce(function(t,e){return t[e]=function(t){var o=n[e];return r(o(t))},t},{})};r.exports=e});C.r("player/nfplayer/domain/common/bindMiddlewareToSubState.js",function(t,n,r){"use strict";var e=function(t,n){return function(r){return function(e){return function(u){return n({dispatch:r.dispatch,getState:function(){return r.getState()[t]}})(e)(u)}}}};n.exports=e});C.r("player/nfplayer/domain/common/createApp.js",function(e,r,t){"use strict";function n(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}var a=e("./bindActionCreators"),o=e("./createChangeNotifier"),c=e("./createSavePrevStateMiddleware"),i=e("./createStatefulAPI"),u=e("redux"),f=function(e){var r=e.actionCreators||{},t=e.appAPI||{},f=e.middlewares||[],d=function(e,r){return e},p=e.stateReducer||d,s=void 0,l=function(e){return s=e},A=function(e){return e!==s},g=u.compose,y=u.createStore(p,g(u.applyMiddleware.apply(u,[c(l)].concat(n(f))))),h=function(){return y},S=a(r,y.dispatch),m=function(){return S},v=function(){return y.getState()},C=i(t,v),P=function(){return C},w=o(h,P,A);return Object.freeze({addChangeListener:w,dispatch:y.dispatch,getActionCreators:m,getAPI:P,getState:v,getStore:h})};r.exports=f});C.r("player/nfplayer/domain/common/createAppFromDomains.js",function(e,r,n){"use strict";var t=e("./bindAPIToSubState"),a=e("./bindMiddlewareToSubState"),o=e("ramda/src/converge"),i=e("./createApp"),u=e("redux"),c=function(e){var r=new Error(e);throw r.name="AppFromDomainsError",r},d=function(e){return e.filter(function(e){return!!e.actionCreators}).reduce(function(e,r){return Object.keys(r.actionCreators).forEach(function(n){e[n]&&c("Action creator already exists for '"+n+"'"),e[n]=r.actionCreators[n]}),e},{})},f=function(e){var r=e.filter(function(e){return!!e.stateReducer}).reduce(function(e,r){return e[r.name]&&c("State reducer already exists for domain name '"+r.name+"'"),e[r.name]=r.stateReducer,e},{});return u.combineReducers(r)},s=function(e){return e.filter(function(e){return!!e.api}).reduce(function(e,r){return e[r.name]&&c("API already exists for domain name '"+r.name+"'"),e[r.name]=t(r.name,r.api),e},{})},m=function(e){return e.filter(function(e){return!!e.middlewares}).reduce(function(e,r){return e.concat(r.middlewares.map(function(e){return a(r.name,e)}))},[])},p=function(e,r){return function(n,t,a,o){return i({actionCreators:n,appAPI:Object.assign({},e,a),middlewares:r.concat(o),stateReducer:t})}},l=function(e,r){return o(p(e,r),[d,f,s,m])},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.appAPI,n=void 0===r?{}:r,t=e.domains,a=e.middlewares;return l(n,void 0===a?[]:a)(t)};r.exports=v});C.r("player/nfplayer/domain/common/createChangeNotifier.js",function(n,t,r){"use strict";var e=function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(n){return!0};return function(e){return n().subscribe(function(){r(n().getState())&&e(t())})}};t.exports=e});C.r("player/nfplayer/domain/common/createDomain.js",function(e,a,r){"use strict";var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.actionCreators,r=e.api,t=e.middlewares,n=e.name,i=e.stateReducer;return Object.freeze({actionCreators:a,api:r,middlewares:t,name:n,stateReducer:i})};a.exports=t});C.r("player/nfplayer/domain/common/createHandleAction.js",function(n,r,t){"use strict";var e=function(n){return function(r,t){return n(r,t.data)}};r.exports=e});C.r("player/nfplayer/domain/common/createSavePrevStateMiddleware.js",function(t,e,n){"use strict";var r=function(t){return function(e){return function(n){return function(r){return t(e.getState()),n(r)}}}};e.exports=r});C.r("player/nfplayer/domain/common/createStateReducer.js",function(r,e,t){"use strict";var n=function(r,e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments[1];if(!n)return t;var a=r[n.type];return a?a(t,n):t}};e.exports=n});C.r("player/nfplayer/domain/common/createStateSelector.js",function(r,t,n){"use strict";var e=function(r,t){return function(){for(var n=arguments.length,e=Array(n),o=0;o<n;o++)e[o]=arguments[o];return t.apply(void 0,[r()].concat(e))}};t.exports=e});C.r("player/nfplayer/domain/common/createStatefulAPI.js",function(t,e,o){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=t("./createStateSelector"),f=function t(e,o){return Object.keys(e).reduce(function(f,u){var c=e[u];if("function"==typeof c)return f[u]=n(o,c),f;if("object"===(void 0===c?"undefined":r(c))){var y=t(c,o);return f[u]=y,f}return f},{})};e.exports=f});C.r("player/nfplayer/domain/postplay/createPostPlayApp.js",function(r,a,e){"use strict";function o(r){if(Array.isArray(r)){for(var a=0,e=Array(r.length);a<r.length;a++)e[a]=r[a];return e}return Array.from(r)}var t=r("../common/createApp"),i=r("../../../../akira/redux/discovery/logAddToPlaylist"),l=r("../../../../akira/redux/discovery/logRemoveFromPlaylist"),n=r("../../../../akira/redux/logging/getLoggingMiddleware"),s=r("./postPlayActionCreators"),d=r("./postPlayAPI2"),y=r("./postPlayCommonMiddleware"),c=r("./postPlayStateReducer"),p=function(r){return t({actionCreators:s,appAPI:d,middlewares:[y(r)].concat(o(n([i,l]))),stateReducer:c})};a.exports=p});C.r("player/nfplayer/domain/postplay/createPostPlayDomain.js",function(a,t,e){"use strict";var o=a("../common/createDomain"),r=a("./postPlayActionCreators"),s=a("./postPlayAPI2"),n=a("./postPlayCommonMiddleware"),i=a("./postPlayStateReducer"),l=function(a){return o({actionCreators:r,api:s,name:"postPlay",middlewares:a?[n(a)]:void 0,stateReducer:i})};t.exports=l});C.r("player/nfplayer/domain/postplay/postPlayAPI2.js",function(e,t,r){"use strict";var n=e("ramda/src/compose"),o=e("./postPlayExperienceAPI"),i=e("ramda/src/prop"),d=function(e,t){return e.errorsByVideoId[String(t)]},a=function(e){return e.experienceByVideoId},c=function(e,t){return e.experienceByVideoId[String(t)]},u=n(o,c),s=function(e,t){return!0===e.startedByVideoId[String(t)]},y=function(e){return e.startedByVideoId},I=function(e){return e.getInitialItemAPI().getFirstPlayTypeActionAPI()},g=n(function(e){return e.getAutoPlayTrackId()},I,o,c),p=n(function(e){return e.getUserPlayTrackId()},I,o,c),P=n(function(e){return e.getBookmarkPosition()},I,o,c),l=n(function(e){return e.getVideoId()},I,o,c),f=n(i("autoplaySeconds"),c),B={getAutoPlaySeconds:f,getAutoPlayTrackId:g,getBookmarkPosition:P,getErrorsByVideoId:d,getExperienceAPIByVideoId:u,getExperienceByVideoId:c,getExperiences:a,getPlayActionsVideoId:l,getStarted:y,getUserPlayTrackId:p,isPostPlayStartedByVideoId:s};t.exports=B});C.r("player/nfplayer/domain/postplay/postPlayActionCreators.js",function(e,E,r){"use strict";var t=e("../common/createAction"),a=e("./postPlayConstants"),c=a.actionTypes,R=t(c.CLEAR_ALL_EXPERIENCES),o=t(c.REMOVE_EXPERIENCE),s=t(c.RECEIVE_ERROR),i=t(c.RECEIVE_EXPERIENCE),n=t(c.REQUEST_EXPERIENCE),_=t(c.SEND_IMPRESSION),p=t(c.PREPARE_NEXT_VIDEOS),I=t(c.ADD_TO_MY_LIST),C=t(c.REMOVE_FROM_MY_LIST);E.exports={createAddToMyList:I,createClearAllExperiences:R,createPrepareNextVideos:p,createReceiveError:s,createReceiveExperience:i,createRemoveExperience:o,createRemoveFromMyList:C,createRequestExperience:n,createSendImpression:_}});C.r("player/nfplayer/domain/postplay/postPlayCommonMiddleware.js",function(e,t,r){"use strict";var n=e("../common/bindActionCreators"),i=e("../../../../akira/redux/discovery/discoveryActions"),o=e("../../../../utils/mylist_utils"),a=e("./postPlayActionCreators"),c=e("../../utils/postPlayCommon"),s=e("./postPlayConstants"),u=e("../../../../utils/rx/shakti-rx").RxObservable,d=s.actionTypes,p=s.errorIds.POSTPLAY_ERROR_1,f=a.createReceiveError,l=a.createReceiveExperience,y=function(e,t){var r=t.id;u.create(function(e){return c.getExperience(t,function(t,r){return t?e.error(t):e.next(r),e.complete()})}).subscribe(function(t){if(t&&Array.isArray(t))return e(l({postPlayData:t.length>0?t[0]:{},videoId:r}))},function(t){return e(f({error:t,errorId:p,videoId:r}))},function(){})},I=function(e,t){return c.sendPostplayImpression(e,t)},E=function(e,t){return c.prepareNextVideos(e[String(t.videoId)])},v=function(e,t){return e.bind(["videos",t])},b=function(e,t){return e.getValueSync(["queue"])||e.setValueSync(["queue"],{inQueue:t}),e},R=function(e){return b(e,!1)},_=function(e){return b(e,!0)},m=function(e,t,r){R(v(e,r.videoId)),o.addToList(t,r.videoId,r.trackId).subscribe()},P=function(e,t,r){_(v(e,r.videoId)),o.removeFromList(t,r.videoId,r.trackId).subscribe()},S=function(e){return function(t){return function(r){return function(o){switch(o.type){case d.ADD_TO_MY_LIST:m(e,n(i.actions,t.dispatch),o.data);break;case d.REQUEST_EXPERIENCE:y(t.dispatch,o.data);break;case d.SEND_IMPRESSION:I(e,o.data);break;case d.PREPARE_NEXT_VIDEOS:E(t.getState().experienceByVideoId,o.data);break;case d.REMOVE_FROM_MY_LIST:P(e,n(i.actions,t.dispatch),o.data)}return r(o)}}}};t.exports=S});C.r("player/nfplayer/domain/postplay/postPlayExperienceAPI.js",function(t,e,n){"use strict";var r=t("./postPlayExperience"),o=r.defaultPostPlayExperience,i=t("./postPlayConstants"),u=i.experienceTypes,s=t("../../../entities/playContext"),c=s.playContextRecord,a=t("ramda/src/always"),d=t("ramda/src/compose"),f=t("ramda/src/pathOr"),l=t("./postPlayActionAPI"),p=t("./postPlayItemAPI"),g=t("./postPlayUtils"),I=function(t){return t.actions},A=function(t){return g.findAddToPlaylistAction(t.actions)},y=d(l,A),m=function(t){return g.findMoreInfoAction(t.actions)},P=d(l,m),T=function(t){return t.autoplaySeconds},x=function(t){var e=t.currentEpisodeSeamlessData;return{seamlessCountdownSeconds:e.seamlessCountdownSeconds,seamlessEnd:1e3*e.seamlessEnd,seamlessStart:1e3*e.seamlessStart}},E=function(t){return t.itemsInitialIndex},v=function(t){return t.items},L=function(t){return v(t)[E(t)]},M=function(t){return t.requestId},S=function(t){return t.type},C=function(t){return!!t.autoplay},O=function(t){return t.promotedVideoId},R=function(t){return t.promotedTitle},k=function(t){return t.promotedSupplementalMessage},h=function(t){return t.assets},D=function(t){return t.impressionToken},U=function(t){return t.playlist},q=function(t){switch(t.type){case u.originalsPostPlay:case u.originalsPostPlayPostTrailer:return f(void 0,["assets","LOGO","assetType"],t);case u.episodicTeaser:case u.nextEpisode:return f(void 0,["assets","DISPLAY_ART","assetType"],t);default:return}},w=function(t,e){var n=p(L(t)),r=n.getInitialActionAPI();return c(Object.assign({},{imageKey:q(t),location:"Postplay",requestId:t.requestId,trackId:r.getTrackId(),videoId:r.getVideoId()},e))},V=function(t,e,n){return n===o&&void 0!==t?t:e(n)},j=function(t){return"defaultExperience"===t.type},B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=a(t);return{getAddToMyListAction:function(){return A(t)},getAddToMyListActionOrElse:function(e){return V(e,A,t)},getAddToMyListActionAPI:function(){return y(t)},getAddToMyListActionAPIOrElse:function(e){return V(e,y,t)},getAssets:function(){return h(t)},getAutoPlaySeconds:function(){return T(t)},getActions:function(){return I(t)},getBackgroundAssetURL:function(){return g.getBackgroundAssetURL(t)},getCurrentEpisodeSeamlessData:function(){return x(t)},getImpressionToken:function(){return D(t)},getInitialItem:function(){return L(t)},getInitialItemAPI:d(p,L,e),getItemAtIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return v(t)[e]},getItemAPIAtIndex:d(p,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return v(t)[e]}),getItems:function(){return v(t)},getLogoAssetURL:function(){return g.getLogoAssetURL(t)},getMoreInfoAction:function(){return m(t)},getMoreInfoActionOrElse:function(e){return V(e,m,t)},getMoreInfoActionAPI:function(){return P(t)},getMoreInfoActionAPIOrElse:function(e){return V(e,P,t)},getPlayContext:function(e){return w(t,e)},getPlaylist:function(){return U(t)},getPromotedSupplementalMessage:function(){return k(t)},getPromotedTitle:function(){return R(t)},getPromotedVideoId:function(){return O(t)},getRequestId:function(){return M(t)},getType:function(){return S(t)},isAutoplay:function(){return C(t)},isDefaultExperience:function(){return j(t)},toData:e}};e.exports=B});C.r("player/nfplayer/domain/postplay/postPlayState.js",function(e,t,a){"use strict";var r=e("nf-algebraic-data-types/Record"),o=r({errorsByVideoId:{},experienceByVideoId:{},startedByVideoId:{}}),d=o();t.exports={defaultPostPlayState:d,postPlayStateRecord:o}});C.r("player/nfplayer/domain/postplay/postPlayStateReducer.js",function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i,o=e("./postPlayUtils"),a=o.convertRawExperienceToRecord,d=e("../common/createHandleAction"),c=e("../common/createStateReducer"),s=e("ramda/src/isNil"),E=e("./postPlayAPI2"),u=e("./postPlayConstants"),y=e("./postPlayState"),l=y.defaultPostPlayState,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return e.concat(t)},I=function(e,t){return Object.assign({},e,t)},f=function(e,t,r){return I(e,n({},t,p(e[t],r)))},P=function(e,t){return e.set("errorsByVideoId",f(e.errorsByVideoId,String(t.videoId),[t]))},R=function(e){return Object.keys(e.experienceByVideoId).length>0?e.set("experienceByVideoId",{}).set("startedByVideoId",{}):e},v=function(e,t){var r=E.getStarted(e),n=I(r);return delete n[t],e.set("startedByVideoId",n)},V=function(e,t){var r=E.getExperienceByVideoId(e,t);if(s(r))return e;var n=E.getExperiences(e),i=I(n);return delete i[t],v(e,t).set("experienceByVideoId",i)},g=function(e,t){var r=E.getExperiences(e),i=I(r,n({},t.videoId,a(t.postPlayData)));return v(e,t.videoId).set("experienceByVideoId",i)},B=function(e,t){var r=t.id;if(E.isPostPlayStartedByVideoId(e,r))return e;var n=E.getStarted(e);return n[String(r)]=!0,e.set("startedByVideoId",I(n))},S=u.actionTypes,x=(i={},n(i,S.CLEAR_ALL_EXPERIENCES,d(R)),n(i,S.RECEIVE_ERROR,d(P)),n(i,S.RECEIVE_EXPERIENCE,d(g)),n(i,S.REMOVE_EXPERIENCE,d(V)),n(i,S.REQUEST_EXPERIENCE,d(B)),i),C=c(x,l);t.exports=C});C.r("player/nfplayer/requests/reportAProblem.js",function(n,r,l){"use strict";function t(n,r){return i.call([a],[JSON.stringify(n)],[],[]).subscribe(function(n){r(null,n)},function(n){r(n,null)})}function e(n,r,l){l(null,o.get(r,["value"].concat([a]).join("."),null))}function u(n,r){var l=o.assign({},s,n);return t(l,function(n,t){return n?r(n,null):e(l,t,r)})}var o=n("lodash"),i=n("../../../falkorClient/falkorLoader"),a="reportAProblem",s={isPlayer:!0};r.exports=u});C.r("utils/billboard.js",function(e,r,o){"use strict";var n={};r.exports={RECORD_IMPRESSION:"recordImpression",RECORD_ACTION:"recordAction",recordActionOrImpression:function(e,r,o,i){n[i]||(n[i]=!0,r.call(["videos",i,o],[e]).subscribe())},recordActionOrImpressionLegacy:function(e,r,o,i,t,c,a){if("recordImpression"===r){if(n[o])return;n[o]=!0}"recordImpression"===r?r="recordImpressionLegacy":"recordAction"===r&&(r="recordActionLegacy"),e.call(["videos",o,r],[{isKids:!1,imageDescriptor:"Image_Iconic",awardCampaign:i,billboardType:c,billboardTheme:t,contentType:a}]).subscribe()},fadeOutVolume:function(e,r,o,n){var i=void 0,t=void 0,c=n?"getVolume":"volume",a=n?"setVolume":"volume",l=n?"_getPlayerComponent":"getNode";e&&(i=setInterval(function(){e&&e[l]()?e[c]()<=.1?(e[a](0),clearInterval(i),o&&o()):(t=e[c](),e[a](t-=.1)):clearInterval(i)},r))},fadeInVolume:function(e,r,o){var n=void 0,i=o?"setVolume":"volume",t=o?"_getPlayerComponent":"getNode";if(e){var c=0;e[i](c),n=setInterval(function(){e&&e[t]()?c>=.9?(e[i](1),clearInterval(n)):e[i](c+=.1):clearInterval(n)},r)}}}});C.r("utils/consolidatedLogging/apm.js",function(a,e,t){"use strict";e.exports={logStartup:function(a){var e=this;this.validateParamsAndSend({name:"logStartup",params:a,defaultParams:{},requiredParams:["timeToInteractive","components"],send:function(a){var t={category:"uiQOE",kids:a.kids,modalView:e.getCurrentModalView(),duration:a.duration,data:{timeToInteractive:a.timeToInteractive,components:a.components,success:!0}};e.logSessionStart("uiBrowseStartup",t),e.logSessionEnd("uiBrowseStartup",t)}})},logProcessStateTransitionStart:function(a){var e=this;this.validateParamsAndSend({name:"logProcessStateTransitionStart",params:a,defaultParams:{},requiredParams:["time"],send:function(a){var t={category:"uiQOE",time:a.time};e.logSessionStart("ProcessStateTransition",t)}})},logProcessStateTransitionEnd:function(a){var e=this;this.validateParamsAndSend({name:"logProcessStateTransitionEnd",params:a,defaultParams:{},requiredParams:["time"],send:function(a){var t={category:"uiQOE",time:a.time};e.logSessionEnd("ProcessStateTransition",t)}})},logNavigationSessionStart:function(a){var e=this;this.validateParamsAndSend({name:"logNavigationSessionStart",params:a,defaultParams:{},requiredParams:["view"],send:function(t){var i={category:"uiQOE",time:a.time||void 0,modalView:t.view,view:t.view};e.logSessionStart("NavigationLevel",i)}})},logNavigationSessionEnd:function(a){var e=this;this.validateParamsAndSend({name:"logNavigationSessionEnd",params:a,defaultParams:{},requiredParams:["view"],send:function(a){var t={category:"uiQOE",modalView:a.view,view:a.view};e.logSessionEnd("NavigationLevel",t)}})},logRenderSessionStart:function(a){var e=this;this.validateParamsAndSend({name:"logRenderStart",params:a,defaultParams:{},requiredParams:["view"],send:function(t){var i={category:"uiQOE",modalView:t.view,time:a.time||void 0};e.logSessionStart("RenderNavigationLevel",i)}})},logRenderSessionEnd:function(a){var e=this;this.validateParamsAndSend({name:"logRenderEnd",params:a,defaultParams:{},requiredParams:["view"],send:function(t){var i={category:"uiQOE",modalView:t.view,data:{success:Boolean(a.success)}};e.logSessionEnd("RenderNavigationLevel",i)}})},logDataRequest:function(a,e){var t=this;this.validateParamsAndSend({name:"uiDataRequest",params:a,defaultParams:{requestId:"unknown"},requiredParams:["url","requestId","reason"],send:function(a){var i={category:"uiQOE",kids:a.kids,modalView:t.getCurrentModalView(),duration:e,data:a};t.logSessionStart("uiDataRequest",i),t.logSessionEnd("uiDataRequest",i)}})},logSmallAssetMetrics:function(a){var e=this,t="siteSmallAssetMetrics";this.validateParamsAndSend({name:t,params:a,requiredParams:["location","entries"],send:function(a){var i={category:"www",kids:a.kids,modalView:e.getCurrentModalView(),data:a};e.logSessionStart(t,i),e.logSessionEnd(t,i)}})}}});C.r("utils/consolidatedLogging/billboard.js",function(r,e,a){"use strict";var o={logMotionBillboardLoadingStarted:function(r){var e=this;e.validateParamsAndSend({name:"logMotionBillboardLoadingStarted",params:r,defaultParams:{trigger:"auto"},requiredParams:[],send:function(r){e.logSessionStart("startTrailerPlay",{category:"uiAction",modalView:e.getCurrentModalView(),kids:r.kids,data:{trigger:r.trigger,merchedVideoId:r.motionId||r.videoId},dataContext:{trackId:r.trackId,videoId:r.videoId,row:r.rowNum,rank:r.rankNum,requestId:r.requestId}})}})},logMotionBillboardLoadingEnded:function(r){var e=this;e.validateParamsAndSend({name:"logMotionBillboardLoadingEnded",params:r,defaultParams:{trigger:"auto",reason:"success"},requiredParams:[],send:function(r){e.logSessionEnd("startTrailerPlay",{category:"uiAction",modalView:e.getCurrentModalView(),kids:r.kids,data:{trigger:r.trigger,reason:r.reason,merchedVideoId:r.motionId||r.videoId,inViewport:r.inViewport,perceivedPlayDelay:r.perceivedPlayDelay},dataContext:{trackId:r.trackId,videoId:r.videoId,row:r.rowNum,rank:r.rankNum,requestId:r.requestId}})}})},logMotionBillboardLoadingError:function(r){var e=this;e.validateParamsAndSend({name:"logMotionBillboardLoadingError",params:r,defaultParams:{trigger:"auto",reason:"failure"},requiredParams:["errorType"],send:function(r){e.logSessionEnd("startTrailerPlay",{category:"uiAction",modalView:e.getCurrentModalView(),kids:r.kids,data:{trigger:r.trigger,reason:r.reason,merchedVideoId:r.motionId||r.videoId,error:{rootCause:r.errorType,uiAction:"handledSilently",deepError:{errorCode:"errorStartingMotionBillboardVideo",fatal:!1,debug:{message:r.errorType}}}},dataContext:{trackId:r.trackId,videoId:r.videoId,row:r.rowNum,rank:r.rankNum,requestId:r.requestId}})}})},logMotionBillboardPlayStarted:function(r){var e=this;e.validateParamsAndSend({name:"logMotionBillboardPlayStarted",params:r,defaultParams:{trigger:"auto"},requiredParams:["startOffset"],send:function(r){e.logSessionStart("trailerPlay",{category:"uiAction",modalView:e.getCurrentModalView(),kids:r.kids,data:{trigger:r.trigger,merchedVideoId:r.motionId||r.videoId,startOffset:r.startOffset},dataContext:{trackId:r.trackId,videoId:r.videoId,row:r.rowNum,rank:r.rankNum,requestId:r.requestId}})}})},logMotionBillboardPlayEnded:function(r){var e=this;e.validateParamsAndSend({name:"logMotionBillboardPlayEnded",params:r,defaultParams:{trigger:"auto",reason:"success"},requiredParams:["detailedCompletionReason"],send:function(r){e.logSessionEnd("trailerPlay",{category:"uiAction",modalView:e.getCurrentModalView(),kids:r.kids,data:{trigger:r.trigger,reason:r.reason,merchedVideoId:r.motionId||r.videoId,detailedCompletionReason:r.detailedCompletionReason},dataContext:{trackId:r.trackId,videoId:r.videoId,row:r.rowNum,rank:r.rankNum,requestId:r.requestId}})}})},logMotionBillboardPlayError:function(r){var e=this;e.validateParamsAndSend({name:"logMotionBillboardPlayError",params:r,defaultParams:{trigger:"auto",reason:"failure"},requiredParams:["errorType"],send:function(r){e.logSessionEnd("trailerPlay",{category:"uiAction",modalView:e.getCurrentModalView(),kids:r.kids,data:{trigger:r.trigger,reason:r.reason,merchedVideoId:r.motionId||r.videoId,error:{rootCause:r.errorType,uiAction:"handledSilently",deepError:{errorCode:"errorStartingMotionBillboardVideo",fatal:!1,debug:{message:r.errorType}}}},dataContext:{trackId:r.trackId,videoId:r.videoId,row:r.rowNum,rank:r.rankNum,requestId:r.requestId}})}})},logMotionBillboardCommand:function(r){var e=this;e.validateParamsAndSend({name:"logMuteButtonClick",params:r,requiredParams:["commandName"],send:function(r){var a={category:"uiView",modalView:e.getCurrentModalView(),kids:r.kids,data:{name:r.commandName},dataContext:{trackId:r.trackId,videoId:r.videoId,row:r.rowNum,rank:r.rankNum,requestId:r.requestId}};e.logSessionStart("command",a),e.logSessionEnd("command",a)}})}};e.exports=o});C.r("utils/consolidatedLogging/bob.js",function(e,a,o){"use strict";a.exports={openBobParams:null,isBobOpen:function(){return!!this.openBobParams},setOpenBobParams:function(e){this.openBobParams=e},getOpenBobParams:function(){return this.openBobParams},logBobOpen:function(e){var a=this;this.validateParamsAndSend({name:"logBobOpen",params:e,defaultParams:{view:"bob"},requiredParams:["videoId","rowNum","rankNum"],send:function(e){a.setOpenBobParams(e),a.logSessionStart("impression",{category:"uiView",modalView:a.getCurrentModalView(),kids:e.kids,data:{view:e.view,matchScore:e.matchScore,predictedRating:e.predictedRating,isNewMS:e.tooNewForMatchScore},dataContext:{trackId:e.trackId,videoId:e.videoId,row:e.rowNum,rank:e.rankNum,requestId:e.requestId}})}})},logBobClose:function(e){var a=this;this.validateParamsAndSend({name:"logBobClose",params:e,defaultParams:this.getOpenBobParams(),requiredParams:["videoId","rowNum","rankNum"],send:function(e){a.logSessionEnd("impression",{category:"uiView",modalView:a.getCurrentModalView(),kids:e.kids,data:{view:e.view},dataContext:{trackId:e.trackId,videoId:e.videoId,row:e.rowNum,rank:e.rankNum,requestId:e.requestId}}),a.setOpenBobParams(null)}})}}});C.r("utils/consolidatedLogging/commonActions.js",function(a,e,t){"use strict";e.exports={logAddToPlaylistStart:function(a){var e=this;this.validateParamsAndSend({name:"logAddToPlaylistStart",params:a,defaultParams:{},requiredParams:["videoId","rowNum","rankNum","trackId"],send:function(a){e.logSessionStart("addToPlaylist",{category:"uiAction",modalView:e.getCurrentModalView(),kids:a.kids,data:{},dataContext:{trackId:a.trackId,videoId:a.videoId,row:a.rowNum,rank:a.rankNum,requestId:a.requestId}})}})},logAddToPlaylistEnd:function(a){var e=this;this.validateParamsAndSend({name:"logAddToPlaylistEnd",params:a,defaultParams:{},requiredParams:["videoId","rowNum","rankNum","trackId"],send:function(a){e.logSessionEnd("addToPlaylist",{category:"uiAction",modalView:e.getCurrentModalView(),kids:a.kids,data:{reason:"success"},dataContext:{trackId:a.trackId,videoId:a.videoId,row:a.rowNum,rank:a.rankNum,requestId:a.requestId}})}})},logRemoveFromPlaylistStart:function(a){var e=this;this.validateParamsAndSend({name:"logRemoveFromPlaylistStart",params:a,defaultParams:{},requiredParams:["videoId","rowNum","rankNum","trackId"],send:function(a){e.logSessionStart("removeFromPlaylist",{category:"uiAction",modalView:e.getCurrentModalView(),kids:a.kids,data:{},dataContext:{trackId:a.trackId,videoId:a.videoId,row:a.rowNum,rank:a.rankNum,requestId:a.requestId}})}})},logRemoveFromPlaylistEnd:function(a){var e=this;this.validateParamsAndSend({name:"logRemoveFromPlaylistEnd",params:a,defaultParams:{},requiredParams:["videoId","rowNum","rankNum","trackId"],send:function(a){e.logSessionEnd("removeFromPlaylist",{category:"uiAction",modalView:e.getCurrentModalView(),kids:a.kids,data:{reason:"success"},dataContext:{trackId:a.trackId,videoId:a.videoId,row:a.rowNum,rank:a.rankNum,requestId:a.requestId}})}})},logRequestPlaybackStart:function(a){var e=this;this.validateParamsAndSend({name:"logRequestPlaybackStart",params:a,defaultParams:{},requiredParams:["videoId","rowNum","rankNum","trackId"],send:function(a){var t={category:"uiAction",modalView:e.getCurrentModalView(),kids:a.kids,data:{triggerClassName:a.triggerEl&&a.triggerEl.className},dataContext:{trackId:a.trackId,videoId:a.videoId,row:a.rowNum,rank:a.rankNum,requestId:a.requestId}};a.ppmGUID&&(t.data.ppmGUID=a.ppmGUID,t.data.ppmID=a.ppmID),e.logSessionStart("startPlay",t)}})},logPlaybackStarted:function(a){var e=this;this.validateParamsAndSend({name:"logPlaybackStarted",params:a,defaultParams:{},requiredParams:[],send:function(a){e.logSessionEnd("startPlay",{category:"uiAction",kids:a.kids,modalView:e.getCurrentModalView(),data:{reason:a.reason,videoId:a.videoId,supplementalVideoId:a.supplementalVideoId,xid:a.xid},dataContext:{trackId:a.trackId}})}})},logPlaybackInitError:function(a){var e=this;this.validateParamsAndSend({name:"logPlaybackInitError",params:a,defaultParams:{},requiredParams:[],send:function(a){var t={category:"www",kids:a.kids,modalView:e.getCurrentModalView(),data:a,dataContext:{}};e.logSessionStart("playbackInitError",t),e.logSessionEnd("playbackInitError",t)}})},logAutoPlayInterrupterShown:function(a){var e=this;this.validateParamsAndSend({name:"logAutoPlayInterrupterShown",params:a,defaultParams:{},requiredParams:[],send:function(a){var t={category:"www",kids:a.kids,modalView:e.getCurrentModalView(),data:a,dataContext:{}};e.logSessionStart("autoPlayInterrupterShown",t),e.logSessionEnd("autoPlayInterrupterShown",t)}})},logPinEntryShown:function(a){var e=this;this.validateParamsAndSend({name:"logPinEntryShown",params:a,defaultParams:{},requiredParams:[],send:function(a){var t={category:"www",kids:a.kids,modalView:e.getCurrentModalView(),data:a,dataContext:{}};e.logSessionStart("pinEntryShown",t),e.logSessionEnd("pinEntryShown",t)}})},logAdultVerificationShown:function(a){var e=this;this.validateParamsAndSend({name:"logAdultVerificationShown",params:a,defaultParams:{},requiredParams:[],send:function(a){var t={category:"www",kids:a.kids,modalView:e.getCurrentModalView(),data:a,dataContext:{}};e.logSessionStart("adultVerificationShown",t),e.logSessionEnd("adultVerificationShown",t)}})},logAdvisoryShown:function(a){var e=this;this.validateParamsAndSend({name:"logAdvisoryShown",params:a,defaultParams:{},requiredParams:[],send:function(a){var t={category:"www",kids:a.kids,modalView:e.getCurrentModalView(),data:a,dataContext:{}};e.logSessionStart("advisoryShown",t),e.logSessionEnd("advisoryShown",t)}})},logSkipCreditsShow:function(a){var e=this;this.validateParamsAndSend({name:"logSkipCreditsShow",params:a,defaultParams:{},requiredParams:[],send:function(a){var t={category:"www",kids:a.kids,modalView:e.getCurrentModalView(),data:a,dataContext:{}};e.logSessionStart("skipCreditsShown",t)}})},logSkipCreditsHide:function(a){var e=this;this.validateParamsAndSend({name:"logSkipCreditsHide",params:a,defaultParams:{},requiredParams:[],send:function(a){var t={category:"www",kids:a.kids,modalView:e.getCurrentModalView(),data:a,dataContext:{}};e.logSessionEnd("skipCreditsShown",t)}})},logTrailerPlayStart:function(a){var e=this;this.validateParamsAndSend({name:"logTrailerPlayStart",params:a,defaultParams:{},requiredParams:[],send:function(a){var t={category:"uiAction",modalView:e.getCurrentModalView(),kids:a.kids,data:{},dataContext:{row:a.row,rank:a.rank,requestId:a.requestId,trackId:a.trackId,videoId:a.videoId}};e.logSessionStart("videoPlay",t)}})},logTrailerPlayEnd:function(a){var e=this;this.validateParamsAndSend({name:"logTrailerPlayEnd",params:a,defaultParams:{},requiredParams:["startOffset","merchedVideoId","playingVideoId"],send:function(a){var t={category:"uiAction",modalView:e.getCurrentModalView(),kids:a.kids,data:{startOffset:a.startOffset,merchedVideoId:a.merchedVideoId,playingVideoId:a.playingVideoId},dataContext:{row:a.row,rank:a.rank,requestId:a.requestId,trackId:a.trackId,videoId:a.videoId}};e.logSessionEnd("videoPlay",t)}})},logWindowOnError:function(a){var e=this;this.validateParamsAndSend({name:"logOnWindowError",params:a,defaultParams:{},requiredParams:[],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("windowOnError",t),e.logSessionEnd("windowOnError",t)}})},logFirefoxSLFallback:function(a){var e=this;this.validateParamsAndSend({name:"logFirefoxSLFallback",params:a,defaultParams:{},requiredParams:[],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("firefoxSLFallback",t),e.logSessionEnd("firefoxSLFallback",t)}})},logEmbeddedPlayerShow:function(a){var e=this;this.validateParamsAndSend({name:"logEmbeddedPlayerShow",params:a,defaultParams:{},requiredParams:[],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{},endOnUnload:{data:a}};e.logSessionStart("embeddedPlayerShow",t)}})}}});C.r("utils/consolidatedLogging/falkorHelpers.js",function(a,r,e){"use strict";var s={logApiError:function(a){var r=this;this.validateParamsAndSend({name:"falkorModelError",params:a,defaultParams:{},requiredParams:["message","pql"],send:function(a){r.logEvent("apiError",{category:"uiAction",modalView:r.getCurrentModalView(),kids:a.kids,data:{pql:a.pql,message:a.message}})}})}};r.exports=s});C.r("utils/consolidatedLogging/genre.js",function(e,a,t){"use strict";a.exports={logToggleClick:function(e){var a=this;this.validateParamsAndSend({name:"logToggleClick",params:e,defaultParams:{view:"genre"},requiredParams:["buttonType"],send:function(e){a.logEvent("toggleClick",{category:"uiView",modalView:a.getCurrentModalView(),kids:e.kids,data:{buttonType:e.buttonType}})}})},logAroHeaderTabClicked:function(e){var a=this;this.validateParamsAndSend({name:"headerTabClick",params:e,requiredParams:["currentTab","nextTab"],send:function(e){a.logEvent("headerTabClick",{category:"uiView",modalView:a.getCurrentModalView(),kids:e.kids,data:{nextTab:e.nextTab,currentTab:e.currentTab}})}})}}});C.r("utils/consolidatedLogging/identifiersCheck.js",function(e,i,t){"use strict";i.exports={logIdentifiersCheck:function(e){var i=this;i.validateParamsAndSend({name:"logIdentifierCheck",params:e,requiredParams:[],send:function(e){var t={category:"www",modalView:i.getCurrentModalView(),kids:e.kids,data:e,dataContext:{}};i.logSessionStart("identifiersCheck",t),i.logSessionEnd("identifiersCheck",t)}})}}});C.r("utils/consolidatedLogging/index.js",function(o,e,n){"use strict";function t(o){if(i.get("web.ui.cl.appendUIVersion.enabled")&&o){var e=a.get(N.getModelData("playerModel"),"config.ui.initParams.uiVersion");e&&(o.uiVersion=e)}}function l(o){return a.get(window,"netflix.reactContext.models.truths.data."+o,!1)}var a=o("lodash"),i=o("shakti-platform/dist/ui/ShaktiProperties"),r=o("./jawBone"),d=o("./billboard"),s=o("./genre"),g=o("./bob"),c=o("./modal"),u=o("./apm"),P=o("./reno"),E=o("./identifiersCheck"),S=o("./commonActions"),f=o("./search"),p=o("./survey"),b=o("./rating"),y=o("./notifications"),m=o("../../reactMixins/eventBus"),w=o("../../common/nfNamespace"),h=o("./falkorHelpers"),k=o("./playPrediction"),R=o("../../player/nfplayer/components/prePlay/preRollLoggingEvents"),C=o("./preRollLoggingHelper"),A=o("./profiles"),v=o("./profilesGate"),I=o("./inputs"),M=o("./webFonts"),O=o("./playerConsLogHelper"),T=o("./interactiveOriginals"),L=o("./socialLinks"),N=o("../../common/appContext"),_=o("./windowsAppBanner"),B=o("./websocket"),D=o("./loggingEventRegistry"),V=["bob","miniBob","jawNext","jawPrev","rowNext","rowPrev"],F=["browseTitles","characterDetails"],W=["movieDetails"],J={kids:!1},U=!1,x=null,Y=!1;e.exports={logJawOpen:r.logJawOpen,logJawClose:r.logJawClose,logJawTabOpen:r.logJawTabOpen,logJawTabClose:r.logJawTabClose,getOpenJawParams:r.getOpenJawParams,setOpenJawParams:r.setOpenJawParams,isJawOpen:r.isJawOpen,setCurrentTab:r.setCurrentTab,getCurrentTab:r.getCurrentTab,logJawTabScrollPrev:r.logJawScrollPrev,logJawTabScrollNext:r.logJawScrollNext,logJawTabClick:r.logJawTabClick,logBobOpen:g.logBobOpen,logBobClose:g.logBobClose,getOpenBobParams:g.getOpenBobParams,setOpenBobParams:g.setOpenBobParams,isBobOpen:g.isBobOpen,getCurrentModalView:c.getCurrentModalView,setCurrentModalView:c.setCurrentModalView,logModalViewChange:c.logModalViewChange,logModelessViewStart:c.logModelessViewStart,logModelessViewEnd:c.logModelessViewEnd,logStartup:u.logStartup,logRenderSessionStart:u.logRenderSessionStart,logRenderSessionEnd:u.logRenderSessionEnd,logProcessStateTransitionStart:u.logProcessStateTransitionStart,logProcessStateTransitionEnd:u.logProcessStateTransitionEnd,logNavigationSessionStart:u.logNavigationSessionStart,logNavigationSessionEnd:u.logNavigationSessionEnd,logDataRequest:u.logDataRequest,logSmallAssetMetrics:u.logSmallAssetMetrics,logAddToPlaylistStart:S.logAddToPlaylistStart,logAddToPlaylistEnd:S.logAddToPlaylistEnd,logRemoveFromPlaylistStart:S.logRemoveFromPlaylistStart,logRemoveFromPlaylistEnd:S.logRemoveFromPlaylistEnd,logRequestPlaybackStart:S.logRequestPlaybackStart,logPlaybackStarted:S.logPlaybackStarted,logPlaybackInitError:S.logPlaybackInitError,logFirefoxSLFallback:S.logFirefoxSLFallback,logWindowOnError:S.logWindowOnError,logTrailerPlayStart:S.logTrailerPlayStart,logTrailerPlayEnd:S.logTrailerPlayEnd,logAutoPlayInterrupterShown:S.logAutoPlayInterrupterShown,logPinEntryShown:S.logPinEntryShown,logAdultVerificationShown:S.logAdultVerificationShown,logAdvisoryShown:S.logAdvisoryShown,logSkipCreditsShow:S.logSkipCreditsShow,logSkipCreditsHide:S.logSkipCreditsHide,logEmbeddedPlayerShow:S.logEmbeddedPlayerShow,logSearchEdit:f.logSearchEdit,logSearchFocus:f.logSearchFocus,logSearchImpression:f.logSearchImpression,logSearchError:f.logSearchError,logSearchDVDUpsellClick:f.logSearchDVDUpsellClick,logStartNavigation:c.logStartNavigation,logEndNavigation:c.logEndNavigation,logSurveyStart:p.logSurveyStart,logSurveyEnd:p.logSurveyEnd,logSurveyQuestionStart:p.logSurveyQuestionStart,logSurveyQuestionEnd:p.logSurveyQuestionEnd,logRatingWelcomeModal:b.logRatingWelcomeModal,logMotionBillboardLoadingStarted:d.logMotionBillboardLoadingStarted,logMotionBillboardLoadingEnded:d.logMotionBillboardLoadingEnded,logMotionBillboardLoadingError:d.logMotionBillboardLoadingError,logMotionBillboardPlayStarted:d.logMotionBillboardPlayStarted,logMotionBillboardPlayEnded:d.logMotionBillboardPlayEnded,logMotionBillboardPlayError:d.logMotionBillboardPlayError,logMotionBillboardCommand:d.logMotionBillboardCommand,logRenoMessage:P.logRenoMessage,logRenoRefreshStart:P.logRenoRefreshStart,logRenoRefreshEnd:P.logRenoRefreshEnd,logIdentifiersCheck:E.logIdentifiersCheck,logFalkorApiError:h.logApiError,logPlayPredictionInputOutput:k.logPlayPredictionInOut,logRating:b.logRating,logToggleClick:s.logToggleClick,logNotificationsOpen:y.logNotificationsOpen,logNotificationsClose:y.logNotificationsClose,logNotificationsReadStart:y.logNotificationsReadStart,logNotificationsReadEnd:y.logNotificationsReadEnd,logNotificationsClicked:y.logNotificationsClicked,logPlaybackPerformanceStart:O.logPlaybackPerformanceStart,logPlaybackPerformanceEnd:O.logPlaybackPerformanceEnd,logPlaybackFeatureDetection:O.logPlaybackFeatureDetection,logPlaybackUIMilestones:O.logPlaybackUIMilestones,logPlayerClose:O.logPlayerClose,logPlayerCreate:O.logPlayerCreate,logPlayerInteraction:O.logPlayerInteraction,logPlaybackEnhancedFeaturesDetectStart:O.logPlaybackEnhancedFeaturesDetectStart,logPlaybackEnhancedFeaturesDetectEnd:O.logPlaybackEnhancedFeaturesDetectEnd,logPlayerNoVideoElement:O.logPlayerNoVideoElement,logSeamlessEvent:O.logSeamlessEvent,logReportAProblemError:O.logReportAProblemError,logSeamlessVideoAddedStart:O.logSeamlessVideoAddedStart,logSeamlessVideoAddedEnd:O.logSeamlessVideoAddedEnd,logPlayNextSeamlessVideoStart:O.logPlayNextSeamlessVideoStart,logPlayNextSeamlessVideoEnd:O.logPlayNextSeamlessVideoEnd,logShowSeamlessExperience:O.logShowSeamlessExperience,logPreRollIntroStart:C.logPreRollIntroStart,logPreRollIntroEnd:C.logPreRollIntroEnd,logPreRollOutroStart:C.logPreRollOutroStart,logPreRollOutroEnd:C.logPreRollOutroEnd,logPreRollSkipped:C.logPreRollSkipped,logPreRollExited:C.logPreRollExited,logPreRollEvent:C.logPreRollEvent,logAccountDropdownOpen:A.logAccountDropdownOpen,logAccountDropdownClose:A.logAccountDropdownClose,logProfileDeleteStart:A.logProfileDeleteStart,logProfileDeleteEnd:A.logProfileDeleteEnd,logProfileEditStart:A.logProfileEditStart,logProfileEditEnd:A.logProfileEditEnd,logInputTypeTouch:I.logInputTypeTouch,logWebFontObserverLoadStart:M.logWebFontObserverLoadStart,logWebFontObserverLoadEnd:M.logWebFontObserverLoadEnd,logPlayerClick:O.logClick,logPlayerKey:O.logKeyPress,logPlayerHotKey:O.logHotKey,logPlayerAutoplay:O.logAutoplay,logPlayerShowUI:O.logPlayerShowUI,logCommand:O.logCommand,logIkoAssetsLoaded:T.logIkoAssetsLoaded,logIkoPopupNotification:T.logIkoPopupNotification,logIkoPostPlayStart:T.logIkoPostPlayStart,logIkoPostPlayEnd:T.logIkoPostPlayEnd,logIkoPostPlayScreenStart:T.logIkoPostPlayScreenStart,logIkoPostPlayScreenEnd:T.logIkoPostPlayScreenEnd,ikoSession:T.ikoSession,ikoEvent:T.ikoEvent,logIkoError:T.logIkoError,logIkoModeStart:T.logIkoModeStart,logIkoModeEnd:T.logIkoModeEnd,logWordPartyPugStart:T.logWordPartyPugStart,logWordPartyPugEnd:T.logWordPartyPugEnd,logWordPartyPugClick:T.logWordPartyPugClick,logWordPartyMomentStart:T.logWordPartyMomentStart,logWordPartyMomentEnd:T.logWordPartyMomentEnd,logWordPartyMomentLoadStart:T.logWordPartyMomentLoadStart,logWordPartyMomentLoadEnd:T.logWordPartyMomentLoadEnd,logWordPartyMomentCommand:T.logWordPartyMomentCommand,logWebsocketRenoReceived:B.logRenoReceived,logWebsocketError:B.logError,logWebsocketClose:B.logClose,logWebsocketPollingFallbackError:B.logPollingFallbackError,setKidsMode:function(o){J.kids=o},attachListeners:function(){var o=this;if(!U){if(m.on("dataRequest:send",function(e,n){o.logDataRequest(e,n)}),m.on("jawbone:open",function(e){o.isJawOpen()&&-1!==V.indexOf(e.trigger)&&(o.logJawClose({reason:e.trigger}),o.logJawTabClose()),o.logJawOpen(e)}),m.on("jawbone:close",function(e){o.logJawClose(e),o.logJawTabClose({tab:o.getCurrentTab()})}),m.on("jawbone:tab:open",function(e){o.getCurrentTab()&&o.getCurrentTab()!==e.tab&&o.logJawTabClose({tab:o.getCurrentTab()}),o.logJawTabOpen(e)}),m.on("jawbone:tab:click",function(e){o.logJawTabClick(e)}),m.on("jawbone:tab:scrollNext",function(e){o.logJawTabScrollNext()}),m.on("jawbone:tab:scrollPrev",function(e){o.logJawTabScrollPrev()}),m.on("bob:open",function(e){o.logBobOpen(e)}),m.on("bob:close",function(e){o.logBobClose(e)}),m.on("myList:add:start",function(e){o.logAddToPlaylistStart(e)}),m.on("myList:add:end",function(e){o.logAddToPlaylistEnd(e)}),m.on("myList:remove:start",function(e){o.logRemoveFromPlaylistStart(e)}),m.on("myList:remove:end",function(e){o.logRemoveFromPlaylistEnd(e)}),m.on(D.PROFILE_SWITCH,function(e){o.flushBuffer()}),m.on(D.REQUEST_PLAY,function(e){if(o.logRequestPlaybackStart(e),o.isJawOpen()){var n=o.getOpenJawParams();n&&e.rowNum===n.rowNum&&e.rankNum===n.rankNum?o.logJawClose({reason:"success"}):o.logJawClose({reason:"implicit"})}}),m.on(D.PLAYBACK_START,function(e){o.logPlaybackStarted(e)}),m.on("playbackFirefoxSLFallback",function(e){o.logFirefoxSLFallback(e)}),m.on("logTrailerPlayStart",function(e){o.logTrailerPlayStart(e)}),m.on("logTrailerPlayEnd",function(e){o.logTrailerPlayEnd(e)}),m.on("logAutoPlayInterrupterShown",function(e){o.logAutoPlayInterrupterShown(e)}),m.on("logPinEntryShown",function(e){o.logPinEntryShown(e)}),m.on("logAdultVerificationShown",function(e){o.logAdultVerificationShown(e)}),m.on("logAdvisoryShown",function(e){o.logAdvisoryShown(e)}),m.on("logSkipCreditsHideShow",function(e){e.hidden?o.logSkipCreditsHide(e):o.logSkipCreditsShow(e)}),m.on("window:error",function(e){o.logWindowOnError(e)}),m.on("app:interactive",function(e){setTimeout(function(){o.logEndNavigation(e),Y=!1})}),m.on("search:edit",function(e){o.logSearchEdit(e)}),m.on("aro-toggle:clicked",function(e){o.logToggleClick(e)}),m.on("aroHeaderTab:clicked",s.logAroHeaderTabClicked.bind(this)),m.on("search:focus",function(e){o.logSearchFocus(e)}),m.on("search:impression",function(e){o.logSearchImpression(e)}),m.on("search:error",function(e){o.logSearchError(e)}),m.on("search:DVDUpsellClick",function(e){o.logSearchDVDUpsellClick(e),o.flushBuffer()}),l("hasUmaSurveyMessage")&&(m.on("survey:start",function(e){o.logSurveyStart(e)}),m.on("survey:end",function(e){o.logSurveyEnd(e)}),m.on("surveyQuestion:start",function(e){o.logSurveyQuestionStart(e)}),m.on("surveyQuestion:end",function(e){o.logSurveyQuestionEnd(e)})),m.on("ratingWelcomeModal:open",function(e){o.logRatingWelcomeModal(e)}),l("originalsBillboardEnabled")&&(m.on("motionBillboard:loadingStarted",function(e){o.logMotionBillboardLoadingStarted(e)}),m.on("motionBillboard:loadingEnded",function(e){o.logMotionBillboardLoadingEnded(e)}),m.on("motionBillboard:loadingError",function(e){o.logMotionBillboardLoadingError(e)}),m.on("motionBillboard:playStarted",function(e){o.logMotionBillboardPlayStarted(e)}),m.on("motionBillboard:playEnded",function(e){o.logMotionBillboardPlayEnded(e)}),m.on("motionBillboard:playError",function(e){o.logMotionBillboardPlayError(e)}),m.on("motionBillboard:muteButtonClicked",function(e){o.logMotionBillboardCommand(e)})),m.on("app:pageChange",function(e){var n=window.location.pathname||"generic";n===x&&e.uiView===o.getCurrentModalView()||(Y&&o.logEndNavigation(e),o.logStartNavigation(e),Y=!0),o.isJawOpen()&&!e.jawBoneVideoId&&o.logJawClose({reason:"implicit"}),o.isBobOpen()&&o.logBobClose({reason:"implicit"}),o.getCurrentTab()&&"movieDetails"!==e.uiView&&!e.jawBoneVideoId&&o.logJawTabClose({tab:null}),o.logModalViewChange({modalView:e.uiView,id:F.indexOf(e.uiView)>-1?e.id:null,videoId:W.indexOf(e.uiView)>-1?e.id:null}),e.jawBoneVideoId&&(x?n!==x&&o.logJawOpen({trigger:"return",videoId:e.jawBoneVideoId,rowNum:e.jawBoneRowNum,rankNum:e.jawBoneRankNum}):o.logJawOpen({trigger:"url",videoId:e.jawBoneVideoId,rowNum:e.jawBoneRowNum,rankNum:e.jawBoneRankNum})),x=n}),l("renoEnabled")&&(m.on("reno:message",function(e){o.logRenoMessage(e)}),m.on("lolomo:refreshStart",function(e){o.logRenoRefreshStart(e)}),m.on("lolomo:refreshEnd",function(e){o.logRenoRefreshEnd(e)})),l("identifierCheckEnabled")&&m.on("identifiers:update",function(e){o.logIdentifiersCheck(e)}),m.once("falkorFetch:error",function(e){o.logFalkorApiError(e)}),m.on("playprediction:result",function(e){o.logPlayPredictionInputOutput(e)}),m.on("rating:set",function(e){o.logRating(e)}),m.on("accountDropdown:open",function(e){o.logAccountDropdownOpen(e)}),m.on("accountDropdown:close",function(e){o.logAccountDropdownClose(e)}),m.on("notifications:open",function(e){o.logNotificationsOpen(e)}),m.on("notifications:close",function(e){o.logNotificationsClose(e)}),m.on("notifications:readstart",function(e){o.logNotificationsReadStart(e)}),m.on("notifications:readend",function(e){o.logNotificationsReadEnd(e)}),m.on("notifications:clicked",function(e){o.logNotificationsClicked(e)}),m.on("browsePlayback:recordPerformanceMetrics",function(e){o.logBrowsePlaybackPerformanceMetrics(e)}),m.on(D.PLAYBACK_INIT_ERROR,function(e){o.logPlaybackInitError(e)}),m.on(D.PERFORMANCE_START,function(e){o.logPlaybackPerformanceStart(e)}),m.on(D.PERFORMANCE_END,function(e){o.logPlaybackPerformanceEnd(e)}),m.on(D.FEATURE_DETECTION,function(e){o.logPlaybackFeatureDetection(e)}),m.on(D.MILESTONES,function(e){o.logPlaybackUIMilestones(e)}),m.on(D.PLAYER_CLOSE,function(e){o.logPlayerClose(e)}),m.on(D.PLAYER_CREATE,function(e){o.logPlayerCreate(e)}),m.on(D.PLAYER_INTERACTION,function(e){o.logPlayerInteraction(e)}),m.on(D.PLAYBACK_ENHANCED_FEATURES_DETECT_START,function(e){o.logPlaybackEnhancedFeaturesDetectStart(e)}),m.on(D.PLAYBACK_ENHANCED_FEATURES_DETECT_END,function(e){o.logPlaybackEnhancedFeaturesDetectEnd(e)}),m.on(D.PLAYER_NO_VIDEO_ELEMENT,function(e){o.logPlayerNoVideoElement(e)}),m.on(D.PLAYBACK_SEAMLESS,function(e){o.logSeamlessEvent(e)}),m.on(D.PERFORMANCE_METRICS_UPDATED,O.logPerformanceMetricsUpdated.bind(this)),m.on(D.REPORT_A_PROBLEM_ERROR,function(e){o.logReportAProblemError(e)}),m.on(R.PRE_ROLL_INTRO_START,function(e){return o.logPreRollIntroStart(e)}),m.on(R.PRE_ROLL_INTRO_END,function(e){return o.logPreRollIntroEnd(e)}),m.on(R.PRE_ROLL_OUTRO_START,function(e){return o.logPreRollOutroStart(e)}),m.on(R.PRE_ROLL_OUTRO_END,function(e){return o.logPreRollOutroEnd(e)}),m.on(R.PRE_ROLL_SKIPPED,function(e){return o.logPreRollSkipped(e)}),m.on(R.PRE_ROLL_EXITED,function(e){return o.logPreRollExited(e)}),m.on("smallAssets:loaded",function(e){o.logSmallAssetMetrics(e)}),l("ikoPlayer")){m.on("iko:assetsLoaded",function(e){o.logIkoAssetsLoaded(e)}),m.on("iko:popupNotification",function(e){o.logIkoPopupNotification(e)}),m.on("iko:postPlayStart",function(e){o.logModalViewChange({modalView:e.showKey+"PostPlay"})}),m.on("iko:postPlayEnd",function(e){o.logModalViewChange({modalView:"playback"})}),m.on("iko:postPlayScreenStart",function(e){o.logIkoPostPlayScreenStart(e)}),m.on("iko:postPlayScreenEnd",function(e){o.logIkoPostPlayScreenEnd(e)});["ikoModeStart","ikoModeEnd","ikoError","wordPartyPugStart","wordPartyPugEnd","wordPartyPugClick","wordPartyMomentStart","wordPartyMomentEnd","wordPartyMomentLoadStart","wordPartyMomentLoadEnd","wordPartyMomentCommand"].forEach(function(e){var n="log"+e.substr(0,1).toUpperCase()+e.substring(1);m.on("iko:"+e,function(e){o[n](e)})})}m.on("profile:deleteStart",function(e){o.logProfileDeleteStart(e)}),m.on("profile:deleteEnd",function(e){o.logProfileDeleteEnd(e)}),m.on("profile:editStart",function(e){o.logProfileEditStart(e)}),m.on("profile:editEnd",function(e){o.logProfileEditEnd(e)}),m.once("inputType:touch",function(e){o.logInputTypeTouch()}),m.on(D.PLAYER_UI_CLICK,function(e){o.logPlayerClick(e)}),m.on(D.PLAYER_UI_KEY,function(e){o.logPlayerKey(e)}),m.on(D.PLAYER_UI_HOTKEY,function(e){o.logPlayerHotKey(e)}),m.on(D.PLAYER_UI_AUTOPLAY,function(e){o.logPlayerAutoplay(e)}),m.on(D.PLAYER_UI_SHOW,function(e){o.logPlayerShowUI(e)}),m.on(D.PLAYBACK_SEAMLESS_VIDEO_ADDED_START,function(e){o.logSeamlessVideoAddedStart(e)}),m.on(D.PLAYBACK_SEAMLESS_VIDEO_ADDED_END,function(e){o.logSeamlessVideoAddedEnd(e)}),m.on(D.PLAYBACK_PLAY_NEXT_SEAMLESS_VIDEO_START,function(e){o.logPlayNextSeamlessVideoStart(e)}),m.on(D.PLAYBACK_PLAY_NEXT_SEAMLESS_VIDEO_END,function(e){o.logPlayNextSeamlessVideoEnd(e)}),m.on(D.PLAYBACK_SHOW_SEAMLESS_EXPERIENCE,function(e){o.logShowSeamlessExperience(e)}),l("hasWindowsAppBanner")&&(m.on("windowsAppBanner:render",_.logWindowsAppBannerRender.bind(this)),m.on("windowsAppBanner:click",_.logWindowsAppBannerClick.bind(this)),m.on("windowsAppBanner:close",_.logWindowsAppBannerClose.bind(this))),m.on(D.PROFILES_LOADED,v.logProfilesGateLoaded.bind(this)),m.on(D.PROFILES_CONTINUE_WATCHING,v.logProfilesGateContinueWatchingDataFetched.bind(this)),m.on(D.PROFILE_FOCUSED,v.logProfilesGateProfileFocused.bind(this)),m.on(D.PROFILE_DEFOCUSED,v.logProfilesGateProfileDefocused.bind(this)),m.on(D.PROFILES_SWITCH,v.logProfilesGateSwitch.bind(this)),m.on(D.PROFILES_PLAY_TITLE,v.logProfilesGatePlayTitle.bind(this)),m.on(D.MANAGE_PROFILES,v.logProfilesGateManageProfiles.bind(this)),m.on(D.PROFILES_VIDEO_PREPARE,v.logProfilesVideoPrepare.bind(this)),l("isArabicAndWebFontsEnabled")&&(m.on("webFontLoadObserver:start",function(e){o.logWebFontObserverLoadStart(e)}),m.on("webFontLoadObserver:end",function(e){o.logWebFontObserverLoadEnd(e)})),m.on("socialLink:click",L.logSocialLinkClicked.bind(this)),m.on("logEmbeddedPlayerShow",function(e){o.logEmbeddedPlayerShow(e)}),U=!0}},flushBuffer:function(){w.clientNotifications.flushBuffer()},validateParamsAndSend:function(o){var e=o.defaultParams,n=o.requiredParams,t={},l=void 0;for(l in J)J.hasOwnProperty(l)&&(t[l]=J[l]);for(l in e)e.hasOwnProperty(l)&&(t[l]=e[l]);for(l in o.params)o.params.hasOwnProperty(l)&&"function"!=typeof o.params[l]&&(t[l]=o.params[l]);var a=this.validateParams(t,n);0===a.length?"function"==typeof o.send?o.send(t):this._outputErrorMessage('Unable to log event due to missing "send" function'):this._outputErrorMessage("Unable to log event ("+o.name+") due to missing params: "+a.join(","))},getSpecification:function(o,e,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{constants:{sessionLength:30,ownerToken:n,locale:o||"en-US",uiMode:t.uiMode||"member",version:{app:"shakti-"+e,ui:"akira"},pageName:t.pageName||this.getCurrentModalView(),logPageOnStart:t.logPageOnStart||!1,debugMode:!1,videoId:t.videoId||void 0,trackId:t.trackId||void 0},specification:{uiView:{impression:{send:"both"},jawImpression:{send:"both"},jawTabImpression:{send:"both"},focus:{send:"both"},command:{send:"end"},uma:{send:"both"},titleFeedback:{send:"end"},impressionSession:{send:"end"},ikoMoment:{send:"end"},ikoMomentLoad:{send:"end"},ikoMode:{send:"both"}},uiAction:{selectProfile:{send:"end"},rateTitle:{send:"end"},addToPlaylist:{send:"end"},removeFromPlaylist:{send:"end"},search:{send:"end"},navigate:{send:"both"},startPlay:{send:"both"},survey:{send:"end"},surveyQuestion:{send:"end"},startTrailerPlay:{send:"both"},trailerPlay:{send:"both"},renoMessage:{send:"end"},renoRefresh:{send:"both"},identifierCheck:{send:"end"},submitTitleFeedback:{send:"end"},videoPlay:{send:"end"},deleteProfile:{send:"end"},editProfile:{send:"end"},postPlay:{send:"end"},profilesGateVideoPrepare:{send:"end"}},search:{focus:{send:"both"}},www:{debug:{send:"start"},playPrediction:{send:"end"},playbackPerformanceStart:{send:"end"},playbackPerformanceEnd:{send:"end"},playbackDetect4k:{send:"both"},playerNoVideoElement:{send:"end"},playerSeamless:{send:"end"},showPlaybackUIComponent:{send:"end"},playbackFeatureDetection:{send:"end"},playbackUIMilestones:{send:"end"},playerClose:{send:"end"},playerCreate:{send:"end"},playerInteraction:{send:"end"},prerollIntro:{send:"both"},prerollOutro:{send:"both"},performanceMetricsUpdated:{send:"end"},userSkippedPreRoll:{send:"end"},userExitedPreRoll:{send:"end"},webFontLoadObserver:{send:"end"},canFulfillUIAttempt:{send:"end"},precachePrepareAttempt:{send:"end"},siteSmallAssetMetrics:{send:"end"},playbackInitError:{send:"end"},firefoxSLFallback:{send:"end"},autoPlayInterrupterShown:{send:"end"},pinEntryShown:{send:"end"},adultVerificationShown:{send:"end"},advisoryShown:{send:"end"},skipCreditsShown:{send:"both"},embeddedPlayerShow:{send:"both"},windowOnError:{send:"end"},seamlessVideoAddedStart:{send:"end"},seamlessVideoAddedEnd:{send:"end"},playNextSeamlessVideo:{send:"both"},showSeamlessExperience:{send:"end"}},uiQOE:{appSession:{send:"both"},reportAProblemError:{send:"end"},userSession:{send:"both"},uiBrowseStartup:{send:"end"},uiDataRequest:{send:"end",disabledChance:90},uiModalViewChanged:{eventProperties:{value:"modalView"},send:"start"},uiModelessView:{send:"both",overlapping:"true"},NavigationLevel:{send:"both"},RenderNavigationLevel:{send:"both"},ProcessStateTransition:{send:"both"}},interactiveOriginals:{popupNotification:{send:"end"},assetLoad:{send:"end"},postPlay:{send:"end"}}}}},validateParams:function(o,e){return e.filter(function(e){return void 0===o[e]})},logEvent:function(o,e){w&&w.clientNotifications&&(t(e.data),this._outputEventDebugMessage("Event",o,e),w.clientNotifications.notify(o,e))},logSessionStart:function(o,e){w&&w.clientNotifications&&(t(e.data),this._outputEventDebugMessage("Start",o,e),w.clientNotifications.notifyStart(o,e))},logSessionEnd:function(o,e){w&&w.clientNotifications&&(t(e.data),this._outputEventDebugMessage("End",o,e),w.clientNotifications.notifyEnd(o,e))},logDebugEvent:function(o){var e=this;this.validateParamsAndSend({name:"logDebugEvent",params:o,defaultParams:{},requiredParams:[],send:function(o){e.logEvent("debug",{category:"www",modalView:e.getCurrentModalView(),data:o})}})},_outputEventDebugMessage:function(o,e,n){n.modalView&&n.modalView,n.data,n.dataContext;w&&w.notification&&w.notification.constants&&w.notification.constants.debugMode},_outputErrorMessage:function(o){w&&w.notification&&w.notification.constants&&w.notification.constants.debugMode}}});C.r("utils/consolidatedLogging/inputs.js",function(t,e,a){"use strict";e.exports={logInputTypeTouch:function(t){var e=this;this.validateParamsAndSend({name:"logInputTypeTouch",params:t,defaultParams:{},requiredParams:[],send:function(t){e.logEvent("logInputTypeTouch",{category:"uiView",modalView:e.getCurrentModalView(),kids:t.kids,data:{}})}})}}});C.r("utils/consolidatedLogging/jawBone.js",function(a,e,t){"use strict";e.exports={openJawParams:null,currentTab:null,isJawOpen:function(){return!!this.openJawParams},setOpenJawParams:function(a){this.openJawParams=a},getOpenJawParams:function(){return this.openJawParams},getCurrentTab:function(){return this.currentTab},setCurrentTab:function(a){this.currentTab=a},logJawOpen:function(a){var e=this;this.validateParamsAndSend({name:"logJawOpen",params:a,defaultParams:{view:"movieDetails",tab:"overview"},requiredParams:["trigger","videoId","rowNum","rankNum"],send:function(a){e.setOpenJawParams(a),e.logSessionStart("jawImpression",{category:"uiView",modalView:e.getCurrentModalView(),data:{view:a.view,trigger:a.trigger,jawTab:a.tab,matchScore:a.matchScore,isNewMS:a.tooNewForMatchScore},dataContext:{trackId:a.trackId,videoId:a.videoId,row:a.rowNum,rank:a.rankNum,requestId:a.requestId}})}})},logJawClose:function(a){var e=this;this.validateParamsAndSend({name:"logJawClose",params:a,defaultParams:this.getOpenJawParams(),requiredParams:["reason","videoId","rowNum","rankNum"],send:function(a){e.logSessionEnd("jawImpression",{category:"uiView",modalView:e.getCurrentModalView(),data:{view:a.view,trigger:a.trigger,reason:a.reason},dataContext:{trackId:a.trackId,videoId:a.videoId,row:a.rowNum,rank:a.rankNum,requestId:a.requestId}}),e.setOpenJawParams(null)}})},logJawTabOpen:function(a){var e=this;this.validateParamsAndSend({name:"logJawTabSessionStarted",params:a,requiredParams:["tab"],send:function(a){e.setCurrentTab(a.tab),e.logSessionStart("jawTabImpression",{category:"uiView",modalView:e.getCurrentModalView(),data:{jawTab:a.tab}})}})},logJawTabClose:function(a){var e=this;this.validateParamsAndSend({name:"logJawTabSessionEnded",params:a,requiredParams:["tab"],send:function(a){e.setCurrentTab(a.tab),e.logSessionEnd("jawTabImpression",{category:"uiView",modalView:e.getCurrentModalView(),data:{jawTab:a.tab}})}})},logJawScrollPrev:function(a){var e=this;this.validateParamsAndSend({name:"logJawNavPrev",params:a,defaultParams:{},requiredParams:[],send:function(a){e.logEvent("logJawNavLeft",{category:"uiView",modalView:e.getCurrentModalView(),data:{}})}})},logJawScrollNext:function(a){var e=this;this.validateParamsAndSend({name:"logJawNavNext",params:a,defaultParams:{},requiredParams:[],send:function(a){e.logEvent("logJawNavRight",{category:"uiView",modalView:e.getCurrentModalView(),data:{}})}})},logJawTabClick:function(a){var e=this;this.validateParamsAndSend({name:"logJawClick",params:a,defaultParams:{tab:"Overview",name:"",url:"",type:""},requiredParams:["tab"],send:function(a){e.logEvent("logJawClick",{category:"uiView",modalView:e.getCurrentModalView(),data:{tab:a.tab,name:a.name,url:a.url,type:a.type}})}})}}});C.r("utils/consolidatedLogging/modal.js",function(e,a,i){"use strict";a.exports={previousModalView:null,currentModalView:null,currentModalViewHash:null,getCurrentModalView:function(){return this.currentModalView},setCurrentModalView:function(e){this.currentModalView=e},logModalViewChange:function(e){var a=this;this.validateParamsAndSend({name:"logModalViewChange",params:e,defaultParams:{sourceModalView:this.getCurrentModalView()},requiredParams:["modalView"],send:function(e){var i=e.modalView,t={category:"uiQOE",modalView:e.modalView,kids:e.kids,data:{sourceModalView:e.sourceModalView}};e.id&&(t.dataContext={collectionId:e.id},i+="|"+e.id),e.videoId&&(t.dataContext={videoId:e.videoId},i+="|"+e.videoId),e.trackId&&(t.dataContext=t.dataContext||{},t.dataContext.trackId=e.trackId),i!==a.currentModalViewHash&&(a.logEvent("uiModalViewChanged",t),a.currentModalViewHash=i)}}),this.setCurrentModalView(e.modalView)},logModelessViewStart:function(e){var a=this;this.validateParamsAndSend({name:"logModelessViewStart",params:e,defaultParams:{orientation:"portrait"},requiredParams:["modelessView"],send:function(e){var i={category:"uiQOE",modalView:a.getCurrentModalView(),kids:e.kids,data:{modelessView:e.modelessView,orientation:e.orientation}};a.logSessionStart("uiModelessView",i)}})},logModelessViewEnd:function(e){var a=this;this.validateParamsAndSend({name:"logModelessViewEnd",params:e,defaultParams:{endReason:"implicitClose",orientation:"portrait"},requiredParams:["modelessView"],send:function(e){var i={category:"uiQOE",modalView:a.getCurrentModalView(),kids:e.kids,data:{modelessView:e.modelessView,orientation:e.orientation,endReason:e.endReason}};a.logSessionEnd("uiModelessView",i)}})},logStartNavigation:function(e){var a=this,i=this.getCurrentModalView();this.validateParamsAndSend({name:"logStartNavigation",params:e,defaultParams:{sourceModalView:i},requiredParams:[],send:function(e){a.previousModalView=i,a.logSessionStart("navigate",{category:"uiAction",modalView:i,kids:e.kids,data:{},dataContext:{}})}})},logEndNavigation:function(e){var a=this;this.validateParamsAndSend({name:"logEndNavigation",params:e,defaultParams:{sourceModalView:a.previousModalView},requiredParams:[],send:function(e){a.logSessionEnd("navigate",{category:"uiAction",modalView:a.getCurrentModalView(),kids:e.kids,data:{sourceModalView:e.sourceModalView},dataContext:{}})}})}}});C.r("utils/consolidatedLogging/notifications.js",function(i,a,e){"use strict";a.exports={logNotificationsOpen:function(i){var a=this;a.validateParamsAndSend({name:"logNotificationsOpen",params:i,requiredParams:["hasNotifications","hasUnreadNotifications"],send:function(i){var e={category:"uiView",modalView:a.getCurrentModalView(),kids:i.kids,data:{name:"viewNotifications",inputMethod:"pointer",inputValue:"hover",isHotkey:"false"}},t={category:"uiView",modalView:a.getCurrentModalView(),kids:i.kids,data:{view:"notificationPanel",model:[{notification:i.hasNotifications,unreadNotifications:i.hasUnreadNotifications}]}};a.logSessionStart("command",e),a.logSessionStart("impressionSession",t),a.logSessionEnd("command",e)}})},logNotificationsClose:function(i){var a=this;a.validateParamsAndSend({name:"logNotificationsClose",params:i,requiredParams:["hasNotifications","hasUnreadNotifications"],send:function(i){var e={category:"uiView",modalView:a.getCurrentModalView(),kids:i.kids,data:{view:"notificationPanel",model:[{notification:i.hasNotifications,unreadNotifications:i.hasUnreadNotifications}]}};a.logSessionEnd("impressionSession",e)}})},logNotificationsReadStart:function(i){var a=this;a.validateParamsAndSend({name:"logNotificationsReadStart",params:i,requiredParams:["position","isRead","messageGuid","titleId"],send:function(i){var e={category:"uiView",modalView:a.getCurrentModalView(),kids:i.kids,data:{view:"notification",model:[{position:i.position,isRead:i.isRead,messageGuid:i.messageGuid,titleId:i.titleId}]}};a.logSessionStart("impressionSession",e)}})},logNotificationsReadEnd:function(i){var a=this;a.validateParamsAndSend({name:"logNotificationsReadEnd",params:i,requiredParams:["position","isRead","messageGuid","titleId"],send:function(i){var e={category:"uiView",modalView:a.getCurrentModalView(),kids:i.kids,data:{view:"notification",model:[{position:i.position,isRead:i.isRead,messageGuid:i.messageGuid,titleId:i.titleId}]}};a.logSessionEnd("impressionSession",e)}})},logNotificationsClicked:function(i){var a=this;a.validateParamsAndSend({name:"logNotificationsClicked",params:i,requiredParams:["position","trackId","messageGuid","titleId"],send:function(i){var e={category:"uiView",modalView:a.getCurrentModalView(),kids:i.kids,data:{name:"viewTitleDetails",inputMethod:"pointer",inputValue:"click",isHotkey:"false",model:[{position:i.position,trackId:i.trackId,messageGuid:i.messageGuid,titleId:i.titleId}]}};a.logSessionStart("command",e),a.logSessionEnd("command",e)}})}}});C.r("utils/consolidatedLogging/playPrediction.js",function(t,i,a){"use strict";i.exports={logPlayPredictionInOut:function(t){var i=this;i.validateParamsAndSend({name:"playPrediction",params:t,requiredParams:["ppmInput","ppmOutput"],send:function(t){var a={category:"www",modalView:i.getCurrentModalView(),kids:t.kids,data:t,dataContext:{}};i.logSessionStart("playPrediction",a),i.logSessionEnd("playPrediction",a)}})}}});C.r("utils/consolidatedLogging/playerConsLogHelper.js",function(a,e,t){"use strict";var o=a("lodash"),n=a("../../player/nfplayer/utils/playerConfig");e.exports={logCommand:function(a,e){var t=this,d=o.get(a,"name",null);if(d){var r=n.getCachedInitParams(),s=r&&r.groupName;t.validateParamsAndSend({name:d,params:a,defaultParams:{inputMethod:e},requiredParams:[],send:function(a){a.xid=a.xid||o.result(window,"netflix.cadmium.objects.getXid",void 0);var e={category:"uiView",modalView:t.getCurrentModalView(),data:{name:d,groupName:s},dataContext:{trackId:a.trackId,videoId:a.videoId}};o.assign(e.data,o.omit(a,["videoId","trackId"])),t.logSessionStart("command",e),t.logSessionEnd("command",e)}})}},logClick:function(a){this.logCommand(a,"pointer")},logAutoplay:function(a){this.logCommand(a,"autoplay")},logPlayerShowUI:function(a){var e=this;e.validateParamsAndSend({name:"showPlaybackUIComponent",params:a,requiredParams:[],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("showPlaybackUIComponent",t),e.logSessionEnd("showPlaybackUIComponent",t)}})},logKeyPress:function(a){this.logCommand(a,"key")},logHotKey:function(a){a=a||{},a.isHotKey=!0,this.logCommand(a,"key")},logPlaybackFeatureDetection:function(a){var e=this;e.validateParamsAndSend({name:"logFeatureDetection",params:a,requiredParams:[],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("playbackFeatureDetection",t),e.logSessionEnd("playbackFeatureDetection",t)}})},logPlaybackUIMilestones:function(a){var e=this;e.validateParamsAndSend({name:"logPlaybackUIMilestones",params:a,requiredParams:[],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("playbackUIMilestones",t),e.logSessionEnd("playbackUIMilestones",t)}})},logPlaybackPerformanceStart:function(a){var e=this;e.validateParamsAndSend({name:"logPlaybackPerformanceStart",params:a,requiredParams:[],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("playbackPerformanceStart",t),e.logSessionEnd("playbackPerformanceStart",t)}})},logPlaybackPerformanceEnd:function(a){var e=this;e.validateParamsAndSend({name:"logPlaybackPerformanceEnd",params:a,requiredParams:[],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("playbackPerformanceEnd",t),e.logSessionEnd("playbackPerformanceEnd",t)}})},logPlayerClose:function(a){var e=this;e.validateParamsAndSend({name:"logPlayerClose",params:a,requiredParams:[],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("playerClose",t),e.logSessionEnd("playerClose",t)}})},logPlayerCreate:function(a){var e=this;e.validateParamsAndSend({name:"logPlayerCreate",params:a,requiredParams:[],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("playerCreate",t),e.logSessionEnd("playerCreate",t)}})},logPlaybackEnhancedFeaturesDetectStart:function(a){var e=this;e.validateParamsAndSend({name:"logEnhancedFeaturesDetection",params:a,requiredParams:[],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("playbackDetectEnhancedFeatures",t)}})},logPlaybackEnhancedFeaturesDetectEnd:function(a){var e=this;e.validateParamsAndSend({name:"logEnhancedFeaturesDetection",params:a,requiredParams:[],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionEnd("playbackDetectEnhancedFeatures",t)}})},logPlayerNoVideoElement:function(a){var e=this;e.validateParamsAndSend({name:"logPlayerNoVideoElement",params:a,requiredParams:[],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("playerNoVideoElement",t),e.logSessionEnd("playerNoVideoElement",t)}})},logSeamlessEvent:function(a){var e=this;e.validateParamsAndSend({name:"logSeamless",params:a,requiredParams:[],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("playerSeamless",t),e.logSessionEnd("playerSeamless",t)}})},logPlayerInteraction:function(a){var e=this;this.validateParamsAndSend({name:"logPlayerInteraction",params:a,requiredParams:[],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("playerInteraction",t),e.logSessionEnd("playerInteraction",t)}})},logPerformanceMetricsUpdated:function(a){var e=this;this.validateParamsAndSend({name:"logPerformanceMetricsUpdated",params:a,requiredParams:[],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("performanceMetricsUpdated",t),e.logSessionEnd("performanceMetricsUpdated",t)}})},logReportAProblemError:function(a){var e=this;this.validateParamsAndSend({name:"logReportAProblemError",params:a,requiredParams:[],send:function(a){var t={category:"uiQOE",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("reportAProblemError",t),e.logSessionEnd("reportAProblemError",t)}})},logSeamlessVideoAddedStart:function(a){var e=this;this.validateParamsAndSend({name:"logSeamlessVideoAddedStart",params:a,requiredParams:["videoId","trackId","xid"],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("seamlessVideoAddedStart",t),e.logSessionEnd("seamlessVideoAddedStart",t)}})},logSeamlessVideoAddedEnd:function(a){var e=this;this.validateParamsAndSend({name:"logSeamlessVideoAddedEnd",params:a,requiredParams:["videoId","trackId","xid","success"],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("seamlessVideoAddedEnd",t),e.logSessionEnd("seamlessVideoAddedEnd",t)}})},logPlayNextSeamlessVideoStart:function(a){var e=this;this.validateParamsAndSend({name:"logPlayNextSeamlessVideoStart",params:a,requiredParams:["xid","videoId","trackId"],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("playNextSeamlessVideo",t)}})},logPlayNextSeamlessVideoEnd:function(a){var e=this;this.validateParamsAndSend({name:"logPlayNextSeamlessVideoEnd",params:a,requiredParams:["success"],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionEnd("playNextSeamlessVideo",t)}})},logShowSeamlessExperience:function(a){var e=this;this.validateParamsAndSend({name:"logShowSeamlessExperience",params:a,requiredParams:["xid","videoId","trackId"],send:function(a){var t={category:"www",modalView:e.getCurrentModalView(),kids:a.kids,data:a,dataContext:{}};e.logSessionStart("showSeamlessExperience",t),e.logSessionEnd("showSeamlessExperience",t)}})}}});C.r("utils/consolidatedLogging/preRollLoggingHelper.js",function(l,o,e){"use strict";o.exports={logPreRollEvent:function(l,o,e){var r=this;r.validateParamsAndSend({name:o,params:l,requiredParams:[],send:function(l){var t={category:"www",modalView:r.getCurrentModalView(),kids:l.kids,data:l,dataContext:{}};e?r.logSessionStart(o,t):r.logSessionEnd(o,t)}})},logPreRollIntroStart:function(l){this.logPreRollEvent(l,"prerollIntro",!0)},logPreRollIntroEnd:function(l){this.logPreRollEvent(l,"prerollIntro",!1)},logPreRollOutroStart:function(l){this.logPreRollEvent(l,"prerollOutro",!0)},logPreRollOutroEnd:function(l){this.logPreRollEvent(l,"prerollOutro",!1)},logPreRollSkipped:function(l){this.logPreRollEvent(l,"userSkippedPreRoll",!0),this.logPreRollEvent(l,"userSkippedPreRoll",!1)},logPreRollExited:function(l){this.logPreRollEvent(l,"userExitedPreRoll",!0),this.logPreRollEvent(l,"userExitedPreRoll",!1)}}});C.r("utils/consolidatedLogging/profiles.js",function(e,i,a){"use strict";i.exports={logAccountDropdownOpen:function(e){var i=this;this.validateParamsAndSend({name:"logAccountDropdownOpen",params:e,requiredParams:[],send:function(e){i.logSessionStart("command",{category:"uiView",modalView:i.getCurrentModalView(),kids:e.kids,data:{name:"viewAccountDropdown",inputMethod:"pointer",inputValue:"hover",isHotkey:"false"}})}})},logAccountDropdownClose:function(e){var i=this;this.validateParamsAndSend({name:"logAccountDropdownClose",params:e,requiredParams:[],send:function(e){i.logSessionEnd("command",{category:"uiView",modalView:i.getCurrentModalView(),kids:e.kids,data:{name:"viewAccountDropdown",inputMethod:"pointer",inputValue:"hover",isHotkey:"false"}})}})},logProfileDeleteStart:function(e){var i=this;this.validateParamsAndSend({name:"logProfileDelete",params:e,defaultParams:{view:"manageProfiles"},requiredParams:["profileGuid"],send:function(e){i.logSessionStart("deleteProfile",{category:"uiAction",modalView:i.getCurrentModalView(),kids:e.kids,data:{profileGuid:e.profileGuid}})}})},logProfileDeleteEnd:function(e){var i=this;this.validateParamsAndSend({name:"logProfileDelete",params:e,defaultParams:{view:"manageProfiles"},requiredParams:["profileGuid"],send:function(e){i.logSessionEnd("deleteProfile",{category:"uiAction",modalView:i.getCurrentModalView(),kids:e.kids,data:{profileGuid:e.profileGuid}})}})},logProfileEditStart:function(e){var i=this;this.validateParamsAndSend({name:"logProfileEdit",params:e,defaultParams:{view:"manageProfiles"},requiredParams:[],send:function(e){i.logSessionStart("editProfile",{category:"uiAction",modalView:i.getCurrentModalView(),kids:e.kids,data:{}})}})},logProfileEditEnd:function(e){var i=this;this.validateParamsAndSend({name:"logProfileEdit",params:e,defaultParams:{view:"manageProfiles"},requiredParams:["profileGuid","kids"],send:function(e){i.logSessionEnd("editProfile",{category:"uiAction",modalView:i.getCurrentModalView(),kids:e.kids,data:{profileGuid:e.profileGuid,kids:e.kids,age:e.age}})}})}}});C.r("utils/consolidatedLogging/profilesGate.js",function(e,a,i){"use strict";function t(e){if(e=e.nativeEvent||e,o.get(e,"sourceCapabilities.firesTouchEvents"))return"touch";if(o.startsWith(o.get(e,"type",""),"key"))return"keyboard";switch(e.mozInputSource){case void 0:break;case MouseEvent.MOZ_SOURCE_TOUCH:return"touch";case MouseEvent.MOZ_SOURCE_PEN:case MouseEvent.MOZ_SOURCE_ERASER:return"pen"}return o.get(e,"pointerType","mouse")}var o=e("lodash");a.exports={logProfilesGateLoaded:function(e){var a=this;this.validateParamsAndSend({name:"logProfilesGateLoaded",params:e,requiredParams:[],send:function(e){a.logEvent("profilesGateLoaded",{category:"uiView",modalView:a.getCurrentModalView(),kids:e.kids,data:{currentProfile:e.currentProfile}})}})},logProfilesGateContinueWatchingDataFetched:function(e){var a=this;this.validateParamsAndSend({name:"logProfilesGateContinueWatchingDataFetched",params:e,requiredParams:[],send:function(e){a.logEvent("profilesGateContinueWatchingDataFetched",{category:"uiView",modalView:a.getCurrentModalView(),kids:e.kids})}})},logProfilesGateProfileFocused:function(e){var a=this;this.validateParamsAndSend({name:"logProfilesGateProfileFocused",params:e,requiredParams:[],send:function(e){a.logEvent("profilesGateProfileFocused",{category:"uiAction",modalView:a.getCurrentModalView(),kids:e.kids,data:{focusedProfile:e.focusedProfile,hasTitles:e.hasTitles,showingContinueWatching:e.showingContinueWatching}})}})},logProfilesGateProfileDefocused:function(e){var a=this;this.validateParamsAndSend({name:"logProfilesGateProfileDefocused",params:e,requiredParams:[],send:function(e){a.logEvent("profilesGateProfileDefocused",{category:"uiAction",modalView:a.getCurrentModalView(),kids:e.kids})}})},logProfilesGateSwitch:function(e){var a=this;this.validateParamsAndSend({name:"logProfilesGateSwitch",params:e,requiredParams:[],send:function(e){a.logEvent("profilesGateSwitch",{category:"uiAction",modalView:a.getCurrentModalView(),kids:e.kids,data:{selectedProfile:e.selectedProfile,pointerType:t(e.event)}})}})},logProfilesGatePlayTitle:function(e){var a=this;this.validateParamsAndSend({name:"logProfilesGatePlayTitle",params:e,requiredParams:[],send:function(e){a.logEvent("profilesGatePlayTitle",{category:"uiAction",modalView:a.getCurrentModalView(),kids:e.kids,data:{selectedProfile:e.selectedProfile,pointerType:t(e.event),videoId:e.videoId,trackId:e.trackId}})}})},logProfilesGateManageProfiles:function(e){var a=this;this.validateParamsAndSend({name:"logProfilesGateManageProfiles",params:e,requiredParams:[],send:function(e){a.logEvent("profilesGateManageProfiles",{category:"uiAction",modalView:a.getCurrentModalView(),kids:e.kids})}})},logProfilesVideoPrepare:function(e){var a=this;a.validateParamsAndSend({name:"logVideoPrepare",params:e,requiredParams:[],send:function(e){a.logEvent("profilesGateVideoPrepare",{category:"uiAction",data:e.prepareList,modalView:a.getCurrentModalView(),kids:e.kids})}})}}});C.r("utils/consolidatedLogging/rating.js",function(a,e,t){"use strict";e.exports={logRating:function(a){var e=this;e.validateParamsAndSend({name:"logRating",params:a,requiredParams:["rating","videoId"],send:function(a){var t={category:"uiAction",modalView:e.getCurrentModalView(),kids:a.kids,data:{rating:a.rating,ratingType:a.ratingType,rankTitle:a.rankTitle,matchScore:a.matchScore,isNewMS:a.tooNewForMatchScore,predictedRating:a.predictedRating},dataContext:{trackId:a.trackId,videoId:a.videoId,row:a.rowNum,rank:a.rankNum,requestId:a.requestId}};e.logSessionStart("rateTitle",t),e.logSessionEnd("rateTitle",t)}})},logRatingWelcomeModal:function(a){var e=this;this.validateParamsAndSend({name:"logRatingWelcomeModalOpen",params:a,defaultParams:{},requiredParams:[],send:function(a){e.logEvent("ratingWelcomeModal",{category:"uiAction",modalView:"ratingWelcomeModal",kids:a.kids})}})}}});C.r("utils/consolidatedLogging/reno.js",function(e,a,s){"use strict";a.exports={logRenoMessage:function(e){var a=this;a.validateParamsAndSend({name:"logRenoMessage",params:e,requiredParams:["type","message"],send:function(e){var s={category:"uiAction",modalView:a.getCurrentModalView(),kids:e.kids,data:e,dataContext:{}};a.logSessionStart("renoMessage",s),a.logSessionEnd("renoMessage",s)}})},logRenoRefreshStart:function(e){var a=this;a.validateParamsAndSend({name:"logRenoRefreshStart",params:e,requiredParams:["message"],send:function(e){a.logSessionStart("renoRefresh",{category:"uiAction",modalView:a.getCurrentModalView(),kids:e.kids,data:e,dataContext:{}})}})},logRenoRefreshEnd:function(e){var a=this;a.validateParamsAndSend({name:"logRenoRefreshEnd",params:e,requiredParams:["message","success"],send:function(e){a.logSessionEnd("renoRefresh",{category:"uiAction",modalView:a.getCurrentModalView(),kids:e.kids,data:e,dataContext:{}})}})}}});C.r("utils/consolidatedLogging/search.js",function(e,a,r){"use strict";a.exports={logSearchEdit:function(e){var a=this;this.validateParamsAndSend({name:"logSearchEdit",params:e,defaultParams:{view:"search"},requiredParams:["term"],send:function(e){a.logEvent("edit",{category:"uiView",modalView:a.getCurrentModalView(),kids:e.kids,data:{path:"searchQuery",value:e.term}})}})},logSearchError:function(e){var a=this;this.validateParamsAndSend({name:"logSearchError",params:e,requiredParams:["view"],defaultParams:{view:"search"},send:function(e){a.logEvent("error",{category:"search",modalView:a.getCurrentModalView(),data:{view:e.view,id:e.id,reffId:e.reffId,parentReffId:e.parentReffId}})}})},logSearchFocus:function(e){var a=this;this.validateParamsAndSend({name:"logSearchFocus",params:e,defaultParams:{view:"search"},requiredParams:[],send:function(e){e.dvdUpsell?e.start?a.logSessionStart("focus",{category:"search",modalView:a.getCurrentModalView(),kids:e.kids,data:{dvdUpsell:!0,referenceId:e.referenceId,entityId:e.entityId}}):a.logSessionEnd("focus",{category:"search",modalView:a.getCurrentModalView(),kids:e.kids,data:{dvdUpsell:!0,referenceId:e.referenceId,entityId:e.entityId}}):e.start?a.logSessionStart("focus",{category:"search",modalView:a.getCurrentModalView(),kids:e.kids,data:{path:[e.term]}}):e.autoClick?a.logSessionEnd("focus",{category:"search",modalView:a.getCurrentModalView(),kids:e.kids,data:{auto_click:!0,id:e.id,referenceId:e.referenceId}}):a.logSessionEnd("focus",{category:"search",modalView:a.getCurrentModalView(),kids:e.kids,data:{path:[e.term]}})}})},logSearchImpression:function(e){var a=this;this.validateParamsAndSend({name:"logSearchImpression",params:e,defaultParams:{view:"search"},requiredParams:["referenceId","view"],send:function(e){a.logEvent("impression",{category:"search",modalView:a.getCurrentModalView(),kids:e.kids,data:{path:["search","lists",e.referenceId],view:e.view}})}})},logSearchDVDUpsellClick:function(e){var a=this;a.validateParamsAndSend({name:"dvdUpsellClick",params:e,requiredParams:[],send:function(e){var r={category:"uiView",modalView:a.getCurrentModalView(),kids:e.kids,data:{dvdUpsellClick:!0}};a.logSessionStart("command",r),a.logSessionEnd("command",r)}})}}});C.r("utils/consolidatedLogging/socialLinks.js",function(i,e,a){"use strict";e.exports={logSocialLinkClicked:function(i){var e=this;this.validateParamsAndSend({name:"logSocialLinkClicked",params:i,requiredParams:["service"],send:function(i){e.logEvent("socialLinkFollow",{category:"uiAction",data:{service:i.service}})}})}}});C.r("utils/consolidatedLogging/websocket.js",function(e,o,a){"use strict";o.exports={logRenoReceived:function(e){var o=this;this.validateParamsAndSend({params:e,name:"logWebsocketRenoReceived",requiredParams:["notificationGuid","receivedTimestamp","payload"],send:function(e){o.logEvent("websocketReno",{category:"uiView",modalView:o.getCurrentModalView(),kids:e.kids,data:{notificationGuid:e.notificationGuid,receivedTimestamp:e.receivedTimestamp,payload:e.payload}})}})},logError:function(e){var o=this;this.validateParamsAndSend({params:e,name:"logWebsocketError",requiredParams:["error"],send:function(e){o.logEvent("websocketError",{category:"uiView",modalView:o.getCurrentModalView(),kids:e.kids,data:{error:e.error}})}})},logClose:function(e){var o=this;this.validateParamsAndSend({params:e,name:"logWebsocketClose",requiredParams:["code"],send:function(e){o.logEvent("websocketClose",{category:"uiView",modalView:o.getCurrentModalView(),kids:e.kids,data:{errorCode:e.code}})}})},logPollingFallbackError:function(e){var o=this;this.validateParamsAndSend({params:e,name:"logWebsocketPollingFallbackError",requiredParams:["code"],send:function(e){o.logEvent("websocketPollingFallbackError",{category:"uiView",modalView:o.getCurrentModalView(),kids:e.kids,data:{errorCode:e.code}})}})}}});C.r("utils/globalContext.js",function(t,e,r){"use strict";var i=t("shakti-platform/dist/ui/utils/inNode"),o=t("../common/appContext"),a={_require_:function(e){return t(e)}},n=function(t,e){if(i){var r=a._require_("shakti-platform/dist/lib/modelRegistry").getModel(t,e);return r&&r.data||{}}var n=o.getModelData(e);return n&&n[e]||n||{}};e.exports={getModelData:n}});C.r("utils/h2ping.js",function(e,n,r){"use strict";function i(e){if(window.performance&&window.performance.getEntriesByType){return window.performance.getEntriesByType("resource").filter(function(n){return-1!==n.name.indexOf(e)})[0]||null}return null}function t(e,n){var r=i(a+"/hping"),t=i(p+"/hping");u.logDebugEvent({type:"hping",err1:e&&e.message,err2:n&&n.message,h1Timing:r,h2Timing:t})}var s=e("./XHR"),u=e("./consolidatedLogging/index"),o=e("shakti-platform/dist/ui/ShaktiProperties"),f=o.get("shakti.hping.pct"),a=o.get("shakti.h1.host"),p=o.get("shakti.h2.host");n.exports=function(){if(f&&void 0!==a&&void 0!==p){if(!(Math.floor(100*Math.random())+1>f)){var e=!1,n=!1,r=null,i=null;s.request({responseType:"arraybuffer",url:a+"/hping",withCredentials:!1}).subscribe(function(){s.request({responseType:"arraybuffer",url:a+"/hping",withCredentials:!1}).subscribe(function(){e=!0,n&&t()},function(s){r=s,e=!0,n&&t(r,i)})},function(){s.request({responseType:"arraybuffer",url:a+"/hping",withCredentials:!1}).subscribe(function(){e=!0,n&&t()},function(s){r=s,e=!0,n&&t(r,i)})}),s.request({responseType:"arraybuffer",url:p+"/hping",withCredentials:!1}).subscribe(function(){s.request({responseType:"arraybuffer",url:p+"/hping",withCredentials:!1}).subscribe(function(){n=!0,e&&t()},function(s){i=s,n=!0,e&&t(r,i)})},function(){s.request({responseType:"arraybuffer",url:p+"/hping",withCredentials:!1}).subscribe(function(){n=!0,e&&t()},function(s){i=s,n=!0,e&&t(r,i)})})}}}});C.r("utils/intl-messageformat/data/_index.js",function(t,e,r){"use strict";var n={};(function(){(function(){function t(t){var e,r,n,o,i=Array.prototype.slice.call(arguments,1);for(e=0,r=i.length;r>e;e+=1)if(n=i[e])for(o in n)u.call(n,o)&&(t[o]=n[o]);return t}function e(t,e,r){this.locales=t,this.formats=e,this.pluralFn=r}function r(t){this.id=t}function n(t,e,r,n,o){this.id=t,this.useOrdinal=e,this.offset=r,this.options=n,this.pluralFn=o}function o(t,e,r,n){this.id=t,this.offset=e,this.numberFormat=r,this.string=n}function i(t,e){this.id=t,this.options=e}function a(t,e,r){var n="string"==typeof t?a.__parse(t):t;if(!n||"messageFormatPattern"!==n.type)throw new TypeError("A message must be provided as a String or AST.");r=this._mergeFormats(a.formats,r),s(this,"_locale",{value:this._resolveLocale(e)});var o=this._findPluralRuleFunction(this._locale),i=this._compilePattern(n,e,r,o),u=this;this.format=function(t){return u._format(i,t)}}var u=Object.prototype.hasOwnProperty,l=function(){try{return!!Object.defineProperty({},"a",{})}catch(t){return!1}}(),s=(!l&&Object.prototype.__defineGetter__,l?Object.defineProperty:function(t,e,r){"get"in r&&t.__defineGetter__?t.__defineGetter__(e,r.get):(!u.call(t,e)||"value"in r)&&(t[e]=r.value)}),c=Object.create||function(t,e){function r(){}var n,o;r.prototype=t,n=new r;for(o in e)u.call(e,o)&&s(n,o,e[o]);return n},p=e;e.prototype.compile=function(t){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(t)},e.prototype.compileMessage=function(t){if(!t||"messageFormatPattern"!==t.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var e,r,n,o=t.elements,i=[];for(e=0,r=o.length;r>e;e+=1)switch(n=o[e],n.type){case"messageTextElement":i.push(this.compileMessageText(n));break;case"argumentElement":i.push(this.compileArgument(n));break;default:throw new Error("Message element does not have a valid type")}return i},e.prototype.compileMessageText=function(t){return this.currentPlural&&/(^|[^\\])#/g.test(t.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new o(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,t.value)):t.value.replace(/\\#/g,"#")},e.prototype.compileArgument=function(t){var e=t.format;if(!e)return new r(t.id);var o,a=this.formats,u=this.locales,l=this.pluralFn;switch(e.type){case"numberFormat":return o=a.number[e.style],{id:t.id,format:new Intl.NumberFormat(u,o).format};case"dateFormat":return o=a.date[e.style],{id:t.id,format:new Intl.DateTimeFormat(u,o).format};case"timeFormat":return o=a.time[e.style],{id:t.id,format:new Intl.DateTimeFormat(u,o).format};case"pluralFormat":return o=this.compileOptions(t),new n(t.id,e.ordinal,e.offset,o,l);case"selectFormat":return o=this.compileOptions(t),new i(t.id,o);default:throw new Error("Message element does not have a valid format type")}},e.prototype.compileOptions=function(t){var e=t.format,r=e.options,n={};this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===e.type?t:null;var o,i,a;for(o=0,i=r.length;i>o;o+=1)a=r[o],n[a.selector]=this.compileMessage(a.value);return this.currentPlural=this.pluralStack.pop(),n},r.prototype.format=function(t){return t?"string"==typeof t?t:String(t):""},n.prototype.getOption=function(t){var e=this.options;return e["="+t]||e[this.pluralFn(t-this.offset,this.useOrdinal)]||e.other},o.prototype.format=function(t){var e=this.numberFormat.format(t-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+e).replace(/\\#/g,"#")},i.prototype.getOption=function(t){var e=this.options;return e[t]||e.other};var f=function(){function t(t,e,r,n,o,i){this.message=t,this.expected=e,this.found=r,this.offset=n,this.line=o,this.column=i,this.name="SyntaxError"}function e(e){function r(t){return Jt!==t&&(Jt>t&&(Jt=0,Kt={line:1,column:1,seenCR:!1}),function(t,r,n){var o,i;for(o=r;n>o;o++)i=e.charAt(o),"\n"===i?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(Kt,Jt,t),Jt=t),Kt}function n(t){Qt>zt||(zt>Qt&&(Qt=zt,Vt=[]),Vt.push(t))}function o(){return i()}function i(){var t,e,r;for(t=zt,e=[],r=a();r!==L;)e.push(r),r=a();return e!==L&&(Ht=t,e=S(e)),t=e}function a(){var t;return t=l(),t===L&&(t=c()),t}function u(){var t,r,n,o,i,a;if(t=zt,r=[],n=zt,o=b(),o!==L?(i=P(),i!==L?(a=b(),a!==L?(o=[o,i,a],n=o):(zt=n,n=I)):(zt=n,n=I)):(zt=n,n=I),n!==L)for(;n!==L;)r.push(n),n=zt,o=b(),o!==L?(i=P(),i!==L?(a=b(),a!==L?(o=[o,i,a],n=o):(zt=n,n=I)):(zt=n,n=I)):(zt=n,n=I);else r=I;return r!==L&&(Ht=t,r=j(r)),t=r,t===L&&(t=zt,r=_(),r!==L&&(r=e.substring(t,zt)),t=r),t}function l(){var t,e;return t=zt,e=u(),e!==L&&(Ht=t,e=N(e)),t=e}function s(){var t,r,o;if((t=C())===L){if(t=zt,r=[],T.test(e.charAt(zt))?(o=e.charAt(zt),zt++):(o=L,0===Xt&&n(D)),o!==L)for(;o!==L;)r.push(o),T.test(e.charAt(zt))?(o=e.charAt(zt),zt++):(o=L,0===Xt&&n(D));else r=I;r!==L&&(r=e.substring(t,zt)),t=r}return t}function c(){var t,r,o,i,a,u,l,c,f;return t=zt,123===e.charCodeAt(zt)?(r=k,zt++):(r=L,0===Xt&&n(G)),r!==L?(o=b(),o!==L?(i=s(),i!==L?(a=b(),a!==L?(u=zt,44===e.charCodeAt(zt)?(l=B,zt++):(l=L,0===Xt&&n(U)),l!==L?(c=b(),c!==L?(f=p(),f!==L?(l=[l,c,f],u=l):(zt=u,u=I)):(zt=u,u=I)):(zt=u,u=I),u===L&&(u=Z),u!==L?(l=b(),l!==L?(125===e.charCodeAt(zt)?(c=W,zt++):(c=L,0===Xt&&n($)),c!==L?(Ht=t,r=q(i,u),t=r):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I),t}function p(){var t;return t=f(),t===L&&(t=h())===L&&(t=m())===L&&(t=d()),t}function f(){var t,r,o,i,a,u,l;return t=zt,e.substr(zt,6)===z?(r=z,zt+=6):(r=L,0===Xt&&n(H)),r===L&&(e.substr(zt,4)===J?(r=J,zt+=4):(r=L,0===Xt&&n(K)),r===L&&(e.substr(zt,4)===Q?(r=Q,zt+=4):(r=L,0===Xt&&n(V)))),r!==L?(o=b(),o!==L?(i=zt,44===e.charCodeAt(zt)?(a=B,zt++):(a=L,0===Xt&&n(U)),a!==L?(u=b(),u!==L?(l=P(),l!==L?(a=[a,u,l],i=a):(zt=i,i=I)):(zt=i,i=I)):(zt=i,i=I),i===L&&(i=Z),i!==L?(Ht=t,r=X(r,i),t=r):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I),t}function h(){var t,r,o,i,a,u;return t=zt,e.substr(zt,6)===Y?(r=Y,zt+=6):(r=L,0===Xt&&n(tt)),r!==L?(o=b(),o!==L?(44===e.charCodeAt(zt)?(i=B,zt++):(i=L,0===Xt&&n(U)),i!==L?(a=b(),a!==L?(u=F(),u!==L?(Ht=t,r=et(u),t=r):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I),t}function m(){var t,r,o,i,a,u;return t=zt,e.substr(zt,13)===rt?(r=rt,zt+=13):(r=L,0===Xt&&n(nt)),r!==L?(o=b(),o!==L?(44===e.charCodeAt(zt)?(i=B,zt++):(i=L,0===Xt&&n(U)),i!==L?(a=b(),a!==L?(u=F(),u!==L?(Ht=t,r=ot(u),t=r):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I),t}function d(){var t,r,o,i,a;if(t=zt,e.substr(zt,6)===it?(r=it,zt+=6):(r=L,0===Xt&&n(at)),r!==L)if(b()!==L)if(44===e.charCodeAt(zt)?(o=B,zt++):(o=L,0===Xt&&n(U)),o!==L)if(b()!==L){if(i=[],(a=y())!==L)for(;a!==L;)i.push(a),a=y();else i=I;i!==L?(Ht=t,r=ut(i),t=r):(zt=t,t=I)}else zt=t,t=I;else zt=t,t=I;else zt=t,t=I;else zt=t,t=I;return t}function v(){var t,r,o,i;return t=zt,r=zt,61===e.charCodeAt(zt)?(o=lt,zt++):(o=L,0===Xt&&n(st)),o!==L?(i=C(),i!==L?(o=[o,i],r=o):(zt=r,r=I)):(zt=r,r=I),r!==L&&(r=e.substring(t,zt)),t=r,t===L&&(t=P()),t}function y(){var t,r,o,a,u,l,s,c,p;return t=zt,r=b(),r!==L?(o=v(),o!==L?(a=b(),a!==L?(123===e.charCodeAt(zt)?(u=k,zt++):(u=L,0===Xt&&n(G)),u!==L?(l=b(),l!==L?(s=i(),s!==L?(c=b(),c!==L?(125===e.charCodeAt(zt)?(p=W,zt++):(p=L,0===Xt&&n($)),p!==L?(Ht=t,r=ct(o,s),t=r):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I),t}function g(){var t,r,o,i;return t=zt,e.substr(zt,7)===pt?(r=pt,zt+=7):(r=L,0===Xt&&n(ft)),r!==L?(o=b(),o!==L?(i=C(),i!==L?(Ht=t,r=ht(i),t=r):(zt=t,t=I)):(zt=t,t=I)):(zt=t,t=I),t}function F(){var t,e,r,n;if(t=zt,e=g(),e===L&&(e=Z),e!==L)if(b()!==L){if(r=[],(n=y())!==L)for(;n!==L;)r.push(n),n=y();else r=I;r!==L?(Ht=t,e=mt(e,r),t=e):(zt=t,t=I)}else zt=t,t=I;else zt=t,t=I;return t}function _(){var t,r;if(Xt++,t=[],vt.test(e.charAt(zt))?(r=e.charAt(zt),zt++):(r=L,0===Xt&&n(yt)),r!==L)for(;r!==L;)t.push(r),vt.test(e.charAt(zt))?(r=e.charAt(zt),zt++):(r=L,0===Xt&&n(yt));else t=I;return Xt--,t===L&&(r=L,0===Xt&&n(dt)),t}function b(){var t,r,o;for(Xt++,t=zt,r=[],o=_();o!==L;)r.push(o),o=_();return r!==L&&(r=e.substring(t,zt)),t=r,Xt--,t===L&&(r=L,0===Xt&&n(gt)),t}function w(){var t;return Ft.test(e.charAt(zt))?(t=e.charAt(zt),zt++):(t=L,0===Xt&&n(_t)),t}function A(){var t;return bt.test(e.charAt(zt))?(t=e.charAt(zt),zt++):(t=L,0===Xt&&n(wt)),t}function C(){var t,r,o,i,a,u;if(t=zt,48===e.charCodeAt(zt)?(r=At,zt++):(r=L,0===Xt&&n(Ct)),r===L){if(r=zt,o=zt,xt.test(e.charAt(zt))?(i=e.charAt(zt),zt++):(i=L,0===Xt&&n(Pt)),i!==L){for(a=[],u=w();u!==L;)a.push(u),u=w();a!==L?(i=[i,a],o=i):(zt=o,o=I)}else zt=o,o=I;o!==L&&(o=e.substring(r,zt)),r=o}return r!==L&&(Ht=t,r=Et(r)),t=r}function x(){var t,r,o,i,a,u,l,s;return Rt.test(e.charAt(zt))?(t=e.charAt(zt),zt++):(t=L,0===Xt&&n(Lt)),t===L&&(t=zt,e.substr(zt,2)===Ot?(r=Ot,zt+=2):(r=L,0===Xt&&n(Mt)),r!==L&&(Ht=t,r=St()),(t=r)===L&&(t=zt,e.substr(zt,2)===It?(r=It,zt+=2):(r=L,0===Xt&&n(jt)),r!==L&&(Ht=t,r=Nt()),(t=r)===L&&(t=zt,e.substr(zt,2)===Tt?(r=Tt,zt+=2):(r=L,0===Xt&&n(Dt)),r!==L&&(Ht=t,r=kt()),(t=r)===L&&(t=zt,e.substr(zt,2)===Gt?(r=Gt,zt+=2):(r=L,0===Xt&&n(Zt)),r!==L&&(Ht=t,r=Bt()),(t=r)===L&&(t=zt,e.substr(zt,2)===Ut?(r=Ut,zt+=2):(r=L,0===Xt&&n(Wt)),r!==L?(o=zt,i=zt,a=A(),a!==L?(u=A(),u!==L?(l=A(),l!==L?(s=A(),s!==L?(a=[a,u,l,s],i=a):(zt=i,i=I)):(zt=i,i=I)):(zt=i,i=I)):(zt=i,i=I),i!==L&&(i=e.substring(o,zt)),o=i,o!==L?(Ht=t,r=$t(o),t=r):(zt=t,t=I)):(zt=t,t=I)))))),t}function P(){var t,e,r;if(t=zt,e=[],(r=x())!==L)for(;r!==L;)e.push(r),r=x();else e=I;return e!==L&&(Ht=t,e=qt(e)),t=e}var E,R=arguments.length>1?arguments[1]:{},L={},O={start:o},M=o,S=function(t){return{type:"messageFormatPattern",elements:t}},I=L,j=function(t){var e,r,n,o,i,a="";for(e=0,n=t.length;n>e;e+=1)for(o=t[e],r=0,i=o.length;i>r;r+=1)a+=o[r];return a},N=function(t){return{type:"messageTextElement",value:t}},T=/^[^ \t\n\r,.+={}#]/,D={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},k="{",G={type:"literal",value:"{",description:'"{"'},Z=null,B=",",U={type:"literal",value:",",description:'","'},W="}",$={type:"literal",value:"}",description:'"}"'},q=function(t,e){return{type:"argumentElement",id:t,format:e&&e[2]}},z="number",H={type:"literal",value:"number",description:'"number"'},J="date",K={type:"literal",value:"date",description:'"date"'},Q="time",V={type:"literal",value:"time",description:'"time"'},X=function(t,e){return{type:t+"Format",style:e&&e[2]}},Y="plural",tt={type:"literal",value:"plural",description:'"plural"'},et=function(t){return{type:t.type,ordinal:!1,offset:t.offset||0,options:t.options}},rt="selectordinal",nt={type:"literal",value:"selectordinal",description:'"selectordinal"'},ot=function(t){return{type:t.type,ordinal:!0,offset:t.offset||0,options:t.options}},it="select",at={type:"literal",value:"select",description:'"select"'},ut=function(t){return{type:"selectFormat",options:t}},lt="=",st={type:"literal",value:"=",description:'"="'},ct=function(t,e){return{type:"optionalFormatPattern",selector:t,value:e}},pt="offset:",ft={type:"literal",value:"offset:",description:'"offset:"'},ht=function(t){return t},mt=function(t,e){return{type:"pluralFormat",offset:t,options:e}},dt={type:"other",description:"whitespace"},vt=/^[ \t\n\r]/,yt={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},gt={type:"other",description:"optionalWhitespace"},Ft=/^[0-9]/,_t={type:"class",value:"[0-9]",description:"[0-9]"},bt=/^[0-9a-f]/i,wt={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},At="0",Ct={type:"literal",value:"0",description:'"0"'},xt=/^[1-9]/,Pt={type:"class",value:"[1-9]",description:"[1-9]"},Et=function(t){return parseInt(t,10)},Rt=/^[^{}\\\0-\x1F \t\n\r]/,Lt={type:"class",value:"[^{}\\\\\\0-\\x1F \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F \\t\\n\\r]"},Ot="\\\\",Mt={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},St=function(){return"\\"},It="\\#",jt={type:"literal",value:"\\#",description:'"\\\\#"'},Nt=function(){return"\\#"},Tt="\\{",Dt={type:"literal",value:"\\{",description:'"\\\\{"'},kt=function(){return"{"},Gt="\\}",Zt={type:"literal",value:"\\}",description:'"\\\\}"'},Bt=function(){return"}"},Ut="\\u",Wt={type:"literal",value:"\\u",description:'"\\\\u"'},$t=function(t){return String.fromCharCode(parseInt(t,16))},qt=function(t){return t.join("")},zt=0,Ht=0,Jt=0,Kt={line:1,column:1,seenCR:!1},Qt=0,Vt=[],Xt=0;if("startRule"in R){if(!(R.startRule in O))throw new Error("Can't start parsing from rule \""+R.startRule+'".');M=O[R.startRule]}if((E=M())!==L&&zt===e.length)return E;throw E!==L&&zt<e.length&&n({type:"end",description:"end of input"}),function(n,o,i){var a=r(i),u=i<e.length?e.charAt(i):null;return null!==o&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(o),new t(null!==n?n:function(t,e){var r,n,o,i=new Array(t.length);for(o=0;o<t.length;o++)i[o]=t[o].description;return r=t.length>1?i.slice(0,-1).join(", ")+" or "+i[t.length-1]:i[0],n=e?'"'+function(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}(e)+'"':"end of input","Expected "+r+" but "+n+" found."}(o,u),o,u,i,a.line,a.column)}(null,Vt,Qt)}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(t,Error),{SyntaxError:t,parse:e}}(),h=a;s(a,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),s(a,"__localeData__",{value:c(null)}),s(a,"__addLocaleData",{value:function(t){if(!t||!t.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");a.__localeData__[t.locale.toLowerCase()]=t}}),s(a,"__parse",{value:f.parse}),s(a,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),a.prototype.resolvedOptions=function(){return{locale:this._locale}},a.prototype._compilePattern=function(t,e,r,n){return new p(e,r,n).compile(t)},a.prototype._findPluralRuleFunction=function(t){for(var e=a.__localeData__,r=e[t.toLowerCase()];r;){if(r.pluralRuleFunction)return r.pluralRuleFunction;r=r.parentLocale&&e[r.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+t)},a.prototype._format=function(t,e){var r,n,o,i,a,l="";for(r=0,n=t.length;n>r;r+=1)if("string"!=typeof(o=t[r])){if(i=o.id,!e||!u.call(e,i))throw new Error("A value must be provided for: "+i);a=e[i],l+=o.options?this._format(o.getOption(a),e):o.format(a)}else l+=o;return l},a.prototype._mergeFormats=function(e,r){var n,o,i={};for(n in e)u.call(e,n)&&(i[n]=o=c(e[n]),r&&u.call(r,n)&&t(o,r[n]));return i},a.prototype._resolveLocale=function(t){"string"==typeof t&&(t=[t]),t=(t||[]).concat(a.defaultLocale);var e,r,n,o,i=a.__localeData__;for(e=0,r=t.length;r>e;e+=1)for(n=t[e].toLowerCase().split("-");n.length;){if(o=i[n.join("-")])return o.locale;n.pop()}var u=t.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+t.join(", ")+", or the default locale: "+u)};var m={locale:"en",pluralRuleFunction:function(t,e){var r=String(t).split("."),n=!r[1],o=Number(r[0])==t,i=o&&r[0].slice(-1),a=o&&r[0].slice(-2);return e?1==i&&11!=a?"one":2==i&&12!=a?"two":3==i&&13!=a?"few":"other":1==t&&n?"one":"other"}};h.__addLocaleData(m),h.defaultLocale="en";var d=h;this.IntlMessageFormat=d}).call(this)}).call(n),e.exports=n.IntlMessageFormat});C.r("utils/intl-messageformat/index.js",function(a,s,t){"use strict";var d,j=a("lodash"),n=a,e=a("shakti-platform/dist/ui/utils/inNode");if(e)d=n("intl-messageformat");else{d=a("./data/_index.js");var i=[a("./data/af.js"),a("./data/agq.js"),a("./data/ak.js"),a("./data/am.js"),a("./data/ar.js"),a("./data/as.js"),a("./data/asa.js"),a("./data/ast.js"),a("./data/az.js"),a("./data/bas.js"),a("./data/be.js"),a("./data/bem.js"),a("./data/bez.js"),a("./data/bg.js"),a("./data/bh.js"),a("./data/bm.js"),a("./data/bn.js"),a("./data/bo.js"),a("./data/br.js"),a("./data/brx.js"),a("./data/bs.js"),a("./data/ca.js"),a("./data/ce.js"),a("./data/cgg.js"),a("./data/chr.js"),a("./data/ckb.js"),a("./data/cs.js"),a("./data/cu.js"),a("./data/cy.js"),a("./data/da.js"),a("./data/dav.js"),a("./data/de.js"),a("./data/dje.js"),a("./data/dsb.js"),a("./data/dua.js"),a("./data/dv.js"),a("./data/dyo.js"),a("./data/dz.js"),a("./data/ebu.js"),a("./data/ee.js"),a("./data/el.js"),a("./data/en.js"),a("./data/eo.js"),a("./data/es.js"),a("./data/et.js"),a("./data/eu.js"),a("./data/ewo.js"),a("./data/fa.js"),a("./data/ff.js"),a("./data/fi.js"),a("./data/fil.js"),a("./data/fo.js"),a("./data/fr.js"),a("./data/fur.js"),a("./data/fy.js"),a("./data/ga.js"),a("./data/gd.js"),a("./data/gl.js"),a("./data/gsw.js"),a("./data/gu.js"),a("./data/guw.js"),a("./data/guz.js"),a("./data/gv.js"),a("./data/ha.js"),a("./data/haw.js"),a("./data/he.js"),a("./data/hi.js"),a("./data/hr.js"),a("./data/hsb.js"),a("./data/hu.js"),a("./data/hy.js"),a("./data/id.js"),a("./data/ig.js"),a("./data/ii.js"),a("./data/in.js"),a("./data/is.js"),a("./data/it.js"),a("./data/iu.js"),a("./data/iw.js"),a("./data/ja.js"),a("./data/jbo.js"),a("./data/jgo.js"),a("./data/ji.js"),a("./data/jmc.js"),a("./data/jv.js"),a("./data/jw.js"),a("./data/ka.js"),a("./data/kab.js"),a("./data/kaj.js"),a("./data/kam.js"),a("./data/kcg.js"),a("./data/kde.js"),a("./data/kea.js"),a("./data/khq.js"),a("./data/ki.js"),a("./data/kk.js"),a("./data/kkj.js"),a("./data/kl.js"),a("./data/kln.js"),a("./data/km.js"),a("./data/kn.js"),a("./data/ko.js"),a("./data/kok.js"),a("./data/ks.js"),a("./data/ksb.js"),a("./data/ksf.js"),a("./data/ksh.js"),a("./data/ku.js"),a("./data/kw.js"),a("./data/ky.js"),a("./data/lag.js"),a("./data/lb.js"),a("./data/lg.js"),a("./data/lkt.js"),a("./data/ln.js"),a("./data/lo.js"),a("./data/lrc.js"),a("./data/lt.js"),a("./data/lu.js"),a("./data/luo.js"),a("./data/luy.js"),a("./data/lv.js"),a("./data/mas.js"),a("./data/mer.js"),a("./data/mfe.js"),a("./data/mg.js"),a("./data/mgh.js"),a("./data/mgo.js"),a("./data/mk.js"),a("./data/ml.js"),a("./data/mn.js"),a("./data/mo.js"),a("./data/mr.js"),a("./data/ms.js"),a("./data/mt.js"),a("./data/mua.js"),a("./data/my.js"),a("./data/mzn.js"),a("./data/nah.js"),a("./data/naq.js"),a("./data/nb.js"),a("./data/nd.js"),a("./data/ne.js"),a("./data/nl.js"),a("./data/nmg.js"),a("./data/nn.js"),a("./data/nnh.js"),a("./data/no.js"),a("./data/nqo.js"),a("./data/nr.js"),a("./data/nso.js"),a("./data/nus.js"),a("./data/ny.js"),a("./data/nyn.js"),a("./data/om.js"),a("./data/or.js"),a("./data/os.js"),a("./data/pa.js"),a("./data/pap.js"),a("./data/pl.js"),a("./data/prg.js"),a("./data/ps.js"),a("./data/pt.js"),a("./data/qu.js"),a("./data/rm.js"),a("./data/rn.js"),a("./data/ro.js"),a("./data/rof.js"),a("./data/ru.js"),a("./data/rw.js"),a("./data/rwk.js"),a("./data/sah.js"),a("./data/saq.js"),a("./data/sbp.js"),a("./data/sdh.js"),a("./data/se.js"),a("./data/seh.js"),a("./data/ses.js"),a("./data/sg.js"),a("./data/sh.js"),a("./data/shi.js"),a("./data/si.js"),a("./data/sk.js"),a("./data/sl.js"),a("./data/sma.js"),a("./data/smi.js"),a("./data/smj.js"),a("./data/smn.js"),a("./data/sms.js"),a("./data/sn.js"),a("./data/so.js"),a("./data/sq.js"),a("./data/sr.js"),a("./data/ss.js"),a("./data/ssy.js"),a("./data/st.js"),a("./data/sv.js"),a("./data/sw.js"),a("./data/syr.js"),a("./data/ta.js"),a("./data/te.js"),a("./data/teo.js"),a("./data/th.js"),a("./data/ti.js"),a("./data/tig.js"),a("./data/tk.js"),a("./data/tl.js"),a("./data/tn.js"),a("./data/to.js"),a("./data/tr.js"),a("./data/ts.js"),a("./data/twq.js"),a("./data/tzm.js"),a("./data/ug.js"),a("./data/uk.js"),a("./data/ur.js"),a("./data/uz.js"),a("./data/vai.js"),a("./data/ve.js"),a("./data/vi.js"),a("./data/vo.js"),a("./data/vun.js"),a("./data/wa.js"),a("./data/wae.js"),a("./data/wo.js"),a("./data/xh.js"),a("./data/xog.js"),a("./data/yav.js"),a("./data/yi.js"),a("./data/yo.js"),a("./data/zgh.js"),a("./data/zh.js"),a("./data/zu.js")];j.forEach(i,function(a){a.install&&a.install(d)})}s.exports=d});C.r("utils/isKidsProfile.js",function(s,i,t){"use strict";function e(s){return r.get(s,"userInfo.data.isKids",r.get(s,"models.userInfo.data.isKids"))}var r=s("lodash");i.exports=e});C.r("utils/lolomo/lolomoUtils.js",function(o,e,t){"use strict";function i(o,e,t,i){var n={expires:i,domain:r.TOP_DOMAIN,path:r.ROOT_PATH};o.setCookie(e,t,n),o.setCookie(e+c,(new Date).getTime(),n)}function n(o,e,t){r.set(o,e,t),r.set(o+c,(new Date).getTime(),t)}var l=o("../globalContext"),r=o("../cookieUtils"),a=o("../userUtils"),s=o("shakti-platform/dist/ui/ShaktiProperties"),u=o("shakti-platform/dist/ui/utils/inNode"),m=o("../XHR"),g=o("../../common/imageExtension"),c="-T";e.exports={COOKIE_TTL_KEY:"netflix.ui.akira.lolomo.ttl",BOUNCE_LOLOMO_KEY:"bounceLolomo",generateHpMapRequestId:function(o){return"lhpuuid"+(s.get("web.ui.gps.useNewModel")?"h":"")+"-browse-"+o},generateUUIDCookieValue:function(o,e,t){return e+":"+t+":"+o},getLolomoExpiry:function(o,e){var t=o.getValueSync(["meta","responseExpiration"]);return"number"==typeof t?new Date(t):new Date((new Date).getTime()+1e3*parseInt(e||7200,10))},isLolomoFallback:function(o){return"number"!=typeof o.getValueSync(["meta","responseExpiration"])},isLolomoCookieValueValid:function(o){return o&&"string"==typeof o&&-1===o.indexOf("Fallback")},getLolomoCookieName:function(o,e,t){if(u&&!o)return!1;var i=t||l.getModelData(o,"userInfo").userGuid,n=e?"-NB":"";return this.generateHpMapRequestId(i)+n},getLolomoCookie:function(o,e){if(u&&!o)return null;var t=this.getLolomoCookieName(o,e),i=void 0;return i=u?o.cookies[t]:r.get(t),this.isLolomoCookieValueValid(i)?i:null},getValidLolomoCookieUUID:function(o,e){if(u&&!o)return null;var t=this.getLolomoCookie(o,e),i=void 0,n=void 0,l=void 0,r=void 0;return!(!t||(i=t.split(":"),n=i[0],l=i[1],!(r=i[2])||a.getCountry(o)!==n||a.getLocale(o)!==l))&&r},getLolomoCookieTimestamp:function(o,e){if(u&&!o||!this.getValidLolomoCookieUUID(o,e))return null;var t=this.getLolomoCookieName(o,e)+c;return u?o.cookies[t]:r.get(t)},setLolomoCookieValue:function(o,e,t,l,r){return!!(o&&e&&this.isLolomoCookieValueValid(e))&&(u?i(r,o,e,t):n(o,e,t),!0)},setLolomoCookieFalcor:function(o,e,t,i,n){if(u&&(!i||!n)||!o)return!1;var l=s.get(this.COOKIE_TTL_KEY),r=o.bind([t?"lolomonobillboard":"lolomo"]),m=r&&r.getValueSync(),g=m&&2===m.length&&m[1],c=this.getLolomoExpiry(r,l),f=this.isLolomoFallback(r);if(this.getLolomoCookie(i,t)&&!e||f||!g)return!1;var L=this.generateUUIDCookieValue(g,a.getCountry(i),a.getLocale(i)),k=this.getLolomoCookieName(i,t);return this.setLolomoCookieValue(k,L,c,i,n)},setLolomoCookieFakira:function(o,e,t,i,n){if(u&&(!i||!n)||!o)return!1;var l=new Date((new Date).getTime()+1e3*parseInt(7200,10));if(this.getLolomoCookie(i,t)&&!e)return!1;var r=this.generateUUIDCookieValue(o,a.getCountry(i),a.getLocale(i)),s=this.getLolomoCookieName(i,t);return this.setLolomoCookieValue(s,r,l,i,n)},clearLolomoCookie:function(o,e,t,i){if(u&&(!t||!i))return!1;var n=!!this.getLolomoCookie(t,o),l=this.getLolomoCookieName(t,o,e);if(l&&n)if(u){var a={maxAge:1,domain:r.TOP_DOMAIN,path:r.ROOT_PATH};i.setCookie(l,"",a),i.setCookie(l+c,"",a)}else r.clear(l),r.clear(l+c);return n},clearAllLolomoCookies:function(o,e,t){this.clearLolomoCookie(!0,o,e,t),this.clearLolomoCookie(!1,o,e,t)},seedLolomoImpression:function(o,e,t){if(u&&!t)return!1;var i=this.getValidLolomoCookieUUID(t,e);return!!i&&(o.setValueSync([e?"lolomonobillboard":"lolomo"],["lolomos",i]),o.setValueSync(["lolomos",i,"aLeafNode"],"anyValue"),!0)},setIsBouncingLolomo:function(o){if(!u)try{localStorage.setItem(this.BOUNCE_LOLOMO_KEY,o)}catch(o){}},isBouncingLolomo:function(){return!u&&"true"===localStorage.getItem(this.BOUNCE_LOLOMO_KEY)},fetchWarmLolomo:function(o,e,t,i,n){var l=o&&o.bind(["lolomo"]),r=l&&l.getValueSync();return r&&2===r.length?m.request({method:"get",data:{batchImages:s.get("netflix.ui.akira.warmer.enable.batching.images"),lolomoid:r[1],fromRow:e,toRow:t,opaqueImageExtension:g.getExtensionForOpaqueImage(),transparentImageExtension:g.getExtensionForTransparentImage()},resource:"/preflight",service:"api",protocol:"https",authorize:!0}).subscribe(function(o){i&&i(o)},function(){n&&n()}):n()}}});C.r("utils/msgTokenUtils.js",function(e,o,n){"use strict";var r={decodeMsgTokenFromQuery:function(e){var o=e&&e.msg_token||"";return decodeURIComponent(o).replace(/ /g,"+")}};o.exports=r});C.r("utils/notificationUtils.js",function(t,i,a){"use strict";var o=t("../akira/components/notifications/notifications.jsx"),s=t("shakti-platform/dist/ui/utils/inNode"),n=s?{}:window,e={clear:function(){var t=n.pathEvaluator;t&&t.invalidate([o.rootModelName]).subscribe()},fetchNew:function(){var t=n.pathEvaluator;t&&(this.clear(),t.get.apply(t,o.getPaths()).subscribe())}};i.exports=e});C.r("utils/performanceMetrics.js",function(e,t,a){"use strict";function n(){if(window&&window.performance&&window.performance.timing){var e=window.performance.timing,t=e.secureConnectionStart||e.requestStart,a=e.navigationStart,n={timeToInteractive:e.domInteractive-t,components:[{name:"firstByte",elapsed:e.responseStart-t},{name:"wire",elapsed:e.responseEnd-e.responseStart},{name:"domReady",elapsed:e.domInteractive-t},{name:"docLoad",elapsed:e.loadEventStart-t},{name:"shakti",elapsed:e.responseEnd-e.requestStart},{name:"previousPage",elapsed:e.fetchStart-a},{name:"navigateTTI",elapsed:e.domInteractive-a}]};if(window.performance.getEntriesByName){var r=window.performance.getEntriesByName("reactReady"),o=window.performance.getEntriesByName("reactRender");r.length&&o.length&&(n.components.push({name:"reactRender",elapsed:Math.floor(o[0].duration)}),n.components.push({name:"reactTTI",elapsed:Math.floor(r[0].startTime-(t-a))}),n.components.push({name:"navigateReactTTI",elapsed:Math.floor(r[0].startTime)}))}return n}return null}t.exports={getMetrics:n}});C.r("utils/profileManager.js",function(e,t,i){"use strict";function o(e){var t=e.getValueSync(["summary"]),i=p.request({resource:"/profiles/switch",method:"get",service:"api",protocol:"https",authorize:!0,data:{switchProfileGuid:t.guid},timeout:G});return i.subscribe(function(e){return e},function(e,t){e&&401===t.status&&(window.location=P.signOut.makePath())}),i}function r(e){document.cookie=V+"=0; domain=.netflix.com; path=/; max-age="+e+";"}function a(){document.cookie=V+"=; domain=.netflix.com; path=/;"}function n(e){return F={addedPlaybackHooks:!1,currentTab:!1,profileTimeout:null,profileIntervalPlayback:null,updateProfileGateAppStateInReact:null,context:null,redirectPageAfterSwitch:P.browse.makePath(),resetProfileGateCookieExpiry:function(){var e=this,t=u.get(E.getModelData("userInfo"),"numProfiles"),i=u.get(E.getModelData("userInfo"),"isKids"),o=t>=C&&!i&&!v.disableProfileTimeout(this.models),a=u.get(window,"netflix.reactContext.models.truths.data",!1);clearTimeout(this.profileTimeout),r(this.profileIdleTimeout("s")),this.profileTimeout=setTimeout(function(){o&&(k.closeOpenModal(),e.setActiveView(D.LIST),a.inAppNotificationsPollingEnabled&&g.fetchNew())},this.profileIdleTimeout("ms"))},setProfileEditStorageData:function(){try{localStorage.setItem(_,Math.random())}catch(e){}return this.currentTab=!0,!0},enableProfileGateSessionTracking:function(){this.profileGateSessionTrackingIsEnabled||(this.throttledResetProfileGateCookieExpiry||(this.throttledResetProfileGateCookieExpiry=u.throttle(this.resetProfileGateCookieExpiry.bind(this),x)),this.resetProfileGateCookieExpiry(),clearTimeout(this.profileIntervalPlayback),window.addEventListener("keydown",this.throttledResetProfileGateCookieExpiry,!1),window.addEventListener("mousemove",this.throttledResetProfileGateCookieExpiry,!1),this.profileGateSessionTrackingIsEnabled=!0)},disableProfileGateSessionTracking:function(){this.profileGateSessionTrackingIsEnabled&&(clearTimeout(this.profileTimeout),clearTimeout(this.profileIntervalPlayback),a(),this.throttledResetProfileGateCookieExpiry.cancel(),window.removeEventListener("keydown",this.throttledResetProfileGateCookieExpiry,!1),window.removeEventListener("mousemove",this.throttledResetProfileGateCookieExpiry,!1),this.profileGateSessionTrackingIsEnabled=!1)},pauseProfileGateSessionTracking:function(){clearTimeout(this.profileTimeout),window.removeEventListener("keydown",this.throttledResetProfileGateCookieExpiry,!1),window.removeEventListener("mousemove",this.throttledResetProfileGateCookieExpiry,!1),this.profileIntervalPlayback=setInterval(this.resetProfileGateCookieExpiry.bind(this),O)},updateProfileGateAppState:function(e){var t=e&&e.activeView;void 0!==t&&(s({activeView:t})?this.disableProfileGateSessionTracking():this.enableProfileGateSessionTracking()),"function"==typeof this.updateProfileGateAppStateInReact&&e&&this.updateProfileGateAppStateInReact(e)},switchProfile:function(t,i){var a=this,n=t.getValueSync(["summary"])||null;n&&!n.isActive?(this.updateProfileGateAppState({activeView:D.LOAD_PROFILE,newProfile:t}),L(e.getActionCreators(),{start:A.switchProfile,success:A.switchProfileSuccess,failure:A.switchProfileFailed}).dispatchStartAction(n).wrapObservable(o(t)).subscribe(function(e){return a.onProfileSwitchSuccess(t,i,e)},function(){return a.onProfileSwitchFailure(t)})):i?(this.closeGate(),r(this.profileIdleTimeout("s")),S.pushState(i)):n&&n.showOnRamp?(r(this.profileIdleTimeout("s")),window.document.location=P.onRamp.makePath()):(this.redirectPageAfterSwitch=P.browse.makePath(),this.closeGate())},onProfileSwitchSuccess:function(e,t,i){var o=e.getValueSync(["summary"]);if(R.resetPINState(),this.setProfileEditStorageData(),r(this.profileIdleTimeout("s")),t)document.location.href=t;else{if(i.showOnRamp)return location.href=P.onRamp.makePath(),!0;if(o.isKids)return location.href=P.kidsHome.makePath(),!0;document.location.href=this.redirectPageAfterSwitch}return!0},onProfileSwitchFailure:function(e){this.updateProfileGateAppState({activeView:D.LOAD_PROFILE_ERROR,newProfile:e})},setActiveView:function(e){this.updateProfileGateAppState({activeView:e})},openProfileList:function(){this.setActiveView(D.LIST)},openEditList:function(){this.setActiveView(D.MANAGE_PROFILES)},openCreateProfile:function(e,t){t=t||{},this.updateProfileGateAppState({activeView:D.CREATE_PROFILE,previousView:e,createKidsProfile:t.createKidsProfile,nextView:t.nextView,copyViewingHistory:t.copyViewingHistory,deleteViewingHistory:t.deleteViewingHistory,forceProfileGate:!0,hideBillboard:t.hideBillboard})},openEditProfile:function(e){this.updateProfileGateAppState({activeView:D.UPDATE_PROFILE,newProfile:e})},openDeleteProfile:function(e){this.updateProfileGateAppState({activeView:D.DELETE_PROFILE,newProfile:e})},closeGate:function(){this.setActiveView(D.CLOSED)},profileIdleTimeout:function(e){var t=v.profileIdleTimeout(this.models,y);switch(e){case"s":return t*b;case"ms":return t*O;case"m":default:return t}},startEventListeners:function(e,t,i){var o=h.get("netflix.ui.akira.enable.crossTab.profile.updation")||!1;this.updateProfileGateAppStateInReact=e,this.models=i,m||(o&&window.addEventListener("storage",function(e){"profile-edit"!==e.key||this.currentTab?this.currentTab=!1:window.location.reload()}),w.on(I.PLAYBACK_START,this.pauseProfileGateSessionTracking.bind(this)),w.on(I.PLAYBACK_END,this.enableProfileGateSessionTracking.bind(this)),s(t)?this.redirectPageAfterSwitch=window.location.pathname+window.location.search:this.enableProfileGateSessionTracking())}},M.next(F),M.complete(),F}function s(e){return e&&e.activeView!==D.CLOSED}function l(e){return e&&e.activeView===D.RELOADING_PROFILES}function c(e){var t=null;if(e)switch(e.activeView){case D.LIST:t="profilesGate";break;case D.CREATE_PROFILE:t="addProfile";break;case D.LOAD_PROFILE:case D.LOAD_PROFILE_ERROR:t="profileLoading"}return t}function f(){return N}var u=e("lodash"),d=e("../utils/rx/shakti-rx").RxObservable,h=e("shakti-platform/dist/ui/ShaktiProperties"),p=e("./XHR"),P=e("./Routes"),E=e("../common/appContext"),w=e("../reactMixins/eventBus"),m=e("shakti-platform/dist/ui/utils/inNode"),R=e("../player/session/sessionManager"),S=e("shakti-platform/dist/ui/routing/History"),g=e("../utils/notificationUtils"),k=e("../akira/containers/modal/modalManager.jsx"),v=e("./ab/continueWatchingProfilesGate"),I=e("./consolidatedLogging/loggingEventRegistry"),L=e("../akira/redux/createActionGroup"),T=e("../akira/redux/profile/profileActions"),A=T.TYPES,G=5e3,O=6e4,b=60,y=u.get(E.getModelData("profilesGate"),"idle_timer")||30,x=3e4,_="profile-edit",C=2,V="profilesNewSession",D={CLOSED:0,LIST:1,LOAD_PROFILE:2,LOAD_PROFILE_ERROR:3,CREATE_PROFILE:4,CREATE_PROFILE_ERROR:5,UPDATE_PROFILE:6,UPDATE_PROFILE_ERROR:7,DELETE_PROFILE:8,DELETE_PROFILE_ERROR:9,RELOADING_PROFILES:10,MANAGE_PROFILES:11,MANAGE_PROFILES_ERROR:12},F=void 0,M=void 0,N=d.create(function(e){return M=e,function(){}});N.subscribe(),t.exports={createManagerInstance:n,get:f,isGateOpen:s,isReloadingProfiles:l,getCurrentUIView:c,VIEWS:D}});C.r("utils/ratingUtils.js",function(t,e,r){"use strict";var i=t("lodash"),n=t("../utils/XHR"),s=t("shakti-platform/dist/ui/utils/inNode"),u=s?{}:window,a=t("../utils/rx/shakti-rx").RxObservable,o={LIKE:2,DISLIKE:1,like:function(t){return this.rateTitle(i.assign({rating:o.LIKE},t))},dislike:function(t){return this.rateTitle(i.assign({rating:o.DISLIKE},t))},updateTitleState:function(t,e){var r=u.pathEvaluator,i=["videos",t,"userRating"];r.getValueSync(i).userRating=e},rateTitle:function(t){return a.create(function(e){return n.request({method:"post",data:t,resource:"/setThumbRating",service:"api",authorize:!0}).subscribe(function(t){return e.next(t)},function(t){return e.error(t)},function(){return e.complete()}),i.noop}).catch(function(){throw new Error({status:"error",message:"Unknown server error"})}).do(function(e){e&&e.status&&"success"===e.status&&o.updateTitleState(t.titleId,t.rating)}).timeout(5e3)}};e.exports=o});C.r("utils/strings/fixLocale.js",function(s,t,e){"use strict";t.exports=function(s){return{pt:"pt-BR","zh-HK":"zh-Hans-HK","zh-TW":"zh-Hant-TW",es:"es-419","es-ES":"es"}[s]||s}});C.r("utils/userUtils.js",function(t,e,o){"use strict";var r=t("./globalContext"),a=t("lodash");e.exports={DEFAULT_COUNTRY:"US",DEFAULT_LOCALE:"en",getCountry:function(t){var e=r.getModelData(t,"geo");return a.get(e,"requestCountry.id",this.DEFAULT_COUNTRY).toUpperCase()},getLocale:function(t){var e=r.getModelData(t,"geo");return a.get(e,"locale.id",this.DEFAULT_LOCALE).toUpperCase()}}});C.r("windowOnError.js",function(e,r,n){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(m++>=f)return void window.removeEventListener("error",o);var r={name:e.type||null,message:e.message||null,stack:s.get(e,"error.stack",null),filename:e.filename,line:e.lineno,col:e.colno,player:u.getConfig(),cluster:s.get(g.getModelData("serverDefs"),"cluster")};c.emit("window:error",r),g.getModelData("truths").isCl2LoggingEnabledForDiscoveryPlayback&&d.getInstance().logEvent(l.ExceptionOccurred,{error:{debug:r,code:"WindowOnError"}})}function t(){f=a.get("netflix.window.onerror.max.count")||v,window.addEventListener("error",o)}function i(){window.removeEventListener("error",o)}var s=e("lodash"),a=e("shakti-platform/dist/ui/ShaktiProperties"),l=e("shakti-platform/dist/ui/consolidatedLogging/constants/eventTypes"),d=e("shakti-platform/dist/ui/consolidatedLogging"),c=e("./reactMixins/eventBus"),g=e("./common/appContext"),u=e("./player/nfplayer/utils/playerConfig"),v=10,f=void 0,m=0;r.exports={addErrorListener:t,removeErrorListener:i}});C.r("akira/akiraClient.js",function(e,t,r){"use strict";Object.assign=e("object-assign"),e("../common/clientInitFastProperties.js").init();var o=e("lodash"),n=e("shakti-platform/dist/ui/ShaktiProperties"),a=e("./AkiraApp"),i=e("../falkorClient/PathEvaluator"),s=e("../falkorClient/falkorLoader"),c=e("../utils/consolidatedLogging/index"),l=e("../utils/performanceMetrics"),d=e("../common/nfNamespace"),u=e("nf-cons-log"),g=e("../common/presentationTracking/presentationTracking"),p=e("../utils/player/playerFeatureDetection"),m=e("../utils/player/playerAssets"),f=e("../utils/dynamicMessages/dynamicMessages"),h=e("../common/playPrediction/playPrediction"),C=e("../common/playPrediction/playPredictionV2"),y=e("shakti-platform/dist/ui/utils/inNode"),k=e("shakti-platform/dist/ui/renderers").ReactClientRenderer,v=e("./listeners/reno"),P=e("./listeners/pollers/reno"),A=e("../utils/h2ping"),b=e("../core/consolidatedLogging/log-presentation-events"),E=e("../windowOnError");y||(e("../shims/requestIdleCallback"),e("../shims/arrayFind")),E.addErrorListener();var w=function(e){return function(){return e.getDiscoveryApp().getActionCreators().expireApp()}},x=function(e){return window.setTimeout(w(e),n.get("web.ui.akira.ttl"))},R=function(e){return function(t){return e.getDiscoveryApp().getActionCreators().refreshLolomo({message:t,currentRoute:e.getRouteHandler().route})}},L=function(e,t,r){var o=R(t);e.addListener("reno",function(e){t.getDiscoveryApp().getActionCreators().renoPushReceived(e)}),e.addListener("reno",v({refreshLolomo:o})),e.addPoller(P({pathEvaluator:r,refreshLolomo:o,onError:function(e){return t.getDiscoveryApp().getActionCreators().renoPollingError({code:e.xhrStatus})}}))},D=function(t,r,a){var i=e("shakti-platform/dist/ui/zuulSocket/ZuulSocket"),s=i(n.get("web.ui.akira.websockets.url"),{onerror:function(e){return r.getDiscoveryApp().getActionCreators().websocketError({error:e})},onclose:function(e){var t=e.code;return r.getDiscoveryApp().getActionCreators().websocketClose({code:t})}});o.get(d.reactContext,"models.truths.data.renoEnabled")&&L(s,r,a)},M=!1,T={APP_MOUNT:"appMountPoint",sendStartupTiming:function(){function e(){var e=l.getMetrics();e&&c.logStartup(e)}var t=window||{};"complete"===document.readyState?setTimeout(e,20):t.onload=setTimeout.bind(t,e,20)},init:function(){try{u.clientNotifications.start()}catch(e){}g.init();var e=new i(5e6,.75,s).toAggregate().deserialize(d.falkorCache).toRoot(),t=this,r=window||{};r.pathEvaluator=e;var n=d.reactContext;n.pathEvaluator=e,n.node={req:null,res:null},o.get(d.reactContext,"models.truths.data.playPredictionEnabled")?h.init():o.get(d.reactContext,"models.truths.data.playPredictionV2Enabled")&&C.init({pathEvaluator:e,makePrePlayCall:o.get(d.reactContext,"models.truths.data.makePrePlayCall",!0),preRollPlayPrediction:o.get(d.reactContext,"models.truths.data.preRollPlayPrediction",!0)}),m.initializeLegacyNamespace(),p.init();var c=a.createContext({model:n,renderSource:"client"},{handleRouteChange:function(e,t){return c.getDiscoveryApp().getActionCreators().changeRoute({currentRouteHandler:c.getRouteHandler(),newRouteHandler:t}),e}});o.get(d.reactContext,"models.truths.data.akiraTtlEnabled")&&x(c),o.get(d.reactContext,"models.truths.data.websocketsEnabled")&&D(d.reactContext,c,e);var l=new k(document.getElementById(T.APP_MOUNT),c);d.appContext=c,o.get(d.reactContext,"models.truths.data.dynamicMessagesEnabled")&&f.init({expireApp:w(c),identifiersMessagesEnabled:o.get(d.reactContext,"models.truths.data.identifierCheckEnabled")}),c.getModelData("truths").isCl2LoggingEnabledForDiscoveryPlayback&&b(c.getLogger()).subscribe(),l.render(function(e,o){if(e)throw e.stack,e;r.reactApp={refresh:function(){c.getDiscoveryApp().getActionCreators().forceUpdate()}},M||(t.sendStartupTiming(),A(),M=!0)})}};y||T.init()});!function(o){"use strict";if(!(o&&o.C&&o.C.k))throw new Error("[Codex] Codex bootstrap not loaded!");o.C.k()}(window);